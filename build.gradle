apply plugin: 'java'

/**
 * Test Runners for different environments specifying testsuites
 */
testrunner {
    integration {
        setup {
            environment(os: "mac os x")
        }
    }
}

/**
 * Enabling building of other jar from common
 */
smartyFacts {
    api {
        enableJavadoc()
        enableSourceJar()
    }
}

/**
 * Specify all the dependencies
 */
dependencies {
    // Integration depends on apiJar
    integrationCompile apiJar.outputs.files

    // Self dependencies.
    compile apiJar.outputs.files

    // Other dependencies
    compile libraries.slf4j_api
    compile libraries.logback_core
    compile libraries.logback_classic
    compile libraries.google_guice

    testCompile libraries.mockito_core
    testCompile libraries.junit

    compile libraries.slf4j_api
    compile libraries.google_guava
    compile libraries.google_gson
    compile libraries.google_guice
    compile libraries.akka_actor
    compile libraries.netflix_curator_framework
    compile libraries.netflix_curator_client
    compile libraries.netflix_curator_discovery_client
    compile libraries.netflix_curator_discovery_server
    compile libraries.netflix_curator_recipes
    compile libraries.hadoop_common
    compile libraries.hadoop_annotations
    compile libraries.hadoop_hdfs
    compile libraries.hadoop_yarn_common
    compile libraries.hadoop_yarn_api
    compile libraries.thrift
    compile libraries.avro
    compile libraries.avro_ipc
    compile libraries.flume_ng_sdk
    compile libraries.flume_ng_core
    compile libraries.jetty
    compile libraries.mina_core
    compile libraries.findbugs_jsr311

    testCompile libraries.hadoop_minicluster
    testCompile libraries.jersey_server
    testCompile libraries.jersey_servlet
    testCompile libraries.jersey_client
    testCompile libraries.jersey_core

    // For metrics
    compile "com.yammer.metrics:metrics-core:2.1.5"
}
