function bsCompilerService(t,e,n,i,r,o){function s(t,e){return angular.element((e||document).querySelectorAll(t))}function a(t){return l[t]?l[t]:l[t]=e.get(t,{cache:o}).then(function(t){return t.data})}this.compile=function(e){e.template&&/\.html$/.test(e.template)&&(console.warn("Deprecated use of `template` option to pass a file. Please use the `templateUrl` option instead."),e.templateUrl=e.template,e.template="");var o=e.templateUrl,l=e.template||"",u=e.controller,c=e.controllerAs,h=angular.copy(e.resolve||{}),d=angular.copy(e.locals||{}),f=e.transformTemplate||angular.identity,p=e.bindToController;if(angular.forEach(h,function(t,e){angular.isString(t)?h[e]=n.get(t):h[e]=n.invoke(t)}),angular.extend(h,d),l)h.$template=t.when(l);else{if(!o)throw new Error("Missing `template` / `templateUrl` option.");h.$template=a(o)}return e.contentTemplate&&(h.$template=t.all([h.$template,a(e.contentTemplate)]).then(function(t){var n=angular.element(t[0]),i=s('[ng-bind="content"], [ng-bind="title"]',n[0]).removeAttr("ng-bind").html(t[1]);return e.templateUrl||i.next().remove(),n[0].outerHTML})),t.all(h).then(function(t){var n=f(t.$template);e.html&&(n=n.replace(/ng-bind="/gi,'ng-bind-html="'));var o=angular.element("<div>").html(n.trim()).contents(),s=i(o);return{locals:t,element:o,link:function(e){if(t.$scope=e,u){var n=r(u,t,!0);p&&angular.extend(n.instance,t);var i=angular.isObject(n)?n:n();o.data("$ngControllerController",i),o.children().data("$ngControllerController",i),c&&(e[c]=i)}return s.apply(null,arguments)}}})};var l={}}function buildCustomUrl(t,e){e=e||{};var n={};const i=function(t,e,n){return t+n};for(var r in e)if(e.hasOwnProperty(r)){var o=e[r],s=new RegExp(":"+r+"(\\W|$)","g");s.test(t)?t=t.replace(s,i.bind(null,o)):n[r]=o}return t=addCustomQueryParams(t,n)}function addCustomQueryParams(t,e){function n(t,n,i){var r=Object.keys(e).sort();return r.forEach(function(e){n.call(i,t[e],e)}),r}function i(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}if(e=e||{},!e)return t;var r=[];return n(e,function(t,e){null!==t&&"undefined"!=typeof t&&(Array.isArray(t)||(t=[t]),t.forEach(function(n){"object"==typeof n&&null!==n&&(n="[object Date]"===t.toString()?n.toISOString():JSON.stringify(n)),r.push(i(e)+"="+i(n))}))}),r.length>0&&(t+=(-1===t.indexOf("?")?"?":"&")+r.join("&")),t}function buildUrl(t,e){function n(t,n,i){for(var r=Object.keys(e).sort(),o=0;o<r.length;o++)n.call(i,t[r[o]],r[o]);return r}function i(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}if(!e)return t;var r=[];return n(e,function(t,e){null===t||angular.isUndefined(t)||(angular.isArray(t)||(t=[t]),angular.forEach(t,function(t){angular.isObject(t)&&(t=angular.isDate(t)?t.toISOString():angular.toJson(t)),r.push(i(e)+"="+i(t))}))}),r.length>0&&(t+=(-1===t.indexOf("?")?"?":"&")+r.join("&")),t}!function(t,e,n){"use strict";function i(t,e){return e=e||Error,function(){var n,i,r=2,o=arguments,s=o[0],a="["+(t?t+":":"")+s+"] ",l=o[1];for(a+=l.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1),n=e+r;return n<o.length?bt(o[n]):t}),a+="\nhttp://errors.angularjs.org/1.4.3/"+(t?t+"/":"")+s,i=r,n="?";i<o.length;i++,n="&")a+=n+"p"+(i-r)+"="+encodeURIComponent(bt(o[i]));return new e(a)}}function r(t){if(null==t||k(t))return!1;var e="length"in Object(t)&&t.length;return t.nodeType===qi&&e?!0:$(t)||Ri(t)||0===e||"number"==typeof e&&e>0&&e-1 in t}function o(t,e,n){var i,s;if(t)if(E(t))for(i in t)"prototype"==i||"length"==i||"name"==i||t.hasOwnProperty&&!t.hasOwnProperty(i)||e.call(n,t[i],i,t);else if(Ri(t)||r(t)){var a="object"!=typeof t;for(i=0,s=t.length;s>i;i++)(a||i in t)&&e.call(n,t[i],i,t)}else if(t.forEach&&t.forEach!==o)t.forEach(e,n,t);else if(_(t))for(i in t)e.call(n,t[i],i,t);else if("function"==typeof t.hasOwnProperty)for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t);else for(i in t)xi.call(t,i)&&e.call(n,t[i],i,t);return t}function s(t,e,n){for(var i=Object.keys(t).sort(),r=0;r<i.length;r++)e.call(n,t[i[r]],i[r]);return i}function a(t){return function(e,n){t(n,e)}}function l(){return++Bi}function u(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function c(t,e,n){for(var i=t.$$hashKey,r=0,o=e.length;o>r;++r){var s=e[r];if(x(s)||E(s))for(var a=Object.keys(s),l=0,h=a.length;h>l;l++){var d=a[l],f=s[d];n&&x(f)?A(f)?t[d]=new Date(f.valueOf()):(x(t[d])||(t[d]=Ri(f)?[]:{}),c(t[d],[f],!0)):t[d]=f}}return u(t,i),t}function h(t){return c(t,Di.call(arguments,1),!1)}function d(t){return c(t,Di.call(arguments,1),!0)}function f(t){return parseInt(t,10)}function p(t,e){return h(Object.create(t),e)}function g(){}function m(t){return t}function v(t){return function(){return t}}function y(t){return E(t.toString)&&t.toString!==Object.prototype.toString}function b(t){return"undefined"==typeof t}function w(t){return"undefined"!=typeof t}function x(t){return null!==t&&"object"==typeof t}function _(t){return null!==t&&"object"==typeof t&&!Li(t)}function $(t){return"string"==typeof t}function C(t){return"number"==typeof t}function A(t){return"[object Date]"===Mi.call(t)}function E(t){return"function"==typeof t}function S(t){return"[object RegExp]"===Mi.call(t)}function k(t){return t&&t.window===t}function D(t){return t&&t.$evalAsync&&t.$watch}function T(t){return"[object File]"===Mi.call(t)}function F(t){return"[object FormData]"===Mi.call(t)}function M(t){return"[object Blob]"===Mi.call(t)}function L(t){return"boolean"==typeof t}function O(t){return t&&E(t.then)}function P(t){return ji.test(Mi.call(t))}function B(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function I(t){var e,n={},i=t.split(",");for(e=0;e<i.length;e++)n[i[e]]=!0;return n}function R(t){return wi(t.nodeName||t[0]&&t[0].nodeName)}function j(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),n}function N(t,e,n,i){if(k(t)||D(t))throw Oi("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(P(e))throw Oi("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e){if(t===e)throw Oi("cpi","Can't copy! Source and destination are identical.");n=n||[],i=i||[],x(t)&&(n.push(t),i.push(e));var r;if(Ri(t)){e.length=0;for(var s=0;s<t.length;s++)e.push(N(t[s],null,n,i))}else{var a=e.$$hashKey;if(Ri(e)?e.length=0:o(e,function(t,n){delete e[n]}),_(t))for(r in t)e[r]=N(t[r],null,n,i);else if(t&&"function"==typeof t.hasOwnProperty)for(r in t)t.hasOwnProperty(r)&&(e[r]=N(t[r],null,n,i));else for(r in t)xi.call(t,r)&&(e[r]=N(t[r],null,n,i));u(e,a)}}else if(e=t,x(t)){var l;if(n&&-1!==(l=n.indexOf(t)))return i[l];if(Ri(t))return N(t,[],n,i);if(P(t))e=new t.constructor(t);else if(A(t))e=new Date(t.getTime());else{if(!S(t)){var c=Object.create(Li(t));return N(t,c,n,i)}e=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]),e.lastIndex=t.lastIndex}i&&(n.push(t),i.push(e))}return e}function z(t,e){if(Ri(t)){e=e||[];for(var n=0,i=t.length;i>n;n++)e[n]=t[n]}else if(x(t)){e=e||{};for(var r in t)("$"!==r.charAt(0)||"$"!==r.charAt(1))&&(e[r]=t[r])}return e||t}function U(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var i,r,o,s=typeof t,a=typeof e;if(s==a&&"object"==s){if(!Ri(t)){if(A(t))return A(e)?U(t.getTime(),e.getTime()):!1;if(S(t))return S(e)?t.toString()==e.toString():!1;if(D(t)||D(e)||k(t)||k(e)||Ri(e)||A(e)||S(e))return!1;o=mt();for(r in t)if("$"!==r.charAt(0)&&!E(t[r])){if(!U(t[r],e[r]))return!1;o[r]=!0}for(r in e)if(!(r in o||"$"===r.charAt(0)||e[r]===n||E(e[r])))return!1;return!0}if(!Ri(e))return!1;if((i=t.length)==e.length){for(r=0;i>r;r++)if(!U(t[r],e[r]))return!1;return!0}}return!1}function V(t,e,n){return t.concat(Di.call(e,n))}function H(t,e){return Di.call(t,e||0)}function W(t,e){var n=arguments.length>2?H(arguments,2):[];return!E(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,V(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function Y(t,i){var r=i;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?r=n:k(i)?r="$WINDOW":i&&e===i?r="$DOCUMENT":D(i)&&(r="$SCOPE"),r}function q(t,e){return"undefined"==typeof t?n:(C(e)||(e=e?2:null),JSON.stringify(t,Y,e))}function K(t){return $(t)?JSON.parse(t):t}function X(t,e){var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function G(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function J(t,e,n){n=n?-1:1;var i=X(e,t.getTimezoneOffset());return G(t,n*(i-t.getTimezoneOffset()))}function Z(t){t=Ei(t).clone();try{t.empty()}catch(e){}var n=Ei("<div>").append(t).html();try{return t[0].nodeType===Xi?wi(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+wi(e)})}catch(e){return wi(n)}}function Q(t){try{return decodeURIComponent(t)}catch(e){}}function tt(t){var e,n,i={};return o((t||"").split("&"),function(t){if(t&&(e=t.replace(/\+/g,"%20").split("="),n=Q(e[0]),w(n))){var r=w(e[1])?Q(e[1]):!0;xi.call(i,n)?Ri(i[n])?i[n].push(r):i[n]=[i[n],r]:i[n]=r}}),i}function et(t){var e=[];return o(t,function(t,n){Ri(t)?o(t,function(t){e.push(it(n,!0)+(t===!0?"":"="+it(t,!0)))}):e.push(it(n,!0)+(t===!0?"":"="+it(t,!0)))}),e.length?e.join("&"):""}function nt(t){return it(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function it(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function rt(t,e){var n,i,r=Hi.length;for(i=0;r>i;++i)if(n=Hi[i]+e,$(n=t.getAttribute(n)))return n;return null}function ot(t,e){var n,i,r={};o(Hi,function(e){var r=e+"app";!n&&t.hasAttribute&&t.hasAttribute(r)&&(n=t,i=t.getAttribute(r))}),o(Hi,function(e){var r,o=e+"app";!n&&(r=t.querySelector("["+o.replace(":","\\:")+"]"))&&(n=r,i=r.getAttribute(o))}),n&&(r.strictDi=null!==rt(n,"strict-di"),e(n,i?[i]:[],r))}function st(n,i,r){x(r)||(r={});var s={strictDi:!1};r=h(s,r);var a=function(){if(n=Ei(n),n.injector()){var t=n[0]===e?"document":Z(n);throw Oi("btstrpd","App Already Bootstrapped with this Element '{0}'",t.replace(/</,"&lt;").replace(/>/,"&gt;"))}i=i||[],i.unshift(["$provide",function(t){t.value("$rootElement",n)}]),r.debugInfoEnabled&&i.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),i.unshift("ng");var o=Zt(i,r.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,i){t.$apply(function(){e.data("$injector",i),n(e)(t)})}]),o},l=/^NG_ENABLE_DEBUG_INFO!/,u=/^NG_DEFER_BOOTSTRAP!/;return t&&l.test(t.name)&&(r.debugInfoEnabled=!0,t.name=t.name.replace(l,"")),t&&!u.test(t.name)?a():(t.name=t.name.replace(u,""),Pi.resumeBootstrap=function(t){return o(t,function(t){i.push(t)}),a()},void(E(Pi.resumeDeferredBootstrap)&&Pi.resumeDeferredBootstrap()))}function at(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function lt(t){var e=Pi.element(t).injector();if(!e)throw Oi("test","no injector found for element argument to getTestability");return e.get("$$testability")}function ut(t,e){return e=e||"_",t.replace(Wi,function(t,n){return(n?e:"")+t.toLowerCase()})}function ct(){var e;if(!Yi){var i=Vi();Si=t.jQuery,w(i)&&(Si=null===i?n:t[i]),Si&&Si.fn.on?(Ei=Si,h(Si.fn,{scope:fr.scope,isolateScope:fr.isolateScope,controller:fr.controller,injector:fr.injector,inheritedData:fr.inheritedData}),e=Si.cleanData,Si.cleanData=function(t){var n;if(Ii)Ii=!1;else for(var i,r=0;null!=(i=t[r]);r++)n=Si._data(i,"events"),n&&n.$destroy&&Si(i).triggerHandler("$destroy");e(t)}):Ei=kt,Pi.element=Ei,Yi=!0}}function ht(t,e,n){if(!t)throw Oi("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function dt(t,e,n){return n&&Ri(t)&&(t=t[t.length-1]),ht(E(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function ft(t,e){if("hasOwnProperty"===t)throw Oi("badname","hasOwnProperty is not a valid {0} name",e)}function pt(t,e,n){if(!e)return t;for(var i,r=e.split("."),o=t,s=r.length,a=0;s>a;a++)i=r[a],t&&(t=(o=t)[i]);return!n&&E(t)?W(o,t):t}function gt(t){var e=t[0],n=t[t.length-1],i=[e];do{if(e=e.nextSibling,!e)break;i.push(e)}while(e!==n);return Ei(i)}function mt(){return Object.create(null)}function vt(t){function e(t,e,n){return t[e]||(t[e]=n())}var n=i("$injector"),r=i("ng"),o=e(t,"angular",Object);return o.$$minErr=o.$$minErr||i,e(o,"module",function(){var t={};return function(i,o,s){var a=function(t,e){if("hasOwnProperty"===t)throw r("badname","hasOwnProperty is not a valid {0} name",e)};return a(i,"module"),o&&t.hasOwnProperty(i)&&(t[i]=null),e(t,i,function(){function t(t,e,n,i){return i||(i=r),function(){return i[n||"push"]([t,e,arguments]),c}}function e(t,e){return function(n,o){return o&&E(o)&&(o.$$moduleName=i),r.push([t,e,arguments]),c}}if(!o)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",i);var r=[],a=[],l=[],u=t("$injector","invoke","push",a),c={_invokeQueue:r,_configBlocks:a,_runBlocks:l,requires:o,name:i,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:e("$provide","decorator"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:u,run:function(t){return l.push(t),this}};return s&&u(s),c})}})}function yt(t){var e=[];return JSON.stringify(t,function(t,n){if(n=Y(t,n),x(n)){if(e.indexOf(n)>=0)return"<<already seen>>";e.push(n)}return n})}function bt(t){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof t?"undefined":"string"!=typeof t?yt(t):t}function wt(e){h(e,{bootstrap:st,copy:N,extend:h,merge:d,equals:U,element:Ei,forEach:o,injector:Zt,noop:g,bind:W,toJson:q,fromJson:K,identity:m,isUndefined:b,isDefined:w,isString:$,isFunction:E,isObject:x,isNumber:C,isElement:B,isArray:Ri,version:Qi,isDate:A,lowercase:wi,uppercase:_i,callbacks:{counter:0},getTestability:lt,$$minErr:i,$$csp:Ui,reloadWithDebugInfo:at}),ki=vt(t);try{ki("ngLocale")}catch(n){ki("ngLocale",[]).provider("$locale",Fe)}ki("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:vn}),t.provider("$compile",le).directive({a:uo,input:So,textarea:So,form:go,script:bs,select:_s,style:Cs,option:$s,ngBind:To,ngBindHtml:Mo,ngBindTemplate:Fo,ngClass:Oo,ngClassEven:Bo,ngClassOdd:Po,ngCloak:Io,ngController:Ro,ngForm:mo,ngHide:fs,ngIf:zo,ngInclude:Uo,ngInit:Ho,ngNonBindable:rs,ngPluralize:ls,ngRepeat:us,ngShow:ds,ngStyle:ps,ngSwitch:gs,ngSwitchWhen:ms,ngSwitchDefault:vs,ngOptions:as,ngTransclude:ys,ngModel:es,ngList:Wo,ngChange:Lo,pattern:Es,ngPattern:Es,required:As,ngRequired:As,minlength:ks,ngMinlength:ks,maxlength:Ss,ngMaxlength:Ss,ngValue:Do,ngModelOptions:is}).directive({ngInclude:Vo}).directive(co).directive(jo),t.provider({$anchorScroll:Qt,$animate:kr,$$animateQueue:Sr,$$AnimateRunner:Er,$browser:oe,$cacheFactory:se,$controller:fe,$document:pe,$exceptionHandler:ge,$filter:Fn,$interpolate:De,$interval:Te,$http:Ae,$httpParamSerializer:ve,$httpParamSerializerJQLike:ye,$httpBackend:Se,$location:We,$log:Ye,$parse:hn,$rootScope:mn,$q:dn,$$q:fn,$sce:xn,$sceDelegate:wn,$sniffer:_n,$templateCache:ae,$templateRequest:$n,$$testability:Cn,$timeout:An,$window:kn,$$rAF:gn,$$jqLite:qt,$$HashMap:vr,$$cookieReader:Tn})}])}function xt(){return++er}function _t(t){return t.replace(rr,function(t,e,n,i){return i?n.toUpperCase():n}).replace(or,"Moz$1")}function $t(t){return!ur.test(t)}function Ct(t){var e=t.nodeType;return e===qi||!e||e===Ji}function At(t){for(var e in tr[t.ng339])return!0;return!1}function Et(t,e){var n,i,r,s,a=e.createDocumentFragment(),l=[];if($t(t))l.push(e.createTextNode(t));else{for(n=n||a.appendChild(e.createElement("div")),i=(cr.exec(t)||["",""])[1].toLowerCase(),r=dr[i]||dr._default,n.innerHTML=r[1]+t.replace(hr,"<$1></$2>")+r[2],s=r[0];s--;)n=n.lastChild;l=V(l,n.childNodes),n=a.firstChild,n.textContent=""}return a.textContent="",a.innerHTML="",o(l,function(t){a.appendChild(t)}),a}function St(t,n){n=n||e;var i;return(i=lr.exec(t))?[n.createElement(i[1])]:(i=Et(t,n))?i.childNodes:[]}function kt(t){if(t instanceof kt)return t;var e;if($(t)&&(t=Ni(t),e=!0),!(this instanceof kt)){if(e&&"<"!=t.charAt(0))throw ar("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new kt(t)}e?Rt(this,St(t)):Rt(this,t)}function Dt(t){return t.cloneNode(!0)}function Tt(t,e){if(e||Mt(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),i=0,r=n.length;r>i;i++)Mt(n[i])}function Ft(t,e,n,i){if(w(i))throw ar("offargs","jqLite#off() does not support the `selector` argument");var r=Lt(t),s=r&&r.events,a=r&&r.handle;if(a)if(e)o(e.split(" "),function(e){if(w(n)){var i=s[e];if(j(i||[],n),i&&i.length>0)return}ir(t,e,a),delete s[e]});else for(e in s)"$destroy"!==e&&ir(t,e,a),delete s[e]}function Mt(t,e){var i=t.ng339,r=i&&tr[i];if(r){if(e)return void delete r.data[e];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),Ft(t)),delete tr[i],t.ng339=n}}function Lt(t,e){var i=t.ng339,r=i&&tr[i];return e&&!r&&(t.ng339=i=xt(),r=tr[i]={events:{},data:{},handle:n}),r}function Ot(t,e,n){if(Ct(t)){var i=w(n),r=!i&&e&&!x(e),o=!e,s=Lt(t,!r),a=s&&s.data;if(i)a[e]=n;else{if(o)return a;if(r)return a&&a[e];h(a,e)}}}function Pt(t,e){return t.getAttribute?(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1:!1}function Bt(t,e){e&&t.setAttribute&&o(e.split(" "),function(e){t.setAttribute("class",Ni((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Ni(e)+" "," ")))})}function It(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(e.split(" "),function(t){t=Ni(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",Ni(n))}}function Rt(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var i=0;n>i;i++)t[t.length++]=e[i]}else t[t.length++]=e}}function jt(t,e){return Nt(t,"$"+(e||"ngController")+"Controller")}function Nt(t,e,i){t.nodeType==Ji&&(t=t.documentElement);for(var r=Ri(e)?e:[e];t;){for(var o=0,s=r.length;s>o;o++)if((i=Ei.data(t,r[o]))!==n)return i;t=t.parentNode||t.nodeType===Zi&&t.host}}function zt(t){for(Tt(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Ut(t,e){e||Tt(t);var n=t.parentNode;n&&n.removeChild(t)}function Vt(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):Ei(n).on("load",e)}function Ht(t,e){var n=pr[e.toLowerCase()];return n&&gr[R(t)]&&n}function Wt(t,e){var n=t.nodeName;return("INPUT"===n||"TEXTAREA"===n)&&mr[e]}function Yt(t,e){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=e[i||n.type],o=r?r.length:0;if(o){if(b(n.immediatePropagationStopped)){var s=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),s&&s.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0},o>1&&(r=z(r));for(var a=0;o>a;a++)n.isImmediatePropagationStopped()||r[a].call(t,n)}};return n.elem=t,n}function qt(){this.$get=function(){return h(kt,{hasClass:function(t,e){return t.attr&&(t=t[0]),Pt(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),It(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),Bt(t,e)}})}}function Kt(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var i=typeof t;return n="function"==i||"object"==i&&null!==t?t.$$hashKey=i+":"+(e||l)():i+":"+t}function Xt(t,e){if(e){var n=0;this.nextUid=function(){return++n}}o(t,this.put,this)}function Gt(t){var e=t.toString().replace(xr,""),n=e.match(yr);return n?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Jt(t,e,n){var i,r,s,a;if("function"==typeof t){if(!(i=t.$inject)){if(i=[],t.length){if(e)throw $(n)&&n||(n=t.name||Gt(t)),_r("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);r=t.toString().replace(xr,""),s=r.match(yr),o(s[1].split(br),function(t){t.replace(wr,function(t,e,n){i.push(n)})})}t.$inject=i}}else Ri(t)?(a=t.length-1,dt(t[a],"fn"),i=t.slice(0,a)):dt(t,"fn",!0);return i}function Zt(t,e){function i(t){return function(e,n){return x(e)?void o(e,a(t)):t(e,n)}}function r(t,e){if(ft(t,"service"),(E(e)||Ri(e))&&(e=C.instantiate(e)),!e.$get)throw _r("pget","Provider '{0}' must define $get factory method.",t);return _[t+m]=e}function s(t,e){return function(){var n=S.invoke(e,this);if(b(n))throw _r("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}function l(t,e,n){return r(t,{$get:n!==!1?s(t,e):e})}function u(t,e){return l(t,["$injector",function(t){return t.instantiate(e)}])}function c(t,e){return l(t,v(e),!1)}function h(t,e){ft(t,"constant"),_[t]=e,A[t]=e}function d(t,e){var n=C.get(t+m),i=n.$get;n.$get=function(){var t=S.invoke(i,n);return S.invoke(e,null,{$delegate:t})}}function f(t){var e,n=[];return o(t,function(t){function i(t){var e,n;for(e=0,n=t.length;n>e;e++){var i=t[e],r=C.get(i[0]);r[i[1]].apply(r,i[2])}}if(!w.get(t)){w.put(t,!0);try{$(t)?(e=ki(t),n=n.concat(f(e.requires)).concat(e._runBlocks),i(e._invokeQueue),i(e._configBlocks)):E(t)?n.push(C.invoke(t)):Ri(t)?n.push(C.invoke(t)):dt(t,"module")}catch(r){throw Ri(t)&&(t=t[t.length-1]),r.message&&r.stack&&-1==r.stack.indexOf(r.message)&&(r=r.message+"\n"+r.stack),_r("modulerr","Failed to instantiate module {0} due to:\n{1}",t,r.stack||r.message||r)}}}),n}function p(t,n){function i(e,i){if(t.hasOwnProperty(e)){if(t[e]===g)throw _r("cdep","Circular dependency found: {0}",e+" <- "+y.join(" <- "));return t[e]}try{return y.unshift(e),t[e]=g,t[e]=n(e,i)}catch(r){throw t[e]===g&&delete t[e],r}finally{y.shift()}}function r(t,n,r,o){"string"==typeof r&&(o=r,r=null);var s,a,l,u=[],c=Zt.$$annotate(t,e,o);for(a=0,s=c.length;s>a;a++){if(l=c[a],"string"!=typeof l)throw _r("itkn","Incorrect injection token! Expected service name as string, got {0}",l);u.push(r&&r.hasOwnProperty(l)?r[l]:i(l,o))}return Ri(t)&&(t=t[s]),t.apply(n,u)}function o(t,e,n){var i=Object.create((Ri(t)?t[t.length-1]:t).prototype||null),o=r(t,i,e,n);return x(o)||E(o)?o:i}return{invoke:r,instantiate:o,get:i,annotate:Zt.$$annotate,has:function(e){return _.hasOwnProperty(e+m)||t.hasOwnProperty(e)}}}e=e===!0;var g={},m="Provider",y=[],w=new Xt([],!0),_={$provide:{provider:i(r),factory:i(l),service:i(u),value:i(c),constant:i(h),decorator:d}},C=_.$injector=p(_,function(t,e){throw Pi.isString(e)&&y.push(e),_r("unpr","Unknown provider: {0}",y.join(" <- "))}),A={},S=A.$injector=p(A,function(t,e){var i=C.get(t+m,e);return S.invoke(i.$get,i,n,t)});return o(f(t),function(t){t&&S.invoke(t)}),S}function Qt(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,i){function r(t){var e=null;return Array.prototype.some.call(t,function(t){return"a"===R(t)?(e=t,!0):void 0}),e}function o(){var t=a.yOffset;if(E(t))t=t();else if(B(t)){var n=t[0],i=e.getComputedStyle(n);t="fixed"!==i.position?0:n.getBoundingClientRect().bottom}else C(t)||(t=0);return t}function s(t){if(t){t.scrollIntoView();var n=o();if(n){var i=t.getBoundingClientRect().top;e.scrollBy(0,i-n)}}else e.scrollTo(0,0)}function a(t){t=$(t)?t:n.hash();var e;t?(e=l.getElementById(t))?s(e):(e=r(l.getElementsByName(t)))?s(e):"top"===t&&s(null):s(null)}var l=e.document;return t&&i.$watch(function(){return n.hash()},function(t,e){(t!==e||""!==t)&&Vt(function(){i.$evalAsync(a)})}),a}]}function te(t,e){return t||e?t?e?(Ri(t)&&(t=t.join(" ")),Ri(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function ee(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===Cr)return n}}function ne(t){$(t)&&(t=t.split(" "));var e=mt();return o(t,function(t){t.length&&(e[t]=!0)}),e}function ie(t){return x(t)?t:{}}function re(t,e,n,i){function r(t){try{t.apply(null,H(arguments,1))}finally{if(y--,0===y)for(;w.length;)try{w.pop()()}catch(e){n.error(e)}}}function s(t){var e=t.indexOf("#");return-1===e?"":t.substr(e)}function a(){u(),c()}function l(){try{return f.state}catch(t){}}function u(){x=l(),x=b(x)?null:x,U(x,k)&&(x=k),k=x}function c(){($!==h.url()||_!==x)&&($=h.url(),_=x,o(E,function(t){t(h.url(),x)}))}var h=this,d=(e[0],t.location),f=t.history,p=t.setTimeout,m=t.clearTimeout,v={};h.isMock=!1;var y=0,w=[];h.$$completeOutstandingRequest=r,h.$$incOutstandingRequestCount=function(){y++},h.notifyWhenNoOutstandingRequests=function(t){0===y?t():w.push(t)};var x,_,$=d.href,C=e.find("base"),A=null;u(),_=x,h.url=function(e,n,r){if(b(r)&&(r=null),d!==t.location&&(d=t.location),f!==t.history&&(f=t.history),e){var o=_===r;if($===e&&(!i.history||o))return h;var a=$&&Be($)===Be(e);return $=e,_=r,!i.history||a&&o?((!a||A)&&(A=e),n?d.replace(e):a?d.hash=s(e):d.href=e):(f[n?"replaceState":"pushState"](r,"",e),u(),_=x),h}return A||d.href.replace(/%27/g,"'")},h.state=function(){return x};var E=[],S=!1,k=null;h.onUrlChange=function(e){return S||(i.history&&Ei(t).on("popstate",a),Ei(t).on("hashchange",a),S=!0),E.push(e),e},h.$$applicationDestroyed=function(){Ei(t).off("hashchange popstate",a)},h.$$checkUrlChange=c,h.baseHref=function(){var t=C.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""},h.defer=function(t,e){var n;return y++,n=p(function(){delete v[n],r(t)},e||0),v[n]=!0,n},h.defer.cancel=function(t){return v[t]?(delete v[t],m(t),r(g),!0):!1}}function oe(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,i){return new re(t,i,e,n)}]}function se(){this.$get=function(){function t(t,n){function r(t){t!=d&&(f?f==t&&(f=t.n):f=t,o(t.n,t.p),o(t,d),d=t,d.n=null)}function o(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in e)throw i("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var s=0,a=h({},n,{id:t}),l={},u=n&&n.capacity||Number.MAX_VALUE,c={},d=null,f=null;return e[t]={put:function(t,e){if(!b(e)){if(u<Number.MAX_VALUE){var n=c[t]||(c[t]={key:t});r(n)}return t in l||s++,l[t]=e,s>u&&this.remove(f.key),e}},get:function(t){if(u<Number.MAX_VALUE){var e=c[t];if(!e)return;r(e)}return l[t]},remove:function(t){if(u<Number.MAX_VALUE){var e=c[t];if(!e)return;e==d&&(d=e.p),e==f&&(f=e.n),o(e.n,e.p),delete c[t]}delete l[t],s--},removeAll:function(){l={},s=0,c={},d=f=null},destroy:function(){l=null,a=null,c=null,delete e[t]},info:function(){return h({},a,{size:s})}}}var e={};return t.info=function(){var t={};return o(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function ae(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function le(t,i){function r(t,e,n){var i=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,r={};return o(t,function(t,o){var s=t.match(i);if(!s)throw Dr("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,o,t,n?"controller bindings definition":"isolate scope definition");r[o]={mode:s[1][0],collection:"*"===s[2],optional:"?"===s[3],attrName:s[4]||o}}),r}function s(t,e){var n={isolateScope:null,bindToController:null};if(x(t.scope)&&(t.bindToController===!0?(n.bindToController=r(t.scope,e,!0),n.isolateScope={}):n.isolateScope=r(t.scope,e,!1)),x(t.bindToController)&&(n.bindToController=r(t.bindToController,e,!0)),x(n.bindToController)){var i=t.controller,o=t.controllerAs;if(!i)throw Dr("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);if(!de(i,o))throw Dr("noident","Cannot bind to controller without identifier for directive '{0}'.",e)}return n}function l(t){var e=t.charAt(0);if(!e||e!==wi(e))throw Dr("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw Dr("baddir","Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}var u={},c="Directive",d=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,f=/(([\w\-]+)(?:\:([^;]+))?;?)/,y=I("ngSrc,ngSrcset,src,srcset"),b=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,_=/^(on[a-z]+|formaction)$/;this.directive=function A(e,n){return ft(e,"directive"),$(e)?(l(e),ht(n,"directiveFactory"),u.hasOwnProperty(e)||(u[e]=[],t.factory(e+c,["$injector","$exceptionHandler",function(t,n){var i=[];return o(u[e],function(r,o){try{var a=t.invoke(r);E(a)?a={compile:v(a)}:!a.compile&&a.link&&(a.compile=v(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||e,a.require=a.require||a.controller&&a.name,a.restrict=a.restrict||"EA";var l=a.$$bindings=s(a,a.name);x(l.isolateScope)&&(a.$$isolateBindings=l.isolateScope),a.$$moduleName=r.$$moduleName,i.push(a)}catch(u){n(u)}}),i}])),u[e].push(n)):o(e,a(A)),this},this.aHrefSanitizationWhitelist=function(t){return w(t)?(i.aHrefSanitizationWhitelist(t),this):i.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return w(t)?(i.imgSrcSanitizationWhitelist(t),this):i.imgSrcSanitizationWhitelist()};var C=!0;this.debugInfoEnabled=function(t){return w(t)?(C=t,this):C},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(t,i,r,s,a,l,v,w,A,S,k){function T(t,e){try{t.addClass(e)}catch(n){}}function F(t,e,n,i,r){t instanceof Ei||(t=Ei(t)),o(t,function(e,n){e.nodeType==Xi&&e.nodeValue.match(/\S+/)&&(t[n]=Ei(e).wrap("<span></span>").parent()[0])});var s=L(t,e,t,n,i,r);F.$$addScopeClass(t);var a=null;return function(e,n,i){ht(e,"scope"),i=i||{};var r=i.parentBoundTranscludeFn,o=i.transcludeControllers,l=i.futureParentElement;r&&r.$$boundTransclude&&(r=r.$$boundTransclude),a||(a=M(l));var u;if(u="html"!==a?Ei(J(a,Ei("<div>").append(t).html())):n?fr.clone.call(t):t,o)for(var c in o)u.data("$"+c+"Controller",o[c].instance);return F.$$addScopeInfo(u,e),n&&n(u,e),s&&s(e,u,u,r),u}}function M(t){var e=t&&t[0];return e&&"foreignobject"!==R(e)&&e.toString().match(/SVG/)?"svg":"html"}function L(t,e,i,r,o,s){function a(t,i,r,o){var s,a,l,u,c,h,d,f,m;if(p){var v=i.length;for(m=new Array(v),c=0;c<g.length;c+=3)d=g[c],m[d]=i[d]}else m=i;for(c=0,h=g.length;h>c;)if(l=m[g[c++]],s=g[c++],a=g[c++],s){if(s.scope){u=t.$new(),F.$$addScopeInfo(Ei(l),u);var y=s.$$destroyBindings;y&&(s.$$destroyBindings=null,u.$on("$destroyed",y))}else u=t;f=s.transcludeOnThisElement?O(t,s.transclude,o):!s.templateOnThisElement&&o?o:!o&&e?O(t,e):null,s(a,u,l,r,f,s)}else a&&a(t,l.childNodes,n,o)}for(var l,u,c,h,d,f,p,g=[],m=0;m<t.length;m++)l=new ot,u=P(t[m],[],l,0===m?r:n,o),c=u.length?N(u,t[m],l,e,i,null,[],[],s):null,c&&c.scope&&F.$$addScopeClass(l.$$element),d=c&&c.terminal||!(h=t[m].childNodes)||!h.length?null:L(h,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:e),(c||d)&&(g.push(m,c,d),f=!0,p=p||c),s=null;return f?a:null}function O(t,e,n){var i=function(i,r,o,s,a){return i||(i=t.$new(!1,a),i.$$transcluded=!0),e(i,r,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:s})};return i}function P(t,e,n,i,r){var o,s,a=t.nodeType,l=n.$attr;switch(a){case qi:V(e,ue(R(t)),"E",i,r);for(var u,c,h,p,g,m,v=t.attributes,y=0,b=v&&v.length;b>y;y++){var w=!1,_=!1;u=v[y],c=u.name,g=Ni(u.value),p=ue(c),(m=ct.test(p))&&(c=c.replace(Tr,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var C=p.replace(/(Start|End)$/,"");W(C)&&p===C+"Start"&&(w=c,_=c.substr(0,c.length-5)+"end",c=c.substr(0,c.length-6)),h=ue(c.toLowerCase()),l[h]=c,(m||!n.hasOwnProperty(h))&&(n[h]=g,Ht(t,h)&&(n[h]=!0)),tt(t,e,g,h,m),V(e,h,"A",i,r,w,_)}if(s=t.className,x(s)&&(s=s.animVal),$(s)&&""!==s)for(;o=f.exec(s);)h=ue(o[2]),V(e,h,"C",i,r)&&(n[h]=Ni(o[3])),s=s.substr(o.index+o[0].length);break;case Xi:if(11===Ai)for(;t.parentNode&&t.nextSibling&&t.nextSibling.nodeType===Xi;)t.nodeValue=t.nodeValue+t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);G(e,t.nodeValue);break;case Gi:try{o=d.exec(t.nodeValue),o&&(h=ue(o[1]),V(e,h,"M",i,r)&&(n[h]=Ni(o[2])))}catch(A){}}return e.sort(K),
e}function B(t,e,n){var i=[],r=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw Dr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType==qi&&(t.hasAttribute(e)&&r++,t.hasAttribute(n)&&r--),i.push(t),t=t.nextSibling}while(r>0)}else i.push(t);return Ei(i)}function I(t,e,n){return function(i,r,o,s,a){return r=B(r[0],e,n),t(i,r,o,s,a)}}function N(t,i,o,s,a,u,c,h,d){function f(t,e,n,i){t&&(n&&(t=I(t,n,i)),t.require=v.require,t.directiveName=y,(T===v||v.$$isolateScope)&&(t=nt(t,{isolateScope:!0})),c.push(t)),e&&(n&&(e=I(e,n,i)),e.require=v.require,e.directiveName=y,(T===v||v.$$isolateScope)&&(e=nt(e,{isolateScope:!0})),h.push(e))}function p(t,e,n,i){var r;if($(e)){var o=e.match(b),s=e.substring(o[0].length),a=o[1]||o[3],l="?"===o[2];if("^^"===a?n=n.parent():(r=i&&i[s],r=r&&r.instance),!r){var u="$"+s+"Controller";r=a?n.inheritedData(u):n.data(u)}if(!r&&!l)throw Dr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,t)}else if(Ri(e)){r=[];for(var c=0,h=e.length;h>c;c++)r[c]=p(t,e[c],n,i)}return r||null}function g(t,e,n,i,r,o){var s=mt();for(var a in i){var u=i[a],c={$scope:u===T||u.$$isolateScope?r:o,$element:t,$attrs:e,$transclude:n},h=u.controller;"@"==h&&(h=e[u.name]);var d=l(h,c,!0,u.controllerAs);s[u.name]=d,j||t.data("$"+u.name+"Controller",d.instance)}return s}function m(t,e,r,s,a,l){function u(t,e,i){var r;return D(t)||(i=e,e=t,t=n),j&&(r=b),i||(i=j?x.parent():x),a(t,e,r,i,L)}var d,f,m,v,y,b,w,x,_;if(i===r?(_=o,x=o.$$element):(x=Ei(r),_=new ot(x,o)),T&&(y=e.$new(!0)),a&&(w=u,w.$$boundTransclude=a),k&&(b=g(x,_,w,k,y,e)),T&&(F.$$addScopeInfo(x,y,!0,!(M&&(M===T||M===T.$$originalDirective))),F.$$addScopeClass(x,!0),y.$$isolateBindings=T.$$isolateBindings,rt(e,_,y,y.$$isolateBindings,T,y)),b){var $,C,A=T||S;A&&b[A.name]&&($=A.$$bindings.bindToController,v=b[A.name],v&&v.identifier&&$&&(C=v,l.$$destroyBindings=rt(e,_,v.instance,$,A)));for(d in b){v=b[d];var E=v();E!==v.instance&&(v.instance=E,x.data("$"+d+"Controller",E),v===C&&(l.$$destroyBindings(),l.$$destroyBindings=rt(e,_,E,$,A)))}}for(d=0,f=c.length;f>d;d++)m=c[d],it(m,m.isolateScope?y:e,x,_,m.require&&p(m.directiveName,m.require,x,b),w);var L=e;for(T&&(T.template||null===T.templateUrl)&&(L=y),t&&t(L,r.childNodes,n,a),d=h.length-1;d>=0;d--)m=h[d],it(m,m.isolateScope?y:e,x,_,m.require&&p(m.directiveName,m.require,x,b),w)}d=d||{};for(var v,y,w,_,C,A=-Number.MAX_VALUE,S=d.newScopeDirective,k=d.controllerDirectives,T=d.newIsolateScopeDirective,M=d.templateDirective,L=d.nonTlbTranscludeDirective,O=!1,R=!1,j=d.hasElementTranscludeDirective,N=o.$$element=Ei(i),U=u,V=s,W=0,K=t.length;K>W;W++){v=t[W];var G=v.$$start,Q=v.$$end;if(G&&(N=B(i,G,Q)),w=n,A>v.priority)break;if((C=v.scope)&&(v.templateUrl||(x(C)?(X("new/isolated scope",T||S,v,N),T=v):X("new/isolated scope",T,v,N)),S=S||v),y=v.name,!v.templateUrl&&v.controller&&(C=v.controller,k=k||mt(),X("'"+y+"' controller",k[y],v,N),k[y]=v),(C=v.transclude)&&(O=!0,v.$$tlb||(X("transclusion",L,v,N),L=v),"element"==C?(j=!0,A=v.priority,w=N,N=o.$$element=Ei(e.createComment(" "+y+": "+o[y]+" ")),i=N[0],et(a,H(w),i),V=F(w,s,A,U&&U.name,{nonTlbTranscludeDirective:L})):(w=Ei(Dt(i)).contents(),N.empty(),V=F(w,s))),v.template)if(R=!0,X("template",M,v,N),M=v,C=E(v.template)?v.template(N,o):v.template,C=lt(C),v.replace){if(U=v,w=$t(C)?[]:he(J(v.templateNamespace,Ni(C))),i=w[0],1!=w.length||i.nodeType!==qi)throw Dr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",y,"");et(a,N,i);var tt={$attr:{}},st=P(i,[],tt),at=t.splice(W+1,t.length-(W+1));T&&z(st),t=t.concat(st).concat(at),Y(o,tt),K=t.length}else N.html(C);if(v.templateUrl)R=!0,X("template",M,v,N),M=v,v.replace&&(U=v),m=q(t.splice(W,t.length-W),N,o,a,O&&V,c,h,{controllerDirectives:k,newScopeDirective:S!==v&&S,newIsolateScopeDirective:T,templateDirective:M,nonTlbTranscludeDirective:L}),K=t.length;else if(v.compile)try{_=v.compile(N,o,V),E(_)?f(null,_,G,Q):_&&f(_.pre,_.post,G,Q)}catch(ut){r(ut,Z(N))}v.terminal&&(m.terminal=!0,A=Math.max(A,v.priority))}return m.scope=S&&S.scope===!0,m.transcludeOnThisElement=O,m.templateOnThisElement=R,m.transclude=V,d.hasElementTranscludeDirective=j,m}function z(t){for(var e=0,n=t.length;n>e;e++)t[e]=p(t[e],{$$isolateScope:!0})}function V(e,i,o,s,a,l,h){if(i===a)return null;var d=null;if(u.hasOwnProperty(i))for(var f,g=t.get(i+c),m=0,v=g.length;v>m;m++)try{f=g[m],(s===n||s>f.priority)&&-1!=f.restrict.indexOf(o)&&(l&&(f=p(f,{$$start:l,$$end:h})),e.push(f),d=f)}catch(y){r(y)}return d}function W(e){if(u.hasOwnProperty(e))for(var n,i=t.get(e+c),r=0,o=i.length;o>r;r++)if(n=i[r],n.multiElement)return!0;return!1}function Y(t,e){var n=e.$attr,i=t.$attr,r=t.$$element;o(t,function(i,r){"$"!=r.charAt(0)&&(e[r]&&e[r]!==i&&(i+=("style"===r?";":" ")+e[r]),t.$set(r,i,!0,n[r]))}),o(e,function(e,o){"class"==o?(T(r,e),t["class"]=(t["class"]?t["class"]+" ":"")+e):"style"==o?(r.attr("style",r.attr("style")+";"+e),t.style=(t.style?t.style+";":"")+e):"$"==o.charAt(0)||t.hasOwnProperty(o)||(t[o]=e,i[o]=n[o])})}function q(t,e,n,i,r,a,l,u){var c,h,d=[],f=e[0],g=t.shift(),m=p(g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),v=E(g.templateUrl)?g.templateUrl(e,n):g.templateUrl,y=g.templateNamespace;return e.empty(),s(v).then(function(s){var p,b,w,_;if(s=lt(s),g.replace){if(w=$t(s)?[]:he(J(y,Ni(s))),p=w[0],1!=w.length||p.nodeType!==qi)throw Dr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g.name,v);b={$attr:{}},et(i,e,p);var $=P(p,[],b);x(g.scope)&&z($),t=$.concat(t),Y(n,b)}else p=f,e.html(s);for(t.unshift(m),c=N(t,p,n,r,e,g,a,l,u),o(i,function(t,n){t==p&&(i[n]=e[0])}),h=L(e[0].childNodes,r);d.length;){var C=d.shift(),A=d.shift(),E=d.shift(),S=d.shift(),k=e[0];if(!C.$$destroyed){if(A!==f){var D=A.className;u.hasElementTranscludeDirective&&g.replace||(k=Dt(p)),et(E,Ei(A),k),T(Ei(k),D)}_=c.transcludeOnThisElement?O(C,c.transclude,S):S,c(h,C,k,i,_,c)}}d=null}),function(t,e,n,i,r){var o=r;e.$$destroyed||(d?d.push(e,n,i,o):(c.transcludeOnThisElement&&(o=O(e,c.transclude,r)),c(h,e,n,i,o,c)))}}function K(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function X(t,e,n,i){function r(t){return t?" (module: "+t+")":""}if(e)throw Dr("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,r(e.$$moduleName),n.name,r(n.$$moduleName),t,Z(i))}function G(t,e){var n=i(e,!0);n&&t.push({priority:0,compile:function(t){var e=t.parent(),i=!!e.length;return i&&F.$$addBindingClass(e),function(t,e){var r=e.parent();i||F.$$addBindingClass(r),F.$$addBindingInfo(r,n.expressions),t.$watch(n,function(t){e[0].nodeValue=t})}}})}function J(t,n){switch(t=wi(t||"html")){case"svg":case"math":var i=e.createElement("div");return i.innerHTML="<"+t+">"+n+"</"+t+">",i.childNodes[0].childNodes;default:return n}}function Q(t,e){if("srcdoc"==e)return A.HTML;var n=R(t);return"xlinkHref"==e||"form"==n&&"action"==e||"img"!=n&&("src"==e||"ngSrc"==e)?A.RESOURCE_URL:void 0}function tt(t,e,n,r,o){var s=Q(t,r);o=y[r]||o;var a=i(n,!0,s,o);if(a){if("multiple"===r&&"select"===R(t))throw Dr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Z(t));e.push({priority:100,compile:function(){return{pre:function(t,e,l){var u=l.$$observers||(l.$$observers={});if(_.test(r))throw Dr("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var c=l[r];c!==n&&(a=c&&i(c,!0,s,o),n=c),a&&(l[r]=a(t),(u[r]||(u[r]=[])).$$inter=!0,(l.$$observers&&l.$$observers[r].$$scope||t).$watch(a,function(t,e){"class"===r&&t!=e?l.$updateClass(t,e):l.$set(r,t)}))}}}})}}function et(t,n,i){var r,o,s=n[0],a=n.length,l=s.parentNode;if(t)for(r=0,o=t.length;o>r;r++)if(t[r]==s){t[r++]=i;for(var u=r,c=u+a-1,h=t.length;h>u;u++,c++)h>c?t[u]=t[c]:delete t[u];t.length-=a-1,t.context===s&&(t.context=i);break}l&&l.replaceChild(i,s);var d=e.createDocumentFragment();d.appendChild(s),Ei.hasData(s)&&(Ei(i).data(Ei(s).data()),Si?(Ii=!0,Si.cleanData([s])):delete Ei.cache[s[Ei.expando]]);for(var f=1,p=n.length;p>f;f++){var g=n[f];Ei(g).remove(),d.appendChild(g),delete n[f]}n[0]=i,n.length=1}function nt(t,e){return h(function(){return t.apply(null,arguments)},t,e)}function it(t,e,n,i,o,s){try{t(e,n,i,o,s)}catch(a){r(a,Z(n))}}function rt(t,e,r,s,l,u){var c;o(s,function(o,s){var u,h,d,f,p=o.attrName,m=o.optional,v=o.mode;switch(xi.call(e,p)||(e[p]=n),v){case"@":e[p]||m||(r[s]=n),e.$observe(p,function(t){r[s]=t}),e.$$observers[p].$$scope=t,e[p]&&(r[s]=i(e[p])(t));break;case"=":if(m&&!e[p])return;h=a(e[p]),f=h.literal?U:function(t,e){return t===e||t!==t&&e!==e},d=h.assign||function(){throw u=r[s]=h(t),Dr("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",e[p],l.name)},u=r[s]=h(t);var y=function(e){return f(e,r[s])||(f(e,u)?d(t,e=r[s]):r[s]=e),u=e};y.$stateful=!0;var b;b=o.collection?t.$watchCollection(e[p],y):t.$watch(a(e[p],y),null,h.literal),c=c||[],c.push(b);break;case"&":if(h=a(e[p]),h===g&&m)break;r[s]=function(e){return h(t,e)}}});var h=c?function(){for(var t=0,e=c.length;e>t;++t)c[t]()}:g;return u&&h!==g?(u.$on("$destroy",h),g):h}var ot=function(t,e){if(e){var n,i,r,o=Object.keys(e);for(n=0,i=o.length;i>n;n++)r=o[n],this[r]=e[r]}else this.$attr={};this.$$element=t};ot.prototype={$normalize:ue,$addClass:function(t){t&&t.length>0&&S.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&S.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=ce(t,e);n&&n.length&&S.addClass(this.$$element,n);var i=ce(e,t);i&&i.length&&S.removeClass(this.$$element,i)},$set:function(t,e,i,s){var a,l=this.$$element[0],u=Ht(l,t),c=Wt(l,t),h=t;if(u?(this.$$element.prop(t,e),s=u):c&&(this[c]=e,h=c),this[t]=e,s?this.$attr[t]=s:(s=this.$attr[t],s||(this.$attr[t]=s=ut(t,"-"))),a=R(this.$$element),"a"===a&&"href"===t||"img"===a&&"src"===t)this[t]=e=k(e,"src"===t);else if("img"===a&&"srcset"===t){for(var d="",f=Ni(e),p=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,g=/\s/.test(f)?p:/(,)/,m=f.split(g),v=Math.floor(m.length/2),y=0;v>y;y++){var b=2*y;d+=k(Ni(m[b]),!0),d+=" "+Ni(m[b+1])}var w=Ni(m[2*y]).split(/\s/);d+=k(Ni(w[0]),!0),2===w.length&&(d+=" "+Ni(w[1])),this[t]=e=d}i!==!1&&(null===e||e===n?this.$$element.removeAttr(s):this.$$element.attr(s,e));var x=this.$$observers;x&&o(x[h],function(t){try{t(e)}catch(n){r(n)}})},$observe:function(t,e){var n=this,i=n.$$observers||(n.$$observers=mt()),r=i[t]||(i[t]=[]);return r.push(e),v.$evalAsync(function(){!r.$$inter&&n.hasOwnProperty(t)&&e(n[t])}),function(){j(r,e)}}};var st=i.startSymbol(),at=i.endSymbol(),lt="{{"==st||"}}"==at?m:function(t){return t.replace(/\{\{/g,st).replace(/}}/g,at)},ct=/^ngAttr[A-Z]/;return F.$$addBindingInfo=C?function(t,e){var n=t.data("$binding")||[];Ri(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:g,F.$$addBindingClass=C?function(t){T(t,"ng-binding")}:g,F.$$addScopeInfo=C?function(t,e,n,i){var r=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(r,e)}:g,F.$$addScopeClass=C?function(t,e){T(t,e?"ng-isolate-scope":"ng-scope")}:g,F}]}function ue(t){return _t(t.replace(Tr,""))}function ce(t,e){var n="",i=t.split(/\s+/),r=e.split(/\s+/);t:for(var o=0;o<i.length;o++){for(var s=i[o],a=0;a<r.length;a++)if(s==r[a])continue t;n+=(n.length>0?" ":"")+s}return n}function he(t){t=Ei(t);var e=t.length;if(1>=e)return t;for(;e--;){var n=t[e];n.nodeType===Gi&&Ti.call(t,e,1)}return t}function de(t,e){if(e&&$(e))return e;if($(t)){var n=Mr.exec(t);if(n)return n[3]}}function fe(){var t={},e=!1;this.register=function(e,n){ft(e,"controller"),x(e)?h(t,e):t[e]=n},this.allowGlobals=function(){e=!0},this.$get=["$injector","$window",function(r,o){function s(t,e,n,r){if(!t||!x(t.$scope))throw i("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,e);t.$scope[e]=n}return function(i,a,l,u){var c,d,f,p;if(l=l===!0,u&&$(u)&&(p=u),$(i)){if(d=i.match(Mr),!d)throw Fr("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",i);f=d[1],p=p||d[3],i=t.hasOwnProperty(f)?t[f]:pt(a.$scope,f,!0)||(e?pt(o,f,!0):n),dt(i,f,!0)}if(l){var g=(Ri(i)?i[i.length-1]:i).prototype;c=Object.create(g||null),p&&s(a,p,c,f||i.name);var m;return m=h(function(){var t=r.invoke(i,c,a,f);return t!==c&&(x(t)||E(t))&&(c=t,p&&s(a,p,c,f||i.name)),c},{instance:c,identifier:p})}return c=r.instantiate(i,a,f),p&&s(a,p,c,f||i.name),c}}]}function pe(){this.$get=["$window",function(t){return Ei(t.document)}]}function ge(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}function me(t){return x(t)?A(t)?t.toISOString():q(t):t}function ve(){this.$get=function(){return function(t){if(!t)return"";var e=[];return s(t,function(t,n){null===t||b(t)||(Ri(t)?o(t,function(t,i){e.push(it(n)+"="+it(me(t)))}):e.push(it(n)+"="+it(me(t))))}),e.join("&")}}}function ye(){this.$get=function(){return function(t){function e(t,i,r){null===t||b(t)||(Ri(t)?o(t,function(t){e(t,i+"[]")}):x(t)&&!A(t)?s(t,function(t,n){e(t,i+(r?"":"[")+n+(r?"":"]"))}):n.push(it(i)+"="+it(me(t))))}if(!t)return"";var n=[];return e(t,"",!0),n.join("&")}}}function be(t,e){if($(t)){var n=t.replace(Ir,"").trim();if(n){var i=e("Content-Type");(i&&0===i.indexOf(Lr)||we(n))&&(t=K(n))}}return t}function we(t){var e=t.match(Pr);return e&&Br[e[0]].test(t)}function xe(t){function e(t,e){t&&(i[t]=i[t]?i[t]+", "+e:e)}var n,i=mt();return $(t)?o(t.split("\n"),function(t){n=t.indexOf(":"),e(wi(Ni(t.substr(0,n))),Ni(t.substr(n+1)))}):x(t)&&o(t,function(t,n){e(wi(n),Ni(t))}),i}function _e(t){var e;return function(n){if(e||(e=xe(t)),n){var i=e[wi(n)];return void 0===i&&(i=null),i}return e}}function $e(t,e,n,i){return E(i)?i(t,e,n):(o(i,function(i){t=i(t,e,n)}),t)}function Ce(t){return t>=200&&300>t}function Ae(){var t=this.defaults={transformResponse:[be],transformRequest:[function(t){return!x(t)||T(t)||M(t)||F(t)?t:q(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:z(Or),put:z(Or),patch:z(Or)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},e=!1;this.useApplyAsync=function(t){return w(t)?(e=!!t,this):e};var r=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(s,a,l,u,c,d){function f(e){function r(t){var e=h({},t);return t.data?e.data=$e(t.data,t.headers,t.status,l.transformResponse):e.data=t.data,Ce(t.status)?e:c.reject(e)}function s(t,e){var n,i={};return o(t,function(t,r){E(t)?(n=t(e),null!=n&&(i[r]=n)):i[r]=t}),i}function a(e){var n,i,r,o=t.headers,a=h({},e.headers);o=h({},o.common,o[wi(e.method)]);t:for(n in o){i=wi(n);for(r in a)if(wi(r)===i)continue t;a[n]=o[n]}return s(a,z(e))}if(!Pi.isObject(e))throw i("$http")("badreq","Http request configuration must be an object.  Received: {0}",e);var l=h({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer},e);l.headers=a(e),l.method=_i(l.method),l.paramSerializer=$(l.paramSerializer)?d.get(l.paramSerializer):l.paramSerializer;var u=function(e){var i=e.headers,s=$e(e.data,_e(i),n,e.transformRequest);return b(s)&&o(i,function(t,e){"content-type"===wi(e)&&delete i[e]}),b(e.withCredentials)&&!b(t.withCredentials)&&(e.withCredentials=t.withCredentials),m(e,s).then(r,r)},f=[u,n],p=c.when(l);for(o(_,function(t){(t.request||t.requestError)&&f.unshift(t.request,t.requestError),(t.response||t.responseError)&&f.push(t.response,t.responseError)});f.length;){var g=f.shift(),v=f.shift();p=p.then(g,v)}return p.success=function(t){return dt(t,"fn"),p.then(function(e){t(e.data,e.status,e.headers,l)}),p},p.error=function(t){return dt(t,"fn"),p.then(null,function(e){t(e.data,e.status,e.headers,l)}),p},p}function p(t){o(arguments,function(t){f[t]=function(e,n){return f(h({},n||{},{method:t,url:e}))}})}function g(t){o(arguments,function(t){f[t]=function(e,n,i){return f(h({},i||{},{method:t,url:e,data:n}))}})}function m(i,r){function o(t,n,i,r){function o(){l(n,t,i,r)}p&&(Ce(t)?p.put(C,[t,n,xe(i),r]):p.remove(C)),e?u.$applyAsync(o):(o(),u.$$phase||u.$apply())}function l(t,e,n,r){e=Math.max(e,0),(Ce(e)?m.resolve:m.reject)({data:t,status:e,headers:_e(n),config:i,statusText:r})}function h(t){l(t.data,t.status,z(t.headers()),t.statusText)}function d(){var t=f.pendingRequests.indexOf(i);-1!==t&&f.pendingRequests.splice(t,1)}var p,g,m=c.defer(),_=m.promise,$=i.headers,C=v(i.url,i.paramSerializer(i.params));if(f.pendingRequests.push(i),_.then(d,d),!i.cache&&!t.cache||i.cache===!1||"GET"!==i.method&&"JSONP"!==i.method||(p=x(i.cache)?i.cache:x(t.cache)?t.cache:y),p&&(g=p.get(C),w(g)?O(g)?g.then(h,h):Ri(g)?l(g[1],g[0],z(g[2]),g[3]):l(g,200,{},"OK"):p.put(C,_)),b(g)){var A=Sn(i.url)?a()[i.xsrfCookieName||t.xsrfCookieName]:n;A&&($[i.xsrfHeaderName||t.xsrfHeaderName]=A),s(i.method,C,r,o,$,i.timeout,i.withCredentials,i.responseType)}return _}function v(t,e){return e.length>0&&(t+=(-1==t.indexOf("?")?"?":"&")+e),t}var y=l("$http");t.paramSerializer=$(t.paramSerializer)?d.get(t.paramSerializer):t.paramSerializer;var _=[];return o(r,function(t){_.unshift($(t)?d.get(t):d.invoke(t))}),f.pendingRequests=[],p("get","delete","head","jsonp"),g("post","put","patch"),f.defaults=t,f}]}function Ee(){return new t.XMLHttpRequest}function Se(){this.$get=["$browser","$window","$document",function(t,e,n){return ke(t,Ee,t.defer,e.angular.callbacks,n[0])}]}function ke(t,e,i,r,s){function a(t,e,n){var i=s.createElement("script"),o=null;return i.type="text/javascript",i.src=t,i.async=!0,o=function(t){ir(i,"load",o),ir(i,"error",o),s.body.removeChild(i),i=null;var a=-1,l="unknown";t&&("load"!==t.type||r[e].called||(t={type:"error"}),l=t.type,a="error"===t.type?404:200),n&&n(a,l)},nr(i,"load",o),nr(i,"error",o),s.body.appendChild(i),o}return function(s,l,u,c,h,d,f,p){function m(){b&&b(),x&&x.abort()}function v(e,r,o,s,a){C!==n&&i.cancel(C),b=x=null,e(r,o,s,a),t.$$completeOutstandingRequest(g)}if(t.$$incOutstandingRequestCount(),l=l||t.url(),"jsonp"==wi(s)){var y="_"+(r.counter++).toString(36);r[y]=function(t){r[y].data=t,r[y].called=!0};var b=a(l.replace("JSON_CALLBACK","angular.callbacks."+y),y,function(t,e){v(c,t,r[y].data,"",e),r[y]=g})}else{var x=e();x.open(s,l,!0),o(h,function(t,e){w(t)&&x.setRequestHeader(e,t)}),x.onload=function(){var t=x.statusText||"",e="response"in x?x.response:x.responseText,n=1223===x.status?204:x.status;0===n&&(n=e?200:"file"==En(l).protocol?404:0),v(c,n,e,x.getAllResponseHeaders(),t)};var _=function(){v(c,-1,null,null,"")};if(x.onerror=_,x.onabort=_,f&&(x.withCredentials=!0),p)try{x.responseType=p}catch($){if("json"!==p)throw $}x.send(u)}if(d>0)var C=i(m,d);else O(d)&&d.then(m)}}function De(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function o(t){return"\\\\\\"+t}function s(n){return n.replace(d,t).replace(f,e)}function a(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=q(t)}return t}function l(o,l,d,f){function p(t){try{return t=k(t),f&&!w(t)?t:a(t)}catch(e){i(Rr.interr(o,e))}}f=!!f;for(var g,m,v,y=0,x=[],_=[],$=o.length,C=[],A=[];$>y;){if(-1==(g=o.indexOf(t,y))||-1==(m=o.indexOf(e,g+u))){y!==$&&C.push(s(o.substring(y)));break}y!==g&&C.push(s(o.substring(y,g))),v=o.substring(g+u,m),x.push(v),_.push(n(v,p)),y=m+c,A.push(C.length),C.push("")}if(d&&C.length>1&&Rr.throwNoconcat(o),!l||x.length){var S=function(t){for(var e=0,n=x.length;n>e;e++){if(f&&b(t[e]))return;C[A[e]]=t[e]}return C.join("")},k=function(t){return d?r.getTrusted(d,t):r.valueOf(t)};return h(function(t){var e=0,n=x.length,r=new Array(n);try{for(;n>e;e++)r[e]=_[e](t);return S(r)}catch(s){i(Rr.interr(o,s))}},{exp:o,expressions:x,$$watchDelegate:function(t,e){var n;return t.$watchGroup(_,function(i,r){var o=S(i);E(e)&&e.call(this,o,i!==r?n:o,t),n=o})}})}}var u=t.length,c=e.length,d=new RegExp(t.replace(/./g,o),"g"),f=new RegExp(e.replace(/./g,o),"g");return l.startSymbol=function(){return t},l.endSymbol=function(){return e},l}]}function Te(){this.$get=["$rootScope","$window","$q","$$q",function(t,e,n,i){function r(r,s,a,l){var u=arguments.length>4,c=u?H(arguments,4):[],h=e.setInterval,d=e.clearInterval,f=0,p=w(l)&&!l,g=(p?i:n).defer(),m=g.promise;return a=w(a)?a:0,m.then(null,null,u?function(){r.apply(null,c)}:r),m.$$intervalId=h(function(){g.notify(f++),a>0&&f>=a&&(g.resolve(f),d(m.$$intervalId),delete o[m.$$intervalId]),p||t.$apply()},s),o[m.$$intervalId]=g,m}var o={};return r.cancel=function(t){return t&&t.$$intervalId in o?(o[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete o[t.$$intervalId],!0):!1},r}]}function Fe(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"",posSuf:"",negPre:"(",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(t){return 1===t?"one":"other"}}}}function Me(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=nt(e[n]);return e.join("/")}function Le(t,e){var n=En(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=f(n.port)||Nr[n.protocol]||null}function Oe(t,e){var n="/"!==t.charAt(0);n&&(t="/"+t);var i=En(t);e.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),e.$$search=tt(i.search),e.$$hash=decodeURIComponent(i.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function Pe(t,e){return 0===e.indexOf(t)?e.substr(t.length):void 0}function Be(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function Ie(t){return t.replace(/(#.+)|#$/,"$1")}function Re(t){return t.substr(0,Be(t).lastIndexOf("/")+1)}function je(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function Ne(t,e){this.$$html5=!0,e=e||"";var i=Re(t);Le(t,this),this.$$parse=function(t){var e=Pe(i,t);if(!$(e))throw zr("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,i);Oe(e,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=et(this.$$search),e=this.$$hash?"#"+nt(this.$$hash):"";this.$$url=Me(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=i+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var s,a,l;return(s=Pe(t,r))!==n?(a=s,l=(s=Pe(e,s))!==n?i+(Pe("/",s)||s):t+a):(s=Pe(i,r))!==n?l=i+s:i==r+"/"&&(l=i),l&&this.$$parse(l),!!l}}function ze(t,e){var n=Re(t);Le(t,this),this.$$parse=function(i){function r(t,e,n){var i,r=/^\/[A-Z]:(\/.*)/;return 0===e.indexOf(n)&&(e=e.replace(n,"")),r.exec(e)?t:(i=r.exec(t),i?i[1]:t)}var o,s=Pe(t,i)||Pe(n,i);b(s)||"#"!==s.charAt(0)?this.$$html5?o=s:(o="",b(s)&&(t=i,this.replace())):(o=Pe(e,s),b(o)&&(o=s)),Oe(o,this),this.$$path=r(this.$$path,o,t),this.$$compose()},this.$$compose=function(){var n=et(this.$$search),i=this.$$hash?"#"+nt(this.$$hash):"";this.$$url=Me(this.$$path)+(n?"?"+n:"")+i,this.$$absUrl=t+(this.$$url?e+this.$$url:"")},this.$$parseLinkUrl=function(e,n){return Be(t)==Be(e)?(this.$$parse(e),!0):!1}}function Ue(t,e){this.$$html5=!0,ze.apply(this,arguments);var n=Re(t);this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,s;return t==Be(i)?o=i:(s=Pe(n,i))?o=t+e+s:n===i+"/"&&(o=n),o&&this.$$parse(o),!!o},this.$$compose=function(){var n=et(this.$$search),i=this.$$hash?"#"+nt(this.$$hash):"";this.$$url=Me(this.$$path)+(n?"?"+n:"")+i,this.$$absUrl=t+e+this.$$url}}function Ve(t){return function(){return this[t]}}function He(t,e){return function(n){return b(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function We(){var t="",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return w(e)?(t=e,this):t},this.html5Mode=function(t){return L(t)?(e.enabled=t,this):x(t)?(L(t.enabled)&&(e.enabled=t.enabled),L(t.requireBase)&&(e.requireBase=t.requireBase),L(t.rewriteLinks)&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,o,s){function a(t,e,n){var r=u.url(),o=u.$$state;try{i.url(t,e,n),u.$$state=i.state()}catch(s){throw u.url(r),u.$$state=o,s}}function l(t,e){n.$broadcast("$locationChangeSuccess",u.absUrl(),t,u.$$state,e)}var u,c,h,d=i.baseHref(),f=i.url();if(e.enabled){if(!d&&e.requireBase)throw zr("nobase","$location in HTML5 mode requires a <base> tag to be present!");h=je(f)+(d||"/"),c=r.history?Ne:Ue}else h=Be(f),c=ze;u=new c(h,"#"+t),u.$$parseLinkUrl(f,f),u.$$state=i.state();var p=/^\s*(javascript|mailto):/i;o.on("click",function(t){if(e.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!=t.which&&2!=t.button){for(var r=Ei(t.target);"a"!==R(r[0]);)if(r[0]===o[0]||!(r=r.parent())[0])return;var a=r.prop("href"),l=r.attr("href")||r.attr("xlink:href");x(a)&&"[object SVGAnimatedString]"===a.toString()&&(a=En(a.animVal).href),p.test(a)||!a||r.attr("target")||t.isDefaultPrevented()||u.$$parseLinkUrl(a,l)&&(t.preventDefault(),u.absUrl()!=i.url()&&(n.$apply(),s.angular["ff-684208-preventDefault"]=!0))}}),Ie(u.absUrl())!=Ie(f)&&i.url(u.absUrl(),!0);var g=!0;return i.onUrlChange(function(t,e){n.$evalAsync(function(){var i,r=u.absUrl(),o=u.$$state;u.$$parse(t),u.$$state=e,i=n.$broadcast("$locationChangeStart",t,r,e,o).defaultPrevented,u.absUrl()===t&&(i?(u.$$parse(r),u.$$state=o,a(r,!1,o)):(g=!1,l(r,o)))}),n.$$phase||n.$digest()}),n.$watch(function(){var t=Ie(i.url()),e=Ie(u.absUrl()),o=i.state(),s=u.$$replace,c=t!==e||u.$$html5&&r.history&&o!==u.$$state;(g||c)&&(g=!1,n.$evalAsync(function(){var e=u.absUrl(),i=n.$broadcast("$locationChangeStart",e,t,u.$$state,o).defaultPrevented;u.absUrl()===e&&(i?(u.$$parse(t),u.$$state=o):(c&&a(e,s,o===u.$$state?null:u.$$state),l(t,o)))})),u.$$replace=!1}),u}]}function Ye(){var t=!0,e=this;this.debugEnabled=function(e){return w(e)?(t=e,this):t},this.$get=["$window",function(n){function i(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function r(t){var e=n.console||{},r=e[t]||e.log||g,s=!1;try{s=!!r.apply}catch(a){}return s?function(){var t=[];return o(arguments,function(e){t.push(i(e))}),r.apply(e,t)}:function(t,e){r(t,null==e?"":e)}}return{log:r("log"),info:r("info"),warn:r("warn"),error:r("error"),debug:function(){var n=r("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function qe(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw Vr("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",e);return t}function Ke(t,e){if(t){if(t.constructor===t)throw Vr("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t.window===t)throw Vr("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw Vr("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",e);if(t===Object)throw Vr("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",e)}return t}function Xe(t,e){if(t){if(t.constructor===t)throw Vr("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t===Hr||t===Wr||t===Yr)throw Vr("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",e)}}function Ge(t,e){return"undefined"!=typeof t?t:e}function Je(t,e){return"undefined"==typeof t?e:"undefined"==typeof e?t:t+e}function Ze(t,e){var n=t(e);return!n.$stateful}function Qe(t,e){var n,i;switch(t.type){case Gr.Program:n=!0,o(t.body,function(t){Qe(t.expression,e),n=n&&t.expression.constant}),t.constant=n;break;case Gr.Literal:t.constant=!0,t.toWatch=[];break;case Gr.UnaryExpression:Qe(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case Gr.BinaryExpression:Qe(t.left,e),Qe(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case Gr.LogicalExpression:Qe(t.left,e),Qe(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case Gr.ConditionalExpression:Qe(t.test,e),Qe(t.alternate,e),Qe(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case Gr.Identifier:t.constant=!1,t.toWatch=[t];break;case Gr.MemberExpression:Qe(t.object,e),t.computed&&Qe(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case Gr.CallExpression:n=t.filter?Ze(e,t.callee.name):!1,i=[],o(t.arguments,function(t){Qe(t,e),n=n&&t.constant,t.constant||i.push.apply(i,t.toWatch)}),t.constant=n,t.toWatch=t.filter&&Ze(e,t.callee.name)?i:[t];break;case Gr.AssignmentExpression:Qe(t.left,e),Qe(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case Gr.ArrayExpression:n=!0,i=[],o(t.elements,function(t){Qe(t,e),n=n&&t.constant,t.constant||i.push.apply(i,t.toWatch)}),t.constant=n,t.toWatch=i;break;case Gr.ObjectExpression:n=!0,i=[],o(t.properties,function(t){Qe(t.value,e),n=n&&t.value.constant,t.value.constant||i.push.apply(i,t.value.toWatch)}),t.constant=n,t.toWatch=i;break;case Gr.ThisExpression:t.constant=!1,t.toWatch=[]}}function tn(t){if(1==t.length){var e=t[0].expression,i=e.toWatch;return 1!==i.length?i:i[0]!==e?i:n}}function en(t){return t.type===Gr.Identifier||t.type===Gr.MemberExpression}function nn(t){return 1===t.body.length&&en(t.body[0].expression)?{type:Gr.AssignmentExpression,left:t.body[0].expression,right:{type:Gr.NGValueParameter},operator:"="}:void 0}function rn(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===Gr.Literal||t.body[0].expression.type===Gr.ArrayExpression||t.body[0].expression.type===Gr.ObjectExpression)}function on(t){return t.constant}function sn(t,e){this.astBuilder=t,this.$filter=e}function an(t,e){this.astBuilder=t,this.$filter=e}function ln(t,e,n,i){Ke(t,i);for(var r,o=e.split("."),s=0;o.length>1;s++){r=qe(o.shift(),i);var a=Ke(t[r],i);a||(a={},t[r]=a),t=a}return r=qe(o.shift(),i),Ke(t[r],i),t[r]=n,n}function un(t){return"constructor"==t}function cn(t){return E(t.valueOf)?t.valueOf():Zr.call(t)}function hn(){var t=mt(),e=mt();this.$get=["$filter","$sniffer",function(i,r){function s(t,e){return null==t||null==e?t===e:"object"==typeof t&&(t=cn(t),"object"==typeof t)?!1:t===e||t!==t&&e!==e}function a(t,e,i,r,o){var a,l=r.inputs;if(1===l.length){var u=s;return l=l[0],t.$watch(function(t){var e=l(t);return s(e,u)||(a=r(t,n,n,[e]),u=e&&cn(e)),a},e,i,o)}for(var c=[],h=[],d=0,f=l.length;f>d;d++)c[d]=s,h[d]=null;return t.$watch(function(t){for(var e=!1,i=0,o=l.length;o>i;i++){var u=l[i](t);(e||(e=!s(u,c[i])))&&(h[i]=u,c[i]=u&&cn(u))}return e&&(a=r(t,n,n,h)),a},e,i,o)}function l(t,e,n,i){var r,o;return r=t.$watch(function(t){return i(t)},function(t,n,i){o=t,E(e)&&e.apply(this,arguments),w(t)&&i.$$postDigest(function(){w(o)&&r()})},n)}function u(t,e,n,i){function r(t){var e=!0;return o(t,function(t){w(t)||(e=!1)}),e}var s,a;return s=t.$watch(function(t){return i(t)},function(t,n,i){a=t,E(e)&&e.call(this,t,n,i),r(t)&&i.$$postDigest(function(){r(a)&&s()})},n)}function c(t,e,n,i){var r;return r=t.$watch(function(t){return i(t);
},function(t,n,i){E(e)&&e.apply(this,arguments),r()},n)}function h(t,e){if(!e)return t;var n=t.$$watchDelegate,i=n!==u&&n!==l,r=i?function(n,i,r,o){var s=t(n,i,r,o);return e(s,n,i)}:function(n,i,r,o){var s=t(n,i,r,o),a=e(s,n,i);return w(s)?a:s};return t.$$watchDelegate&&t.$$watchDelegate!==a?r.$$watchDelegate=t.$$watchDelegate:e.$stateful||(r.$$watchDelegate=a,r.inputs=t.inputs?t.inputs:[t]),r}var d={csp:r.csp,expensiveChecks:!1},f={csp:r.csp,expensiveChecks:!0};return function(n,r,o){var s,p,m;switch(typeof n){case"string":n=n.trim(),m=n;var v=o?e:t;if(s=v[m],!s){":"===n.charAt(0)&&":"===n.charAt(1)&&(p=!0,n=n.substring(2));var y=o?f:d,b=new Xr(y),w=new Jr(b,i,y);s=w.parse(n),s.constant?s.$$watchDelegate=c:p?s.$$watchDelegate=s.literal?u:l:s.inputs&&(s.$$watchDelegate=a),v[m]=s}return h(s,r);case"function":return h(n,r);default:return g}}}]}function dn(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return pn(function(e){t.$evalAsync(e)},e)}]}function fn(){this.$get=["$browser","$exceptionHandler",function(t,e){return pn(function(e){t.defer(e)},e)}]}function pn(t,e){function r(t,e,n){function i(e){return function(n){r||(r=!0,e.call(t,n))}}var r=!1;return[i(e),i(n)]}function s(){this.$$state={status:0}}function a(t,e){return function(n){e.call(t,n)}}function l(t){var i,r,o;o=t.pending,t.processScheduled=!1,t.pending=n;for(var s=0,a=o.length;a>s;++s){r=o[s][0],i=o[s][t.status];try{E(i)?r.resolve(i(t.value)):1===t.status?r.resolve(t.value):r.reject(t.value)}catch(l){r.reject(l),e(l)}}}function u(e){!e.processScheduled&&e.pending&&(e.processScheduled=!0,t(function(){l(e)}))}function c(){this.promise=new s,this.resolve=a(this,this.resolve),this.reject=a(this,this.reject),this.notify=a(this,this.notify)}function h(t){var e=new c,n=0,i=Ri(t)?[]:{};return o(t,function(t,r){n++,v(t).then(function(t){i.hasOwnProperty(r)||(i[r]=t,--n||e.resolve(i))},function(t){i.hasOwnProperty(r)||e.reject(t)})}),0===n&&e.resolve(i),e.promise}var d=i("$q",TypeError),f=function(){return new c};s.prototype={then:function(t,e,n){var i=new c;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,t,e,n]),this.$$state.status>0&&u(this.$$state),i.promise},"catch":function(t){return this.then(null,t)},"finally":function(t,e){return this.then(function(e){return m(e,!0,t)},function(e){return m(e,!1,t)},e)}},c.prototype={resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(d("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):this.$$resolve(t))},$$resolve:function(t){var n,i;i=r(this,this.$$resolve,this.$$reject);try{(x(t)||E(t))&&(n=t&&t.then),E(n)?(this.promise.$$state.status=-1,n.call(t,i[0],i[1],this.notify)):(this.promise.$$state.value=t,this.promise.$$state.status=1,u(this.promise.$$state))}catch(o){i[1](o),e(o)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,u(this.promise.$$state)},notify:function(n){var i=this.promise.$$state.pending;this.promise.$$state.status<=0&&i&&i.length&&t(function(){for(var t,r,o=0,s=i.length;s>o;o++){r=i[o][0],t=i[o][3];try{r.notify(E(t)?t(n):n)}catch(a){e(a)}}})}};var p=function(t){var e=new c;return e.reject(t),e.promise},g=function(t,e){var n=new c;return e?n.resolve(t):n.reject(t),n.promise},m=function(t,e,n){var i=null;try{E(n)&&(i=n())}catch(r){return g(r,!1)}return O(i)?i.then(function(){return g(t,e)},function(t){return g(t,!1)}):g(t,e)},v=function(t,e,n,i){var r=new c;return r.resolve(t),r.promise.then(e,n,i)},y=v,b=function w(t){function e(t){i.resolve(t)}function n(t){i.reject(t)}if(!E(t))throw d("norslvr","Expected resolverFn, got '{0}'",t);if(!(this instanceof w))return new w(t);var i=new c;return t(e,n),i.promise};return b.defer=f,b.reject=p,b.when=v,b.resolve=y,b.all=h,b}function gn(){this.$get=["$window","$timeout",function(t,e){function n(){for(var t=0;t<c.length;t++){var e=c[t];e&&(c[t]=null,e())}u=c.length=0}function i(t){var e=c.length;return u++,c.push(t),0===e&&(l=a(n)),function(){e>=0&&(c[e]=null,e=null,0===--u&&l&&(l(),l=null,c.length=0))}}var r=t.requestAnimationFrame||t.webkitRequestAnimationFrame,o=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,s=!!r,a=s?function(t){var e=r(t);return function(){o(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};i.supported=s;var l,u=0,c=[];return i}]}function mn(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=l(),this.$$ChildScope=null}return e.prototype=t,e}var e=10,n=i("$rootScope"),s=null,a=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(i,u,c,h){function d(t){t.currentScope.$$destroyed=!0}function f(){this.$id=l(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function p(t){if(C.$$phase)throw n("inprog","{0} already in progress",C.$$phase);C.$$phase=t}function m(){C.$$phase=null}function v(t,e){do t.$$watchersCount+=e;while(t=t.$parent)}function y(t,e,n){do t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n];while(t=t.$parent)}function w(){}function _(){for(;k.length;)try{k.shift()()}catch(t){u(t)}a=null}function $(){null===a&&(a=h.defer(function(){C.$apply(_)}))}f.prototype={constructor:f,$new:function(e,n){var i;return n=n||this,e?(i=new f,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=t(this)),i=new this.$$ChildScope),i.$parent=n,i.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=i,n.$$childTail=i):n.$$childHead=n.$$childTail=i,(e||n!=this)&&i.$on("$destroy",d),i},$watch:function(t,e,n,i){var r=c(t);if(r.$$watchDelegate)return r.$$watchDelegate(this,e,n,r,t);var o=this,a=o.$$watchers,l={fn:e,last:w,get:r,exp:i||t,eq:!!n};return s=null,E(e)||(l.fn=g),a||(a=o.$$watchers=[]),a.unshift(l),v(this,1),function(){j(a,l)>=0&&v(o,-1),s=null}},$watchGroup:function(t,e){function n(){l=!1,u?(u=!1,e(r,r,a)):e(r,i,a)}var i=new Array(t.length),r=new Array(t.length),s=[],a=this,l=!1,u=!0;if(!t.length){var c=!0;return a.$evalAsync(function(){c&&e(r,r,a)}),function(){c=!1}}return 1===t.length?this.$watch(t[0],function(t,n,o){r[0]=t,i[0]=n,e(r,t===n?r:i,o)}):(o(t,function(t,e){var o=a.$watch(t,function(t,o){r[e]=t,i[e]=o,l||(l=!0,a.$evalAsync(n))});s.push(o)}),function(){for(;s.length;)s.shift()()})},$watchCollection:function(t,e){function n(t){o=t;var e,n,i,a,l;if(!b(o)){if(x(o))if(r(o)){s!==f&&(s=f,m=s.length=0,h++),e=o.length,m!==e&&(h++,s.length=m=e);for(var u=0;e>u;u++)l=s[u],a=o[u],i=l!==l&&a!==a,i||l===a||(h++,s[u]=a)}else{s!==p&&(s=p={},m=0,h++),e=0;for(n in o)o.hasOwnProperty(n)&&(e++,a=o[n],l=s[n],n in s?(i=l!==l&&a!==a,i||l===a||(h++,s[n]=a)):(m++,s[n]=a,h++));if(m>e){h++;for(n in s)o.hasOwnProperty(n)||(m--,delete s[n])}}else s!==o&&(s=o,h++);return h}}function i(){if(g?(g=!1,e(o,o,l)):e(o,a,l),u)if(x(o))if(r(o)){a=new Array(o.length);for(var t=0;t<o.length;t++)a[t]=o[t]}else{a={};for(var n in o)xi.call(o,n)&&(a[n]=o[n])}else a=o}n.$stateful=!0;var o,s,a,l=this,u=e.length>1,h=0,d=c(t,n),f=[],p={},g=!0,m=0;return this.$watch(d,i)},$digest:function(){var t,i,r,o,l,c,d,f,g,v,y=e,b=this,x=[];p("$digest"),h.$$checkUrlChange(),this===C&&null!==a&&(h.defer.cancel(a),_()),s=null;do{for(c=!1,f=b;A.length;){try{v=A.shift(),v.scope.$eval(v.expression,v.locals)}catch($){u($)}s=null}t:do{if(o=f.$$watchers)for(l=o.length;l--;)try{if(t=o[l])if((i=t.get(f))===(r=t.last)||(t.eq?U(i,r):"number"==typeof i&&"number"==typeof r&&isNaN(i)&&isNaN(r))){if(t===s){c=!1;break t}}else c=!0,s=t,t.last=t.eq?N(i,null):i,t.fn(i,r===w?i:r,f),5>y&&(g=4-y,x[g]||(x[g]=[]),x[g].push({msg:E(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:i,oldVal:r}))}catch($){u($)}if(!(d=f.$$watchersCount&&f.$$childHead||f!==b&&f.$$nextSibling))for(;f!==b&&!(d=f.$$nextSibling);)f=f.$parent}while(f=d);if((c||A.length)&&!y--)throw m(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,x)}while(c||A.length);for(m();S.length;)try{S.shift()()}catch($){u($)}},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===C&&h.$$applicationDestroyed(),v(this,-this.$$watchersCount);for(var e in this.$$listenerCount)y(this,this.$$listenerCount[e],e);t&&t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=g,this.$on=this.$watch=this.$watchGroup=function(){return g},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}},$eval:function(t,e){return c(t)(this,e)},$evalAsync:function(t,e){C.$$phase||A.length||h.defer(function(){A.length&&C.$digest()}),A.push({scope:this,expression:t,locals:e})},$$postDigest:function(t){S.push(t)},$apply:function(t){try{return p("$apply"),this.$eval(t)}catch(e){u(e)}finally{m();try{C.$digest()}catch(e){throw u(e),e}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&k.push(e),$()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var i=this;do i.$$listenerCount[t]||(i.$$listenerCount[t]=0),i.$$listenerCount[t]++;while(i=i.$parent);var r=this;return function(){var i=n.indexOf(e);-1!==i&&(n[i]=null,y(r,1,t))}},$emit:function(t,e){var n,i,r,o=[],s=this,a=!1,l={name:t,targetScope:s,stopPropagation:function(){a=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},c=V([l],arguments,1);do{for(n=s.$$listeners[t]||o,l.currentScope=s,i=0,r=n.length;r>i;i++)if(n[i])try{n[i].apply(null,c)}catch(h){u(h)}else n.splice(i,1),i--,r--;if(a)return l.currentScope=null,l;s=s.$parent}while(s);return l.currentScope=null,l},$broadcast:function(t,e){var n=this,i=n,r=n,o={name:t,targetScope:n,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[t])return o;for(var s,a,l,c=V([o],arguments,1);i=r;){for(o.currentScope=i,s=i.$$listeners[t]||[],a=0,l=s.length;l>a;a++)if(s[a])try{s[a].apply(null,c)}catch(h){u(h)}else s.splice(a,1),a--,l--;if(!(r=i.$$listenerCount[t]&&i.$$childHead||i!==n&&i.$$nextSibling))for(;i!==n&&!(r=i.$$nextSibling);)i=i.$parent}return o.currentScope=null,o}};var C=new f,A=C.$$asyncQueue=[],S=C.$$postDigestQueue=[],k=C.$$applyAsyncQueue=[];return C}]}function vn(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return w(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return w(t)?(e=t,this):e},this.$get=function(){return function(n,i){var r,o=i?e:t;return r=En(n).href,""===r||r.match(o)?n:"unsafe:"+r}}}function yn(t){if("self"===t)return t;if($(t)){if(t.indexOf("***")>-1)throw Qr("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=zi(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(S(t))return new RegExp("^"+t.source+"$");throw Qr("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function bn(t){var e=[];return w(t)&&o(t,function(t){e.push(yn(t))}),e}function wn(){this.SCE_CONTEXTS=to;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=bn(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=bn(t)),e},this.$get=["$injector",function(i){function r(t,e){return"self"===t?Sn(e):!!t.exec(e.href)}function o(n){var i,o,s=En(n.toString()),a=!1;for(i=0,o=t.length;o>i;i++)if(r(t[i],s)){a=!0;break}if(a)for(i=0,o=e.length;o>i;i++)if(r(e[i],s)){a=!1;break}return a}function s(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}function a(t,e){var i=d.hasOwnProperty(t)?d[t]:null;if(!i)throw Qr("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||e===n||""===e)return e;if("string"!=typeof e)throw Qr("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new i(e)}function l(t){return t instanceof h?t.$$unwrapTrustedValue():t}function u(t,e){if(null===e||e===n||""===e)return e;var i=d.hasOwnProperty(t)?d[t]:null;if(i&&e instanceof i)return e.$$unwrapTrustedValue();if(t===to.RESOURCE_URL){if(o(e))return e;throw Qr("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===to.HTML)return c(e);throw Qr("unsafe","Attempting to use an unsafe value in a safe context.")}var c=function(t){throw Qr("unsafe","Attempting to use an unsafe value in a safe context.")};i.has("$sanitize")&&(c=i.get("$sanitize"));var h=s(),d={};return d[to.HTML]=s(h),d[to.CSS]=s(h),d[to.URL]=s(h),d[to.JS]=s(h),d[to.RESOURCE_URL]=s(d[to.URL]),{trustAs:a,getTrusted:u,valueOf:l}}]}function xn(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&8>Ai)throw Qr("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=z(to);i.isEnabled=function(){return t},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,t||(i.trustAs=i.getTrusted=function(t,e){return e},i.valueOf=m),i.parseAs=function(t,n){var r=e(n);return r.literal&&r.constant?r:e(n,function(e){return i.getTrusted(t,e)})};var r=i.parseAs,s=i.getTrusted,a=i.trustAs;return o(to,function(t,e){var n=wi(e);i[_t("parse_as_"+n)]=function(e){return r(t,e)},i[_t("get_trusted_"+n)]=function(e){return s(t,e)},i[_t("trust_as_"+n)]=function(e){return a(t,e)}}),i}]}function _n(){this.$get=["$window","$document",function(t,e){var n,i,r={},o=f((/android (\d+)/.exec(wi((t.navigator||{}).userAgent))||[])[1]),s=/Boxee/i.test((t.navigator||{}).userAgent),a=e[0]||{},l=/^(Moz|webkit|ms)(?=[A-Z])/,u=a.body&&a.body.style,c=!1,h=!1;if(u){for(var d in u)if(i=l.exec(d)){n=i[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in u&&"webkit"),c=!!("transition"in u||n+"Transition"in u),h=!!("animation"in u||n+"Animation"in u),!o||c&&h||(c=$(u.webkitTransition),h=$(u.webkitAnimation))}return{history:!(!t.history||!t.history.pushState||4>o||s),hasEvent:function(t){if("input"===t&&11>=Ai)return!1;if(b(r[t])){var e=a.createElement("div");r[t]="on"+t in e}return r[t]},csp:Ui(),vendorPrefix:n,transitions:c,animations:h,android:o}}]}function $n(){this.$get=["$templateCache","$http","$q","$sce",function(t,e,n,i){function r(o,s){function a(t){if(!s)throw Dr("tpload","Failed to load template: {0} (HTTP status: {1} {2})",o,t.status,t.statusText);return n.reject(t)}r.totalPendingRequests++,$(o)&&t.get(o)||(o=i.getTrustedResourceUrl(o));var l=e.defaults&&e.defaults.transformResponse;Ri(l)?l=l.filter(function(t){return t!==be}):l===be&&(l=null);var u={cache:t,transformResponse:l};return e.get(o,u)["finally"](function(){r.totalPendingRequests--}).then(function(e){return t.put(o,e.data),e.data},a)}return r.totalPendingRequests=0,r}]}function Cn(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var i={};return i.findBindings=function(t,e,n){var i=t.getElementsByClassName("ng-binding"),r=[];return o(i,function(t){var i=Pi.element(t).data("$binding");i&&o(i,function(i){if(n){var o=new RegExp("(^|\\s)"+zi(e)+"(\\s|\\||$)");o.test(i)&&r.push(t)}else-1!=i.indexOf(e)&&r.push(t)})}),r},i.findModels=function(t,e,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o=n?"=":"*=",s="["+i[r]+"model"+o+'"'+e+'"]',a=t.querySelectorAll(s);if(a.length)return a}},i.getLocation=function(){return n.url()},i.setLocation=function(e){e!==n.url()&&(n.url(e),t.$digest())},i.whenStable=function(t){e.notifyWhenNoOutstandingRequests(t)},i}]}function An(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,i,r){function o(o,a,l){E(o)||(l=a,a=o,o=g);var u,c=H(arguments,3),h=w(l)&&!l,d=(h?i:n).defer(),f=d.promise;return u=e.defer(function(){try{d.resolve(o.apply(null,c))}catch(e){d.reject(e),r(e)}finally{delete s[f.$$timeoutId]}h||t.$apply()},a),f.$$timeoutId=u,s[u]=d,f}var s={};return o.cancel=function(t){return t&&t.$$timeoutId in s?(s[t.$$timeoutId].reject("canceled"),delete s[t.$$timeoutId],e.defer.cancel(t.$$timeoutId)):!1},o}]}function En(t){var e=t;return Ai&&(eo.setAttribute("href",e),e=eo.href),eo.setAttribute("href",e),{href:eo.href,protocol:eo.protocol?eo.protocol.replace(/:$/,""):"",host:eo.host,search:eo.search?eo.search.replace(/^\?/,""):"",hash:eo.hash?eo.hash.replace(/^#/,""):"",hostname:eo.hostname,port:eo.port,pathname:"/"===eo.pathname.charAt(0)?eo.pathname:"/"+eo.pathname}}function Sn(t){var e=$(t)?En(t):t;return e.protocol===no.protocol&&e.host===no.host}function kn(){this.$get=v(t)}function Dn(t){function e(t){try{return decodeURIComponent(t)}catch(e){return t}}var i=t[0]||{},r={},o="";return function(){var t,s,a,l,u,c=i.cookie||"";if(c!==o)for(o=c,t=o.split("; "),r={},a=0;a<t.length;a++)s=t[a],l=s.indexOf("="),l>0&&(u=e(s.substring(0,l)),r[u]===n&&(r[u]=e(s.substring(l+1))));return r}}function Tn(){this.$get=Dn}function Fn(t){function e(i,r){if(x(i)){var s={};return o(i,function(t,n){s[n]=e(n,t)}),s}return t.factory(i+n,r)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",Bn),e("date",Xn),e("filter",Mn),e("json",Gn),e("limitTo",Jn),e("lowercase",ao),e("number",In),e("orderBy",Zn),e("uppercase",lo)}function Mn(){return function(t,e,n){if(!r(t)){if(null==t)return t;throw i("filter")("notarray","Expected array but received: {0}",t)}var o,s,a=Pn(e);switch(a){case"function":o=e;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":o=Ln(e,n,s);break;default:return t}return Array.prototype.filter.call(t,o)}}function Ln(t,e,n){var i,r=x(t)&&"$"in t;return e===!0?e=U:E(e)||(e=function(t,e){return b(t)?!1:null===t||null===e?t===e:x(e)||x(t)&&!y(t)?!1:(t=wi(""+t),e=wi(""+e),-1!==t.indexOf(e))}),i=function(i){return r&&!x(i)?On(i,t.$,e,!1):On(i,t,e,n)}}function On(t,e,n,i,r){var o=Pn(t),s=Pn(e);if("string"===s&&"!"===e.charAt(0))return!On(t,e.substring(1),n,i);if(Ri(t))return t.some(function(t){return On(t,e,n,i)});switch(o){case"object":var a;if(i){for(a in t)if("$"!==a.charAt(0)&&On(t[a],e,n,!0))return!0;return r?!1:On(t,e,n,!1)}if("object"===s){for(a in e){var l=e[a];if(!E(l)&&!b(l)){var u="$"===a,c=u?t:t[a];if(!On(c,l,n,u,u))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function Pn(t){return null===t?"null":typeof t}function Bn(t){var e=t.NUMBER_FORMATS;return function(t,n,i){return b(n)&&(n=e.CURRENCY_SYM),b(i)&&(i=e.PATTERNS[1].maxFrac),null==t?t:Rn(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function In(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:Rn(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function Rn(t,e,n,i,r){if(x(t))return"";var o=0>t;t=Math.abs(t);var s=t===1/0;if(!s&&!isFinite(t))return"";var a=t+"",l="",u=!1,c=[];if(s&&(l=""),!s&&-1!==a.indexOf("e")){var h=a.match(/([\d\.]+)e(-?)(\d+)/);h&&"-"==h[2]&&h[3]>r+1?t=0:(l=a,u=!0)}if(s||u)r>0&&1>t&&(l=t.toFixed(r),t=parseFloat(l));else{var d=(a.split(io)[1]||"").length;b(r)&&(r=Math.min(Math.max(e.minFrac,d),e.maxFrac)),t=+(Math.round(+(t.toString()+"e"+r)).toString()+"e"+-r);var f=(""+t).split(io),p=f[0];f=f[1]||"";var g,m=0,v=e.lgSize,y=e.gSize;if(p.length>=v+y)for(m=p.length-v,g=0;m>g;g++)(m-g)%y===0&&0!==g&&(l+=n),l+=p.charAt(g);for(g=m;g<p.length;g++)(p.length-g)%v===0&&0!==g&&(l+=n),l+=p.charAt(g);for(;f.length<r;)f+="0";r&&"0"!==r&&(l+=i+f.substr(0,r))}return 0===t&&(o=!1),c.push(o?e.negPre:e.posPre,l,o?e.negSuf:e.posSuf),c.join("")}function jn(t,e,n){var i="";for(0>t&&(i="-",t=-t),t=""+t;t.length<e;)t="0"+t;return n&&(t=t.substr(t.length-e)),i+t}function Nn(t,e,n,i){return n=n||0,function(r){var o=r["get"+t]();return(n>0||o>-n)&&(o+=n),0===o&&-12==n&&(o=12),jn(o,e,i)}}function zn(t,e){return function(n,i){var r=n["get"+t](),o=_i(e?"SHORT"+t:t);return i[o][r]}}function Un(t,e,n){var i=-1*n,r=i>=0?"+":"";return r+=jn(Math[i>0?"floor":"ceil"](i/60),2)+jn(Math.abs(i%60),2)}function Vn(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(4>=e?5:12)-e)}function Hn(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function Wn(t){return function(e){var n=Vn(e.getFullYear()),i=Hn(e),r=+i-+n,o=1+Math.round(r/6048e5);return jn(o,t)}}function Yn(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function qn(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}function Kn(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}function Xn(t){function e(t){var e;if(e=t.match(n)){var i=new Date(0),r=0,o=0,s=e[8]?i.setUTCFullYear:i.setFullYear,a=e[8]?i.setUTCHours:i.setHours;e[9]&&(r=f(e[9]+e[10]),o=f(e[9]+e[11])),s.call(i,f(e[1]),f(e[2])-1,f(e[3]));var l=f(e[4]||0)-r,u=f(e[5]||0)-o,c=f(e[6]||0),h=Math.round(1e3*parseFloat("0."+(e[7]||0)));return a.call(i,l,u,c,h),i}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,r){var s,a,l="",u=[];if(i=i||"mediumDate",i=t.DATETIME_FORMATS[i]||i,$(n)&&(n=so.test(n)?f(n):e(n)),C(n)&&(n=new Date(n)),!A(n)||!isFinite(n.getTime()))return n;for(;i;)a=oo.exec(i),a?(u=V(u,a,1),i=u.pop()):(u.push(i),i=null);var c=n.getTimezoneOffset();return r&&(c=X(r,n.getTimezoneOffset()),n=J(n,r,!0)),o(u,function(e){s=ro[e],l+=s?s(n,t.DATETIME_FORMATS,c):e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function Gn(){return function(t,e){return b(e)&&(e=2),q(t,e)}}function Jn(){return function(t,e,n){return e=Math.abs(Number(e))===1/0?Number(e):f(e),isNaN(e)?t:(C(t)&&(t=t.toString()),Ri(t)||$(t)?(n=!n||isNaN(n)?0:f(n),n=0>n&&n>=-t.length?t.length+n:n,e>=0?t.slice(n,n+e):0===n?t.slice(e,t.length):t.slice(Math.max(0,n+e),n)):t)}}function Zn(t){function e(e,n){return n=n?-1:1,e.map(function(e){var i=1,r=m;if(E(e))r=e;else if($(e)&&(("+"==e.charAt(0)||"-"==e.charAt(0))&&(i="-"==e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(r=t(e),r.constant))){var o=r();r=function(t){return t[o]}}return{get:r,descending:i*n}})}function n(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function i(t,e){return"function"==typeof t.valueOf&&(t=t.valueOf(),n(t))?t:y(t)&&(t=t.toString(),n(t))?t:e}function o(t,e){var n=typeof t;return null===t?(n="string",t="null"):"string"===n?t=t.toLowerCase():"object"===n&&(t=i(t,e)),{value:t,type:n}}function s(t,e){var n=0;return t.type===e.type?t.value!==e.value&&(n=t.value<e.value?-1:1):n=t.type<e.type?-1:1,n}return function(t,n,i){function a(t,e){return{value:t,predicateValues:u.map(function(n){return o(n.get(t),e)})}}function l(t,e){for(var n=0,i=0,r=u.length;r>i&&!(n=s(t.predicateValues[i],e.predicateValues[i])*u[i].descending);++i);return n}if(!r(t))return t;Ri(n)||(n=[n]),0===n.length&&(n=["+"]);var u=e(n,i),c=Array.prototype.map.call(t,a);return c.sort(l),t=c.map(function(t){return t.value})}}function Qn(t){return E(t)&&(t={link:t}),t.restrict=t.restrict||"AC",v(t)}function ti(t,e){t.$name=e}function ei(t,e,i,r,s){var a=this,l=[],u=a.$$parentForm=t.parent().controller("form")||ho;a.$error={},a.$$success={},a.$pending=n,a.$name=s(e.name||e.ngForm||"")(i),a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,a.$submitted=!1,u.$addControl(a),a.$rollbackViewValue=function(){o(l,function(t){t.$rollbackViewValue()})},a.$commitViewValue=function(){o(l,function(t){t.$commitViewValue()})},a.$addControl=function(t){ft(t.$name,"input"),l.push(t),t.$name&&(a[t.$name]=t)},a.$$renameControl=function(t,e){var n=t.$name;a[n]===t&&delete a[n],a[e]=t,t.$name=e},a.$removeControl=function(t){t.$name&&a[t.$name]===t&&delete a[t.$name],o(a.$pending,function(e,n){a.$setValidity(n,null,t)}),o(a.$error,function(e,n){a.$setValidity(n,null,t)}),o(a.$$success,function(e,n){a.$setValidity(n,null,t)}),j(l,t)},mi({ctrl:this,$element:t,set:function(t,e,n){var i=t[e];if(i){var r=i.indexOf(n);-1===r&&i.push(n)}else t[e]=[n]},unset:function(t,e,n){var i=t[e];i&&(j(i,n),0===i.length&&delete t[e])},parentForm:u,$animate:r}),a.$setDirty=function(){r.removeClass(t,Ko),r.addClass(t,Xo),a.$dirty=!0,a.$pristine=!1,u.$setDirty()},a.$setPristine=function(){r.setClass(t,Ko,Xo+" "+fo),a.$dirty=!1,a.$pristine=!0,a.$submitted=!1,o(l,function(t){t.$setPristine()})},a.$setUntouched=function(){o(l,function(t){t.$setUntouched()})},a.$setSubmitted=function(){r.addClass(t,fo),a.$submitted=!0,u.$setSubmitted()}}function ni(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function ii(t,e,n,i,r,o){ri(t,e,n,i,r,o),ni(i)}function ri(t,e,n,i,r,o){var s=wi(e[0].type);if(!r.android){var a=!1;e.on("compositionstart",function(t){a=!0}),e.on("compositionend",function(){a=!1,l()})}var l=function(t){if(u&&(o.defer.cancel(u),u=null),!a){var r=e.val(),l=t&&t.type;"password"===s||n.ngTrim&&"false"===n.ngTrim||(r=Ni(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,l)}};if(r.hasEvent("input"))e.on("input",l);else{var u,c=function(t,e,n){u||(u=o.defer(function(){u=null,e&&e.value===n||l(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||e>15&&19>e||e>=37&&40>=e||c(t,this,this.value)}),r.hasEvent("paste")&&e.on("paste cut",c)}e.on("change",l),i.$render=function(){e.val(i.$isEmpty(i.$viewValue)?"":i.$viewValue)}}function oi(t,e){if(A(t))return t;if($(t)){$o.lastIndex=0;var n=$o.exec(t);if(n){var i=+n[1],r=+n[2],o=0,s=0,a=0,l=0,u=Vn(i),c=7*(r-1);return e&&(o=e.getHours(),s=e.getMinutes(),a=e.getSeconds(),l=e.getMilliseconds()),new Date(i,0,u.getDate()+c,o,s,a,l)}}return NaN}function si(t,e){return function(n,i){var r,s;if(A(n))return n;if($(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),vo.test(n))return new Date(n);if(t.lastIndex=0,r=t.exec(n))return r.shift(),s=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(r,function(t,n){n<e.length&&(s[e[n]]=+t)}),new Date(s.yyyy,s.MM-1,s.dd,s.HH,s.mm,s.ss||0,1e3*s.sss||0)}return NaN}}function ai(t,e,i,r){return function(o,s,a,l,u,c,h){function d(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function f(t){return w(t)?A(t)?t:i(t):n}li(o,s,a,l),ri(o,s,a,l,u,c);var p,g=l&&l.$options&&l.$options.timezone;if(l.$$parserName=t,l.$parsers.push(function(t){if(l.$isEmpty(t))return null;if(e.test(t)){var r=i(t,p);return g&&(r=J(r,g)),r}return n}),l.$formatters.push(function(t){if(t&&!A(t))throw Qo("datefmt","Expected `{0}` to be a date",t);return d(t)?(p=t,p&&g&&(p=J(p,g,!0)),h("date")(t,r,g)):(p=null,"")}),w(a.min)||a.ngMin){var m;l.$validators.min=function(t){return!d(t)||b(m)||i(t)>=m},a.$observe("min",function(t){m=f(t),l.$validate()})}if(w(a.max)||a.ngMax){var v;l.$validators.max=function(t){return!d(t)||b(v)||i(t)<=v},a.$observe("max",function(t){v=f(t),l.$validate()})}}}function li(t,e,i,r){var o=e[0],s=r.$$hasNativeValidators=x(o.validity);s&&r.$parsers.push(function(t){var i=e.prop(bi)||{};return i.badInput&&!i.typeMismatch?n:t})}function ui(t,e,i,r,o,s){if(li(t,e,i,r),ri(t,e,i,r,o,s),r.$$parserName="number",r.$parsers.push(function(t){return r.$isEmpty(t)?null:wo.test(t)?parseFloat(t):n}),r.$formatters.push(function(t){if(!r.$isEmpty(t)){if(!C(t))throw Qo("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t}),w(i.min)||i.ngMin){var a;r.$validators.min=function(t){return r.$isEmpty(t)||b(a)||t>=a},i.$observe("min",function(t){w(t)&&!C(t)&&(t=parseFloat(t,10)),a=C(t)&&!isNaN(t)?t:n,r.$validate()})}if(w(i.max)||i.ngMax){var l;r.$validators.max=function(t){return r.$isEmpty(t)||b(l)||l>=t},i.$observe("max",function(t){w(t)&&!C(t)&&(t=parseFloat(t,10)),l=C(t)&&!isNaN(t)?t:n,r.$validate()})}}function ci(t,e,n,i,r,o){ri(t,e,n,i,r,o),ni(i),i.$$parserName="url",i.$validators.url=function(t,e){var n=t||e;return i.$isEmpty(n)||yo.test(n)}}function hi(t,e,n,i,r,o){ri(t,e,n,i,r,o),ni(i),i.$$parserName="email",i.$validators.email=function(t,e){var n=t||e;return i.$isEmpty(n)||bo.test(n)}}function di(t,e,n,i){b(n.name)&&e.attr("name",l());var r=function(t){e[0].checked&&i.$setViewValue(n.value,t&&t.type)};e.on("click",r),i.$render=function(){var t=n.value;e[0].checked=t==i.$viewValue},n.$observe("value",i.$render)}function fi(t,e,n,r,o){var s;if(w(r)){if(s=t(r),!s.constant)throw i("ngModel")("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return s(e)}return o}function pi(t,e,n,i,r,o,s,a){var l=fi(a,t,"ngTrueValue",n.ngTrueValue,!0),u=fi(a,t,"ngFalseValue",n.ngFalseValue,!1),c=function(t){i.$setViewValue(e[0].checked,t&&t.type)};e.on("click",c),i.$render=function(){e[0].checked=i.$viewValue},i.$isEmpty=function(t){return t===!1},i.$formatters.push(function(t){return U(t,l)}),i.$parsers.push(function(t){return t?l:u})}function gi(t,e){return t="ngClass"+t,["$animate",function(n){function i(t,e){var n=[];t:for(var i=0;i<t.length;i++){for(var r=t[i],o=0;o<e.length;o++)if(r==e[o])continue t;n.push(r)}return n}function r(t){var e=[];return Ri(t)?(o(t,function(t){e=e.concat(r(t))}),e):$(t)?t.split(" "):x(t)?(o(t,function(t,n){t&&(e=e.concat(n.split(" ")))}),e):t}return{restrict:"AC",link:function(s,a,l){function u(t){var e=h(t,1);l.$addClass(e)}function c(t){var e=h(t,-1);l.$removeClass(e)}function h(t,e){var n=a.data("$classCounts")||mt(),i=[];return o(t,function(t){(e>0||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(e>0)&&i.push(t))}),a.data("$classCounts",n),i.join(" ")}function d(t,e){var r=i(e,t),o=i(t,e);r=h(r,1),o=h(o,-1),r&&r.length&&n.addClass(a,r),o&&o.length&&n.removeClass(a,o)}function f(t){if(e===!0||s.$index%2===e){var n=r(t||[]);if(p){if(!U(t,p)){var i=r(p);d(i,n)}}else u(n)}p=z(t)}var p;s.$watch(l[t],f,!0),l.$observe("class",function(e){f(s.$eval(l[t]))}),"ngClass"!==t&&s.$watch("$index",function(n,i){var o=1&n;if(o!==(1&i)){var a=r(s.$eval(l[t]));o===e?u(a):c(a)}})}}}]}function mi(t){function e(t,e,l){e===n?i("$pending",t,l):r("$pending",t,l),L(e)?e?(h(a.$error,t,l),c(a.$$success,t,l)):(c(a.$error,t,l),h(a.$$success,t,l)):(h(a.$error,t,l),h(a.$$success,t,l)),a.$pending?(o(Zo,!0),a.$valid=a.$invalid=n,s("",null)):(o(Zo,!1),a.$valid=vi(a.$error),a.$invalid=!a.$valid,s("",a.$valid));var u;u=a.$pending&&a.$pending[t]?n:a.$error[t]?!1:a.$$success[t]?!0:null,s(t,u),d.$setValidity(t,u,a)}function i(t,e,n){a[t]||(a[t]={}),c(a[t],e,n)}function r(t,e,i){a[t]&&h(a[t],e,i),vi(a[t])&&(a[t]=n)}function o(t,e){e&&!u[t]?(f.addClass(l,t),u[t]=!0):!e&&u[t]&&(f.removeClass(l,t),u[t]=!1)}function s(t,e){t=t?"-"+ut(t,"-"):"",o(Yo+t,e===!0),o(qo+t,e===!1)}var a=t.ctrl,l=t.$element,u={},c=t.set,h=t.unset,d=t.parentForm,f=t.$animate;u[qo]=!(u[Yo]=l.hasClass(Yo)),a.$setValidity=e}function vi(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}var yi=/^\/(.+)\/([a-z]*)$/,bi="validity",wi=function(t){return $(t)?t.toLowerCase():t},xi=Object.prototype.hasOwnProperty,_i=function(t){return $(t)?t.toUpperCase():t},$i=function(t){return $(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},Ci=function(t){return $(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(-33&t.charCodeAt(0))}):t};"i"!=="I".toLowerCase()&&(wi=$i,_i=Ci);var Ai,Ei,Si,ki,Di=[].slice,Ti=[].splice,Fi=[].push,Mi=Object.prototype.toString,Li=Object.getPrototypeOf,Oi=i("ng"),Pi=t.angular||(t.angular={}),Bi=0;
Ai=e.documentMode,g.$inject=[],m.$inject=[];var Ii,Ri=Array.isArray,ji=/^\[object (Uint8(Clamped)?)|(Uint16)|(Uint32)|(Int8)|(Int16)|(Int32)|(Float(32)|(64))Array\]$/,Ni=function(t){return $(t)?t.trim():t},zi=function(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Ui=function(){if(w(Ui.isActive_))return Ui.isActive_;var t=!(!e.querySelector("[ng-csp]")&&!e.querySelector("[data-ng-csp]"));if(!t)try{new Function("")}catch(n){t=!0}return Ui.isActive_=t},Vi=function(){if(w(Vi.name_))return Vi.name_;var t,n,i,r,o=Hi.length;for(n=0;o>n;++n)if(i=Hi[n],t=e.querySelector("["+i.replace(":","\\:")+"jq]")){r=t.getAttribute(i+"jq");break}return Vi.name_=r},Hi=["ng-","data-ng-","ng:","x-ng-"],Wi=/[A-Z]/g,Yi=!1,qi=1,Ki=2,Xi=3,Gi=8,Ji=9,Zi=11,Qi={full:"1.4.3",major:1,minor:4,dot:3,codeName:"foam-acceleration"};kt.expando="ng339";var tr=kt.cache={},er=1,nr=function(t,e,n){t.addEventListener(e,n,!1)},ir=function(t,e,n){t.removeEventListener(e,n,!1)};kt._data=function(t){return this.cache[t[this.expando]]||{}};var rr=/([\:\-\_]+(.))/g,or=/^moz([A-Z])/,sr={mouseleave:"mouseout",mouseenter:"mouseover"},ar=i("jqLite"),lr=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ur=/<|&#?\w+;/,cr=/<([\w:]+)/,hr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,dr={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};dr.optgroup=dr.option,dr.tbody=dr.tfoot=dr.colgroup=dr.caption=dr.thead,dr.th=dr.td;var fr=kt.prototype={ready:function(n){function i(){r||(r=!0,n())}var r=!1;"complete"===e.readyState?setTimeout(i):(this.on("DOMContentLoaded",i),kt(t).on("load",i))},toString:function(){var t=[];return o(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return Ei(t>=0?this[t]:this[this.length+t])},length:0,push:Fi,sort:[].sort,splice:[].splice},pr={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){pr[wi(t)]=t});var gr={};o("input,select,option,textarea,button,form,details".split(","),function(t){gr[t]=!0});var mr={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:Ot,removeData:Mt,hasData:At},function(t,e){kt[e]=t}),o({data:Ot,inheritedData:Nt,scope:function(t){return Ei.data(t,"$scope")||Nt(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return Ei.data(t,"$isolateScope")||Ei.data(t,"$isolateScopeNoTemplate")},controller:jt,injector:function(t){return Nt(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Pt,css:function(t,e,n){return e=_t(e),w(n)?void(t.style[e]=n):t.style[e]},attr:function(t,e,i){var r=t.nodeType;if(r!==Xi&&r!==Ki&&r!==Gi){var o=wi(e);if(pr[o]){if(!w(i))return t[e]||(t.attributes.getNamedItem(e)||g).specified?o:n;i?(t[e]=!0,t.setAttribute(e,o)):(t[e]=!1,t.removeAttribute(o))}else if(w(i))t.setAttribute(e,i);else if(t.getAttribute){var s=t.getAttribute(e,2);return null===s?n:s}}},prop:function(t,e,n){return w(n)?void(t[e]=n):t[e]},text:function(){function t(t,e){if(b(e)){var n=t.nodeType;return n===qi||n===Xi?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(b(e)){if(t.multiple&&"select"===R(t)){var n=[];return o(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){return b(e)?t.innerHTML:(Tt(t,!0),void(t.innerHTML=e))},empty:zt},function(t,e){kt.prototype[e]=function(e,i){var r,o,s=this.length;if(t!==zt&&(2==t.length&&t!==Pt&&t!==jt?e:i)===n){if(x(e)){for(r=0;s>r;r++)if(t===Ot)t(this[r],e);else for(o in e)t(this[r],o,e[o]);return this}for(var a=t.$dv,l=a===n?Math.min(s,1):s,u=0;l>u;u++){var c=t(this[u],e,i);a=a?a+c:c}return a}for(r=0;s>r;r++)t(this[r],e,i);return this}}),o({removeData:Mt,on:function Ds(t,e,n,i){if(w(i))throw ar("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Ct(t)){var r=Lt(t,!0),o=r.events,s=r.handle;s||(s=r.handle=Yt(t,o));for(var a=e.indexOf(" ")>=0?e.split(" "):[e],l=a.length;l--;){e=a[l];var u=o[e];u||(o[e]=[],"mouseenter"===e||"mouseleave"===e?Ds(t,sr[e],function(t){var n=this,i=t.relatedTarget;(!i||i!==n&&!n.contains(i))&&s(t,e)}):"$destroy"!==e&&nr(t,e,s),u=o[e]),u.push(n)}}},off:Ft,one:function(t,e,n){t=Ei(t),t.on(e,function i(){t.off(e,n),t.off(e,i)}),t.on(e,n)},replaceWith:function(t,e){var n,i=t.parentNode;Tt(t),o(new kt(e),function(e){n?i.insertBefore(e,n.nextSibling):i.replaceChild(e,t),n=e})},children:function(t){var e=[];return o(t.childNodes,function(t){t.nodeType===qi&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===qi||n===Zi){e=new kt(e);for(var i=0,r=e.length;r>i;i++){var o=e[i];t.appendChild(o)}}},prepend:function(t,e){if(t.nodeType===qi){var n=t.firstChild;o(new kt(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){e=Ei(e).eq(0).clone()[0];var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)},remove:Ut,detach:function(t){Ut(t,!0)},after:function(t,e){var n=t,i=t.parentNode;e=new kt(e);for(var r=0,o=e.length;o>r;r++){var s=e[r];i.insertBefore(s,n.nextSibling),n=s}},addClass:It,removeClass:Bt,toggleClass:function(t,e,n){e&&o(e.split(" "),function(e){var i=n;b(i)&&(i=!Pt(t,e)),(i?It:Bt)(t,e)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==Zi?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:Dt,triggerHandler:function(t,e,n){var i,r,s,a=e.type||e,l=Lt(t),u=l&&l.events,c=u&&u[a];c&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:g,type:a,target:t},e.type&&(i=h(i,e)),r=z(c),s=n?[i].concat(n):[i],o(r,function(e){i.isImmediatePropagationStopped()||e.apply(t,s)}))}},function(t,e){kt.prototype[e]=function(e,n,i){for(var r,o=0,s=this.length;s>o;o++)b(r)?(r=t(this[o],e,n,i),w(r)&&(r=Ei(r))):Rt(r,t(this[o],e,n,i));return w(r)?r:this},kt.prototype.bind=kt.prototype.on,kt.prototype.unbind=kt.prototype.off}),Xt.prototype={put:function(t,e){this[Kt(t,this.nextUid)]=e},get:function(t){return this[Kt(t,this.nextUid)]},remove:function(t){var e=this[t=Kt(t,this.nextUid)];return delete this[t],e}};var vr=[function(){this.$get=[function(){return Xt}]}],yr=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,br=/,/,wr=/^\s*(_?)(\S+?)\1\s*$/,xr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,_r=i("$injector");Zt.$$annotate=Jt;var $r=i("$animate"),Cr=1,Ar="ng-animate",Er=function(){this.$get=["$q","$$rAF",function(t,e){function n(){}return n.all=g,n.chain=g,n.prototype={end:g,cancel:g,resume:g,pause:g,complete:g,then:function(n,i){return t(function(t){e(function(){t()})}).then(n,i)}},n}]},Sr=function(){var t=new Xt,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){function r(n,r,s){var a=t.get(n);a||(t.put(n,a={}),e.push(n)),r&&o(r.split(" "),function(t){t&&(a[t]=!0)}),s&&o(s.split(" "),function(t){t&&(a[t]=!1)}),e.length>1||i.$$postDigest(function(){o(e,function(e){var n=t.get(e);if(n){var i=ne(e.attr("class")),r="",s="";o(n,function(t,e){var n=!!i[e];t!==n&&(t?r+=(r.length?" ":"")+e:s+=(s.length?" ":"")+e)}),o(e,function(t){r&&It(t,r),s&&Bt(t,s)}),t.remove(e)}}),e.length=0})}return{enabled:g,on:g,off:g,pin:g,push:function(t,e,i,o){return o&&o(),i=i||{},i.from&&t.css(i.from),i.to&&t.css(i.to),(i.addClass||i.removeClass)&&r(t,i.addClass,i.removeClass),new n}}}]},kr=["$provide",function(t){var e=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw $r("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var r=n+"-animation";e.$$registeredAnimations[n.substr(1)]=r,t.factory(r,i)},this.classNameFilter=function(t){if(1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null,this.$$classNameFilter)){var e=new RegExp("(\\s+|\\/)"+Ar+"(\\s+|\\/)");if(e.test(this.$$classNameFilter.toString()))throw $r("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Ar)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var i=ee(n);!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.end&&t.end()},enter:function(n,i,r,o){return i=i&&Ei(i),r=r&&Ei(r),i=i||r.parent(),e(n,i,r),t.push(n,"enter",ie(o))},move:function(n,i,r,o){return i=i&&Ei(i),r=r&&Ei(r),i=i||r.parent(),e(n,i,r),t.push(n,"move",ie(o))},leave:function(e,n){return t.push(e,"leave",ie(n),function(){e.remove()})},addClass:function(e,n,i){return i=ie(i),i.addClass=te(i.addclass,n),t.push(e,"addClass",i)},removeClass:function(e,n,i){return i=ie(i),i.removeClass=te(i.removeClass,n),t.push(e,"removeClass",i)},setClass:function(e,n,i,r){return r=ie(r),r.addClass=te(r.addClass,n),r.removeClass=te(r.removeClass,i),t.push(e,"setClass",r)},animate:function(e,n,i,r,o){return o=ie(o),o.from=o.from?h(o.from,n):n,o.to=o.to?h(o.to,i):i,r=r||"ng-inline-animate",o.tempClasses=te(o.tempClasses,r),t.push(e,"animate",o)}}}]}],Dr=i("$compile");le.$inject=["$provide","$$sanitizeUriProvider"];var Tr=/^((?:x|data)[\:\-_])/i,Fr=i("$controller"),Mr=/^(\S+)(\s+as\s+(\w+))?$/,Lr="application/json",Or={"Content-Type":Lr+";charset=utf-8"},Pr=/^\[|^\{(?!\{)/,Br={"[":/]$/,"{":/}$/},Ir=/^\)\]\}',?\n/,Rr=Pi.$interpolateMinErr=i("$interpolate");Rr.throwNoconcat=function(t){throw Rr("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},Rr.interr=function(t,e){return Rr("interr","Can't interpolate: {0}\n{1}",t,e.toString())};var jr=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Nr={http:80,https:443,ftp:21},zr=i("$location"),Ur={$$html5:!1,$$replace:!1,absUrl:Ve("$$absUrl"),url:function(t){if(b(t))return this.$$url;var e=jr.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:Ve("$$protocol"),host:Ve("$$host"),port:Ve("$$port"),path:He("$$path",function(t){return t=null!==t?t.toString():"","/"==t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if($(t)||C(t))t=t.toString(),this.$$search=tt(t);else{if(!x(t))throw zr("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");t=N(t,{}),o(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:b(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:He("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};o([Ue,ze,Ne],function(t){t.prototype=Object.create(Ur),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==Ne||!this.$$html5)throw zr("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=b(e)?null:e,this}});var Vr=i("$parse"),Hr=Function.prototype.call,Wr=Function.prototype.apply,Yr=Function.prototype.bind,qr=mt();o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){qr[t]=!0});var Kr={n:"\n",f:"\f",r:"\r",t:"	",v:"\x0B","'":"'",'"':'"'},Xr=function(t){this.options=t};Xr.prototype={constructor:Xr,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(e))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),i=n+this.peek(2),r=qr[e],o=qr[n],s=qr[i];if(r||o||s){var a=s?i:o?n:e;this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(t){return t>="0"&&"9">=t&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"	"===t||"\n"===t||"\x0B"===t||""===t},isIdent:function(t){return t>="a"&&"z">=t||t>="A"&&"Z">=t||"_"===t||"$"===t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var i=w(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw Vr("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,i,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=wi(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))t+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){for(var t=this.index;this.index<this.text.length;){var e=this.text.charAt(this.index);if(!this.isIdent(e)&&!this.isNumber(e))break;this.index++}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",i=t,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(i+=o,r){if("u"===o){var s=this.text.substring(this.index+1,this.index+5);s.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+s+"]"),this.index+=4,n+=String.fromCharCode(parseInt(s,16))}else{var a=Kr[o];n+=a||o}r=!1}else if("\\"===o)r=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var Gr=function(t,e){this.lexer=t,this.options=e};Gr.Program="Program",Gr.ExpressionStatement="ExpressionStatement",Gr.AssignmentExpression="AssignmentExpression",Gr.ConditionalExpression="ConditionalExpression",Gr.LogicalExpression="LogicalExpression",Gr.BinaryExpression="BinaryExpression",Gr.UnaryExpression="UnaryExpression",Gr.CallExpression="CallExpression",Gr.MemberExpression="MemberExpression",Gr.Identifier="Identifier",Gr.Literal="Literal",Gr.ArrayExpression="ArrayExpression",Gr.Property="Property",Gr.ObjectExpression="ObjectExpression",Gr.ThisExpression="ThisExpression",Gr.NGValueParameter="NGValueParameter",Gr.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:Gr.Program,body:t}},expressionStatement:function(){return{type:Gr.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t,e=this.expression();t=this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();return this.expect("=")&&(t={type:Gr.AssignmentExpression,left:t,right:this.assignment(),operator:"="}),t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:Gr.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:Gr.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:Gr.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:Gr.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:Gr.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:Gr.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:Gr.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:Gr.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.constants.hasOwnProperty(this.peek().text)?t=N(this.constants[this.consume().text]):this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)"("===e.text?(t={type:Gr.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:Gr.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:Gr.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],n={type:Gr.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return n},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do t.push(this.expression());while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:Gr.Identifier,name:t.text}},constant:function(){return{type:Gr.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Gr.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:Gr.Property,kind:"init"},this.peek().constant?t.key=this.constant():this.peek().identifier?t.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),t.value=this.expression(),e.push(t)}while(this.expect(","));return this.consume("}"),{type:Gr.ObjectExpression,properties:e}},throwError:function(t,e){throw Vr("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw Vr("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw Vr("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,i){return this.peekAhead(0,t,e,n,i)},peekAhead:function(t,e,n,i,r){if(this.tokens.length>t){var o=this.tokens[t],s=o.text;if(s===e||s===n||s===i||s===r||!e&&!n&&!i&&!r)return o}return!1},expect:function(t,e,n,i){var r=this.peek(t,e,n,i);return r?(this.tokens.shift(),r):!1},constants:{"true":{type:Gr.Literal,value:!0},"false":{type:Gr.Literal,value:!1},"null":{type:Gr.Literal,value:null},undefined:{type:Gr.Literal,value:n},"this":{type:Gr.ThisExpression}}},sn.prototype={compile:function(t,e){var i=this,r=this.astBuilder.ast(t);this.state={nextId:0,filters:{},expensiveChecks:e,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Qe(r,i.$filter);var s,a="";if(this.stage="assign",s=nn(r)){this.state.computing="assign";var l=this.nextId();this.recurse(s,l),a="fn.assign="+this.generateFunction("assign","s,v,l")}var u=tn(r.body);i.stage="inputs",o(u,function(t,e){var n="fn"+e;i.state[n]={vars:[],body:[],own:{}},i.state.computing=n;var r=i.nextId();i.recurse(t,r),i.return_(r),i.state.inputs.push(n),t.watchId=e}),this.state.computing="fn",this.stage="main",this.recurse(r);var c='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+a+this.watchFns()+"return fn;",h=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","ifDefined","plus","text",c)(this.$filter,qe,Ke,Xe,Ge,Je,t);return this.state=this.stage=n,h.literal=rn(r),h.constant=on(r),h},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return o(e,function(e){t.push("var "+e+"="+n.generateFunction(e,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return o(this.state.filters,function(n,i){t.push(n+"=$filter("+e.escape(i)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,i,r,s,a){var l,u,c,h,d=this;if(r=r||g,!a&&w(t.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,i,r,s,!0));switch(t.type){case Gr.Program:o(t.body,function(e,i){d.recurse(e.expression,n,n,function(t){u=t}),i!==t.body.length-1?d.current().body.push(u,";"):d.return_(u)});break;case Gr.Literal:h=this.escape(t.value),this.assign(e,h),r(h);break;case Gr.UnaryExpression:this.recurse(t.argument,n,n,function(t){u=t}),h=t.operator+"("+this.ifDefined(u,0)+")",this.assign(e,h),r(h);break;case Gr.BinaryExpression:this.recurse(t.left,n,n,function(t){l=t}),this.recurse(t.right,n,n,function(t){u=t}),h="+"===t.operator?this.plus(l,u):"-"===t.operator?this.ifDefined(l,0)+t.operator+this.ifDefined(u,0):"("+l+")"+t.operator+"("+u+")",this.assign(e,h),r(h);break;case Gr.LogicalExpression:e=e||this.nextId(),d.recurse(t.left,e),d.if_("&&"===t.operator?e:d.not(e),d.lazyRecurse(t.right,e)),r(e);break;case Gr.ConditionalExpression:e=e||this.nextId(),d.recurse(t.test,e),d.if_(e,d.lazyRecurse(t.alternate,e),d.lazyRecurse(t.consequent,e)),r(e);break;case Gr.Identifier:e=e||this.nextId(),i&&(i.context="inputs"===d.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),i.computed=!1,i.name=t.name),qe(t.name),d.if_("inputs"===d.stage||d.not(d.getHasOwnProperty("l",t.name)),function(){d.if_("inputs"===d.stage||"s",function(){s&&1!==s&&d.if_(d.not(d.nonComputedMember("s",t.name)),d.lazyAssign(d.nonComputedMember("s",t.name),"{}")),d.assign(e,d.nonComputedMember("s",t.name))})},e&&d.lazyAssign(e,d.nonComputedMember("l",t.name))),(d.state.expensiveChecks||un(t.name))&&d.addEnsureSafeObject(e),r(e);break;case Gr.MemberExpression:l=i&&(i.context=this.nextId())||this.nextId(),e=e||this.nextId(),d.recurse(t.object,l,n,function(){d.if_(d.notNull(l),function(){t.computed?(u=d.nextId(),d.recurse(t.property,u),d.addEnsureSafeMemberName(u),s&&1!==s&&d.if_(d.not(d.computedMember(l,u)),d.lazyAssign(d.computedMember(l,u),"{}")),h=d.ensureSafeObject(d.computedMember(l,u)),d.assign(e,h),i&&(i.computed=!0,i.name=u)):(qe(t.property.name),s&&1!==s&&d.if_(d.not(d.nonComputedMember(l,t.property.name)),d.lazyAssign(d.nonComputedMember(l,t.property.name),"{}")),h=d.nonComputedMember(l,t.property.name),(d.state.expensiveChecks||un(t.property.name))&&(h=d.ensureSafeObject(h)),d.assign(e,h),i&&(i.computed=!1,i.name=t.property.name))},function(){d.assign(e,"undefined")}),r(e)},!!s);break;case Gr.CallExpression:e=e||this.nextId(),t.filter?(u=d.filter(t.callee.name),c=[],o(t.arguments,function(t){var e=d.nextId();d.recurse(t,e),c.push(e)}),h=u+"("+c.join(",")+")",d.assign(e,h),r(e)):(u=d.nextId(),l={},c=[],d.recurse(t.callee,u,l,function(){d.if_(d.notNull(u),function(){d.addEnsureSafeFunction(u),o(t.arguments,function(t){d.recurse(t,d.nextId(),n,function(t){c.push(d.ensureSafeObject(t))})}),l.name?(d.state.expensiveChecks||d.addEnsureSafeObject(l.context),h=d.member(l.context,l.name,l.computed)+"("+c.join(",")+")"):h=u+"("+c.join(",")+")",h=d.ensureSafeObject(h),d.assign(e,h)},function(){d.assign(e,"undefined")}),r(e)}));break;case Gr.AssignmentExpression:if(u=this.nextId(),l={},!en(t.left))throw Vr("lval","Trying to assing a value to a non l-value");this.recurse(t.left,n,l,function(){d.if_(d.notNull(l.context),function(){d.recurse(t.right,u),d.addEnsureSafeObject(d.member(l.context,l.name,l.computed)),h=d.member(l.context,l.name,l.computed)+t.operator+u,d.assign(e,h),r(e||h)})},1);break;case Gr.ArrayExpression:c=[],o(t.elements,function(t){d.recurse(t,d.nextId(),n,function(t){c.push(t)})}),h="["+c.join(",")+"]",this.assign(e,h),r(h);break;case Gr.ObjectExpression:c=[],o(t.properties,function(t){d.recurse(t.value,d.nextId(),n,function(e){c.push(d.escape(t.key.type===Gr.Identifier?t.key.name:""+t.key.value)+":"+e)})}),h="{"+c.join(",")+"}",this.assign(e,h),r(h);break;case Gr.ThisExpression:this.assign(e,"s"),r("s");break;case Gr.NGValueParameter:this.assign(e,"v"),r("v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),i[n]},assign:function(t,e){return t?(this.current().body.push(t,"=",e,";"),t):void 0},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(t===!0)e();else{var i=this.current().body;i.push("if(",t,"){"),e(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(t){return"!("+t+")"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){return t+"."+e},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},addEnsureSafeObject:function(t){this.current().body.push(this.ensureSafeObject(t),";")},addEnsureSafeMemberName:function(t){this.current().body.push(this.ensureSafeMemberName(t),";")},addEnsureSafeFunction:function(t){this.current().body.push(this.ensureSafeFunction(t),";")},ensureSafeObject:function(t){return"ensureSafeObject("+t+",text)"},ensureSafeMemberName:function(t){return"ensureSafeMemberName("+t+",text)"},ensureSafeFunction:function(t){return"ensureSafeFunction("+t+",text)"},lazyRecurse:function(t,e,n,i,r,o){var s=this;return function(){s.recurse(t,e,n,i,r,o)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if($(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(C(t))return t.toString();if(t===!0)return"true";if(t===!1)return"false";if(null===t)return"null";if("undefined"==typeof t)return"undefined";throw Vr("esc","IMPOSSIBLE")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},an.prototype={compile:function(t,e){var n=this,i=this.astBuilder.ast(t);this.expression=t,this.expensiveChecks=e,Qe(i,n.$filter);var r,s;(r=nn(i))&&(s=this.recurse(r));var a,l=tn(i.body);l&&(a=[],o(l,function(t,e){var i=n.recurse(t);t.input=i,a.push(i),t.watchId=e}));var u=[];o(i.body,function(t){u.push(n.recurse(t.expression))});var c=0===i.body.length?function(){}:1===i.body.length?u[0]:function(t,e){var n;return o(u,function(i){n=i(t,e)}),n};return s&&(c.assign=function(t,e,n){return s(t,n,e)}),a&&(c.inputs=a),c.literal=rn(i),c.constant=on(i),c},recurse:function(t,e,i){var r,s,a,l=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case Gr.Literal:return this.value(t.value,e);case Gr.UnaryExpression:return s=this.recurse(t.argument),this["unary"+t.operator](s,e);case Gr.BinaryExpression:return r=this.recurse(t.left),s=this.recurse(t.right),this["binary"+t.operator](r,s,e);case Gr.LogicalExpression:return r=this.recurse(t.left),s=this.recurse(t.right),this["binary"+t.operator](r,s,e);case Gr.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case Gr.Identifier:return qe(t.name,l.expression),l.identifier(t.name,l.expensiveChecks||un(t.name),e,i,l.expression);case Gr.MemberExpression:return r=this.recurse(t.object,!1,!!i),t.computed||(qe(t.property.name,l.expression),s=t.property.name),t.computed&&(s=this.recurse(t.property)),t.computed?this.computedMember(r,s,e,i,l.expression):this.nonComputedMember(r,s,l.expensiveChecks,e,i,l.expression);case Gr.CallExpression:return a=[],o(t.arguments,function(t){a.push(l.recurse(t))}),t.filter&&(s=this.$filter(t.callee.name)),t.filter||(s=this.recurse(t.callee,!0)),t.filter?function(t,i,r,o){for(var l=[],u=0;u<a.length;++u)l.push(a[u](t,i,r,o));var c=s.apply(n,l,o);return e?{context:n,name:n,value:c}:c}:function(t,n,i,r){var o,u=s(t,n,i,r);if(null!=u.value){Ke(u.context,l.expression),Xe(u.value,l.expression);for(var c=[],h=0;h<a.length;++h)c.push(Ke(a[h](t,n,i,r),l.expression));o=Ke(u.value.apply(u.context,c),l.expression)}return e?{value:o}:o};case Gr.AssignmentExpression:return r=this.recurse(t.left,!0,1),s=this.recurse(t.right),function(t,n,i,o){var a=r(t,n,i,o),u=s(t,n,i,o);return Ke(a.value,l.expression),a.context[a.name]=u,e?{value:u}:u};case Gr.ArrayExpression:return a=[],o(t.elements,function(t){a.push(l.recurse(t))}),function(t,n,i,r){for(var o=[],s=0;s<a.length;++s)o.push(a[s](t,n,i,r));return e?{value:o}:o};case Gr.ObjectExpression:return a=[],o(t.properties,function(t){a.push({key:t.key.type===Gr.Identifier?t.key.name:""+t.key.value,value:l.recurse(t.value)})}),function(t,n,i,r){for(var o={},s=0;s<a.length;++s)o[a[s].key]=a[s].value(t,n,i,r);return e?{value:o}:o};case Gr.ThisExpression:return function(t){return e?{value:t}:t};case Gr.NGValueParameter:return function(t,n,i,r){return e?{value:i}:i}}},"unary+":function(t,e){return function(n,i,r,o){var s=t(n,i,r,o);return s=w(s)?+s:0,e?{value:s}:s}},"unary-":function(t,e){return function(n,i,r,o){var s=t(n,i,r,o);return s=w(s)?-s:0,e?{value:s}:s}},"unary!":function(t,e){return function(n,i,r,o){var s=!t(n,i,r,o);return e?{value:s}:s}},"binary+":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s),l=e(i,r,o,s),u=Je(a,l);return n?{value:u}:u}},"binary-":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s),l=e(i,r,o,s),u=(w(a)?a:0)-(w(l)?l:0);return n?{value:u}:u}},"binary*":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s)*e(i,r,o,s);return n?{value:a}:a}},"binary/":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s)/e(i,r,o,s);return n?{value:a}:a}},"binary%":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s)%e(i,r,o,s);return n?{value:a}:a}},"binary===":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s)===e(i,r,o,s);return n?{value:a}:a}},"binary!==":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s)!==e(i,r,o,s);return n?{value:a}:a}},"binary==":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s)==e(i,r,o,s);return n?{value:a}:a}},"binary!=":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s)!=e(i,r,o,s);return n?{value:a}:a}},"binary<":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s)<e(i,r,o,s);return n?{value:a}:a}},"binary>":function(t,e,n){return function(i,r,o,s){
var a=t(i,r,o,s)>e(i,r,o,s);return n?{value:a}:a}},"binary<=":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s)<=e(i,r,o,s);return n?{value:a}:a}},"binary>=":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s)>=e(i,r,o,s);return n?{value:a}:a}},"binary&&":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s)&&e(i,r,o,s);return n?{value:a}:a}},"binary||":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s)||e(i,r,o,s);return n?{value:a}:a}},"ternary?:":function(t,e,n,i){return function(r,o,s,a){var l=t(r,o,s,a)?e(r,o,s,a):n(r,o,s,a);return i?{value:l}:l}},value:function(t,e){return function(){return e?{context:n,name:n,value:t}:t}},identifier:function(t,e,i,r,o){return function(s,a,l,u){var c=a&&t in a?a:s;r&&1!==r&&c&&!c[t]&&(c[t]={});var h=c?c[t]:n;return e&&Ke(h,o),i?{context:c,name:t,value:h}:h}},computedMember:function(t,e,n,i,r){return function(o,s,a,l){var u,c,h=t(o,s,a,l);return null!=h&&(u=e(o,s,a,l),qe(u,r),i&&1!==i&&h&&!h[u]&&(h[u]={}),c=h[u],Ke(c,r)),n?{context:h,name:u,value:c}:c}},nonComputedMember:function(t,e,i,r,o,s){return function(a,l,u,c){var h=t(a,l,u,c);o&&1!==o&&h&&!h[e]&&(h[e]={});var d=null!=h?h[e]:n;return(i||un(e))&&Ke(d,s),r?{context:h,name:e,value:d}:d}},inputs:function(t,e){return function(n,i,r,o){return o?o[e]:t(n,i,r)}}};var Jr=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n,this.ast=new Gr(this.lexer),this.astCompiler=n.csp?new an(this.ast,e):new sn(this.ast,e)};Jr.prototype={constructor:Jr,parse:function(t){return this.astCompiler.compile(t,this.options.expensiveChecks)}};var Zr=(mt(),mt(),Object.prototype.valueOf),Qr=i("$sce"),to={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Dr=i("$compile"),eo=e.createElement("a"),no=En(t.location.href);Dn.$inject=["$document"],Fn.$inject=["$provide"],Bn.$inject=["$locale"],In.$inject=["$locale"];var io=".",ro={yyyy:Nn("FullYear",4),yy:Nn("FullYear",2,0,!0),y:Nn("FullYear",1),MMMM:zn("Month"),MMM:zn("Month",!0),MM:Nn("Month",2,1),M:Nn("Month",1,1),dd:Nn("Date",2),d:Nn("Date",1),HH:Nn("Hours",2),H:Nn("Hours",1),hh:Nn("Hours",2,-12),h:Nn("Hours",1,-12),mm:Nn("Minutes",2),m:Nn("Minutes",1),ss:Nn("Seconds",2),s:Nn("Seconds",1),sss:Nn("Milliseconds",3),EEEE:zn("Day"),EEE:zn("Day",!0),a:Yn,Z:Un,ww:Wn(2),w:Wn(1),G:qn,GG:qn,GGG:qn,GGGG:Kn},oo=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,so=/^\-?\d+$/;Xn.$inject=["$locale"];var ao=v(wi),lo=v(_i);Zn.$inject=["$parse"];var uo=v({restrict:"E",compile:function(t,e){return e.href||e.xlinkHref?void 0:function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Mi.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),co={};o(pr,function(t,e){function n(t,n,r){t.$watch(r[i],function(t){r.$set(e,!!t)})}if("multiple"!=t){var i=ue("ng-"+e),r=n;"checked"===t&&(r=function(t,e,r){r.ngModel!==r[i]&&n(t,e,r)}),co[i]=function(){return{restrict:"A",priority:100,link:r}}}}),o(mr,function(t,e){co[e]=function(){return{priority:100,link:function(t,n,i){if("ngPattern"===e&&"/"==i.ngPattern.charAt(0)){var r=i.ngPattern.match(yi);if(r)return void i.$set("ngPattern",new RegExp(r[1],r[2]))}t.$watch(i[e],function(t){i.$set(e,t)})}}}}),o(["src","srcset","href"],function(t){var e=ue("ng-"+t);co[e]=function(){return{priority:99,link:function(n,i,r){var o=t,s=t;"href"===t&&"[object SVGAnimatedString]"===Mi.call(i.prop("href"))&&(s="xlinkHref",r.$attr[s]="xlink:href",o=null),r.$observe(e,function(e){return e?(r.$set(s,e),void(Ai&&o&&i.prop(o,r[s]))):void("href"===t&&r.$set(s,null))})}}}});var ho={$addControl:g,$$renameControl:ti,$removeControl:g,$setValidity:g,$setDirty:g,$setPristine:g,$setSubmitted:g},fo="ng-submitted";ei.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var po=function(t){return["$timeout",function(e){var i={name:"form",restrict:t?"EAC":"E",controller:ei,compile:function(i,r){i.addClass(Ko).addClass(Yo);var o=r.name?"name":t&&r.ngForm?"ngForm":!1;return{pre:function(t,i,r,s){if(!("action"in r)){var a=function(e){t.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),e.preventDefault()};nr(i[0],"submit",a),i.on("$destroy",function(){e(function(){ir(i[0],"submit",a)},0,!1)})}var l=s.$$parentForm;o&&(ln(t,s.$name,s,s.$name),r.$observe(o,function(e){s.$name!==e&&(ln(t,s.$name,n,s.$name),l.$$renameControl(s,e),ln(t,s.$name,s,s.$name))})),i.on("$destroy",function(){l.$removeControl(s),o&&ln(t,r[o],n,s.$name),h(s,ho)})}}}};return i}]},go=po(),mo=po(!0),vo=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,yo=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,bo=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,wo=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,xo=/^(\d{4})-(\d{2})-(\d{2})$/,_o=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,$o=/^(\d{4})-W(\d\d)$/,Co=/^(\d{4})-(\d\d)$/,Ao=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Eo={text:ii,date:ai("date",xo,si(xo,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":ai("datetimelocal",_o,si(_o,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:ai("time",Ao,si(Ao,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:ai("week",$o,oi,"yyyy-Www"),month:ai("month",Co,si(Co,["yyyy","MM"]),"yyyy-MM"),number:ui,url:ci,email:hi,radio:di,checkbox:pi,hidden:g,button:g,submit:g,reset:g,file:g},So=["$browser","$sniffer","$filter","$parse",function(t,e,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,s,a){a[0]&&(Eo[wi(s.type)]||Eo.text)(r,o,s,a[0],e,t,n,i)}}}}],ko=/^(true|false|\d+)$/,Do=function(){return{restrict:"A",priority:100,compile:function(t,e){return ko.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},To=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,i,r){t.$$addBindingInfo(i,r.ngBind),i=i[0],e.$watch(r.ngBind,function(t){i.textContent=t===n?"":t})}}}}],Fo=["$interpolate","$compile",function(t,e){return{compile:function(i){return e.$$addBindingClass(i),function(i,r,o){var s=t(r.attr(o.$attr.ngBindTemplate));e.$$addBindingInfo(r,s.expressions),r=r[0],o.$observe("ngBindTemplate",function(t){r.textContent=t===n?"":t})}}}}],Mo=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(i,r){var o=e(r.ngBindHtml),s=e(r.ngBindHtml,function(t){return(t||"").toString()});return n.$$addBindingClass(i),function(e,i,r){n.$$addBindingInfo(i,r.ngBindHtml),e.$watch(s,function(){i.html(t.getTrustedHtml(o(e))||"")})}}}}],Lo=v({restrict:"A",require:"ngModel",link:function(t,e,n,i){i.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),Oo=gi("",!0),Po=gi("Odd",0),Bo=gi("Even",1),Io=Qn({compile:function(t,e){e.$set("ngCloak",n),t.removeClass("ng-cloak")}}),Ro=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],jo={},No={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=ue("ng-"+t);jo[e]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,o){var s=n(o[e],null,!0);return function(e,n){n.on(t,function(n){var r=function(){s(e,{$event:n})};No[t]&&i.$$phase?e.$evalAsync(r):e.$apply(r)})}}}}]});var zo=["$animate",function(t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,s){var a,l,u;n.$watch(r.ngIf,function(n){n?l||s(function(n,o){l=o,n[n.length++]=e.createComment(" end ngIf: "+r.ngIf+" "),a={clone:n},t.enter(n,i.parent(),i)}):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),a&&(u=gt(a.clone),t.leave(u).then(function(){u=null}),a=null))})}}}],Uo=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Pi.noop,compile:function(i,r){var o=r.ngInclude||r.src,s=r.onload||"",a=r.autoscroll;return function(i,r,l,u,c){var h,d,f,p=0,g=function(){d&&(d.remove(),d=null),h&&(h.$destroy(),h=null),f&&(n.leave(f).then(function(){d=null}),d=f,f=null)};i.$watch(o,function(o){var l=function(){!w(a)||a&&!i.$eval(a)||e()},d=++p;o?(t(o,!0).then(function(t){if(d===p){var e=i.$new();u.template=t;var a=c(e,function(t){g(),n.enter(t,null,r).then(l)});h=e,f=a,h.$emit("$includeContentLoaded",o),i.$eval(s)}},function(){d===p&&(g(),i.$emit("$includeContentError",o))}),i.$emit("$includeContentRequested",o)):(g(),u.template=null)})}}}}],Vo=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,o){return/SVG/.test(i[0].toString())?(i.empty(),void t(Et(o.template,e).childNodes)(n,function(t){i.append(t)},{futureParentElement:i})):(i.html(o.template),void t(i.contents())(n))}}}],Ho=Qn({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),Wo=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,i,r){var s=e.attr(i.$attr.ngList)||", ",a="false"!==i.ngTrim,l=a?Ni(s):s,u=function(t){if(!b(t)){var e=[];return t&&o(t.split(l),function(t){t&&e.push(a?Ni(t):t)}),e}};r.$parsers.push(u),r.$formatters.push(function(t){return Ri(t)?t.join(s):n}),r.$isEmpty=function(t){return!t||!t.length}}}},Yo="ng-valid",qo="ng-invalid",Ko="ng-pristine",Xo="ng-dirty",Go="ng-untouched",Jo="ng-touched",Zo="ng-pending",Qo=new i("ngModel"),ts=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(t,e,i,r,s,a,l,u,c,h){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=h(i.name||"",!1)(t);var d,f=s(i.ngModel),p=f.assign,m=f,v=p,y=null,x=this;this.$$setOptions=function(t){if(x.$options=t,t&&t.getterSetter){var e=s(i.ngModel+"()"),n=s(i.ngModel+"($$$p)");m=function(t){var n=f(t);return E(n)&&(n=e(t)),n},v=function(t,e){E(f(t))?n(t,{$$$p:x.$modelValue}):p(t,x.$modelValue)}}else if(!f.assign)throw Qo("nonassign","Expression '{0}' is non-assignable. Element: {1}",i.ngModel,Z(r))},this.$render=g,this.$isEmpty=function(t){return b(t)||""===t||null===t||t!==t};var _=r.inheritedData("$formController")||ho,$=0;mi({ctrl:this,$element:r,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},parentForm:_,$animate:a}),this.$setPristine=function(){x.$dirty=!1,x.$pristine=!0,a.removeClass(r,Xo),a.addClass(r,Ko)},this.$setDirty=function(){x.$dirty=!0,x.$pristine=!1,a.removeClass(r,Ko),a.addClass(r,Xo),_.$setDirty()},this.$setUntouched=function(){x.$touched=!1,x.$untouched=!0,a.setClass(r,Go,Jo)},this.$setTouched=function(){x.$touched=!0,x.$untouched=!1,a.setClass(r,Jo,Go)},this.$rollbackViewValue=function(){l.cancel(y),x.$viewValue=x.$$lastCommittedViewValue,x.$render()},this.$validate=function(){if(!C(x.$modelValue)||!isNaN(x.$modelValue)){var t=x.$$lastCommittedViewValue,e=x.$$rawModelValue,i=x.$valid,r=x.$modelValue,o=x.$options&&x.$options.allowInvalid;x.$$runValidators(e,t,function(t){o||i===t||(x.$modelValue=t?e:n,x.$modelValue!==r&&x.$$writeModelToScope())})}},this.$$runValidators=function(t,e,i){function r(){var t=x.$$parserName||"parse";return d!==n?(d||(o(x.$validators,function(t,e){l(e,null)}),o(x.$asyncValidators,function(t,e){l(e,null)})),l(t,d),d):(l(t,null),!0)}function s(){var n=!0;return o(x.$validators,function(i,r){var o=i(t,e);n=n&&o,l(r,o)}),n?!0:(o(x.$asyncValidators,function(t,e){l(e,null)}),!1)}function a(){var i=[],r=!0;o(x.$asyncValidators,function(o,s){var a=o(t,e);if(!O(a))throw Qo("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",a);l(s,n),i.push(a.then(function(){l(s,!0)},function(t){r=!1,l(s,!1)}))}),i.length?c.all(i).then(function(){u(r)},g):u(!0)}function l(t,e){h===$&&x.$setValidity(t,e)}function u(t){h===$&&i(t)}$++;var h=$;return r()&&s()?void a():void u(!1)},this.$commitViewValue=function(){var t=x.$viewValue;l.cancel(y),(x.$$lastCommittedViewValue!==t||""===t&&x.$$hasNativeValidators)&&(x.$$lastCommittedViewValue=t,x.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function e(){x.$modelValue!==s&&x.$$writeModelToScope()}var i=x.$$lastCommittedViewValue,r=i;if(d=b(r)?n:!0)for(var o=0;o<x.$parsers.length;o++)if(r=x.$parsers[o](r),b(r)){d=!1;break}C(x.$modelValue)&&isNaN(x.$modelValue)&&(x.$modelValue=m(t));var s=x.$modelValue,a=x.$options&&x.$options.allowInvalid;x.$$rawModelValue=r,a&&(x.$modelValue=r,e()),x.$$runValidators(r,x.$$lastCommittedViewValue,function(t){a||(x.$modelValue=t?r:n,e())})},this.$$writeModelToScope=function(){v(t,x.$modelValue),o(x.$viewChangeListeners,function(t){try{t()}catch(n){e(n)}})},this.$setViewValue=function(t,e){x.$viewValue=t,(!x.$options||x.$options.updateOnDefault)&&x.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(e){var n,i=0,r=x.$options;r&&w(r.debounce)&&(n=r.debounce,C(n)?i=n:C(n[e])?i=n[e]:C(n["default"])&&(i=n["default"])),l.cancel(y),i?y=l(function(){x.$commitViewValue()},i):u.$$phase?x.$commitViewValue():t.$apply(function(){x.$commitViewValue()})},t.$watch(function(){var e=m(t);if(e!==x.$modelValue&&(x.$modelValue===x.$modelValue||e===e)){x.$modelValue=x.$$rawModelValue=e,d=n;for(var i=x.$formatters,r=i.length,o=e;r--;)o=i[r](o);x.$viewValue!==o&&(x.$viewValue=x.$$lastCommittedViewValue=o,x.$render(),x.$$runValidators(e,o,g))}return e})}],es=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:ts,priority:1,compile:function(e){return e.addClass(Ko).addClass(Go).addClass(Yo),{pre:function(t,e,n,i){var r=i[0],o=i[1]||ho;r.$$setOptions(i[2]&&i[2].$options),o.$addControl(r),n.$observe("name",function(t){r.$name!==t&&o.$$renameControl(r,t)}),t.$on("$destroy",function(){o.$removeControl(r)})},post:function(e,n,i,r){var o=r[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(t){o.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(n){o.$touched||(t.$$phase?e.$evalAsync(o.$setTouched):e.$apply(o.$setTouched))})}}}}}],ns=/(\s+|^)default(\s+|$)/,is=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var i=this;this.$options=N(t.$eval(e.ngModelOptions)),this.$options.updateOn!==n?(this.$options.updateOnDefault=!1,this.$options.updateOn=Ni(this.$options.updateOn.replace(ns,function(){return i.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},rs=Qn({terminal:!0,priority:1e3}),os=i("ngOptions"),ss=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,as=["$compile","$parse",function(t,n){function i(t,e,i){function o(t,e,n,i,r){this.selectValue=t,this.viewValue=e,this.label=n,this.group=i,this.disabled=r}function s(t){var e;if(!u&&r(t))e=t;else{e=[];for(var n in t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&e.push(n)}return e}var a=t.match(ss);if(!a)throw os("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,Z(e));var l=a[5]||a[7],u=a[6],c=/ as /.test(a[0])&&a[1],h=a[9],d=n(a[2]?a[1]:l),f=c&&n(c),p=f||d,g=h&&n(h),m=h?function(t,e){return g(i,e)}:function(t){return Kt(t)},v=function(t,e){return m(t,$(t,e))},y=n(a[2]||a[1]),b=n(a[3]||""),w=n(a[4]||""),x=n(a[8]),_={},$=u?function(t,e){return _[u]=e,_[l]=t,_}:function(t){return _[l]=t,_};return{trackBy:h,getTrackByValue:v,getWatchables:n(x,function(t){var e=[];t=t||[];for(var n=s(t),r=n.length,o=0;r>o;o++){var l=t===n?o:n[o],u=(t[l],$(t[l],l)),c=m(t[l],u);if(e.push(c),a[2]||a[1]){var h=y(i,u);e.push(h)}if(a[4]){var d=w(i,u);e.push(d)}}return e}),getOptions:function(){for(var t=[],e={},n=x(i)||[],r=s(n),a=r.length,l=0;a>l;l++){var u=n===r?l:r[l],c=n[u],d=$(c,u),f=p(i,d),g=m(f,d),_=y(i,d),C=b(i,d),A=w(i,d),E=new o(g,f,_,C,A);t.push(E),e[g]=E}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[v(t)]},getViewValueFromOption:function(t){return h?Pi.copy(t.viewValue):t.viewValue}}}}}var s=e.createElement("option"),a=e.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:function(e,n,r,l){function u(t,e){t.element=e,e.disabled=t.disabled,t.value!==e.value&&(e.value=t.selectValue),t.label!==e.label&&(e.label=t.label,e.textContent=t.label)}function c(t,e,n,i){var r;return e&&wi(e.nodeName)===n?r=e:(r=i.cloneNode(!1),e?t.insertBefore(r,e):t.appendChild(r)),r}function h(t){for(var e;t;)e=t.nextSibling,Ut(t),t=e}function d(t){var e=g&&g[0],n=_&&_[0];if(e||n)for(;t&&(t===e||t===n);)t=t.nextSibling;return t}function f(){var t=$&&m.readValue();$=C.getOptions();var e={},i=n[0].firstChild;if(x&&n.prepend(g),i=d(i),$.items.forEach(function(t){var r,o,l;t.group?(r=e[t.group],r||(o=c(n[0],i,"optgroup",a),i=o.nextSibling,o.label=t.group,r=e[t.group]={groupElement:o,currentOptionElement:o.firstChild}),l=c(r.groupElement,r.currentOptionElement,"option",s),u(t,l),r.currentOptionElement=l.nextSibling):(l=c(n[0],i,"option",s),u(t,l),i=l.nextSibling)}),Object.keys(e).forEach(function(t){h(e[t].currentOptionElement)}),h(i),p.$render(),!p.$isEmpty(t)){var r=m.readValue();(C.trackBy?U(t,r):t===r)||(p.$setViewValue(r),p.$render())}}var p=l[1];if(p){for(var g,m=l[0],v=r.multiple,y=0,b=n.children(),w=b.length;w>y;y++)if(""===b[y].value){g=b.eq(y);break}var x=!!g,_=Ei(s.cloneNode(!1));_.val("?");var $,C=i(r.ngOptions,n,e),A=function(){x||n.prepend(g),n.val(""),g.prop("selected",!0),g.attr("selected",!0)},E=function(){x||g.remove()},S=function(){n.prepend(_),n.val("?"),_.prop("selected",!0),_.attr("selected",!0)},k=function(){_.remove()};v?(p.$isEmpty=function(t){return!t||0===t.length},m.writeValue=function(t){$.items.forEach(function(t){t.element.selected=!1}),t&&t.forEach(function(t){var e=$.getOptionFromViewValue(t);e&&!e.disabled&&(e.element.selected=!0)})},m.readValue=function(){var t=n.val()||[],e=[];return o(t,function(t){var n=$.selectValueMap[t];n.disabled||e.push($.getViewValueFromOption(n))}),e},C.trackBy&&e.$watchCollection(function(){return Ri(p.$viewValue)?p.$viewValue.map(function(t){return C.getTrackByValue(t)}):void 0},function(){p.$render()})):(m.writeValue=function(t){var e=$.getOptionFromViewValue(t);e&&!e.disabled?n[0].value!==e.selectValue&&(k(),E(),n[0].value=e.selectValue,e.element.selected=!0,e.element.setAttribute("selected","selected")):null===t||x?(k(),A()):(E(),S())},m.readValue=function(){var t=$.selectValueMap[n.val()];return t&&!t.disabled?(E(),k(),$.getViewValueFromOption(t)):null},C.trackBy&&e.$watch(function(){return C.getTrackByValue(p.$viewValue)},function(){p.$render()})),x?(g.remove(),t(g)(e),g.removeClass("ng-scope")):g=Ei(s.cloneNode(!1)),f(),e.$watchCollection(C.getWatchables,f)}}}}],ls=["$locale","$interpolate","$log",function(t,e,n){var i=/{}/g,r=/^when(Minus)?(.+)$/;return{link:function(s,a,l){function u(t){a.text(t||"")}var c,h=l.count,d=l.$attr.when&&a.attr(l.$attr.when),f=l.offset||0,p=s.$eval(d)||{},m={},v=e.startSymbol(),y=e.endSymbol(),w=v+h+"-"+f+y,x=Pi.noop;o(l,function(t,e){var n=r.exec(e);if(n){var i=(n[1]?"-":"")+wi(n[2]);p[i]=a.attr(l.$attr[e])}}),o(p,function(t,n){m[n]=e(t.replace(i,w))}),s.$watch(h,function(e){var i=parseFloat(e),r=isNaN(i);if(r||i in p||(i=t.pluralCat(i-f)),i!==c&&!(r&&C(c)&&isNaN(c))){x();var o=m[i];b(o)?(null!=e&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+d),x=g,u()):x=s.$watch(o,u),c=i}})}}}],us=["$parse","$animate",function(t,s){var a="$$NG_REMOVED",l=i("ngRepeat"),u=function(t,e,n,i,r,o,s){t[n]=i,r&&(t[r]=o),t.$index=e,t.$first=0===e,t.$last=e===s-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&e))},c=function(t){return t.clone[0]},h=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(i,d){var f=d.ngRepeat,p=e.createComment(" end ngRepeat: "+f+" "),g=f.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!g)throw l("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",f);var m=g[1],v=g[2],y=g[3],b=g[4];if(g=m.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!g)throw l("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",m);var w=g[3]||g[1],x=g[2];if(y&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(y)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(y)))throw l("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",y);var _,$,C,A,E={$id:Kt};return b?_=t(b):(C=function(t,e){return Kt(e)},A=function(t){return t}),function(t,e,i,d,g){_&&($=function(e,n,i){return x&&(E[x]=e),E[w]=n,E.$index=i,_(t,E)});var m=mt();t.$watchCollection(v,function(i){var d,v,b,_,E,S,k,D,T,F,M,L,O=e[0],P=mt();if(y&&(t[y]=i),r(i))T=i,D=$||C;else{D=$||A,T=[];for(var B in i)i.hasOwnProperty(B)&&"$"!==B.charAt(0)&&T.push(B)}for(_=T.length,M=new Array(_),d=0;_>d;d++)if(E=i===T?d:T[d],S=i[E],k=D(E,S,d),m[k])F=m[k],delete m[k],P[k]=F,M[d]=F;else{if(P[k])throw o(M,function(t){t&&t.scope&&(m[t.id]=t)}),l("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",f,k,S);M[d]={id:k,scope:n,clone:n},P[k]=!0}for(var I in m){if(F=m[I],L=gt(F.clone),s.leave(L),L[0].parentNode)for(d=0,v=L.length;v>d;d++)L[d][a]=!0;F.scope.$destroy()}for(d=0;_>d;d++)if(E=i===T?d:T[d],S=i[E],F=M[d],F.scope){b=O;do b=b.nextSibling;while(b&&b[a]);c(F)!=b&&s.move(gt(F.clone),null,Ei(O)),O=h(F),u(F.scope,d,w,S,x,E,_)}else g(function(t,e){F.scope=e;var n=p.cloneNode(!1);t[t.length++]=n,s.enter(t,null,Ei(O)),O=n,F.clone=t,P[F.id]=F,u(F.scope,d,w,S,x,E,_)});m=P})}}}}],cs="ng-hide",hs="ng-hide-animate",ds=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngShow,function(e){t[e?"removeClass":"addClass"](n,cs,{tempClasses:hs})})}}}],fs=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngHide,function(e){t[e?"addClass":"removeClass"](n,cs,{tempClasses:hs})})}}}],ps=Qn(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&o(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),gs=["$animate",function(t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,r,s){var a=r.ngSwitch||r.on,l=[],u=[],c=[],h=[],d=function(t,e){return function(){t.splice(e,1)}};n.$watch(a,function(n){var i,r;for(i=0,r=c.length;r>i;++i)t.cancel(c[i]);for(c.length=0,i=0,r=h.length;r>i;++i){var a=gt(u[i].clone);h[i].$destroy();var f=c[i]=t.leave(a);f.then(d(c,i))}u.length=0,h.length=0,(l=s.cases["!"+n]||s.cases["?"])&&o(l,function(n){n.transclude(function(i,r){h.push(r);var o=n.element;i[i.length++]=e.createComment(" end ngSwitchWhen: ");var s={clone:i};u.push(s),t.enter(i,o.parent(),o)})})})}}}],ms=Qn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:r,element:e})}}),vs=Qn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:e})}}),ys=Qn({restrict:"EAC",link:function(t,e,n,r,o){if(!o)throw i("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",Z(e));o(function(t){e.empty(),e.append(t)})}}),bs=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"==n.type){var i=n.id,r=e[0].text;t.put(i,r)}}}}],ws={$setViewValue:g,$render:g},xs=["$element","$scope","$attrs",function(t,i,r){var o=this,s=new Xt;o.ngModelCtrl=ws,o.unknownOption=Ei(e.createElement("option")),o.renderUnknownOption=function(e){var n="? "+Kt(e)+" ?";o.unknownOption.val(n),t.prepend(o.unknownOption),t.val(n)},i.$on("$destroy",function(){o.renderUnknownOption=g}),o.removeUnknownOption=function(){o.unknownOption.parent()&&o.unknownOption.remove()},o.readValue=function(){return o.removeUnknownOption(),t.val()},o.writeValue=function(e){o.hasOption(e)?(o.removeUnknownOption(),t.val(e),""===e&&o.emptyOption.prop("selected",!0)):null==e&&o.emptyOption?(o.removeUnknownOption(),t.val("")):o.renderUnknownOption(e)},o.addOption=function(t,e){ft(t,'"option value"'),""===t&&(o.emptyOption=e);var n=s.get(t)||0;s.put(t,n+1)},o.removeOption=function(t){var e=s.get(t);e&&(1===e?(s.remove(t),""===t&&(o.emptyOption=n)):s.put(t,e-1))},o.hasOption=function(t){return!!s.get(t)}}],_s=function(){return{restrict:"E",require:["select","?ngModel"],controller:xs,link:function(t,e,n,i){var r=i[1];if(r){var s=i[0];if(s.ngModelCtrl=r,r.$render=function(){s.writeValue(r.$viewValue)},e.on("change",function(){t.$apply(function(){r.$setViewValue(s.readValue())})}),n.multiple){s.readValue=function(){var t=[];return o(e.find("option"),function(e){e.selected&&t.push(e.value)}),t},s.writeValue=function(t){var n=new Xt(t);o(e.find("option"),function(t){t.selected=w(n.get(t.value))})};var a,l=NaN;t.$watch(function(){l!==r.$viewValue||U(a,r.$viewValue)||(a=z(r.$viewValue),r.$render()),l=r.$viewValue}),r.$isEmpty=function(t){return!t||0===t.length}}}}}},$s=["$interpolate",function(t){function e(t){t[0].hasAttribute("selected")&&(t[0].selected=!0)}return{restrict:"E",priority:100,compile:function(n,i){if(b(i.value)){var r=t(n.text(),!0);r||i.$set("value",n.text())}return function(t,n,i){var o="$selectController",s=n.parent(),a=s.data(o)||s.parent().data(o);a&&a.ngModelCtrl&&(r?t.$watch(r,function(t,r){i.$set("value",t),r!==t&&a.removeOption(r),a.addOption(t,n),a.ngModelCtrl.$render(),e(n)}):(a.addOption(i.value,n),a.ngModelCtrl.$render(),e(n)),n.on("$destroy",function(){a.removeOption(i.value),a.ngModelCtrl.$render()}))}}}}],Cs=v({restrict:"E",terminal:!1}),As=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){i&&(n.required=!0,i.$validators.required=function(t,e){return!n.required||!i.$isEmpty(e)},n.$observe("required",function(){i.$validate()}))}}},Es=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,r,o){if(o){var s,a=r.ngPattern||r.pattern;r.$observe("pattern",function(t){if($(t)&&t.length>0&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw i("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,t,Z(e));s=t||n,o.$validate()}),o.$validators.pattern=function(t){return o.$isEmpty(t)||b(s)||s.test(t)}}}}},Ss=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=-1;n.$observe("maxlength",function(t){var e=f(t);r=isNaN(e)?-1:e,i.$validate()}),i.$validators.maxlength=function(t,e){return 0>r||i.$isEmpty(e)||e.length<=r}}}}},ks=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=0;n.$observe("minlength",function(t){r=f(t)||0,i.$validate()}),i.$validators.minlength=function(t,e){return i.$isEmpty(e)||e.length>=r}}}}};return t.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(ct(),wt(Pi),void Ei(e).ready(function(){ot(e,st)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(t,e,n){"use strict";function i(){this.$get=["$$sanitizeUri",function(t){return function(e){var n=[];return s(e,u(n,function(e,n){return!/^unsafe/.test(t(e,n))})),n.join("")}}]}function r(t){var n=[],i=u(n,e.noop);return i.chars(t),n.join("")}function o(t,n){var i,r={},o=t.split(",");for(i=0;i<o.length;i++)r[n?e.lowercase(o[i]):o[i]]=!0;return r}function s(t,n){function i(t,i,o,s){if(i=e.lowercase(i),A[i])for(;b.last()&&E[b.last()];)r("",b.last());C[i]&&b.last()==i&&r("",i),s=x[i]||!!s,s||b.push(i);var l={};o.replace(f,function(t,e,n,i,r){var o=n||i||r||"";l[e]=a(o)}),n.start&&n.start(i,l,s)}function r(t,i){var r,o=0;if(i=e.lowercase(i))for(o=b.length-1;o>=0&&b[o]!=i;o--);if(o>=0){for(r=b.length-1;r>=o;r--)n.end&&n.end(b[r]);b.length=o}}"string"!=typeof t&&(t=null===t||"undefined"==typeof t?"":""+t);var o,s,l,u,b=[],w=t;for(b.last=function(){return b[b.length-1]};t;){if(u="",s=!0,b.last()&&k[b.last()]?(t=t.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+b.last()+"[^>]*>","i"),function(t,e){return e=e.replace(m,"$1").replace(y,"$1"),n.chars&&n.chars(a(e)),""}),r("",b.last())):(0===t.indexOf("<!--")?(o=t.indexOf("--",4),o>=0&&t.lastIndexOf("-->",o)===o&&(n.comment&&n.comment(t.substring(4,o)),t=t.substring(o+3),s=!1)):v.test(t)?(l=t.match(v),l&&(t=t.replace(l[0],""),s=!1)):g.test(t)?(l=t.match(d),l&&(t=t.substring(l[0].length),l[0].replace(d,r),s=!1)):p.test(t)&&(l=t.match(h),l?(l[4]&&(t=t.substring(l[0].length),l[0].replace(h,i)),s=!1):(u+="<",t=t.substring(1))),s&&(o=t.indexOf("<"),u+=0>o?t:t.substring(0,o),t=0>o?"":t.substring(o),n.chars&&n.chars(a(u)))),t==w)throw c("badparse","The sanitizer was unable to parse the following block of html: {0}",t);w=t}r()}function a(t){return t?(O.innerHTML=t.replace(/</g,"&lt;"),O.textContent):""}function l(t){return t.replace(/&/g,"&amp;").replace(b,function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return"&#"+(1024*(e-55296)+(n-56320)+65536)+";"}).replace(w,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function u(t,n){var i=!1,r=e.bind(t,t.push);return{start:function(t,o,s){t=e.lowercase(t),!i&&k[t]&&(i=t),i||D[t]!==!0||(r("<"),r(t),e.forEach(o,function(i,o){var s=e.lowercase(o),a="img"===t&&"src"===s||"background"===s;L[s]!==!0||T[s]===!0&&!n(i,a)||(r(" "),r(o),r('="'),r(l(i)),r('"'))}),r(s?"/>":">"))},end:function(t){t=e.lowercase(t),i||D[t]!==!0||(r("</"),r(t),r(">")),t==i&&(i=!1)},chars:function(t){i||r(l(t))}}}var c=e.$$minErr("$sanitize"),h=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,d=/^<\/\s*([\w:-]+)[^>]*>/,f=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,p=/^</,g=/^<\//,m=/<!--(.*?)-->/g,v=/<!DOCTYPE([^>]*?)>/i,y=/<!\[CDATA\[(.*?)]]>/g,b=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,w=/([^\#-~| |!])/g,x=o("area,br,col,hr,img,wbr"),_=o("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$=o("rp,rt"),C=e.extend({},$,_),A=e.extend({},_,o("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),E=e.extend({},$,o("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),S=o("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use"),k=o("script,style"),D=e.extend({},x,A,E,C,S),T=o("background,cite,href,longdesc,src,usemap,xlink:href"),F=o("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),M=o("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),L=e.extend({},T,M,F),O=document.createElement("pre");
e.module("ngSanitize",[]).provider("$sanitize",i),e.module("ngSanitize").filter("linky",["$sanitize",function(t){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"]/i,i=/^mailto:/i;return function(o,s){function a(t){t&&f.push(r(t))}function l(t,n){f.push("<a "),e.isDefined(s)&&f.push('target="',s,'" '),f.push('href="',t.replace(/"/g,"&quot;"),'">'),a(n),f.push("</a>")}if(!o)return o;for(var u,c,h,d=o,f=[];u=d.match(n);)c=u[0],u[2]||u[4]||(c=(u[3]?"http://":"mailto:")+c),h=u.index,a(d.substr(0,h)),l(c,u[0].replace(i,"")),d=d.substring(h+u[0].length);return a(d),t(f.join(""))}}])}(window,window.angular),function(t,e,n){"use strict";function i(t,e,n){if(!t)throw ngMinErr("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function r(t,e){return t||e?t?e?(R(t)&&(t=t.join(" ")),R(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function o(t){var e={};return t&&(t.to||t.from)&&(e.to=t.to,e.from=t.from),e}function s(t,e,n){var i="";return t=R(t)?t:t&&j(t)&&t.length?t.split(/\s+/):[],I(t,function(t,r){t&&t.length>0&&(i+=r>0?" ":"",i+=n?e+t:t+e)}),i}function a(t,e){var n=t.indexOf(e);e>=0&&t.splice(n,1)}function l(t){if(t instanceof B)switch(t.length){case 0:return[];case 1:if(t[0].nodeType===W)return t;break;default:return B(u(t))}return t.nodeType===W?B(t):void 0}function u(t){if(!t[0])return t;for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType==W)return n}}function c(t,e,n){I(e,function(e){t.addClass(e,n)})}function h(t,e,n){I(e,function(e){t.removeClass(e,n)})}function d(t){return function(e,n){n.addClass&&(c(t,e,n.addClass),n.addClass=null),n.removeClass&&(h(t,e,n.removeClass),n.removeClass=null)}}function f(t){if(t=t||{},!t.$$prepared){var e=t.domOperation||O;t.domOperation=function(){t.$$domOperationFired=!0,e(),e=O},t.$$prepared=!0}return t}function p(t,e){g(t,e),m(t,e)}function g(t,e){e.from&&(t.css(e.from),e.from=null)}function m(t,e){e.to&&(t.css(e.to),e.to=null)}function v(t,e,n){var i=(e.addClass||"")+" "+(n.addClass||""),r=(e.removeClass||"")+" "+(n.removeClass||""),o=y(t.attr("class"),i,r);return P(e,n),o.addClass?e.addClass=o.addClass:e.addClass=null,o.removeClass?e.removeClass=o.removeClass:e.removeClass=null,e}function y(t,e,n){function i(t){j(t)&&(t=t.split(" "));var e={};return I(t,function(t){t.length&&(e[t]=!0)}),e}var r=1,o=-1,s={};t=i(t),e=i(e),I(e,function(t,e){s[e]=r}),n=i(n),I(n,function(t,e){s[e]=s[e]===r?null:o});var a={addClass:"",removeClass:""};return I(s,function(e,n){var i,s;e===r?(i="addClass",s=!t[n]):e===o&&(i="removeClass",s=t[n]),s&&(a[i].length&&(a[i]+=" "),a[i]+=n)}),a}function b(t){return t instanceof e.element?t[0]:t}function w(t,e,n){var i=Object.create(null),r=t.getComputedStyle(e)||{};return I(n,function(t,e){var n=r[t];if(n){var o=n.charAt(0);("-"===o||"+"===o||o>=0)&&(n=x(n)),0===n&&(n=null),i[e]=n}}),i}function x(t){var e=0,n=t.split(/\s*,\s*/);return I(n,function(t){"s"==t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,e=e?Math.max(t,e):t}),e}function _(t){return 0===t||null!=t}function $(t,e){var n=T,i=t+"s";return e?n+=J:i+=" linear all",[n,i]}function C(t){return[lt,t+"s"]}function A(t,e){var n=e?at:ut;return[n,t+"s"]}function E(t,e){var n=e?"-"+e+"s":"";return k(t,[ut,n]),[ut,n]}function S(t,e){var n=e?"paused":"",i=M+nt;return k(t,[i,n]),[i,n]}function k(t,e){var n=e[0],i=e[1];t.style[n]=i}function D(){var t=Object.create(null);return{flush:function(){t=Object.create(null)},count:function(e){var n=t[e];return n?n.total:0},get:function(e){var n=t[e];return n&&n.value},put:function(e,n){t[e]?t[e].total++:t[e]={total:1,value:n}}}}var T,F,M,L,O=e.noop,P=e.extend,B=e.element,I=e.forEach,R=e.isArray,j=e.isString,N=e.isObject,z=e.isUndefined,U=e.isDefined,V=e.isFunction,H=e.isElement,W=1,Y="ng-animate",q="$$ngAnimateChildren",K=["$$rAF",function(t){function e(t){o.push([].concat(t)),n()}function n(){if(o.length){for(var e=[],s=0;s<o.length;s++){var a=o[s];i(a),a.length&&e.push(a)}o=e,r||t(function(){r||n()})}}function i(t){var e=t.shift();e()}var r,o=[];return e.waitUntilQuiet=function(e){r&&r(),r=t(function(){r=null,e(),n()})},e}],X=[function(){return function(t,n,i){var r=i.ngAnimateChildren;e.isString(r)&&0===r.length?n.data(q,!0):i.$observe("ngAnimateChildren",function(t){t="on"===t||"true"===t,n.data(q,t)})}}],G="";t.ontransitionend===n&&t.onwebkittransitionend!==n?(G="-webkit-",T="WebkitTransition",F="webkitTransitionEnd transitionend"):(T="transition",F="transitionend"),t.onanimationend===n&&t.onwebkitanimationend!==n?(G="-webkit-",M="WebkitAnimation",L="webkitAnimationEnd animationend"):(M="animation",L="animationend");var J="Duration",Z="Property",Q="Delay",tt="TimingFunction",et="IterationCount",nt="PlayState",it=3,rt=1.5,ot=1e3,st=9999,at=M+Q,lt=M+J,ut=T+Q,ct=T+J,ht={transitionDuration:ct,transitionDelay:ut,transitionProperty:T+Z,animationDuration:lt,animationDelay:at,animationIterationCount:M+et},dt={transitionDuration:ct,transitionDelay:ut,animationDuration:lt,animationDelay:at},ft=["$animateProvider",function(t){var e=D(),n=D();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$document","$sniffer","$$rAFScheduler",function(t,i,r,l,u,c,h){function v(t,e){var n="$$ngAnimateParentKey",i=t.parentNode,r=i[n]||(i[n]=++j);return r+"-"+t.getAttribute("class")+"-"+e}function y(n,i,r,o){var s=e.get(r);return s||(s=w(t,n,o),"infinite"===s.animationIterationCount&&(s.animationIterationCount=1)),e.put(r,s),s}function x(r,o,a,l){var u;if(e.count(a)>0&&(u=n.get(a),!u)){var c=s(o,"-stagger");i.addClass(r,c),u=w(t,r,l),u.animationDuration=Math.max(u.animationDuration,0),u.transitionDuration=Math.max(u.transitionDuration,0),i.removeClass(r,c),n.put(a,u)}return u||{}}function D(t){z.push(t),h.waitUntilQuiet(function(){e.flush(),n.flush();for(var t=N.offsetWidth+1,i=0;i<z.length;i++)z[i](t);z.length=0})}function O(t,e,n){var i=y(t,e,n,ht),r=i.animationDelay,o=i.transitionDelay;return i.maxDelay=r&&o?Math.max(r,o):r||o,i.maxDuration=Math.max(i.animationDuration*i.animationIterationCount,i.transitionDuration),i}function P(t,n){function u(){d()}function h(){d(!0)}function d(e){N||U&&z||(N=!0,z=!1,i.removeClass(t,lt),i.removeClass(t,ct),S(j,!1),E(j,!1),I(X,function(t){j.style[t[0]]=""}),B(t,n),p(t,n),n.onDone&&n.onDone(),V&&V.complete(!e))}function y(t){At.blockTransition&&E(j,t),At.blockKeyframeAnimation&&S(j,!!t)}function w(){return V=new r({end:u,cancel:h}),d(),{$$willAnimate:!1,start:function(){return V},end:u}}function P(){function e(){if(!N){if(y(!1),I(X,function(t){var e=t[0],n=t[1];j.style[e]=n}),B(t,n),i.addClass(t,ct),At.recalculateTimingStyles){if(ut=j.className+" "+lt,pt=v(j,ut),$t=O(j,ut,pt),Ct=$t.maxDelay,W=Math.max(Ct,0),q=$t.maxDuration,0===q)return void d();At.hasTransitions=$t.transitionDuration>0,At.hasAnimations=$t.animationDuration>0}if(At.applyTransitionDelay||At.applyAnimationDelay){Ct="boolean"!=typeof n.delay&&_(n.delay)?parseFloat(n.delay):Ct,W=Math.max(Ct,0);var e;At.applyTransitionDelay&&($t.transitionDelay=Ct,e=A(Ct),X.push(e),j.style[e[0]]=e[1]),At.applyAnimationDelay&&($t.animationDelay=Ct,e=A(Ct,!0),X.push(e),j.style[e[0]]=e[1])}if(Y=W*ot,K=q*ot,n.easing){var a,c=n.easing;At.hasTransitions&&(a=T+tt,X.push([a,c]),j.style[a]=c),At.hasAnimations&&(a=M+tt,X.push([a,c]),j.style[a]=c)}$t.transitionDuration&&u.push(F),$t.animationDuration&&u.push(L),s=Date.now(),t.on(u.join(" "),o),l(r,Y+rt*K),m(t,n)}}function r(){d()}function o(t){t.stopPropagation();var e=t.originalEvent||t,n=e.$manualTimeStamp||e.timeStamp||Date.now(),i=parseFloat(e.elapsedTime.toFixed(it));Math.max(n-s,0)>=Y&&i>=q&&(U=!0,d())}if(!N){if(!j.parentNode)return void d();var s,u=[],c=function(t){if(U)z&&t&&(z=!1,d());else if(z=!t,$t.animationDuration){var e=S(j,z);z?X.push(e):a(X,e)}},h=xt>0&&($t.transitionDuration&&0===gt.transitionDuration||$t.animationDuration&&0===gt.animationDuration)&&Math.max(gt.animationDelay,gt.transitionDelay);h?l(e,Math.floor(h*xt*ot),!1):e(),H.resume=function(){c(!0)},H.pause=function(){c(!1)}}}var j=b(t);if(!j||!j.parentNode)return w();n=f(n);var N,z,U,V,H,W,Y,q,K,X=[],G=t.attr("class"),J=o(n);if(0===n.duration||!c.animations&&!c.transitions)return w();var Q=n.event&&R(n.event)?n.event.join(" "):n.event,et=Q&&n.structural,nt="",at="";et?nt=s(Q,"ng-",!0):Q&&(nt=Q),n.addClass&&(at+=s(n.addClass,"-add")),n.removeClass&&(at.length&&(at+=" "),at+=s(n.removeClass,"-remove")),n.applyClassesEarly&&at.length&&(B(t,n),at="");var lt=[nt,at].join(" ").trim(),ut=G+" "+lt,ct=s(lt,"-active"),ht=J.to&&Object.keys(J.to).length>0,ft=(n.keyframeStyle||"").length>0;if(!ft&&!ht&&!lt)return w();var pt,gt;if(n.stagger>0){var mt=parseFloat(n.stagger);gt={transitionDelay:mt,animationDelay:mt,transitionDuration:0,animationDuration:0}}else pt=v(j,ut),gt=x(j,lt,pt,dt);i.addClass(t,lt);var vt;if(n.transitionStyle){var yt=[T,n.transitionStyle];k(j,yt),X.push(yt)}if(n.duration>=0){vt=j.style[T].length>0;var bt=$(n.duration,vt);k(j,bt),X.push(bt)}if(n.keyframeStyle){var wt=[M,n.keyframeStyle];k(j,wt),X.push(wt)}var xt=gt?n.staggerIndex>=0?n.staggerIndex:e.count(pt):0,_t=0===xt;_t&&E(j,st);var $t=O(j,ut,pt),Ct=$t.maxDelay;W=Math.max(Ct,0),q=$t.maxDuration;var At={};return At.hasTransitions=$t.transitionDuration>0,At.hasAnimations=$t.animationDuration>0,At.hasTransitionAll=At.hasTransitions&&"all"==$t.transitionProperty,At.applyTransitionDuration=ht&&(At.hasTransitions&&!At.hasTransitionAll||At.hasAnimations&&!At.hasTransitions),At.applyAnimationDuration=n.duration&&At.hasAnimations,At.applyTransitionDelay=_(n.delay)&&(At.applyTransitionDuration||At.hasTransitions),At.applyAnimationDelay=_(n.delay)&&At.hasAnimations,At.recalculateTimingStyles=at.length>0,(At.applyTransitionDuration||At.applyAnimationDuration)&&(q=n.duration?parseFloat(n.duration):q,At.applyTransitionDuration&&(At.hasTransitions=!0,$t.transitionDuration=q,vt=j.style[T+Z].length>0,X.push($(q,vt))),At.applyAnimationDuration&&(At.hasAnimations=!0,$t.animationDuration=q,X.push(C(q)))),0!==q||At.recalculateTimingStyles?(null==n.duration&&$t.transitionDuration>0&&(At.recalculateTimingStyles=At.recalculateTimingStyles||_t),Y=W*ot,K=q*ot,n.skipBlocking||(At.blockTransition=$t.transitionDuration>0,At.blockKeyframeAnimation=$t.animationDuration>0&&gt.animationDelay>0&&0===gt.animationDuration),g(t,n),At.blockTransition||E(j,!1),y(q),{$$willAnimate:!0,end:u,start:function(){return N?void 0:(H={end:u,cancel:h,resume:null,pause:null},V=new r(H),D(P),V)}}):w()}var B=d(i),j=0,N=b(u).body,z=[];return P}]}],pt=["$$animationProvider",function(t){t.drivers.push("$$animateCssDriver");var e="ng-animate-shim",n="ng-anchor",i="ng-anchor-out",r="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$document","$sniffer",function(t,o,s,a,l,u){function c(t){return t.replace(/\bng-\S+\b/g,"")}function h(t,e){return j(t)&&(t=t.split(" ")),j(e)&&(e=e.split(" ")),t.filter(function(t){return-1===e.indexOf(t)}).join(" ")}function d(o,a,l){function u(t){var e={},n=b(t).getBoundingClientRect();return I(["width","height","top","left"],function(t){var i=n[t];switch(t){case"top":i+=g.scrollTop;break;case"left":i+=g.scrollLeft}e[t]=Math.floor(i)+"px"}),e}function d(){var e=t(y,{addClass:i,delay:!0,from:u(a)});return e.$$willAnimate?e:null}function f(t){return t.attr("class")||""}function p(){var e=c(f(l)),n=h(e,w),o=h(w,e),s=t(y,{to:u(l),addClass:r+" "+n,removeClass:i+" "+o,delay:!0});return s.$$willAnimate?s:null}function m(){y.remove(),a.removeClass(e),l.removeClass(e)}var y=B(b(a).cloneNode(!0)),w=c(f(y));a.addClass(e),l.addClass(e),y.addClass(n),v.append(y);var x,_=d();if(!_&&(x=p(),!x))return m();var $=_||x;return{start:function(){function t(){n&&n.end()}var e,n=$.start();return n.done(function(){return n=null,!x&&(x=p())?(n=x.start(),n.done(function(){n=null,m(),e.complete()}),n):(m(),void e.complete())}),e=new s({end:t,cancel:t})}}}function f(t,e,n,i){var r=p(t),o=p(e),a=[];return I(i,function(t){var e=t.out,i=t["in"],r=d(n,e,i);r&&a.push(r)}),r||o||0!==a.length?{start:function(){function t(){I(e,function(t){t.end()})}var e=[];r&&e.push(r.start()),o&&e.push(o.start()),I(a,function(t){e.push(t.start())});var n=new s({end:t,cancel:t});return s.all(e,function(t){n.complete(t)}),n}}:void 0}function p(e){var n=e.element,i=e.options||{};e.structural?(i.structural=i.applyClassesEarly=!0,i.event=e.event,"leave"===i.event&&(i.onDone=i.domOperation)):i.event=null;var r=t(n,i);return r.$$willAnimate?r:null}if(!u.animations&&!u.transitions)return O;var g=b(l).body,m=b(a),v=B(g.parentNode===m?g:m);return function(t){return t.from&&t.to?f(t.from,t.to,t.classes,t.anchors):p(t)}}]}],gt=["$animateProvider",function(t){this.$get=["$injector","$$AnimateRunner","$$rAFMutex","$$jqLite",function(e,n,i,r){function o(n){n=R(n)?n:n.split(" ");for(var i=[],r={},o=0;o<n.length;o++){var s=n[o],a=t.$$registeredAnimations[s];a&&!r[s]&&(i.push(e.get(a)),r[s]=!0)}return i}var s=d(r);return function(t,e,i,r){function a(){r.domOperation(),s(t,r)}function l(t,e,i,r,o){var s;switch(i){case"animate":s=[e,r.from,r.to,o];break;case"setClass":s=[e,g,m,o];break;case"addClass":s=[e,g,o];break;case"removeClass":s=[e,m,o];break;default:s=[e,o]}s.push(r);var a=t.apply(t,s);if(a)if(V(a.start)&&(a=a.start()),a instanceof n)a.done(o);else if(V(a))return a;return O}function u(t,e,i,r,o){var s=[];return I(r,function(r){var a=r[o];a&&s.push(function(){var r,o,s=!1,u=function(t){s||(s=!0,(o||O)(t),r.complete(!t))};return r=new n({end:function(){u()},cancel:function(){u(!0)}}),o=l(a,t,e,i,function(t){var e=t===!1;u(e)}),r})}),s}function c(t,e,i,r,o){var s=u(t,e,i,r,o);if(0===s.length){var a,l;"beforeSetClass"===o?(a=u(t,"removeClass",i,r,"beforeRemoveClass"),l=u(t,"addClass",i,r,"beforeAddClass")):"setClass"===o&&(a=u(t,"removeClass",i,r,"removeClass"),l=u(t,"addClass",i,r,"addClass")),a&&(s=s.concat(a)),l&&(s=s.concat(l))}if(0!==s.length)return function(t){var e=[];return s.length&&I(s,function(t){e.push(t())}),e.length?n.all(e,t):t(),function(t){I(e,function(e){t?e.cancel():e.end()})}}}3===arguments.length&&N(i)&&(r=i,i=null),r=f(r),i||(i=t.attr("class")||"",r.addClass&&(i+=" "+r.addClass),r.removeClass&&(i+=" "+r.removeClass));var h,d,g=r.addClass,m=r.removeClass,v=o(i);if(v.length){var y,b;"leave"==e?(b="leave",y="afterLeave"):(b="before"+e.charAt(0).toUpperCase()+e.substr(1),y=e),"enter"!==e&&"move"!==e&&(h=c(t,e,r,v,b)),d=c(t,e,r,v,y)}return h||d?{start:function(){function e(e){l=!0,a(),p(t,r),u.complete(e)}function i(t){l||((o||O)(t),e(t))}var o,s=[];h&&s.push(function(t){o=h(t)}),s.length?s.push(function(t){a(),t(!0)}):a(),d&&s.push(function(t){o=d(t)});var l=!1,u=new n({end:function(){i()},cancel:function(){i(!0)}});return n.chain(s,e),u}}:void 0}}]}],mt=["$$animationProvider",function(t){t.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(t,e){function n(e){var n=e.element,i=e.event,r=e.options,o=e.classes;return t(n,i,o,r)}return function(t){if(t.from&&t.to){var i=n(t.from),r=n(t.to);if(!i&&!r)return;return{start:function(){function t(){return function(){I(o,function(t){t.end()})}}function n(t){s.complete(t)}var o=[];i&&o.push(i.start()),r&&o.push(r.start()),e.all(o,n);var s=new e({end:t(),cancel:t()});return s}}}return n(t)}}]}],vt="data-ng-animate",yt="$ngAnimatePin",bt=["$animateProvider",function(t){function e(t,e,n,i){return s[t].some(function(t){return t(e,n,i)})}function n(t,e){t=t||{};var n=(t.addClass||"").length>0,i=(t.removeClass||"").length>0;return e?n&&i:n||i}var r=1,o=2,s=this.rules={skip:[],cancel:[],join:[]};s.join.push(function(t,e,i){return!e.structural&&n(e.options)}),s.skip.push(function(t,e,i){return!e.structural&&!n(e.options)}),s.skip.push(function(t,e,n){return"leave"==n.event&&e.structural}),s.skip.push(function(t,e,n){return n.structural&&!e.structural}),s.cancel.push(function(t,e,n){return n.structural&&e.structural}),s.cancel.push(function(t,e,n){return n.state===o&&e.structural}),s.cancel.push(function(t,e,n){var i=e.options,r=n.options;return i.addClass&&i.addClass===r.removeClass||i.removeClass&&i.removeClass===r.addClass}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite",function(s,a,c,h,g,m,y,w,x){function _(t,e){return v(t,e,{})}function $(t,e){var n=b(t),i=[],r=Y[e];return r&&I(r,function(t){t.node.contains(n)&&i.push(t.callback)}),i}function C(t,e,n,i){s(function(){I($(e,t),function(t){t(e,n,i)})})}function A(t,i,s){function u(e,n,i,r){C(n,t,i,r),e.progress(n,i,r)}function c(e){G(t,s),p(t,s),s.domOperation(),g.complete(!e)}var h,d;t=l(t),t&&(h=b(t),d=t.parent()),s=f(s);var g=new y;if(!h)return c(),g;R(s.addClass)&&(s.addClass=s.addClass.join(" ")),R(s.removeClass)&&(s.removeClass=s.removeClass.join(" ")),s.from&&!N(s.from)&&(s.from=null),s.to&&!N(s.to)&&(s.to=null);var w=[h.className,s.addClass,s.removeClass].join(" ");if(!X(w))return c(),g;var x=["enter","move","leave"].indexOf(i)>=0,$=!O||L.get(h),A=!$&&M.get(h)||{},k=!!A.state;if($||k&&A.state==r||($=!T(t,d,i)),$)return c(),g;x&&E(t);var P={structural:x,element:t,event:i,close:c,options:s,runner:g};if(k){var B=e("skip",t,P,A);if(B)return A.state===o?(c(),g):(v(t,A.options,s),A.runner);var I=e("cancel",t,P,A);if(I)A.state===o?A.runner.end():A.structural?A.close():v(t,P.options,A.options);else{var j=e("join",t,P,A);if(j){if(A.state!==o)return i=P.event=A.event,s=v(t,A.options,P.options),g;_(t,s)}}}else _(t,s);var z=P.structural;if(z||(z="animate"===P.event&&Object.keys(P.options.to||{}).length>0||n(P.options)),!z)return c(),S(t),g;x&&D(d);var U=(A.counter||0)+1;return P.counter=U,F(t,r,P),a.$$postDigest(function(){var e=M.get(h),r=!e;e=e||{};var a=t.parent()||[],l=a.length>0&&("animate"===e.event||e.structural||n(e.options));if(r||e.counter!==U||!l)return r&&(G(t,s),p(t,s)),(r||x&&e.event!==i)&&(s.domOperation(),g.end()),void(l||S(t));i=!e.structural&&n(e.options,!0)?"setClass":e.event,e.structural&&D(a),F(t,o);var d=m(t,i,e.options);d.done(function(e){c(!e);var n=M.get(h);n&&n.counter===U&&S(b(t)),u(g,i,"close",{})}),g.setHost(d),u(g,i,"start",{})}),g}function E(t){var e=b(t),n=e.querySelectorAll("["+vt+"]");I(n,function(t){var e=parseInt(t.getAttribute(vt)),n=M.get(t);switch(e){case o:n.runner.end();case r:n&&M.remove(t)}})}function S(t){var e=b(t);e.removeAttribute(vt),M.remove(e)}function k(t,e){return b(t)===b(e)}function D(t){function e(t,e){!e.structural&&n(e.options)&&(e.state===o&&e.runner.end(),S(t))}for(var i=b(t);;){if(!i||i.nodeType!==W)break;var r=M.get(i);r&&e(i,r),i=i.parentNode}}function T(t,e,n){var i,r=!1,o=!1,s=!1,a=t.data(yt);for(a&&(e=a);e&&e.length;){o||(o=k(e,c));var l=e[0];if(l.nodeType!==W)break;var u=M.get(l)||{};if(s||(s=u.structural||L.get(l)),z(i)||i===!0){var h=e.data(q);U(h)&&(i=h)}if(s&&i===!1)break;o||(o=k(e,c),o||(a=e.data(yt),a&&(e=a))),r||(r=k(e,V)),e=e.parent()}var d=!s||i;return d&&o&&r}function F(t,e,n){n=n||{},n.state=e;var i=b(t);i.setAttribute(vt,e);var r=M.get(i),o=r?P(r,n):n;M.put(i,o)}var M=new g,L=new g,O=null,j=a.$watch(function(){return 0===w.totalPendingRequests},function(t){t&&(j(),a.$$postDigest(function(){a.$$postDigest(function(){null===O&&(O=!0)})}))}),V=B(h[0].body),Y={},K=t.classNameFilter(),X=K?function(t){return K.test(t)}:function(){return!0},G=d(x);return{on:function(t,e,n){var i=u(e);Y[t]=Y[t]||[],Y[t].push({node:i,callback:n})},off:function(t,e,n){function i(t,e,n){var i=u(e);return t.filter(function(t){var e=t.node===i&&(!n||t.callback===n);return!e})}var r=Y[t];r&&(Y[t]=1===arguments.length?null:i(r,e,n))},pin:function(t,e){i(H(t),"element","not an element"),i(H(e),"parentElement","not an element"),t.data(yt,e)},push:function(t,e,n,i){return n=n||{},n.domOperation=i,A(t,e,n)},enabled:function(t,e){var n=arguments.length;if(0===n)e=!!O;else{var i=H(t);if(i){var r=b(t),o=L.get(r);1===n?e=!o:(e=!!e,e?o&&L.remove(r):L.put(r,!0))}else e=O=!!t}return e}}}]}],wt=["$$rAF",function(t){return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}],xt=["$q","$$rAFMutex",function(t,e){function n(t){this.setHost(t),this._doneCallbacks=[],this._runInAnimationFrame=e(),this._state=0}var i=0,r=1,o=2;return n.chain=function(t,e){function n(){return i===t.length?void e(!0):void t[i](function(t){return t===!1?void e(!1):(i++,void n())})}var i=0;n()},n.all=function(t,e){function n(n){r=r&&n,++i===t.length&&e(r)}var i=0,r=!0;I(t,function(t){t.done(n)})},n.prototype={setHost:function(t){this.host=t||{}},done:function(t){this._state===o?t():this._doneCallbacks.push(t)},progress:O,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){e===!1?n():t()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},"catch":function(t){return this.getPromise()["catch"](t)},"finally":function(t){return this.getPromise()["finally"](t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;e._state===i&&(e._state=r,e._runInAnimationFrame(function(){e._resolve(t)}))},_resolve:function(t){this._state!==o&&(I(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=o)}},n}],_t=["$animateProvider",function(t){function e(t,e){t.data(a,e)}function n(t){t.removeData(a)}function i(t){return t.data(a)}var o="ng-animate-ref",s=this.drivers=[],a="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$rAFScheduler",function(t,a,l,u,c){var h=[],g=d(t),m=0,v=0,y=[];return function(d,w,x){function _(t){var e="["+o+"]",n=t.hasAttribute(o)?[t]:t.querySelectorAll(e),i=[];return I(n,function(t){var e=t.getAttribute(o);e&&e.length&&i.push(t)}),i}function $(t){var e=[],n={};I(t,function(t,i){var r=t.element,s=b(r),a=t.event,l=["enter","move"].indexOf(a)>=0,u=t.structural?_(s):[];if(u.length){var c=l?"to":"from";I(u,function(t){var e=t.getAttribute(o);n[e]=n[e]||{},n[e][c]={animationID:i,element:B(t)}})}else e.push(t)});var i={},r={};return I(n,function(n,o){var s=n.from,a=n.to;if(!s||!a){var l=s?s.animationID:a.animationID,u=l.toString();return void(i[u]||(i[u]=!0,e.push(t[l])))}var c=t[s.animationID],h=t[a.animationID],d=s.animationID.toString();if(!r[d]){var f=r[d]={structural:!0,beforeStart:function(){c.beforeStart(),h.beforeStart()},close:function(){c.close(),h.close()},classes:C(c.classes,h.classes),from:c,to:h,anchors:[]};f.classes.length?e.push(f):(e.push(c),e.push(h))}r[d].anchors.push({out:s.element,"in":a.element})}),e}function C(t,e){t=t.split(" "),e=e.split(" ");for(var n=[],i=0;i<t.length;i++){var r=t[i];if("ng-"!==r.substring(0,3))for(var o=0;o<e.length;o++)if(r===e[o]){n.push(r);break}}return n.join(" ")}function A(t){for(var e=s.length-1;e>=0;e--){var n=s[e];if(l.has(n)){var i=l.get(n),r=i(t);if(r)return r}}}function E(){d.addClass(Y),L&&t.addClass(d,L)}function S(t,e){function n(t){i(t).setHost(e)}t.from&&t.to?(n(t.from.element),n(t.to.element)):n(t.element)}function k(){var t=i(d);!t||"leave"===w&&x.$$domOperationFired||t.end()}function D(e){d.off("$destroy",k),n(d),g(d,x),p(d,x),x.domOperation(),L&&t.removeClass(d,L),d.removeClass(Y),F.complete(!e)}x=f(x);var T=["enter","move","leave"].indexOf(w)>=0,F=new u({end:function(){D()},cancel:function(){D(!0)}});if(!s.length)return D(),F;e(d,F);var M=r(d.attr("class"),r(x.addClass,x.removeClass)),L=x.tempClasses;L&&(M+=" "+L,x.tempClasses=null);var O;return T||(O=m,m+=1),h.push({element:d,classes:M,event:w,classBasedIndex:O,structural:T,options:x,beforeStart:E,close:D}),d.on("$destroy",k),h.length>1?F:(a.$$postDigest(function(){v=m,m=0,y.length=0;var t=[];I(h,function(e){i(e.element)&&t.push(e)}),h.length=0,I($(t),function(t){function e(){t.beforeStart();var e,n=t.close,r=t.anchors?t.from.element||t.to.element:t.element;if(i(r)&&b(r).parentNode){var o=A(t);o&&(e=o.start)}if(e){var s=e();s.done(function(t){n(!t)}),S(t,s)}else n()}t.structural?e():(y.push({node:b(t.element),fn:e}),t.classBasedIndex===v-1&&(y=y.sort(function(t,e){return e.node.contains(t.node)}).map(function(t){return t.fn}),c(y)))})}),F)}}]}];e.module("ngAnimate",[]).directive("ngAnimateChildren",X).factory("$$rAFMutex",wt).factory("$$rAFScheduler",K).factory("$$AnimateRunner",xt).provider("$$animateQueue",bt).provider("$$animation",_t).provider("$animateCss",ft).provider("$$animateCssDriver",pt).provider("$$animateJs",gt).provider("$$animateJsDriver",mt)}(window,window.angular),function(t,e,n){"use strict";function i(t){return null!=t&&""!==t&&"hasOwnProperty"!==t&&a.test("."+t)}function r(t,e){if(!i(e))throw s("badmember",'Dotted member path "@{0}" is invalid.',e);for(var r=e.split("."),o=0,a=r.length;a>o&&t!==n;o++){var l=r[o];t=null!==t?t[l]:n}return t}function o(t,n){n=n||{},e.forEach(n,function(t,e){delete n[e]});for(var i in t)!t.hasOwnProperty(i)||"$"===i.charAt(0)&&"$"===i.charAt(1)||(n[i]=t[i]);return n}var s=e.$$minErr("$resource"),a=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;e.module("ngResource",["ng"]).provider("$resource",function(){var t=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$q",function(i,a){function l(t){return u(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function u(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,e?"%20":"+")}function c(e,n){this.template=e,this.defaults=p({},t.defaults,n),this.urlParams={}}function h(l,u,v,y){function b(t,e){var n={};return e=p({},u,e),f(e,function(e,i){m(e)&&(e=e()),n[i]=e&&e.charAt&&"@"==e.charAt(0)?r(t,e.substr(1)):e}),n}function w(t){return t.resource}function x(t){o(t||{},this)}var _=new c(l,y);return v=p({},t.defaults.actions,v),x.prototype.toJSON=function(){var t=p({},this);return delete t.$promise,delete t.$resolved,t},f(v,function(t,r){var l=/^(POST|PUT|PATCH)$/i.test(t.method);x[r]=function(u,c,h,v){var y,$,C,A={};switch(arguments.length){case 4:C=v,$=h;case 3:case 2:if(!m(c)){A=u,y=c,$=h;break}if(m(u)){$=u,C=c;break}$=c,C=h;case 1:m(u)?$=u:l?y=u:A=u;break;case 0:break;default:throw s("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var E=this instanceof x,S=E?y:t.isArray?[]:new x(y),k={},D=t.interceptor&&t.interceptor.response||w,T=t.interceptor&&t.interceptor.responseError||n;f(t,function(t,e){"params"!=e&&"isArray"!=e&&"interceptor"!=e&&(k[e]=g(t))}),l&&(k.data=y),_.setUrlParams(k,p({},b(y,t.params||{}),A),t.url);var F=i(k).then(function(n){var i=n.data,a=S.$promise;if(i){if(e.isArray(i)!==!!t.isArray)throw s("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",r,t.isArray?"array":"object",e.isArray(i)?"array":"object",k.method,k.url);t.isArray?(S.length=0,f(i,function(t){"object"==typeof t?S.push(new x(t)):S.push(t)})):(o(i,S),S.$promise=a)}return S.$resolved=!0,n.resource=S,n},function(t){return S.$resolved=!0,(C||d)(t),a.reject(t)});return F=F.then(function(t){var e=D(t);return($||d)(e,t.headers),e},T),E?F:(S.$promise=F,S.$resolved=!1,S)},x.prototype["$"+r]=function(t,e,n){m(t)&&(n=e,e=t,t={});var i=x[r].call(this,t,this,e,n);return i.$promise||i}}),x.bind=function(t){return h(l,p({},u,t),v)},x}var d=e.noop,f=e.forEach,p=e.extend,g=e.copy,m=e.isFunction;return c.prototype={setUrlParams:function(t,n,i){var r,o,a=this,u=i||a.template,c=a.urlParams={};f(u.split(/\W/),function(t){if("hasOwnProperty"===t)throw s("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(t)&&t&&new RegExp("(^|[^\\\\]):"+t+"(\\W|$)").test(u)&&(c[t]=!0)}),u=u.replace(/\\:/g,":"),n=n||{},f(a.urlParams,function(t,i){r=n.hasOwnProperty(i)?n[i]:a.defaults[i],e.isDefined(r)&&null!==r?(o=l(r),u=u.replace(new RegExp(":"+i+"(\\W|$)","g"),function(t,e){return o+e})):u=u.replace(new RegExp("(/?):"+i+"(\\W|$)","g"),function(t,e,n){return"/"==n.charAt(0)?n:e+n})}),a.defaults.stripTrailingSlashes&&(u=u.replace(/\/+$/,"")||"/"),u=u.replace(/\/\.(?=\w+($|\?))/,"."),t.url=u.replace(/\/\\\./,"/."),f(n,function(e,n){a.urlParams[n]||(t.params=t.params||{},t.params[n]=e)})}},h}]})}(window,window.angular),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(t,e,n){"use strict";function i(t,e){return V(new(V(function(){},{prototype:t})),e)}function r(t){return U(arguments,function(e){e!==t&&U(e,function(e,n){t.hasOwnProperty(n)||(t[n]=e)})}),t}function o(t,e){var n=[];for(var i in t.path){if(t.path[i]!==e.path[i])break;n.push(t.path[i])}return n}function s(t){if(Object.keys)return Object.keys(t);var e=[];return U(t,function(t,n){e.push(n)}),e}function a(t,e){if(Array.prototype.indexOf)return t.indexOf(e,Number(arguments[2])||0);var n=t.length>>>0,i=Number(arguments[2])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=n);n>i;i++)if(i in t&&t[i]===e)return i;return-1}function l(t,e,n,i){var r,l=o(n,i),u={},c=[];for(var h in l)if(l[h]&&l[h].params&&(r=s(l[h].params),r.length))for(var d in r)a(c,r[d])>=0||(c.push(r[d]),u[r[d]]=t[r[d]]);return V({},u,e)}function u(t,e,n){if(!n){n=[];for(var i in t)n.push(i)}for(var r=0;r<n.length;r++){var o=n[r];if(t[o]!=e[o])return!1}return!0}function c(t,e){var n={};return U(t,function(t){n[t]=e[t]}),n}function h(t){var e={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return U(n,function(n){n in t&&(e[n]=t[n])}),e}function d(t){var e={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var i in t)-1==a(n,i)&&(e[i]=t[i]);return e}function f(t,e){var n=z(t),i=n?[]:{};return U(t,function(t,r){e(t,r)&&(i[n?i.length:r]=t)}),i}function p(t,e){var n=z(t)?[]:{};return U(t,function(t,i){n[i]=e(t,i)}),n}function g(t,e){var i=1,o=2,l={},u=[],c=l,h=V(t.when(l),{$$promises:l,$$values:l});this.study=function(l){function f(t,n){if(y[n]!==o){if(v.push(n),y[n]===i)throw v.splice(0,a(v,n)),new Error("Cyclic dependency: "+v.join(" -> "));if(y[n]=i,j(t))m.push(n,[function(){return e.get(t)}],u);else{var r=e.annotate(t);U(r,function(t){t!==n&&l.hasOwnProperty(t)&&f(l[t],t)}),m.push(n,t,r)}v.pop(),y[n]=o}}function p(t){return N(t)&&t.then&&t.$$promises}if(!N(l))throw new Error("'invocables' must be an object");var g=s(l||{}),m=[],v=[],y={};return U(l,f),l=v=y=null,function(i,o,s){function a(){--w||(x||r(b,o.$$values),v.$$values=b,v.$$promises=v.$$promises||!0,delete v.$$inheritedValues,f.resolve(b))}function l(t){v.$$failure=t,f.reject(t)}function u(n,r,o){function u(t){h.reject(t),l(t)}function c(){if(!I(v.$$failure))try{h.resolve(e.invoke(r,s,b)),h.promise.then(function(t){b[n]=t,a()},u)}catch(t){u(t)}}var h=t.defer(),d=0;U(o,function(t){y.hasOwnProperty(t)&&!i.hasOwnProperty(t)&&(d++,y[t].then(function(e){b[t]=e,--d||c()},u))}),d||c(),y[n]=h.promise}if(p(i)&&s===n&&(s=o,o=i,i=null),i){if(!N(i))throw new Error("'locals' must be an object")}else i=c;if(o){if(!p(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=h;var f=t.defer(),v=f.promise,y=v.$$promises={},b=V({},i),w=1+m.length/3,x=!1;if(I(o.$$failure))return l(o.$$failure),v;o.$$inheritedValues&&r(b,d(o.$$inheritedValues,g)),V(y,o.$$promises),o.$$values?(x=r(b,d(o.$$values,g)),v.$$inheritedValues=d(o.$$values,g),a()):(o.$$inheritedValues&&(v.$$inheritedValues=d(o.$$inheritedValues,g)),o.then(a,l));for(var _=0,$=m.length;$>_;_+=3)i.hasOwnProperty(m[_])?a():u(m[_],m[_+1],m[_+2]);return v}},this.resolve=function(t,e,n,i){return this.study(t)(e,n,i)}}function m(t,e,n){this.fromConfig=function(t,e,n){return I(t.template)?this.fromString(t.template,e):I(t.templateUrl)?this.fromUrl(t.templateUrl,e):I(t.templateProvider)?this.fromProvider(t.templateProvider,e,n):null},this.fromString=function(t,e){return R(t)?t(e):t},this.fromUrl=function(n,i){return R(n)&&(n=n(i)),null==n?null:t.get(n,{cache:e,headers:{
Accept:"text/html"}}).then(function(t){return t.data})},this.fromProvider=function(t,e,i){return n.invoke(t,null,i||{params:e})}}function v(t,e,r){function o(e,n,i,r){if(m.push(e),p[e])return p[e];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(e))throw new Error("Invalid parameter name '"+e+"' in pattern '"+t+"'");if(g[e])throw new Error("Duplicate parameter name '"+e+"' in pattern '"+t+"'");return g[e]=new Y.Param(e,n,i,r),g[e]}function s(t,e,n,i){var r=["",""],o=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return o;switch(n){case!1:r=["(",")"+(i?"?":"")];break;case!0:o=o.replace(/\/$/,""),r=["(?:/(",")|/)?"];break;default:r=["("+n+"|",")?"]}return o+r[0]+e+r[1]}function a(r,o){var s,a,l,u,c;return s=r[2]||r[3],c=e.params[s],l=t.substring(d,r.index),a=o?r[4]:r[4]||("*"==r[1]?".*":null),a&&(u=Y.type(a)||i(Y.type("string"),{pattern:new RegExp(a,e.caseInsensitive?"i":n)})),{id:s,regexp:a,segment:l,type:u,cfg:c}}e=V({params:{}},N(e)?e:{});var l,u=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,h="^",d=0,f=this.segments=[],p=r?r.params:{},g=this.params=r?r.params.$$new():new Y.ParamSet,m=[];this.source=t;for(var v,y,b;(l=u.exec(t))&&(v=a(l,!1),!(v.segment.indexOf("?")>=0));)y=o(v.id,v.type,v.cfg,"path"),h+=s(v.segment,y.type.pattern.source,y.squash,y.isOptional),f.push(v.segment),d=u.lastIndex;b=t.substring(d);var w=b.indexOf("?");if(w>=0){var x=this.sourceSearch=b.substring(w);if(b=b.substring(0,w),this.sourcePath=t.substring(0,d+w),x.length>0)for(d=0;l=c.exec(x);)v=a(l,!0),y=o(v.id,v.type,v.cfg,"search"),d=u.lastIndex}else this.sourcePath=t,this.sourceSearch="";h+=s(b)+(e.strict===!1?"/?":"")+"$",f.push(b),this.regexp=new RegExp(h,e.caseInsensitive?"i":n),this.prefix=f[0],this.$$paramNames=m}function y(t){V(this,t)}function b(){function t(t){return null!=t?t.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):t}function r(t){return null!=t?t.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):t}function o(){return{strict:g,caseInsensitive:d}}function l(t){return R(t)||z(t)&&R(t[t.length-1])}function u(){for(;_.length;){var t=_.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");e.extend(w[t.name],h.invoke(t.def))}}function c(t){V(this,t||{})}Y=this;var h,d=!1,g=!0,m=!1,w={},x=!0,_=[],$={string:{encode:t,decode:r,is:function(t){return null==t||!I(t)||"string"==typeof t},pattern:/[^\/]*/},"int":{encode:t,decode:function(t){return parseInt(t,10)},is:function(t){return I(t)&&this.decode(t.toString())===t},pattern:/\d+/},bool:{encode:function(t){return t?1:0},decode:function(t){return 0!==parseInt(t,10)},is:function(t){return t===!0||t===!1},pattern:/0|1/},date:{encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):n},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):n},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return this.is(t)&&this.is(e)&&t.toISOString()===e.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:e.toJson,decode:e.fromJson,is:e.isObject,equals:e.equals,pattern:/[^\/]*/},any:{encode:e.identity,decode:e.identity,equals:e.equals,pattern:/.*/}};b.$$getDefaultValue=function(t){if(!l(t.value))return t.value;if(!h)throw new Error("Injectable functions cannot be called at configuration time");return h.invoke(t.value)},this.caseInsensitive=function(t){return I(t)&&(d=t),d},this.strictMode=function(t){return I(t)&&(g=t),g},this.defaultSquashPolicy=function(t){if(!I(t))return m;if(t!==!0&&t!==!1&&!j(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return m=t,t},this.compile=function(t,e){return new v(t,V(o(),e))},this.isMatcher=function(t){if(!N(t))return!1;var e=!0;return U(v.prototype,function(n,i){R(n)&&(e=e&&I(t[i])&&R(t[i]))}),e},this.type=function(t,e,n){if(!I(e))return w[t];if(w.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return w[t]=new y(V({name:t},e)),n&&(_.push({name:t,def:n}),x||u()),this},U($,function(t,e){w[e]=new y(V({name:e},t))}),w=i(w,{}),this.$get=["$injector",function(t){return h=t,x=!1,u(),U($,function(t,e){w[e]||(w[e]=new y(t))}),this}],this.Param=function(t,i,r,o){function u(t){var e=N(t)?s(t):[],n=-1===a(e,"value")&&-1===a(e,"type")&&-1===a(e,"squash")&&-1===a(e,"array");return n&&(t={value:t}),t.$$fn=l(t.value)?t.value:function(){return t.value},t}function c(n,i,r){if(n.type&&i)throw new Error("Param '"+t+"' has two type configurations.");return i?i:n.type?e.isString(n.type)?w[n.type]:n.type instanceof y?n.type:new y(n.type):"config"===r?w.any:w.string}function d(){var e={array:"search"===o?"auto":!1},n=t.match(/\[\]$/)?{array:!0}:{};return V(e,n,r).array}function g(t,e){var n=t.squash;if(!e||n===!1)return!1;if(!I(n)||null==n)return m;if(n===!0||j(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function v(t,e,i,r){var o,s,l=[{from:"",to:i||e?n:""},{from:null,to:i||e?n:""}];return o=z(t.replace)?t.replace:[],j(r)&&o.push({from:r,to:n}),s=p(o,function(t){return t.from}),f(l,function(t){return-1===a(s,t.from)}).concat(o)}function b(){if(!h)throw new Error("Injectable functions cannot be called at configuration time");var t=h.invoke(r.$$fn);if(null!==t&&t!==n&&!$.type.is(t))throw new Error("Default value ("+t+") for parameter '"+$.id+"' is not an instance of Type ("+$.type.name+")");return t}function x(t){function e(t){return function(e){return e.from===t}}function n(t){var n=p(f($.replace,e(t)),function(t){return t.to});return n.length?n[0]:t}return t=n(t),I(t)?$.type.$normalize(t):b()}function _(){return"{Param:"+t+" "+i+" squash: '"+E+"' optional: "+A+"}"}var $=this;r=u(r),i=c(r,i,o);var C=d();i=C?i.$asArray(C,"search"===o):i,"string"!==i.name||C||"path"!==o||r.value!==n||(r.value="");var A=r.value!==n,E=g(r,A),S=v(r,C,A,E);V(this,{id:t,type:i,location:o,array:C,squash:E,replace:S,isOptional:A,value:x,dynamic:n,config:r,toString:_})},c.prototype={$$new:function(){return i(this,V(new c,{$$parent:this}))},$$keys:function(){for(var t=[],e=[],n=this,i=s(c.prototype);n;)e.push(n),n=n.$$parent;return e.reverse(),U(e,function(e){U(s(e),function(e){-1===a(t,e)&&-1===a(i,e)&&t.push(e)})}),t},$$values:function(t){var e={},n=this;return U(n.$$keys(),function(i){e[i]=n[i].value(t&&t[i])}),e},$$equals:function(t,e){var n=!0,i=this;return U(i.$$keys(),function(r){var o=t&&t[r],s=e&&e[r];i[r].type.equals(o,s)||(n=!1)}),n},$$validates:function(t){var i,r,o,s,a,l=this.$$keys();for(i=0;i<l.length&&(r=this[l[i]],o=t[l[i]],o!==n&&null!==o||!r.isOptional);i++){if(s=r.type.$normalize(o),!r.type.is(s))return!1;if(a=r.type.encode(s),e.isString(a)&&!r.type.pattern.exec(a))return!1}return!0},$$parent:n},this.ParamSet=c}function w(t,i){function r(t){var e=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(t.source);return null!=e?e[1].replace(/\\(.)/g,"$1"):""}function o(t,e){return t.replace(/\$(\$|\d{1,2})/,function(t,n){return e["$"===n?0:Number(n)]})}function s(t,e,n){if(!n)return!1;var i=t.invoke(e,e,{$match:n});return I(i)?i:!0}function a(i,r,o,s,a){function d(t,e,n){return"/"===m?t:e?m.slice(0,-1)+t:n?m.slice(1)+t:t}function f(t){function e(t){var e=t(o,i);return e?(j(e)&&i.replace().url(e),!0):!1}if(!t||!t.defaultPrevented){g&&i.url()===g;g=n;var r,s=u.length;for(r=0;s>r;r++)if(e(u[r]))return;c&&e(c)}}function p(){return l=l||r.$on("$locationChangeSuccess",f)}var g,m=s.baseHref(),v=i.url();return h||p(),{sync:function(){f()},listen:function(){return p()},update:function(t){return t?void(v=i.url()):void(i.url()!==v&&(i.url(v),i.replace()))},push:function(t,e,r){var o=t.format(e||{});null!==o&&e&&e["#"]&&(o+="#"+e["#"]),i.url(o),g=r&&r.$$avoidResync?i.url():n,r&&r.replace&&i.replace()},href:function(n,r,o){if(!n.validates(r))return null;var s=t.html5Mode();e.isObject(s)&&(s=s.enabled),s=s&&a.history;var l=n.format(r);if(o=o||{},s||null===l||(l="#"+t.hashPrefix()+l),null!==l&&r&&r["#"]&&(l+="#"+r["#"]),l=d(l,s,o.absolute),!o.absolute||!l)return l;var u=!s&&l?"/":"",c=i.port();return c=80===c||443===c?"":":"+c,[i.protocol(),"://",i.host(),c,u,l].join("")}}}var l,u=[],c=null,h=!1;this.rule=function(t){if(!R(t))throw new Error("'rule' must be a function");return u.push(t),this},this.otherwise=function(t){if(j(t)){var e=t;t=function(){return e}}else if(!R(t))throw new Error("'rule' must be a function");return c=t,this},this.when=function(t,e){var n,a=j(e);if(j(t)&&(t=i.compile(t)),!a&&!R(e)&&!z(e))throw new Error("invalid 'handler' in when()");var l={matcher:function(t,e){return a&&(n=i.compile(e),e=["$match",function(t){return n.format(t)}]),V(function(n,i){return s(n,e,t.exec(i.path(),i.search()))},{prefix:j(t.prefix)?t.prefix:""})},regex:function(t,e){if(t.global||t.sticky)throw new Error("when() RegExp must not be global or sticky");return a&&(n=e,e=["$match",function(t){return o(n,t)}]),V(function(n,i){return s(n,e,t.exec(i.path()))},{prefix:r(t)})}},u={matcher:i.isMatcher(t),regex:t instanceof RegExp};for(var c in u)if(u[c])return this.rule(l[c](t,e));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(t){t===n&&(t=!0),h=t},this.$get=a,a.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function x(t,r){function o(t){return 0===t.indexOf(".")||0===t.indexOf("^")}function d(t,e){if(!t)return n;var i=j(t),r=i?t:t.name,s=o(r);if(s){if(!e)throw new Error("No reference point given for path '"+r+"'");e=d(e);for(var a=r.split("."),l=0,u=a.length,c=e;u>l;l++)if(""!==a[l]||0!==l){if("^"!==a[l])break;if(!c.parent)throw new Error("Path '"+r+"' not valid for state '"+e.name+"'");c=c.parent}else c=e;a=a.slice(l).join("."),r=c.name+(c.name&&a?".":"")+a}var h=A[r];return!h||!i&&(i||h!==t&&h.self!==t)?n:h}function f(t,e){E[t]||(E[t]=[]),E[t].push(e)}function g(t){for(var e=E[t]||[];e.length;)m(e.shift())}function m(e){e=i(e,{self:e,resolve:e.resolve||{},toString:function(){return this.name}});var n=e.name;if(!j(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(A.hasOwnProperty(n))throw new Error("State '"+n+"' is already defined");var r=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):j(e.parent)?e.parent:N(e.parent)&&j(e.parent.name)?e.parent.name:"";if(r&&!A[r])return f(r,e.self);for(var o in k)R(k[o])&&(e[o]=k[o](e,k.$delegates[o]));return A[n]=e,!e[S]&&e.url&&t.when(e.url,["$match","$stateParams",function(t,n){C.$current.navigable==e&&u(t,n)||C.transitionTo(e,t,{inherit:!0,location:!1})}]),g(n),e}function v(t){return t.indexOf("*")>-1}function y(t){for(var e=t.split("."),n=C.$current.name.split("."),i=0,r=e.length;r>i;i++)"*"===e[i]&&(n[i]="*");return"**"===e[0]&&(n=n.slice(a(n,e[1])),n.unshift("**")),"**"===e[e.length-1]&&(n.splice(a(n,e[e.length-2])+1,Number.MAX_VALUE),n.push("**")),e.length!=n.length?!1:n.join("")===e.join("")}function b(t,e){return j(t)&&!I(e)?k[t]:R(e)&&j(t)?(k[t]&&!k.$delegates[t]&&(k.$delegates[t]=k[t]),k[t]=e,this):this}function w(t,e){return N(t)?e=t:e.name=t,m(e),this}function x(t,r,o,a,h,f,g,m,b){function w(e,n,i,o){var s=t.$broadcast("$stateNotFound",e,n,i);if(s.defaultPrevented)return g.update(),D;if(!s.retry)return null;if(o.$retry)return g.update(),T;var a=C.transition=r.when(s.retry);return a.then(function(){return a!==C.transition?E:(e.options.$retry=!0,C.transitionTo(e.to,e.toParams,e.options))},function(){return D}),g.update(),a}function x(t,n,i,s,l,u){function d(){var n=[];return U(t.views,function(i,r){var s=i.resolve&&i.resolve!==t.resolve?i.resolve:{};s.$template=[function(){return o.load(r,{view:i,locals:l.globals,params:f,notify:u.notify})||""}],n.push(h.resolve(s,l.globals,l.resolve,t).then(function(n){if(R(i.controllerProvider)||z(i.controllerProvider)){var o=e.extend({},s,l.globals);n.$$controller=a.invoke(i.controllerProvider,null,o)}else n.$$controller=i.controller;n.$$state=t,n.$$controllerAs=i.controllerAs,n.$$resolveAs=i.resolveAs,l[r]=n}))}),r.all(n).then(function(){return l.globals})}var f=i?n:c(t.params.$$keys(),n),p={$stateParams:f};l.resolve=h.resolve(t.resolve,p,l.resolve,t);var g=[l.resolve.then(function(t){l.globals=t})];return s&&g.push(s),r.all(g).then(d).then(function(t){return l})}var E=r.reject(new Error("transition superseded")),k=r.reject(new Error("transition prevented")),D=r.reject(new Error("transition aborted")),T=r.reject(new Error("transition failed"));return $.locals={resolve:null,globals:{$stateParams:{}}},C={params:{},current:$.self,$current:$,transition:null},C.reload=function(t){return C.transitionTo(C.current,f,{reload:t||!0,inherit:!1,notify:!0})},C.go=function(t,e,n){return C.transitionTo(t,e,V({inherit:!0,relative:C.$current},n))},C.transitionTo=function(e,n,o){n=n||{},o=V({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var s,u=C.$current,h=C.params,p=u.path,m=d(e,o.relative),v=n["#"];if(!I(m)){var y={to:e,toParams:n,options:o},b=w(y,u.self,h,o);if(b)return b;if(e=y.to,n=y.toParams,o=y.options,m=d(e,o.relative),!I(m)){if(!o.relative)throw new Error("No such state '"+e+"'");throw new Error("Could not resolve '"+e+"' from state '"+o.relative+"'")}}if(m[S])throw new Error("Cannot transition to abstract state '"+e+"'");if(o.inherit&&(n=l(f,n||{},C.$current,m)),!m.params.$$validates(n))return T;n=m.params.$$values(n),e=m;var A=e.path,D=0,F=A[D],M=$.locals,L=[];if(o.reload){if(j(o.reload)||N(o.reload)){if(N(o.reload)&&!o.reload.name)throw new Error("Invalid reload state object");var O=o.reload===!0?p[0]:d(o.reload);if(o.reload&&!O)throw new Error("No such reload state '"+(j(o.reload)?o.reload:o.reload.name)+"'");for(;F&&F===p[D]&&F!==O;)M=L[D]=F.locals,D++,F=A[D]}}else for(;F&&F===p[D]&&F.ownParams.$$equals(n,h);)M=L[D]=F.locals,D++,F=A[D];if(_(e,n,u,h,M,o))return v&&(n["#"]=v),C.params=n,H(C.params,f),H(c(e.params.$$keys(),f),e.locals.globals.$stateParams),o.location&&e.navigable&&e.navigable.url&&(g.push(e.navigable.url,n,{$$avoidResync:!0,replace:"replace"===o.location}),g.update(!0)),C.transition=null,r.when(C.current);if(n=c(e.params.$$keys(),n||{}),v&&(n["#"]=v),o.notify&&t.$broadcast("$stateChangeStart",e.self,n,u.self,h,o).defaultPrevented)return t.$broadcast("$stateChangeCancel",e.self,n,u.self,h),null==C.transition&&g.update(),k;for(var P=r.when(M),B=D;B<A.length;B++,F=A[B])M=L[B]=i(M),P=x(F,n,F===e,P,M,o);var R=C.transition=P.then(function(){var i,r,s;if(C.transition!==R)return E;for(i=p.length-1;i>=D;i--)s=p[i],s.self.onExit&&a.invoke(s.self.onExit,s.self,s.locals.globals),s.locals=null;for(i=D;i<A.length;i++)r=A[i],r.locals=L[i],r.self.onEnter&&a.invoke(r.self.onEnter,r.self,r.locals.globals);return C.transition!==R?E:(C.$current=e,C.current=e.self,C.params=n,H(C.params,f),C.transition=null,o.location&&e.navigable&&g.push(e.navigable.url,e.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&t.$broadcast("$stateChangeSuccess",e.self,n,u.self,h),g.update(!0),C.current)},function(i){return C.transition!==R?E:(C.transition=null,s=t.$broadcast("$stateChangeError",e.self,n,u.self,h,i),s.defaultPrevented||g.update(),r.reject(i))});return R},C.is=function(t,e,i){i=V({relative:C.$current},i||{});var r=d(t,i.relative);return I(r)?C.$current!==r?!1:e?u(r.params.$$values(e),f):!0:n},C.includes=function(t,e,i){if(i=V({relative:C.$current},i||{}),j(t)&&v(t)){if(!y(t))return!1;t=C.$current.name}var r=d(t,i.relative);return I(r)?I(C.$current.includes[r.name])?e?u(r.params.$$values(e),f,s(e)):!0:!1:n},C.href=function(t,e,i){i=V({lossy:!0,inherit:!0,absolute:!1,relative:C.$current},i||{});var r=d(t,i.relative);if(!I(r))return null;i.inherit&&(e=l(f,e||{},C.$current,r));var o=r&&i.lossy?r.navigable:r;return o&&o.url!==n&&null!==o.url?g.href(o.url,c(r.params.$$keys().concat("#"),e||{}),{absolute:i.absolute}):null},C.get=function(t,e){if(0===arguments.length)return p(s(A),function(t){return A[t].self});var n=d(t,e||C.$current);return n&&n.self?n.self:null},C}function _(t,e,n,i,r,o){function s(t,e,n){function i(e){return"search"!=t.params[e].location}var r=t.params.$$keys().filter(i),o=h.apply({},[t.params].concat(r)),s=new Y.ParamSet(o);return s.$$equals(e,n)}return!o.reload&&t===n&&(r===n.locals||t.self.reloadOnSearch===!1&&s(n,i,e))?!0:void 0}var $,C,A={},E={},S="abstract",k={parent:function(t){if(I(t.parent)&&t.parent)return d(t.parent);var e=/^(.+)\.[^.]+$/.exec(t.name);return e?d(e[1]):$},data:function(t){return t.parent&&t.parent.data&&(t.data=t.self.data=i(t.parent.data,t.data)),t.data},url:function(t){var e=t.url,n={params:t.params||{}};if(j(e))return"^"==e.charAt(0)?r.compile(e.substring(1),n):(t.parent.navigable||$).url.concat(e,n);if(!e||r.isMatcher(e))return e;throw new Error("Invalid url '"+e+"' in state '"+t+"'")},navigable:function(t){return t.url?t:t.parent?t.parent.navigable:null},ownParams:function(t){var e=t.url&&t.url.params||new Y.ParamSet;return U(t.params||{},function(t,n){e[n]||(e[n]=new Y.Param(n,null,t,"config"))}),e},params:function(t){var e=h(t.ownParams,t.ownParams.$$keys());return t.parent&&t.parent.params?V(t.parent.params.$$new(),e):new Y.ParamSet},views:function(t){var e={};return U(I(t.views)?t.views:{"":t},function(n,i){i.indexOf("@")<0&&(i+="@"+t.parent.name),n.resolveAs=n.resolveAs||t.resolveAs||"$resolve",e[i]=n}),e},path:function(t){return t.parent?t.parent.path.concat(t):[]},includes:function(t){var e=t.parent?V({},t.parent.includes):{};return e[t.name]=!0,e},$delegates:{}};$=m({name:"",url:"^",views:null,"abstract":!0}),$.navigable=null,this.decorator=b,this.state=w,this.$get=x,x.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function _(){function t(t,e){return{load:function(t,n){var i,r={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return n=V(r,n),n.view&&(i=e.fromConfig(n.view,n.params,n.locals)),i}}}this.$get=t,t.$inject=["$rootScope","$templateFactory"]}function $(){var t=!1;this.useAnchorScroll=function(){t=!0},this.$get=["$anchorScroll","$timeout",function(e,n){return t?e:function(t){return n(function(){t[0].scrollIntoView()},0,!1)}}]}function C(t,n,i,r,o){function s(){return n.has?function(t){return n.has(t)?n.get(t):null}:function(t){try{return n.get(t)}catch(e){return null}}}function a(t,n){var i=function(){return{enter:function(t,e,n){e.after(t),n()},leave:function(t,e){t.remove(),e()}}};if(c)return{enter:function(t,n,i){e.version.minor>2?c.enter(t,null,n).then(i):c.enter(t,null,n,i)},leave:function(t,n){e.version.minor>2?c.leave(t).then(n):c.leave(t,n)}};if(u){var r=u&&u(n,t);return{enter:function(t,e,n){r.enter(t,null,e),n()},leave:function(t,e){r.leave(t),e()}}}return i()}var l=s(),u=l("$animator"),c=l("$animate"),h={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,s,l){return function(n,s,u){function c(){if(d&&(d.remove(),d=null),p&&(p.$destroy(),p=null),f){var t=f.data("$uiView");y.leave(f,function(){t.$$animLeave.resolve(),d=null}),d=f,f=null}}function h(a){var h,d=E(n,u,b,r),w=d&&t.$current&&t.$current.locals[d];if(a||w!==g){h=n.$new(),g=t.$current.locals[d],h.$emit("$viewContentLoading",d);var x=l(h,function(t){var r=o.defer(),a=o.defer(),l={name:d,$animEnter:r.promise,$animLeave:a.promise,$$animLeave:a};y.enter(t.data("$uiView",l),s,function(){r.resolve(),p&&p.$emit("$viewContentAnimationEnded"),(e.isDefined(v)&&!v||n.$eval(v))&&i(t)}),c()});f=x,p=h,p.$emit("$viewContentLoaded",d),p.$eval(m)}}var d,f,p,g,m=u.onload||"",v=u.autoscroll,y=a(u,n),b=s.inheritedData("$uiView");n.$on("$stateChangeSuccess",function(){h(!1)}),h(!0)}}};return h}function A(t,n,i,r){return{restrict:"ECA",priority:-400,compile:function(r){var o=r.html();return function(r,s,a){var l=i.$current,u=s.data("$uiView"),c=l&&l.locals[u.name];if(c){V(u,{state:c.$$state}),s.html(c.$template?c.$template:o);var h=e.extend({},c);r[c.$$resolveAs]=h;var d=t(s.contents());if(c.$$controller){c.$scope=r,c.$element=s;var f=n(c.$$controller,c);c.$$controllerAs&&(r[c.$$controllerAs]=f,r[c.$$controllerAs][c.$$resolveAs]=h),R(f.$onInit)&&f.$onInit(),s.data("$ngControllerController",f),s.children().data("$ngControllerController",f)}d(r)}}}}}function E(t,e,n,i){var r=i(e.uiView||e.name||"")(t);return r.indexOf("@")>=0?r:r+"@"+(n?n.state.name:"")}function S(t,e){var n,i=t.match(/^\s*({[^}]*})\s*$/);if(i&&(t=e+"("+i[1]+")"),n=t.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+t+"'");return{state:n[1],paramExpr:n[3]||null}}function k(t){var e=t.parent().inheritedData("$uiView");return e&&e.state&&e.state.name?e.state:void 0}function D(t){var e="[object SVGAnimatedString]"===Object.prototype.toString.call(t.prop("href")),n="FORM"===t[0].nodeName;return{attr:n?"action":e?"xlink:href":"href",isAnchor:"A"===t.prop("tagName").toUpperCase(),clickable:!n}}function T(t,e,n,i,r){return function(o){var s=o.which||o.button,a=r();if(!(s>1||o.ctrlKey||o.metaKey||o.shiftKey||t.attr("target"))){var l=n(function(){e.go(a.state,a.params,a.options)});o.preventDefault();var u=i.isAnchor&&!a.href?1:0;o.preventDefault=function(){u--<=0&&n.cancel(l)}}}}function F(t,e){return{relative:k(t)||e.$current,inherit:!0}}function M(t,n){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,r,o,s){var a,l=S(o.uiSref,t.current.name),u={state:l.state,href:null,params:null},c=D(r),h=s[1]||s[0],d=null;u.options=V(F(r,t),o.uiSrefOpts?i.$eval(o.uiSrefOpts):{});var f=function(n){n&&(u.params=e.copy(n)),u.href=t.href(l.state,u.params,u.options),d&&d(),h&&(d=h.$$addStateInfo(l.state,u.params)),null!==u.href&&o.$set(c.attr,u.href)};l.paramExpr&&(i.$watch(l.paramExpr,function(t){t!==u.params&&f(t)},!0),u.params=e.copy(i.$eval(l.paramExpr))),f(),c.clickable&&(a=T(r,t,n,c,function(){return u}),r.bind("click",a),i.$on("$destroy",function(){r.unbind("click",a)}))}}}function L(t,e){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,i,r,o){function s(e){d.state=e[0],d.params=e[1],d.options=e[2],d.href=t.href(d.state,d.params,d.options),f&&f(),u&&(f=u.$$addStateInfo(d.state,d.params)),d.href&&r.$set(l.attr,d.href)}var a,l=D(i),u=o[1]||o[0],c=[r.uiState,r.uiStateParams||null,r.uiStateOpts||null],h="["+c.map(function(t){return t||"null"}).join(", ")+"]",d={state:null,params:null,options:null,href:null},f=null;n.$watch(h,s,!0),s(n.$eval(h)),l.clickable&&(a=T(i,t,e,l,function(){return d}),i.bind("click",a),n.$on("$destroy",function(){i.unbind("click",a)}))}}}function O(t,e,n){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(e,i,r,o){function s(e,n,r){var o=t.get(e,k(i)),s=a(e,n),l={state:o||{name:e},params:n,hash:s};return g.push(l),m[s]=r,function(){var t=g.indexOf(l);-1!==t&&g.splice(t,1)}}function a(t,n){if(!j(t))throw new Error("state should be a string");return N(n)?t+W(n):(n=e.$eval(n),N(n)?t+W(n):t)}function l(){for(var t=0;t<g.length;t++)h(g[t].state,g[t].params)?u(i,m[g[t].hash]):c(i,m[g[t].hash]),d(g[t].state,g[t].params)?u(i,f):c(i,f)}function u(t,e){o(function(){t.addClass(e)})}function c(t,e){t.removeClass(e)}function h(e,n){return t.includes(e.name,n)}function d(e,n){return t.is(e.name,n)}var f,p,g=[],m={};f=n(r.uiSrefActiveEq||"",!1)(e);try{p=e.$eval(r.uiSrefActive)}catch(v){}p=p||n(r.uiSrefActive||"",!1)(e),N(p)&&U(p,function(n,i){if(j(n)){var r=S(n,t.current.name);s(r.state,e.$eval(r.paramExpr),i)}}),this.$$addStateInfo=function(t,e){if(!(N(p)&&g.length>0)){var n=s(t,e,p);return l(),n}},e.$on("$stateChangeSuccess",l),l()}]}}function P(t){var e=function(e,n){return t.is(e,n)};return e.$stateful=!0,e}function B(t){var e=function(e,n,i){return t.includes(e,n,i)};return e.$stateful=!0,e}var I=e.isDefined,R=e.isFunction,j=e.isString,N=e.isObject,z=e.isArray,U=e.forEach,V=e.extend,H=e.copy,W=e.toJson;e.module("ui.router.util",["ng"]),e.module("ui.router.router",["ui.router.util"]),e.module("ui.router.state",["ui.router.router","ui.router.util"]),e.module("ui.router",["ui.router.state"]),e.module("ui.router.compat",["ui.router"]),g.$inject=["$q","$injector"],e.module("ui.router.util").service("$resolve",g),m.$inject=["$http","$templateCache","$injector"],e.module("ui.router.util").service("$templateFactory",m);var Y;v.prototype.concat=function(t,e){var n={caseInsensitive:Y.caseInsensitive(),strict:Y.strictMode(),squash:Y.defaultSquashPolicy()};return new v(this.sourcePath+t+this.sourceSearch,V(n,e),this)},v.prototype.toString=function(){return this.source},v.prototype.exec=function(t,e){function n(t){function e(t){return t.split("").reverse().join("")}function n(t){return t.replace(/\\-/g,"-")}var i=e(t).split(/-(?!\\)/),r=p(i,e);return p(r,n).reverse()}var i=this.regexp.exec(t);if(!i)return null;e=e||{};var r,o,s,a=this.parameters(),l=a.length,u=this.segments.length-1,c={};if(u!==i.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var h,d;for(r=0;u>r;r++){for(s=a[r],h=this.params[s],d=i[r+1],o=0;o<h.replace.length;o++)h.replace[o].from===d&&(d=h.replace[o].to);d&&h.array===!0&&(d=n(d)),I(d)&&(d=h.type.decode(d)),c[s]=h.value(d)}for(;l>r;r++){for(s=a[r],c[s]=this.params[s].value(e[s]),h=this.params[s],d=e[s],o=0;o<h.replace.length;o++)h.replace[o].from===d&&(d=h.replace[o].to);I(d)&&(d=h.type.decode(d)),c[s]=h.value(d)}return c},v.prototype.parameters=function(t){return I(t)?this.params[t]||null:this.$$paramNames},v.prototype.validates=function(t){return this.params.$$validates(t)},v.prototype.format=function(t){function e(t){return encodeURIComponent(t).replace(/-/g,function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()})}t=t||{};var n=this.segments,i=this.parameters(),r=this.params;if(!this.validates(t))return null;var o,s=!1,a=n.length-1,l=i.length,u=n[0];for(o=0;l>o;o++){var c=a>o,h=i[o],d=r[h],f=d.value(t[h]),g=d.isOptional&&d.type.equals(d.value(),f),m=g?d.squash:!1,v=d.type.encode(f);if(c){var y=n[o+1],b=o+1===a;if(m===!1)null!=v&&(u+=z(v)?p(v,e).join("-"):encodeURIComponent(v)),u+=y;else if(m===!0){var w=u.match(/\/$/)?/\/?(.*)/:/(.*)/;u+=y.match(w)[1]}else j(m)&&(u+=m+y);b&&d.squash===!0&&"/"===u.slice(-1)&&(u=u.slice(0,-1))}else{if(null==v||g&&m!==!1)continue;if(z(v)||(v=[v]),0===v.length)continue;v=p(v,encodeURIComponent).join("&"+h+"="),u+=(s?"&":"?")+(h+"="+v),s=!0}}return u},y.prototype.is=function(t,e){return!0},y.prototype.encode=function(t,e){return t},y.prototype.decode=function(t,e){return t},y.prototype.equals=function(t,e){return t==e},y.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},y.prototype.pattern=/.*/,y.prototype.toString=function(){return"{Type:"+this.name+"}"},y.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},y.prototype.$asArray=function(t,e){function i(t,e){function i(t,e){return function(){return t[e].apply(t,arguments)}}function r(t){return z(t)?t:I(t)?[t]:[]}function o(t){switch(t.length){case 0:return n;case 1:return"auto"===e?t[0]:t;default:return t}}function s(t){return!t}function a(t,e){return function(n){if(z(n)&&0===n.length)return n;n=r(n);var i=p(n,t);return e===!0?0===f(i,s).length:o(i)}}function l(t){return function(e,n){var i=r(e),o=r(n);if(i.length!==o.length)return!1;for(var s=0;s<i.length;s++)if(!t(i[s],o[s]))return!1;return!0}}this.encode=a(i(t,"encode")),this.decode=a(i(t,"decode")),this.is=a(i(t,"is"),!0),this.equals=l(i(t,"equals")),this.pattern=t.pattern,this.$normalize=a(i(t,"$normalize")),this.name=t.name,this.$arrayMode=e}if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new i(this,t)},e.module("ui.router.util").provider("$urlMatcherFactory",b),e.module("ui.router.util").run(["$urlMatcherFactory",function(t){}]),w.$inject=["$locationProvider","$urlMatcherFactoryProvider"],e.module("ui.router.router").provider("$urlRouter",w),x.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],e.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",x).run(["$injector",function(t){t.get("$state.runtime").autoinject&&t.get("$state")}]),_.$inject=[],e.module("ui.router.state").provider("$view",_),e.module("ui.router.state").provider("$uiViewScroll",$),C.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"],A.$inject=["$compile","$controller","$state","$interpolate"],e.module("ui.router.state").directive("uiView",C),e.module("ui.router.state").directive("uiView",A),M.$inject=["$state","$timeout"],L.$inject=["$state","$timeout"],O.$inject=["$state","$stateParams","$interpolate"],e.module("ui.router.state").directive("uiSref",M).directive("uiSrefActive",O).directive("uiSrefActiveEq",O).directive("uiState",L),P.$inject=["$state"],B.$inject=["$state"],e.module("ui.router.state").filter("isState",P).filter("includedByState",B)}(window,window.angular),bsCompilerService.$inject=["$q","$http","$injector","$compile","$controller","$templateCache"],angular.module("mgcrea.ngStrap.core",[]).service("$bsCompiler",bsCompilerService),angular.module("mgcrea.ngStrap.helpers.dimensions",[]).factory("dimensions",function(){function t(t){var i=t.ownerDocument,r=t.offsetParent||i;if(n(r,"#document"))return i.documentElement;for(;r&&!n(r,"html")&&"static"===e.css(r,"position");)r=r.offsetParent;return r||i.documentElement}var e={},n=e.nodeName=function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()};return e.css=function(t,e,n){var i;return i=t.currentStyle?t.currentStyle[e]:window.getComputedStyle?window.getComputedStyle(t)[e]:t.style[e],n===!0?parseFloat(i)||0:i},e.offset=function(t){var e=t.getBoundingClientRect(),n=t.ownerDocument;return{width:e.width||t.offsetWidth,height:e.height||t.offsetHeight,top:e.top+(window.pageYOffset||n.documentElement.scrollTop)-(n.documentElement.clientTop||0),left:e.left+(window.pageXOffset||n.documentElement.scrollLeft)-(n.documentElement.clientLeft||0)}},e.setOffset=function(t,n,i){var r,o,s,a,l,u,c,h=e.css(t,"position"),d=angular.element(t),f={};"static"===h&&(t.style.position="relative"),l=e.offset(t),s=e.css(t,"top"),u=e.css(t,"left"),c=("absolute"===h||"fixed"===h)&&(s+u).indexOf("auto")>-1,c?(r=e.position(t),a=r.top,o=r.left):(a=parseFloat(s)||0,o=parseFloat(u)||0),angular.isFunction(n)&&(n=n.call(t,i,l)),null!==n.top&&(f.top=n.top-l.top+a),null!==n.left&&(f.left=n.left-l.left+o),"using"in n?n.using.call(d,f):d.css({top:f.top+"px",left:f.left+"px"})},e.position=function(i){var r,o,s={top:0,left:0};return"fixed"===e.css(i,"position")?o=i.getBoundingClientRect():(r=t(i),o=e.offset(i),n(r,"html")||(s=e.offset(r)),s.top+=e.css(r,"borderTopWidth",!0),s.left+=e.css(r,"borderLeftWidth",!0)),{width:i.offsetWidth,height:i.offsetHeight,top:o.top-s.top-e.css(i,"marginTop",!0),left:o.left-s.left-e.css(i,"marginLeft",!0)}},e.height=function(t,n){var i=t.offsetHeight;return n?i+=e.css(t,"marginTop",!0)+e.css(t,"marginBottom",!0):i-=e.css(t,"paddingTop",!0)+e.css(t,"paddingBottom",!0)+e.css(t,"borderTopWidth",!0)+e.css(t,"borderBottomWidth",!0),i},e.width=function(t,n){var i=t.offsetWidth;return n?i+=e.css(t,"marginLeft",!0)+e.css(t,"marginRight",!0):i-=e.css(t,"paddingLeft",!0)+e.css(t,"paddingRight",!0)+e.css(t,"borderLeftWidth",!0)+e.css(t,"borderRightWidth",!0),i},e}),angular.module("mgcrea.ngStrap.tooltip",["mgcrea.ngStrap.core","mgcrea.ngStrap.helpers.dimensions"]).provider("$tooltip",function(){var t=this.defaults={animation:"am-fade",customClass:"",prefixClass:"tooltip",prefixEvent:"tooltip",container:!1,target:!1,placement:"top",templateUrl:"tooltip/tooltip.tpl.html",template:"",contentTemplate:!1,trigger:"hover focus",keyboard:!1,html:!1,show:!1,title:"",type:"",delay:0,autoClose:!1,bsEnabled:!0,viewport:{selector:"body",padding:0}};this.$get=["$window","$rootScope","$bsCompiler","$q","$templateCache","$http","$animate","$sce","dimensions","$$rAF","$timeout",function(e,n,i,r,o,s,a,l,u,c,h){
function d(r,o){function s(){L.$emit(F.prefixEvent+".show",T)}function d(){if(L.$emit(F.prefixEvent+".hide",T),j===V){if(U&&"focus"===F.trigger)return r[0].blur();D()}}function v(){var t=F.trigger.split(" ");angular.forEach(t,function(t){"click"===t?r.on("click",T.toggle):"manual"!==t&&(r.on("hover"===t?"mouseenter":"focus",T.enter),r.on("hover"===t?"mouseleave":"blur",T.leave),"button"===O&&"hover"!==t&&r.on(g?"touchstart":"mousedown",T.$onFocusElementMouseDown))})}function y(){for(var t=F.trigger.split(" "),e=t.length;e--;){var n=t[e];"click"===n?r.off("click",T.toggle):"manual"!==n&&(r.off("hover"===n?"mouseenter":"focus",T.enter),r.off("hover"===n?"mouseleave":"blur",T.leave),"button"===O&&"hover"!==n&&r.off(g?"touchstart":"mousedown",T.$onFocusElementMouseDown))}}function b(){"focus"!==F.trigger?j.on("keyup",T.$onKeyUp):r.on("keyup",T.$onFocusKeyUp)}function w(){"focus"!==F.trigger?j.off("keyup",T.$onKeyUp):r.off("keyup",T.$onFocusKeyUp)}function x(){h(function(){j.on("click",$),m.on("click",T.hide),H=!0},0,!1)}function _(){H&&(j.off("click",$),m.off("click",T.hide),H=!1)}function $(t){t.stopPropagation()}function C(t){t=t||F.target||r;var n=t[0],i="BODY"===n.tagName,o=n.getBoundingClientRect(),s={};for(var a in o)s[a]=o[a];null===s.width&&(s=angular.extend({},s,{width:o.right-o.left,height:o.bottom-o.top}));var l=i?{top:0,left:0}:u.offset(n),c={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:t.prop("scrollTop")||0},h=i?{width:document.documentElement.clientWidth,height:e.innerHeight}:null;return angular.extend({},s,c,h,l)}function A(t,e,n,i){var r,o=t.split("-");switch(o[0]){case"right":r={top:e.top+e.height/2-i/2,left:e.left+e.width};break;case"bottom":r={top:e.top+e.height,left:e.left+e.width/2-n/2};break;case"left":r={top:e.top+e.height/2-i/2,left:e.left-n};break;default:r={top:e.top-i,left:e.left+e.width/2-n/2}}if(!o[1])return r;if("top"===o[0]||"bottom"===o[0])switch(o[1]){case"left":r.left=e.left;break;case"right":r.left=e.left+e.width-n}else if("left"===o[0]||"right"===o[0])switch(o[1]){case"top":r.top=e.top-i+e.height;break;case"bottom":r.top=e.top}return r}function E(t,e){var n=j[0],i=n.offsetWidth,r=n.offsetHeight,o=parseInt(u.css(n,"margin-top"),10),s=parseInt(u.css(n,"margin-left"),10);isNaN(o)&&(o=0),isNaN(s)&&(s=0),t.top=t.top+o,t.left=t.left+s,u.setOffset(n,angular.extend({using:function(t){j.css({top:Math.round(t.top)+"px",left:Math.round(t.left)+"px",right:""})}},t),0);var a=n.offsetWidth,l=n.offsetHeight;if("top"===e&&l!==r&&(t.top=t.top+r-l),!/top-left|top-right|bottom-left|bottom-right/.test(e)){var c=S(e,t,a,l);if(c.left?t.left+=c.left:t.top+=c.top,u.setOffset(n,t),/top|right|bottom|left/.test(e)){var h=/top|bottom/.test(e),d=h?2*c.left-i+a:2*c.top-r+l,f=h?"offsetWidth":"offsetHeight";k(d,n[f],h)}}}function S(t,e,n,i){var r={top:0,left:0};if(!T.$viewport)return r;var o=F.viewport&&F.viewport.padding||0,s=C(T.$viewport);if(/right|left/.test(t)){var a=e.top-o-s.scroll,l=e.top+o-s.scroll+i;a<s.top?r.top=s.top-a:l>s.top+s.height&&(r.top=s.top+s.height-l)}else{var u=e.left-o,c=e.left+o+n;u<s.left?r.left=s.left-u:c>s.right&&(r.left=s.left+s.width-c)}return r}function k(t,e,n){var i=p(".tooltip-arrow, .arrow",j[0]);i.css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")}function D(){clearTimeout(B),T.$isShown&&null!==j&&(F.autoClose&&_(),F.keyboard&&w()),z&&(z.$destroy(),z=null),j&&(j.remove(),j=T.$element=null)}var T={},F=T.$options=angular.extend({},t,o),M=T.$promise=i.compile(F),L=T.$scope=F.scope&&F.scope.$new()||n.$new(),O=r[0].nodeName.toLowerCase();if(F.delay&&angular.isString(F.delay)){var P=F.delay.split(",").map(parseFloat);F.delay=P.length>1?{show:P[0],hide:P[1]}:P[0]}T.$id=F.id||r.attr("id")||"",F.title&&(L.title=l.trustAsHtml(F.title)),L.$setEnabled=function(t){L.$$postDigest(function(){T.setEnabled(t)})},L.$hide=function(){L.$$postDigest(function(){T.hide()})},L.$show=function(){L.$$postDigest(function(){T.show()})},L.$toggle=function(){L.$$postDigest(function(){T.toggle()})},T.$isShown=L.$isShown=!1;var B,I,R,j,N,z;M.then(function(t){R=t,T.init()}),T.init=function(){F.delay&&angular.isNumber(F.delay)&&(F.delay={show:F.delay,hide:F.delay}),"self"===F.container?N=r:angular.isElement(F.container)?N=F.container:F.container&&(N=p(F.container)),v(),F.target&&(F.target=angular.isElement(F.target)?F.target:p(F.target)),F.show&&L.$$postDigest(function(){"focus"===F.trigger?r[0].focus():T.show()})},T.destroy=function(){y(),D(),L.$destroy()},T.enter=function(){return clearTimeout(B),I="in",F.delay&&F.delay.show?void(B=setTimeout(function(){"in"===I&&T.show()},F.delay.show)):T.show()},T.show=function(){if(F.bsEnabled&&!T.$isShown){L.$emit(F.prefixEvent+".show.before",T);var t,e;F.container?(t=N,e=N[0].lastChild?angular.element(N[0].lastChild):null):(t=null,e=r),j&&D(),z=T.$scope.$new(),j=T.$element=R.link(z,function(t,e){}),j.css({top:"-9999px",left:"-9999px",right:"auto",display:"block",visibility:"hidden"}),F.animation&&j.addClass(F.animation),F.type&&j.addClass(F.prefixClass+"-"+F.type),F.customClass&&j.addClass(F.customClass),e?e.after(j):t.prepend(j),T.$isShown=L.$isShown=!0,f(L),T.$applyPlacement(),angular.version.minor<=2?a.enter(j,t,e,s):a.enter(j,t,e).then(s),f(L),c(function(){j&&j.css({visibility:"visible"}),F.keyboard&&("focus"!==F.trigger&&T.focus(),b())}),F.autoClose&&x()}},T.leave=function(){return clearTimeout(B),I="out",F.delay&&F.delay.hide?void(B=setTimeout(function(){"out"===I&&T.hide()},F.delay.hide)):T.hide()};var U,V;T.hide=function(t){T.$isShown&&(L.$emit(F.prefixEvent+".hide.before",T),U=t,V=j,angular.version.minor<=2?a.leave(j,d):a.leave(j).then(d),T.$isShown=L.$isShown=!1,f(L),F.keyboard&&null!==j&&w(),F.autoClose&&null!==j&&_())},T.toggle=function(){T.$isShown?T.leave():T.enter()},T.focus=function(){j[0].focus()},T.setEnabled=function(t){F.bsEnabled=t},T.setViewport=function(t){F.viewport=t},T.$applyPlacement=function(){if(j){var e=F.placement,n=/\s?auto?\s?/i,i=n.test(e);i&&(e=e.replace(n,"")||t.placement),j.addClass(F.placement);var r=C(),o=j.prop("offsetWidth"),s=j.prop("offsetHeight");if(T.$viewport=F.viewport&&p(F.viewport.selector||F.viewport),i){var a=e,l=C(T.$viewport);/bottom/.test(a)&&r.bottom+s>l.bottom?e=a.replace("bottom","top"):/top/.test(a)&&r.top-s<l.top&&(e=a.replace("top","bottom")),/left/.test(a)&&r.left-o<l.left?e=e.replace("left","right"):/right/.test(a)&&r.right+o>l.width&&(e=e.replace("right","left")),j.removeClass(a).addClass(e)}var u=A(e,r,o,s);E(u,e)}},T.$onKeyUp=function(t){27===t.which&&T.$isShown&&(T.hide(),t.stopPropagation())},T.$onFocusKeyUp=function(t){27===t.which&&(r[0].blur(),t.stopPropagation())},T.$onFocusElementMouseDown=function(t){t.preventDefault(),t.stopPropagation(),T.$isShown?r[0].blur():r[0].focus()};var H=!1;return T}function f(t){t.$$phase||t.$root&&t.$root.$$phase||t.$digest()}function p(t,e){return angular.element((e||document).querySelectorAll(t))}var g="createTouch"in e.document,m=angular.element(e.document);return d}]}).directive("bsTooltip",["$window","$location","$sce","$tooltip","$$rAF",function(t,e,n,i,r){return{restrict:"EAC",scope:!0,link:function(t,e,o,s){var a,l={scope:t};angular.forEach(["template","templateUrl","controller","controllerAs","contentTemplate","placement","container","delay","trigger","html","animation","backdropAnimation","type","customClass","id"],function(t){angular.isDefined(o[t])&&(l[t]=o[t])});var u=/^(false|0|)$/i;angular.forEach(["html","container"],function(t){angular.isDefined(o[t])&&u.test(o[t])&&(l[t]=!1)});var c=e.attr("data-target");angular.isDefined(c)&&(u.test(c)?l.target=!1:l.target=c),t.hasOwnProperty("title")||(t.title=""),o.$observe("title",function(e){if(angular.isDefined(e)||!t.hasOwnProperty("title")){var i=t.title;t.title=n.trustAsHtml(e),angular.isDefined(i)&&r(function(){a&&a.$applyPlacement()})}}),o.bsTooltip&&t.$watch(o.bsTooltip,function(e,n){angular.isObject(e)?angular.extend(t,e):t.title=e,angular.isDefined(n)&&r(function(){a&&a.$applyPlacement()})},!0),o.bsShow&&t.$watch(o.bsShow,function(t,e){a&&angular.isDefined(t)&&(angular.isString(t)&&(t=!!t.match(/true|,?(tooltip),?/i)),t===!0?a.show():a.hide())}),o.bsEnabled&&t.$watch(o.bsEnabled,function(t,e){a&&angular.isDefined(t)&&(angular.isString(t)&&(t=!!t.match(/true|1|,?(tooltip),?/i)),t===!1?a.setEnabled(!1):a.setEnabled(!0))}),o.viewport&&t.$watch(o.viewport,function(t){a&&angular.isDefined(t)&&a.setViewport(t)}),a=i(e,l),t.$on("$destroy",function(){a&&a.destroy(),l=null,a=null})}}}]),angular.module("mgcrea.ngStrap.tooltip").run(["$templateCache",function(t){t.put("tooltip/tooltip.tpl.html",'<div class="tooltip in" ng-show="title"><div class="tooltip-arrow"></div><div class="tooltip-inner" ng-bind="title"></div></div>')}]),angular.module("mgcrea.ngStrap.dropdown",["mgcrea.ngStrap.tooltip"]).provider("$dropdown",function(){var t=this.defaults={animation:"am-fade",prefixClass:"dropdown",prefixEvent:"dropdown",placement:"bottom-left",templateUrl:"dropdown/dropdown.tpl.html",trigger:"click",container:!1,keyboard:!0,html:!1,delay:0};this.$get=["$window","$rootScope","$tooltip","$timeout",function(e,n,i,r){function o(e,o){function l(t){return t.target!==e[0]?t.target!==e[0]&&u.hide():void 0}var u={},c=angular.extend({},t,o);u.$scope=c.scope&&c.scope.$new()||n.$new(),u=i(e,c);var h=e.parent();u.$onKeyDown=function(t){if(/(38|40)/.test(t.keyCode)){t.preventDefault(),t.stopPropagation();var e=angular.element(u.$element[0].querySelectorAll("li:not(.divider) a"));if(e.length){var n;angular.forEach(e,function(t,e){a&&a.call(t,":focus")&&(n=e)}),38===t.keyCode&&n>0?n--:40===t.keyCode&&n<e.length-1?n++:angular.isUndefined(n)&&(n=0),e.eq(n)[0].focus()}}};var d=u.show;u.show=function(){d(),r(function(){c.keyboard&&u.$element&&u.$element.on("keydown",u.$onKeyDown),s.on("click",l)},0,!1),h.hasClass("dropdown")&&h.addClass("open")};var f=u.hide;u.hide=function(){u.$isShown&&(c.keyboard&&u.$element&&u.$element.off("keydown",u.$onKeyDown),s.off("click",l),h.hasClass("dropdown")&&h.removeClass("open"),f())};var p=u.destroy;return u.destroy=function(){s.off("click",l),p()},u}var s=angular.element(e.document.body),a=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector;return o}]}).directive("bsDropdown",["$window","$sce","$dropdown",function(t,e,n){return{restrict:"EAC",scope:!0,compile:function(t,e){if(!e.bsDropdown){for(var i=t[0].nextSibling;i&&1!==i.nodeType;)i=i.nextSibling;i&&i.classList.contains("dropdown-menu")&&(e.template=i.outerHTML,e.templateUrl=void 0,i.parentNode.removeChild(i))}return function(t,i,r){var o={scope:t};angular.forEach(["template","templateUrl","controller","controllerAs","placement","container","delay","trigger","keyboard","html","animation","id","autoClose"],function(t){angular.isDefined(e[t])&&(o[t]=e[t])});var s=/^(false|0|)$/i;angular.forEach(["html","container"],function(t){angular.isDefined(r[t])&&s.test(r[t])&&(o[t]=!1)}),r.bsDropdown&&t.$watch(r.bsDropdown,function(e,n){t.content=e},!0);var a=n(i,o);r.bsShow&&t.$watch(r.bsShow,function(t,e){a&&angular.isDefined(t)&&(angular.isString(t)&&(t=!!t.match(/true|,?(dropdown),?/i)),t===!0?a.show():a.hide())}),t.$on("$destroy",function(){a&&a.destroy(),o=null,a=null})}}}}]),angular.module("mgcrea.ngStrap.dropdown").run(["$templateCache",function(t){t.put("dropdown/dropdown.tpl.html",'<ul tabindex="-1" class="dropdown-menu" role="menu" ng-show="content && content.length"><li role="presentation" ng-class="{divider: item.divider, active: item.active}" ng-repeat="item in content"><a role="menuitem" tabindex="-1" ng-href="{{item.href}}" ng-if="!item.divider && item.href" target="{{item.target || \'\'}}" ng-bind="item.text"></a> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-if="!item.divider && item.click" ng-click="$eval(item.click);$hide()" ng-bind="item.text"></a></li></ul>')}]),angular.module("mgcrea.ngStrap.modal",["mgcrea.ngStrap.core","mgcrea.ngStrap.helpers.dimensions"]).provider("$modal",function(){var t=this.defaults={animation:"am-fade",backdropAnimation:"am-fade",customClass:"",prefixClass:"modal",prefixEvent:"modal",placement:"top",templateUrl:"modal/modal.tpl.html",template:"",contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0};this.$get=["$window","$rootScope","$bsCompiler","$animate","$timeout","$sce","dimensions",function(e,n,i,r,o,s,a){function l(e){function o(){E.$emit(C.prefixEvent+".show",$)}function a(){E.$emit(C.prefixEvent+".hide",$),f.removeClass(C.prefixClass+"-open"),C.animation&&f.removeClass(C.prefixClass+"-with-"+C.animation)}function l(){C.backdrop&&(k.on("click",w),T.on("click",w),T.on("wheel",x))}function v(){C.backdrop&&(k.off("click",w),T.off("click",w),T.off("wheel",x))}function y(){C.keyboard&&k.on("keyup",$.$onKeyUp)}function b(){C.keyboard&&k.off("keyup",$.$onKeyUp)}function w(t){t.target===t.currentTarget&&("static"===C.backdrop?$.focus():$.hide())}function x(t){t.preventDefault()}function _(){$.$isShown&&null!==k&&(v(),b()),D&&(D.$destroy(),D=null),k&&(k.remove(),k=$.$element=null)}var $={},C=$.$options=angular.extend({},t,e),A=$.$promise=i.compile(C),E=$.$scope=C.scope&&C.scope.$new()||n.$new();C.element||C.container||(C.container="body"),$.$id=C.id||C.element&&C.element.attr("id")||"",h(["title","content"],function(t){C[t]&&(E[t]=s.trustAsHtml(C[t]))}),E.$hide=function(){E.$$postDigest(function(){$.hide()})},E.$show=function(){E.$$postDigest(function(){$.show()})},E.$toggle=function(){E.$$postDigest(function(){$.toggle()})},$.$isShown=E.$isShown=!1;var S,k,D,T=angular.element('<div class="'+C.prefixClass+'-backdrop"/>');return T.css({position:"fixed",top:"0px",left:"0px",bottom:"0px",right:"0px"}),A.then(function(t){S=t,$.init()}),$.init=function(){C.show&&E.$$postDigest(function(){$.show()})},$.destroy=function(){_(),T&&(T.remove(),T=null),E.$destroy()},$.show=function(){if(!$.$isShown){var t,e;if(angular.isElement(C.container)?(t=C.container,e=C.container[0].lastChild?angular.element(C.container[0].lastChild):null):C.container?(t=c(C.container),e=t[0]&&t[0].lastChild?angular.element(t[0].lastChild):null):(t=null,e=C.element),k&&_(),D=$.$scope.$new(),k=$.$element=S.link(D,function(t,e){}),C.backdrop&&(k.css({"z-index":g+20*p}),T.css({"z-index":m+20*p}),p++),!E.$emit(C.prefixEvent+".show.before",$).defaultPrevented){k.css({display:"block"}).addClass(C.placement),C.customClass&&k.addClass(C.customClass),C.animation&&(C.backdrop&&T.addClass(C.backdropAnimation),k.addClass(C.animation)),C.backdrop&&r.enter(T,f,null),angular.version.minor<=2?r.enter(k,t,e,o):r.enter(k,t,e).then(o),$.$isShown=E.$isShown=!0,u(E);var n=k[0];d(function(){n.focus()}),f.addClass(C.prefixClass+"-open"),C.animation&&f.addClass(C.prefixClass+"-with-"+C.animation),l(),y()}}},$.hide=function(){$.$isShown&&(C.backdrop&&p--,E.$emit(C.prefixEvent+".hide.before",$).defaultPrevented||(angular.version.minor<=2?r.leave(k,a):r.leave(k).then(a),C.backdrop&&r.leave(T),$.$isShown=E.$isShown=!1,u(E),v(),b()))},$.toggle=function(){$.$isShown?$.hide():$.show()},$.focus=function(){k[0].focus()},$.$onKeyUp=function(t){27===t.which&&$.$isShown&&($.hide(),t.stopPropagation())},$}function u(t){t.$$phase||t.$root&&t.$root.$$phase||t.$digest()}function c(t,e){return angular.element((e||document).querySelectorAll(t))}var h=angular.forEach,d=e.requestAnimationFrame||e.setTimeout,f=angular.element(e.document.body),p=0,g=1050,m=1040;return l}]}).directive("bsModal",["$window","$sce","$modal",function(t,e,n){return{restrict:"EAC",scope:!0,link:function(t,i,r,o){var s={scope:t,element:i,show:!1};angular.forEach(["template","templateUrl","controller","controllerAs","contentTemplate","placement","backdrop","keyboard","html","container","animation","backdropAnimation","id","prefixEvent","prefixClass","customClass","modalClass"],function(t){angular.isDefined(r[t])&&(s[t]=r[t])}),s.modalClass&&(s.customClass=s.modalClass);var a=/^(false|0|)$/i;angular.forEach(["backdrop","keyboard","html","container"],function(t){angular.isDefined(r[t])&&a.test(r[t])&&(s[t]=!1)}),angular.forEach(["title","content"],function(n){r[n]&&r.$observe(n,function(i,r){t[n]=e.trustAsHtml(i)})}),r.bsModal&&t.$watch(r.bsModal,function(e,n){angular.isObject(e)?angular.extend(t,e):t.content=e},!0);var l=n(s);i.on(r.trigger||"click",l.toggle),t.$on("$destroy",function(){l&&l.destroy(),s=null,l=null})}}}]),angular.module("mgcrea.ngStrap.modal").run(["$templateCache",function(t){t.put("modal/modal.tpl.html",'<div class="modal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-header" ng-show="title"><button type="button" class="close" aria-label="Close" ng-click="$hide()"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" ng-bind="title"></h4></div><div class="modal-body" ng-bind="content"></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Close</button></div></div></div></div>')}]),angular.module("mgcrea.ngStrap.alert",["mgcrea.ngStrap.modal"]).provider("$alert",function(){var t=this.defaults={animation:"am-fade",prefixClass:"alert",prefixEvent:"alert",placement:null,templateUrl:"alert/alert.tpl.html",container:!1,element:null,backdrop:!1,keyboard:!0,show:!0,duration:!1,type:!1,dismissable:!0};this.$get=["$modal","$timeout",function(e,n){function i(i){var r={},o=angular.extend({},t,i);r=e(o),r.$scope.dismissable=!!o.dismissable,o.type&&(r.$scope.type=o.type);var s=r.show;return o.duration&&(r.show=function(){s(),n(function(){r.hide()},1e3*o.duration)}),r}return i}]}).directive("bsAlert",["$window","$sce","$alert",function(t,e,n){return{restrict:"EAC",scope:!0,link:function(t,i,r,o){var s={scope:t,element:i,show:!1};angular.forEach(["template","templateUrl","controller","controllerAs","placement","keyboard","html","container","animation","duration","dismissable"],function(t){angular.isDefined(r[t])&&(s[t]=r[t])});var a=/^(false|0|)$/i;angular.forEach(["keyboard","html","container","dismissable"],function(t){angular.isDefined(r[t])&&a.test(r[t])&&(s[t]=!1)}),t.hasOwnProperty("title")||(t.title=""),angular.forEach(["title","content","type"],function(n){r[n]&&r.$observe(n,function(i,r){t[n]=e.trustAsHtml(i)})}),r.bsAlert&&t.$watch(r.bsAlert,function(e,n){angular.isObject(e)?angular.extend(t,e):t.content=e},!0);var l=n(s);i.on(r.trigger||"click",l.toggle),t.$on("$destroy",function(){l&&l.destroy(),s=null,l=null})}}}]),angular.module("mgcrea.ngStrap.alert").run(["$templateCache",function(t){t.put("alert/alert.tpl.html",'<div class="alert" ng-class="[type ? \'alert-\' + type : null]"><button type="button" class="close" ng-if="dismissable" ng-click="$hide()">&times;</button> <strong ng-bind="title"></strong>&nbsp;<span ng-bind-html="content"></span></div>')}]),angular.module("mgcrea.ngStrap.popover",["mgcrea.ngStrap.tooltip"]).provider("$popover",function(){var t=this.defaults={animation:"am-fade",customClass:"",container:!1,target:!1,placement:"right",templateUrl:"popover/popover.tpl.html",contentTemplate:!1,trigger:"click",keyboard:!0,html:!1,title:"",content:"",delay:0,autoClose:!1};this.$get=["$tooltip",function(e){function n(n,i){var r=angular.extend({},t,i),o=e(n,r);return r.content&&(o.$scope.content=r.content),o}return n}]}).directive("bsPopover",["$window","$sce","$popover",function(t,e,n){var i=t.requestAnimationFrame||t.setTimeout;return{restrict:"EAC",scope:!0,link:function(t,r,o){var s,a={scope:t};angular.forEach(["template","templateUrl","controller","controllerAs","contentTemplate","placement","container","delay","trigger","html","animation","customClass","autoClose","id","prefixClass","prefixEvent"],function(t){angular.isDefined(o[t])&&(a[t]=o[t])});var l=/^(false|0|)$/i;angular.forEach(["html","container","autoClose"],function(t){angular.isDefined(o[t])&&l.test(o[t])&&(a[t]=!1)});var u=r.attr("data-target");angular.isDefined(u)&&(l.test(u)?a.target=!1:a.target=u),angular.forEach(["title","content"],function(n){o[n]&&o.$observe(n,function(r,o){t[n]=e.trustAsHtml(r),angular.isDefined(o)&&i(function(){s&&s.$applyPlacement()})})}),o.bsPopover&&t.$watch(o.bsPopover,function(e,n){angular.isObject(e)?angular.extend(t,e):t.content=e,angular.isDefined(n)&&i(function(){s&&s.$applyPlacement()})},!0),o.bsShow&&t.$watch(o.bsShow,function(t,e){s&&angular.isDefined(t)&&(angular.isString(t)&&(t=!!t.match(/true|,?(popover),?/i)),t===!0?s.show():s.hide())}),o.viewport&&t.$watch(o.viewport,function(t){s&&angular.isDefined(t)&&s.setViewport(t)}),s=n(r,a),t.$on("$destroy",function(){s&&s.destroy(),a=null,s=null})}}}]),angular.module("mgcrea.ngStrap.popover").run(["$templateCache",function(t){t.put("popover/popover.tpl.html",'<div class="popover" tabindex="-1"><div class="arrow"></div><h3 class="popover-title" ng-bind="title" ng-show="title"></h3><div class="popover-content" ng-bind="content"></div></div>')}]),angular.module("mgcrea.ngStrap.collapse",[]).provider("$collapse",function(){var t=this.defaults={animation:"am-collapse",disallowToggle:!1,activeClass:"in",startCollapsed:!1,allowMultiple:!1},e=this.controller=function(e,n,i){function r(t){for(var e=l.$targets.$active,n=0;n<e.length;n++)t<e[n]&&(e[n]=e[n]-1),e[n]===l.$targets.length&&(e[n]=l.$targets.length-1)}function o(t){var e=l.$targets.$active;return-1===e.indexOf(t)?!1:!0}function s(t){var e=l.$targets.$active.indexOf(t);-1!==e&&l.$targets.$active.splice(e,1)}function a(t){l.$options.allowMultiple||l.$targets.$active.splice(0,1),-1===l.$targets.$active.indexOf(t)&&l.$targets.$active.push(t)}var l=this;l.$options=angular.copy(t),angular.forEach(["animation","disallowToggle","activeClass","startCollapsed","allowMultiple"],function(t){angular.isDefined(i[t])&&(l.$options[t]=i[t])});var u=/^(false|0|)$/i;angular.forEach(["disallowToggle","startCollapsed","allowMultiple"],function(t){angular.isDefined(i[t])&&u.test(i[t])&&(l.$options[t]=!1)}),l.$toggles=[],l.$targets=[],l.$viewChangeListeners=[],l.$registerToggle=function(t){l.$toggles.push(t)},l.$registerTarget=function(t){l.$targets.push(t)},l.$unregisterToggle=function(t){var e=l.$toggles.indexOf(t);l.$toggles.splice(e,1)},l.$unregisterTarget=function(t){var e=l.$targets.indexOf(t);l.$targets.splice(e,1),l.$options.allowMultiple&&s(t),r(e),l.$viewChangeListeners.forEach(function(t){t()})},l.$targets.$active=l.$options.startCollapsed?[]:[0],l.$setActive=e.$setActive=function(t){angular.isArray(t)?l.$targets.$active=t:!l.$options.disallowToggle&&o(t)?s(t):a(t),l.$viewChangeListeners.forEach(function(t){t()})},l.$activeIndexes=function(){return l.$options.allowMultiple?l.$targets.$active:1===l.$targets.$active.length?l.$targets.$active[0]:-1}};this.$get=function(){var n={};return n.defaults=t,n.controller=e,n}}).directive("bsCollapse",["$window","$animate","$collapse",function(t,e,n){return{require:["?ngModel","bsCollapse"],controller:["$scope","$element","$attrs",n.controller],link:function(t,e,n,i){var r=i[0],o=i[1];r&&(o.$viewChangeListeners.push(function(){r.$setViewValue(o.$activeIndexes())}),r.$formatters.push(function(t){if(angular.isArray(t))o.$setActive(t);else{var e=o.$activeIndexes();angular.isArray(e)?-1===e.indexOf(1*t)&&o.$setActive(1*t):e!==1*t&&o.$setActive(1*t)}return t}))}}}]).directive("bsCollapseToggle",function(){return{require:["^?ngModel","^bsCollapse"],link:function(t,e,n,i){var r=i[1];e.attr("data-toggle","collapse"),r.$registerToggle(e),t.$on("$destroy",function(){r.$unregisterToggle(e)}),e.on("click",function(){if(!n.disabled){var i=n.bsCollapseToggle&&"bs-collapse-toggle"!==n.bsCollapseToggle?n.bsCollapseToggle:r.$toggles.indexOf(e);r.$setActive(1*i),t.$apply()}})}}}).directive("bsCollapseTarget",["$animate",function(t){return{require:["^?ngModel","^bsCollapse"],link:function(e,n,i,r){function o(){var e=s.$targets.indexOf(n),i=s.$activeIndexes(),r="removeClass";angular.isArray(i)?-1!==i.indexOf(e)&&(r="addClass"):e===i&&(r="addClass"),t[r](n,s.$options.activeClass)}var s=r[1];n.addClass("collapse"),s.$options.animation&&n.addClass(s.$options.animation),s.$registerTarget(n),e.$on("$destroy",function(){s.$unregisterTarget(n)}),s.$viewChangeListeners.push(function(){o()}),o()}}}]),angular.module("mgcrea.ngStrap.helpers.parseOptions",[]).provider("$parseOptions",function(){var t=this.defaults={regexp:/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/};this.$get=["$parse","$q",function(e,n){function i(i,r){function o(t,e){return t.map(function(t,n){var i,r,o={};return o[c]=t,i=u(e,o),r=f(e,o),{label:i,value:r,index:n}})}var s={},a=angular.extend({},t,r);s.$values=[];var l,u,c,h,d,f,p;return s.init=function(){s.$match=l=i.match(a.regexp),u=e(l[2]||l[1]),c=l[4]||l[6],h=l[5],d=e(l[3]||""),f=e(l[2]?l[1]:c),p=e(l[7])},s.valuesFn=function(t,e){return n.when(p(t,e)).then(function(e){return angular.isArray(e)||(e=[]),s.$values=e.length?o(e,t):[],s.$values})},s.displayValue=function(t){var e={};return e[c]=t,u(e)},s.init(),s}return i}]}),angular.module("mgcrea.ngStrap.typeahead",["mgcrea.ngStrap.tooltip","mgcrea.ngStrap.helpers.parseOptions"]).provider("$typeahead",function(){var t=this.defaults={animation:"am-fade",prefixClass:"typeahead",prefixEvent:"$typeahead",placement:"bottom-left",templateUrl:"typeahead/typeahead.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,minLength:1,filter:"bsAsyncFilter",limit:6,autoSelect:!1,comparator:"",trimValue:!0};this.$get=["$window","$rootScope","$tooltip","$$rAF","$timeout",function(e,n,i,r,o){function s(e,n,s){var l={},u=angular.extend({},t,s);l=i(e,u);var c=s.scope,h=l.$scope;h.$resetMatches=function(){h.$matches=[],h.$activeIndex=u.autoSelect?0:-1},h.$resetMatches(),h.$activate=function(t){h.$$postDigest(function(){l.activate(t)})},h.$select=function(t,e){h.$$postDigest(function(){l.select(t)})},h.$isVisible=function(){return l.$isVisible()},l.update=function(t){h.$matches=t,h.$activeIndex>=t.length&&(h.$activeIndex=u.autoSelect?0:-1),a(h),r(l.$applyPlacement)},l.activate=function(t){h.$activeIndex=t},l.select=function(t){if(-1!==t){var e=h.$matches[t].value;n.$setViewValue(e),n.$render(),h.$resetMatches(),c&&c.$digest(),h.$emit(u.prefixEvent+".select",e,t,l)}},l.$isVisible=function(){return u.minLength&&n?h.$matches.length&&angular.isString(n.$viewValue)&&n.$viewValue.length>=u.minLength:!!h.$matches.length},l.$getIndex=function(t){var e;for(e=h.$matches.length;e--&&!angular.equals(h.$matches[e].value,t););return e},l.$onMouseDown=function(t){t.preventDefault(),t.stopPropagation()},l.$onKeyDown=function(t){/(38|40|13)/.test(t.keyCode)&&(!l.$isVisible()||13===t.keyCode&&-1===h.$activeIndex||(t.preventDefault(),t.stopPropagation()),13===t.keyCode&&h.$matches.length?l.select(h.$activeIndex):38===t.keyCode&&h.$activeIndex>0?h.$activeIndex--:40===t.keyCode&&h.$activeIndex<h.$matches.length-1?h.$activeIndex++:angular.isUndefined(h.$activeIndex)&&(h.$activeIndex=0),h.$digest())};var d=l.show;l.show=function(){d(),o(function(){l.$element&&(l.$element.on("mousedown",l.$onMouseDown),u.keyboard&&e&&e.on("keydown",l.$onKeyDown))},0,!1)};var f=l.hide;return l.hide=function(){l.$element&&l.$element.off("mousedown",l.$onMouseDown),u.keyboard&&e&&e.off("keydown",l.$onKeyDown),u.autoSelect||l.activate(-1),f()},l}function a(t){t.$$phase||t.$root&&t.$root.$$phase||t.$digest()}return s.defaults=t,s}]}).filter("bsAsyncFilter",["$filter",function(t){return function(e,n,i){return e&&angular.isFunction(e.then)?e.then(function(e){return t("filter")(e,n,i)}):t("filter")(e,n,i)}}]).directive("bsTypeahead",["$window","$parse","$q","$typeahead","$parseOptions",function(t,e,n,i,r){var o=i.defaults;return{restrict:"EAC",require:"ngModel",link:function(t,e,n,s){var a={scope:t};angular.forEach(["template","templateUrl","controller","controllerAs","placement","container","delay","trigger","keyboard","html","animation","filter","limit","minLength","watchOptions","selectMode","autoSelect","comparator","id","prefixEvent","prefixClass"],function(t){angular.isDefined(n[t])&&(a[t]=n[t])});var l=/^(false|0|)$/i;angular.forEach(["html","container","trimValue"],function(t){angular.isDefined(n[t])&&l.test(n[t])&&(a[t]=!1)}),e.attr("autocomplete")||e.attr("autocomplete","off");var u=a.filter||o.filter,c=a.limit||o.limit,h=a.comparator||o.comparator,d=n.bsOptions;u&&(d+=" | "+u+":$viewValue"),h&&(d+=":"+h),c&&(d+=" | limitTo:"+c);var f=r(d),p=i(e,s,a);if(a.watchOptions){var g=f.$match[7].replace(/\|.+/,"").replace(/\(.*\)/g,"").trim();t.$watchCollection(g,function(e,n){f.valuesFn(t,s).then(function(t){p.update(t),s.$render()})})}t.$watch(n.ngModel,function(e,n){t.$modelValue=e,f.valuesFn(t,s).then(function(t){return a.selectMode&&!t.length&&e.length>0?void s.$setViewValue(s.$viewValue.substring(0,s.$viewValue.length-1)):(t.length>c&&(t=t.slice(0,c)),p.update(t),void s.$render())})}),s.$formatters.push(function(t){var e=f.displayValue(t);return e?e:t&&"object"!=typeof t?t:""}),s.$render=function(){if(s.$isEmpty(s.$viewValue))return e.val("");var t=p.$getIndex(s.$modelValue),n=-1!==t?p.$scope.$matches[t].label:s.$viewValue;n=angular.isObject(n)?f.displayValue(n):n;var i=n?n.toString().replace(/<(?:.|\n)*?>/gm,""):"";e.val(a.trimValue===!1?i:i.trim())},t.$on("$destroy",function(){p&&p.destroy(),a=null,p=null})}}}]),angular.module("mgcrea.ngStrap.typeahead").run(["$templateCache",function(t){t.put("typeahead/typeahead.tpl.html",'<ul tabindex="-1" class="typeahead dropdown-menu" ng-show="$isVisible()" role="select"><li role="presentation" ng-repeat="match in $matches" ng-class="{active: $index == $activeIndex}"><a role="menuitem" tabindex="-1" ng-click="$select($index, $event)" ng-bind="match.label"></a></li></ul>')}]),angular.module("mgcrea.ngStrap.select",["mgcrea.ngStrap.tooltip","mgcrea.ngStrap.helpers.parseOptions"]).provider("$select",function(){var t=this.defaults={animation:"am-fade",prefixClass:"select",prefixEvent:"$select",placement:"bottom-left",templateUrl:"select/select.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,multiple:!1,allNoneButtons:!1,sort:!0,caretHtml:'&nbsp;<span class="caret"></span>',placeholder:"Choose among the following...",allText:"All",noneText:"None",maxLength:3,maxLengthHtml:"selected",iconCheckmark:"fa fa-ok"};this.$get=["$window","$document","$rootScope","$tooltip","$timeout",function(e,n,i,r,o){function s(i,s,a){var u={},c=angular.extend({},t,a);u=r(i,c);var h=u.$scope;h.$matches=[],c.multiple?h.$activeIndex=[]:h.$activeIndex=-1,h.$isMultiple=c.multiple,h.$showAllNoneButtons=c.allNoneButtons&&c.multiple,h.$iconCheckmark=c.iconCheckmark,h.$allText=c.allText,h.$noneText=c.noneText,h.$activate=function(t){h.$$postDigest(function(){u.activate(t)})},h.$select=function(t,e){h.$$postDigest(function(){u.select(t)})},h.$isVisible=function(){return u.$isVisible()},h.$isActive=function(t){return u.$isActive(t)},h.$selectAll=function(){for(var t=0;t<h.$matches.length;t++)h.$isActive(t)||h.$select(t)},h.$selectNone=function(){for(var t=0;t<h.$matches.length;t++)h.$isActive(t)&&h.$select(t)},u.update=function(t){h.$matches=t,u.$updateActiveIndex()},u.activate=function(t){return c.multiple?(u.$isActive(t)?h.$activeIndex.splice(h.$activeIndex.indexOf(t),1):h.$activeIndex.push(t),c.sort&&h.$activeIndex.sort(function(t,e){return t-e})):h.$activeIndex=t,h.$activeIndex},u.select=function(t){var e=h.$matches[t].value;h.$apply(function(){u.activate(t),c.multiple?s.$setViewValue(h.$activeIndex.map(function(t){return angular.isUndefined(h.$matches[t])?null:h.$matches[t].value})):(s.$setViewValue(e),u.hide())}),h.$emit(c.prefixEvent+".select",e,t,u)},u.$updateActiveIndex=function(){c.multiple?angular.isArray(s.$modelValue)?h.$activeIndex=s.$modelValue.map(function(t){return u.$getIndex(t)}):h.$activeIndex=[]:angular.isDefined(s.$modelValue)&&h.$matches.length?h.$activeIndex=u.$getIndex(s.$modelValue):h.$activeIndex=-1},u.$isVisible=function(){return c.minLength&&s?h.$matches.length&&s.$viewValue.length>=c.minLength:h.$matches.length;
},u.$isActive=function(t){return c.multiple?-1!==h.$activeIndex.indexOf(t):h.$activeIndex===t},u.$getIndex=function(t){var e;for(e=h.$matches.length;e--&&!angular.equals(h.$matches[e].value,t););return e},u.$onMouseDown=function(t){if(t.preventDefault(),t.stopPropagation(),l){var e=angular.element(t.target);e.triggerHandler("click")}},u.$onKeyDown=function(t){return/(9|13|38|40)/.test(t.keyCode)?(9!==t.keyCode&&(t.preventDefault(),t.stopPropagation()),c.multiple&&9===t.keyCode?u.hide():c.multiple||13!==t.keyCode&&9!==t.keyCode?void(c.multiple||(38===t.keyCode&&h.$activeIndex>0?h.$activeIndex--:38===t.keyCode&&h.$activeIndex<0?h.$activeIndex=h.$matches.length-1:40===t.keyCode&&h.$activeIndex<h.$matches.length-1?h.$activeIndex++:angular.isUndefined(h.$activeIndex)&&(h.$activeIndex=0),h.$digest())):u.select(h.$activeIndex)):void 0},u.$isIE=function(){var t=e.navigator.userAgent;return t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0},u.$selectScrollFix=function(t){"UL"===n[0].activeElement.tagName&&(t.preventDefault(),t.stopImmediatePropagation(),t.target.focus())};var d=u.show;u.show=function(){d(),c.multiple&&u.$element.addClass("select-multiple"),o(function(){u.$element.on(l?"touchstart":"mousedown",u.$onMouseDown),c.keyboard&&i.on("keydown",u.$onKeyDown)},0,!1)};var f=u.hide;return u.hide=function(){!c.multiple&&angular.isUndefined(s.$modelValue)&&(h.$activeIndex=-1),u.$element.off(l?"touchstart":"mousedown",u.$onMouseDown),c.keyboard&&i.off("keydown",u.$onKeyDown),f(!0)},u}var a=/(ip[ao]d|iphone|android)/gi.test(e.navigator.userAgent),l="createTouch"in e.document&&a;return s.defaults=t,s}]}).directive("bsSelect",["$window","$parse","$q","$select","$parseOptions",function(t,e,n,i,r){var o=i.defaults;return{restrict:"EAC",require:"ngModel",link:function(t,e,n,s){var a={scope:t,placeholder:o.placeholder};angular.forEach(["template","templateUrl","controller","controllerAs","placement","container","delay","trigger","keyboard","html","animation","placeholder","allNoneButtons","maxLength","maxLengthHtml","allText","noneText","iconCheckmark","autoClose","id","sort","caretHtml","prefixClass","prefixEvent"],function(t){angular.isDefined(n[t])&&(a[t]=n[t])});var l=/^(false|0|)$/i;angular.forEach(["html","container","allNoneButtons","sort"],function(t){angular.isDefined(n[t])&&l.test(n[t])&&(a[t]=!1)});var u=e.attr("data-multiple");if(angular.isDefined(u)&&(l.test(u)?a.multiple=!1:a.multiple=u),"select"===e[0].nodeName.toLowerCase()){var c=e;c.css("display","none"),e=angular.element('<button type="button" class="btn btn-default"></button>'),c.after(e)}var h=r(n.bsOptions),d=i(e,s,a);d.$isIE()&&e[0].addEventListener("blur",d.$selectScrollFix);var f=h.$match[7].replace(/\|.+/,"").trim();t.$watch(f,function(e,n){h.valuesFn(t,s).then(function(t){d.update(t),s.$render()})},!0),t.$watch(n.ngModel,function(t,e){d.$updateActiveIndex(),s.$render()},!0),s.$render=function(){var t,n;a.multiple&&angular.isArray(s.$modelValue)?(t=s.$modelValue.map(function(t){return n=d.$getIndex(t),-1!==n?d.$scope.$matches[n].label:!1}).filter(angular.isDefined),t=t.length>(a.maxLength||o.maxLength)?t.length+" "+(a.maxLengthHtml||o.maxLengthHtml):t.join(", ")):(n=d.$getIndex(s.$modelValue),t=-1!==n?d.$scope.$matches[n].label:!1),e.html((t?t:a.placeholder)+(a.caretHtml?a.caretHtml:o.caretHtml))},a.multiple&&(s.$isEmpty=function(t){return!t||0===t.length}),t.$on("$destroy",function(){d&&d.destroy(),a=null,d=null})}}}]),angular.module("mgcrea.ngStrap.select").run(["$templateCache",function(t){t.put("select/select.tpl.html",'<ul tabindex="-1" class="select dropdown-menu" ng-show="$isVisible()" role="select"><li ng-if="$showAllNoneButtons"><div class="btn-group" style="margin-bottom: 5px; margin-left: 5px"><button type="button" class="btn btn-default btn-xs" ng-click="$selectAll()">{{$allText}}</button> <button type="button" class="btn btn-default btn-xs" ng-click="$selectNone()">{{$noneText}}</button></div></li><li role="presentation" ng-repeat="match in $matches" ng-class="{active: $isActive($index)}"><a style="cursor: default" role="menuitem" tabindex="-1" ng-click="$select($index, $event)"><i class="{{$iconCheckmark}} pull-right" ng-if="$isMultiple && $isActive($index)"></i> <span ng-bind="match.label"></span></a></li></ul>')}]),angular.module("mgcrea.ngStrap.helpers.dateParser",[]).provider("$dateParser",["$localeProvider",function(t){function e(){this.year=1970,this.month=0,this.day=1,this.hours=0,this.minutes=0,this.seconds=0,this.milliseconds=0}function n(){}function i(t){return!isNaN(parseFloat(t))&&isFinite(t)}function r(t,e){for(var n=t.length,i=e.toString().toLowerCase(),r=0;n>r;r++)if(t[r].toLowerCase()===i)return r;return-1}e.prototype.setMilliseconds=function(t){this.milliseconds=t},e.prototype.setSeconds=function(t){this.seconds=t},e.prototype.setMinutes=function(t){this.minutes=t},e.prototype.setHours=function(t){this.hours=t},e.prototype.getHours=function(){return this.hours},e.prototype.setDate=function(t){this.day=t},e.prototype.setMonth=function(t){this.month=t},e.prototype.setFullYear=function(t){this.year=t},e.prototype.fromDate=function(t){return this.year=t.getFullYear(),this.month=t.getMonth(),this.day=t.getDate(),this.hours=t.getHours(),this.minutes=t.getMinutes(),this.seconds=t.getSeconds(),this.milliseconds=t.getMilliseconds(),this},e.prototype.toDate=function(){return new Date(this.year,this.month,this.day,this.hours,this.minutes,this.seconds,this.milliseconds)};var o=e.prototype,s=this.defaults={format:"shortDate",strict:!1};this.$get=["$locale","dateFilter",function(t,a){var l=function(l){function u(t){var e=c(t);return p(e)}function c(t){var e=h(t),n=e.replace(/''/g,"\\'"),i=/('(?:\\'|.)*?')/,r=n.split(i),o=Object.keys(x),s=[];return angular.forEach(r,function(t){if(d(t))t=f(t);else for(var e=0;e<o.length;e++)t=t.split(o[e]).join("${"+e+"}");s.push(t)}),s.join("")}function h(t){return t.replace(/\\/g,"[\\\\]").replace(/-/g,"[-]").replace(/\./g,"[.]").replace(/\*/g,"[*]").replace(/\+/g,"[+]").replace(/\?/g,"[?]").replace(/\$/g,"[$]").replace(/\^/g,"[^]").replace(/\//g,"[/]").replace(/\\s/g,"[\\s]")}function d(t){return/^'.*'$/.test(t)}function f(t){return t.replace(/^'(.*)'$/,"$1")}function p(t){for(var e=Object.keys(x),n=t,i=0;i<e.length;i++)n=n.split("${"+i+"}").join("("+x[e[i]]+")");return new RegExp("^"+n+"$",["i"])}function g(t){var e=c(t);return m(e)}function m(t){for(var e,n,i,r,o=Object.keys(x),s=new RegExp("\\${(\\d+)}","g"),a=[];null!==(e=s.exec(t));)n=e[1],i=o[n],r=_[i],a.push(r);return a}var v,y,b=angular.extend({},s,l),w={},x={sss:"[0-9]{3}",ss:"[0-5][0-9]",s:b.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",mm:"[0-5][0-9]",m:b.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",HH:"[01][0-9]|2[0-3]",H:b.strict?"1?[0-9]|2[0-3]":"[01]?[0-9]|2[0-3]",hh:"[0][1-9]|[1][012]",h:b.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",a:"AM|PM",EEEE:t.DATETIME_FORMATS.DAY.join("|"),EEE:t.DATETIME_FORMATS.SHORTDAY.join("|"),dd:"0[1-9]|[12][0-9]|3[01]",d:b.strict?"[1-9]|[1-2][0-9]|3[01]":"0?[1-9]|[1-2][0-9]|3[01]",MMMM:t.DATETIME_FORMATS.MONTH.join("|"),MMM:t.DATETIME_FORMATS.SHORTMONTH.join("|"),MM:"0[1-9]|1[012]",M:b.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",yyyy:"[1]{1}[0-9]{3}|[2]{1}[0-9]{3}",yy:"[0-9]{2}",y:b.strict?"-?(0|[1-9][0-9]{0,3})":"-?0*[0-9]{1,4}"},_={sss:o.setMilliseconds,ss:o.setSeconds,s:o.setSeconds,mm:o.setMinutes,m:o.setMinutes,HH:o.setHours,H:o.setHours,hh:o.setHours,h:o.setHours,EEEE:n,EEE:n,dd:o.setDate,d:o.setDate,a:function(t){var e=this.getHours()%12;return this.setHours(t.match(/pm/i)?e+12:e)},MMMM:function(e){return this.setMonth(r(t.DATETIME_FORMATS.MONTH,e))},MMM:function(e){return this.setMonth(r(t.DATETIME_FORMATS.SHORTMONTH,e))},MM:function(t){return this.setMonth(1*t-1)},M:function(t){return this.setMonth(1*t-1)},yyyy:o.setFullYear,yy:function(t){return this.setFullYear(2e3+1*t)},y:function(t){return 50>=1*t&&2===t.length?this.setFullYear(2e3+1*t):this.setFullYear(1*t)}};return w.init=function(){w.$format=t.DATETIME_FORMATS[b.format]||b.format,v=u(w.$format),y=g(w.$format)},w.isValid=function(t){return angular.isDate(t)?!isNaN(t.getTime()):v.test(t)},w.parse=function(n,i,r,o){r&&(r=t.DATETIME_FORMATS[r]||r),angular.isDate(n)&&(n=a(n,r||w.$format,o));var s=r?u(r):v,l=r?g(r):y,c=s.exec(n);if(!c)return!1;for(var h=i&&!isNaN(i.getTime())?(new e).fromDate(i):(new e).fromDate(new Date(1970,0,1,0)),d=0;d<c.length-1;d++)l[d]&&l[d].call(h,c[d+1]);var f=h.toDate();return parseInt(h.day,10)!==f.getDate()?!1:f},w.getDateForAttribute=function(t,e){var n;if("today"===e){var r=new Date;n=new Date(r.getFullYear(),r.getMonth(),r.getDate()+("maxDate"===t?1:0),0,0,0,"minDate"===t?0:-1)}else n=angular.isString(e)&&e.match(/^".+"$/)?new Date(e.substr(1,e.length-2)):i(e)?new Date(parseInt(e,10)):angular.isString(e)&&0===e.length?"minDate"===t?-(1/0):+(1/0):new Date(e);return n},w.getTimeForAttribute=function(t,e){var n;return n="now"===e?(new Date).setFullYear(1970,0,1):angular.isString(e)&&e.match(/^".+"$/)?new Date(e.substr(1,e.length-2)).setFullYear(1970,0,1):i(e)?new Date(parseInt(e,10)).setFullYear(1970,0,1):angular.isString(e)&&0===e.length?"minTime"===t?-(1/0):+(1/0):w.parse(e,new Date(1970,0,1,0))},w.daylightSavingAdjust=function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},w.timezoneOffsetAdjust=function(t,e,n){return t?(e&&"UTC"===e&&(t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+(n?-1:1)*t.getTimezoneOffset())),t):null},w.init(),w};return l}]}]),angular.module("mgcrea.ngStrap.helpers.dateFormatter",[]).service("$dateFormatter",["$locale","dateFilter",function(t,e){function n(t){return/(h+)([:\.])?(m+)([:\.])?(s*)[ ]?(a?)/i.exec(t).slice(1)}this.getDefaultLocale=function(){return t.id},this.getDatetimeFormat=function(e,n){return t.DATETIME_FORMATS[e]||e},this.weekdaysShort=function(e){return t.DATETIME_FORMATS.SHORTDAY},this.hoursFormat=function(t){return n(t)[0]},this.minutesFormat=function(t){return n(t)[2]},this.secondsFormat=function(t){return n(t)[4]},this.timeSeparator=function(t){return n(t)[1]},this.showSeconds=function(t){return!!n(t)[4]},this.showAM=function(t){return!!n(t)[5]},this.formatDate=function(t,n,i,r){return e(t,n,r)}}]),angular.module("mgcrea.ngStrap.datepicker",["mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.helpers.dateFormatter","mgcrea.ngStrap.tooltip"]).provider("$datepicker",function(){var t=this.defaults={animation:"am-fade",prefixClass:"datepicker",placement:"bottom-left",templateUrl:"datepicker/datepicker.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!1,dateType:"date",dateFormat:"shortDate",timezone:null,modelDateFormat:null,dayFormat:"dd",monthFormat:"MMM",yearFormat:"yyyy",monthTitleFormat:"MMMM yyyy",yearTitleFormat:"yyyy",strictFormat:!1,autoclose:!1,minDate:-(1/0),maxDate:+(1/0),startView:0,minView:0,startWeek:0,daysOfWeekDisabled:"",iconLeft:"fa fa-chevron-left",iconRight:"fa fa-chevron-right"};this.$get=["$window","$document","$rootScope","$sce","$dateFormatter","datepickerViews","$tooltip","$timeout",function(e,n,i,r,o,s,a,l){function u(e,n,i){function r(t){t.selected=u.$isSelected(t.date)}function o(){e[0].focus()}var u=a(e,angular.extend({},t,i)),d=i.scope,f=u.$options,p=u.$scope;f.startView&&(f.startView-=f.minView);var g=s(u);u.$views=g.views;var m=g.viewDate;p.$mode=f.startView,p.$iconLeft=f.iconLeft,p.$iconRight=f.iconRight;var v=u.$views[p.$mode];p.$select=function(t){u.select(t)},p.$selectPane=function(t){u.$selectPane(t)},p.$toggleMode=function(){u.setMode((p.$mode+1)%u.$views.length)},u.update=function(t){angular.isDate(t)&&!isNaN(t.getTime())&&(u.$date=t,v.update.call(v,t)),u.$build(!0)},u.updateDisabledDates=function(t){f.disabledDateRanges=t;for(var e=0,n=p.rows.length;n>e;e++)angular.forEach(p.rows[e],u.$setDisabledEl)},u.select=function(t,e){angular.isDate(n.$dateValue)||(n.$dateValue=new Date(t)),!p.$mode||e?(n.$setViewValue(angular.copy(t)),n.$render(),f.autoclose&&!e&&l(function(){u.hide(!0)})):(angular.extend(m,{year:t.getFullYear(),month:t.getMonth(),date:t.getDate()}),u.setMode(p.$mode-1),u.$build())},u.setMode=function(t){p.$mode=t,v=u.$views[p.$mode],u.$build()},u.$build=function(t){t===!0&&v.built||(t!==!1||v.built)&&v.build.call(v)},u.$updateSelected=function(){for(var t=0,e=p.rows.length;e>t;t++)angular.forEach(p.rows[t],r)},u.$isSelected=function(t){return v.isSelected(t)},u.$setDisabledEl=function(t){t.disabled=v.isDisabled(t.date)},u.$selectPane=function(t){var e=v.steps,n=new Date(Date.UTC(m.year+(e.year||0)*t,m.month+(e.month||0)*t,1));angular.extend(m,{year:n.getUTCFullYear(),month:n.getUTCMonth(),date:n.getUTCDate()}),u.$build()},u.$onMouseDown=function(t){if(t.preventDefault(),t.stopPropagation(),h){var e=angular.element(t.target);"button"!==e[0].nodeName.toLowerCase()&&(e=e.parent()),e.triggerHandler("click")}},u.$onKeyDown=function(t){if(/(38|37|39|40|13)/.test(t.keyCode)&&!t.shiftKey&&!t.altKey){if(t.preventDefault(),t.stopPropagation(),13===t.keyCode)return void(p.$mode?p.$apply(function(){u.setMode(p.$mode-1)}):u.hide(!0));v.onKeyDown(t),d.$digest()}};var y=u.init;u.init=function(){return c&&f.useNative?(e.prop("type","date"),void e.css("-webkit-appearance","textfield")):(h&&(e.prop("type","text"),e.attr("readonly","true"),e.on("click",o)),void y())};var b=u.destroy;u.destroy=function(){c&&f.useNative&&e.off("click",o),b()};var w=u.show;u.show=function(){!h&&e.attr("readonly")||e.attr("disabled")||(w(),l(function(){u.$isShown&&(u.$element.on(h?"touchstart":"mousedown",u.$onMouseDown),f.keyboard&&e.on("keydown",u.$onKeyDown))},0,!1))};var x=u.hide;return u.hide=function(t){u.$isShown&&(u.$element.off(h?"touchstart":"mousedown",u.$onMouseDown),f.keyboard&&e.off("keydown",u.$onKeyDown),x(t))},u}var c=/(ip[ao]d|iphone|android)/gi.test(e.navigator.userAgent),h="createTouch"in e.document&&c;return t.lang||(t.lang=o.getDefaultLocale()),u.defaults=t,u}]}).directive("bsDatepicker",["$window","$parse","$q","$dateFormatter","$dateParser","$datepicker",function(t,e,n,i,r,o){var s=/(ip[ao]d|iphone|android)/gi.test(t.navigator.userAgent);return{restrict:"EAC",require:"ngModel",link:function(t,e,n,a){function l(t){return t&&t.length?t:null}function u(t){if(angular.isDate(t)){var e=isNaN(f.$options.minDate)||t.getTime()>=f.$options.minDate,n=isNaN(f.$options.maxDate)||t.getTime()<=f.$options.maxDate,i=e&&n;a.$setValidity("date",i),a.$setValidity("min",e),a.$setValidity("max",n),i&&(a.$dateValue=t)}}function c(){return!a.$dateValue||isNaN(a.$dateValue.getTime())?"":g(a.$dateValue,h.dateFormat)}var h={scope:t};angular.forEach(["template","templateUrl","controller","controllerAs","placement","container","delay","trigger","html","animation","autoclose","dateType","dateFormat","timezone","modelDateFormat","dayFormat","strictFormat","startWeek","startDate","useNative","lang","startView","minView","iconLeft","iconRight","daysOfWeekDisabled","id","prefixClass","prefixEvent"],function(t){angular.isDefined(n[t])&&(h[t]=n[t])});var d=/^(false|0|)$/i;angular.forEach(["html","container","autoclose","useNative"],function(t){angular.isDefined(n[t])&&d.test(n[t])&&(h[t]=!1)});var f=o(e,a,h);h=f.$options,s&&h.useNative&&(h.dateFormat="yyyy-MM-dd");var p=h.lang,g=function(t,e){return i.formatDate(t,e,p)},m=r({format:h.dateFormat,lang:p,strict:h.strictFormat});n.bsShow&&t.$watch(n.bsShow,function(t,e){f&&angular.isDefined(t)&&(angular.isString(t)&&(t=!!t.match(/true|,?(datepicker),?/i)),t===!0?f.show():f.hide())}),angular.forEach(["minDate","maxDate"],function(t){angular.isDefined(n[t])&&n.$observe(t,function(e){f.$options[t]=m.getDateForAttribute(t,e),isNaN(f.$options[t])||f.$build(!1),u(a.$dateValue)})}),angular.isDefined(n.dateFormat)&&n.$observe("dateFormat",function(t){f.$options.dateFormat=t}),t.$watch(n.ngModel,function(t,e){f.update(a.$dateValue)},!0),angular.isDefined(n.disabledDates)&&t.$watch(n.disabledDates,function(t,e){t=l(t),e=l(e),t&&f.updateDisabledDates(t)}),a.$parsers.unshift(function(t){var e;if(!t)return a.$setValidity("date",!0),null;var n=m.parse(t,a.$dateValue);return!n||isNaN(n.getTime())?void a.$setValidity("date",!1):(u(n),"string"===h.dateType?(e=m.timezoneOffsetAdjust(n,h.timezone,!0),g(e,h.modelDateFormat||h.dateFormat)):(e=m.timezoneOffsetAdjust(a.$dateValue,h.timezone,!0),"number"===h.dateType?e.getTime():"unix"===h.dateType?e.getTime()/1e3:"iso"===h.dateType?e.toISOString():new Date(e)))}),a.$formatters.push(function(t){var e;return e=angular.isUndefined(t)||null===t?NaN:angular.isDate(t)?t:"string"===h.dateType?m.parse(t,null,h.modelDateFormat):"unix"===h.dateType?new Date(1e3*t):new Date(t),a.$dateValue=m.timezoneOffsetAdjust(e,h.timezone),c()}),a.$render=function(){e.val(c())},t.$on("$destroy",function(){f&&f.destroy(),h=null,f=null})}}}]).provider("datepickerViews",function(){function t(t,e){for(var n=[];t.length>0;)n.push(t.splice(0,e));return n}function e(t,e){return(t%e+e)%e}this.$get=["$dateFormatter","$dateParser","$sce",function(n,i,r){return function(o){var s=o.$scope,a=o.$options,l=a.lang,u=function(t,e){return n.formatDate(t,e,l)},c=i({format:a.dateFormat,lang:l,strict:a.strictFormat}),h=n.weekdaysShort(l),d=h.slice(a.startWeek).concat(h.slice(0,a.startWeek)),f=r.trustAsHtml('<th class="dow text-center">'+d.join('</th><th class="dow text-center">')+"</th>"),p=o.$date||(a.startDate?c.getDateForAttribute("startDate",a.startDate):new Date),g={year:p.getFullYear(),month:p.getMonth(),date:p.getDate()},m=[{format:a.dayFormat,split:7,steps:{month:1},update:function(t,e){!this.built||e||t.getFullYear()!==g.year||t.getMonth()!==g.month?(angular.extend(g,{year:o.$date.getFullYear(),month:o.$date.getMonth(),date:o.$date.getDate()}),o.$build()):(t.getDate()!==g.date||1===t.getDate())&&(g.date=o.$date.getDate(),o.$updateSelected())},build:function(){var n=new Date(g.year,g.month,1),i=n.getTimezoneOffset(),r=new Date(+n-864e5*e(n.getDay()-a.startWeek,7)),l=r.getTimezoneOffset(),h=c.timezoneOffsetAdjust(new Date,a.timezone).toDateString();l!==i&&(r=new Date(+r+6e4*(l-i)));for(var d,p=[],m=0;42>m;m++)d=c.daylightSavingAdjust(new Date(r.getFullYear(),r.getMonth(),r.getDate()+m)),p.push({date:d,isToday:d.toDateString()===h,label:u(d,this.format),selected:o.$date&&this.isSelected(d),muted:d.getMonth()!==g.month,disabled:this.isDisabled(d)});s.title=u(n,a.monthTitleFormat),s.showLabels=!0,s.labels=f,s.rows=t(p,this.split),this.built=!0},isSelected:function(t){return o.$date&&t.getFullYear()===o.$date.getFullYear()&&t.getMonth()===o.$date.getMonth()&&t.getDate()===o.$date.getDate()},isDisabled:function(t){var e=t.getTime();if(e<a.minDate||e>a.maxDate)return!0;if(-1!==a.daysOfWeekDisabled.indexOf(t.getDay()))return!0;if(a.disabledDateRanges)for(var n=0;n<a.disabledDateRanges.length;n++)if(e>=a.disabledDateRanges[n].start&&e<=a.disabledDateRanges[n].end)return!0;return!1},onKeyDown:function(t){if(o.$date){var e,n=o.$date.getTime();37===t.keyCode?e=new Date(n-864e5):38===t.keyCode?e=new Date(n-6048e5):39===t.keyCode?e=new Date(n+864e5):40===t.keyCode&&(e=new Date(n+6048e5)),this.isDisabled(e)||o.select(e,!0)}}},{name:"month",format:a.monthFormat,split:4,steps:{year:1},update:function(t,e){this.built&&t.getFullYear()===g.year?t.getMonth()!==g.month&&(angular.extend(g,{month:o.$date.getMonth(),date:o.$date.getDate()}),o.$updateSelected()):(angular.extend(g,{year:o.$date.getFullYear(),month:o.$date.getMonth(),date:o.$date.getDate()}),o.$build())},build:function(){for(var e,n=[],i=0;12>i;i++)e=new Date(g.year,i,1),n.push({date:e,label:u(e,this.format),selected:o.$isSelected(e),disabled:this.isDisabled(e)});s.title=u(e,a.yearTitleFormat),s.showLabels=!1,s.rows=t(n,this.split),this.built=!0},isSelected:function(t){return o.$date&&t.getFullYear()===o.$date.getFullYear()&&t.getMonth()===o.$date.getMonth()},isDisabled:function(t){var e=+new Date(t.getFullYear(),t.getMonth()+1,0);return e<a.minDate||t.getTime()>a.maxDate},onKeyDown:function(t){if(o.$date){var e=o.$date.getMonth(),n=new Date(o.$date);37===t.keyCode?n.setMonth(e-1):38===t.keyCode?n.setMonth(e-4):39===t.keyCode?n.setMonth(e+1):40===t.keyCode&&n.setMonth(e+4),this.isDisabled(n)||o.select(n,!0)}}},{name:"year",format:a.yearFormat,split:4,steps:{year:12},update:function(t,e){!this.built||e||parseInt(t.getFullYear()/20,10)!==parseInt(g.year/20,10)?(angular.extend(g,{year:o.$date.getFullYear(),month:o.$date.getMonth(),date:o.$date.getDate()}),o.$build()):t.getFullYear()!==g.year&&(angular.extend(g,{year:o.$date.getFullYear(),month:o.$date.getMonth(),date:o.$date.getDate()}),o.$updateSelected())},build:function(){for(var e,n=g.year-g.year%(3*this.split),i=[],r=0;12>r;r++)e=new Date(n+r,0,1),i.push({date:e,label:u(e,this.format),selected:o.$isSelected(e),disabled:this.isDisabled(e)});s.title=i[0].label+"-"+i[i.length-1].label,s.showLabels=!1,s.rows=t(i,this.split),this.built=!0},isSelected:function(t){return o.$date&&t.getFullYear()===o.$date.getFullYear()},isDisabled:function(t){var e=+new Date(t.getFullYear()+1,0,0);return e<a.minDate||t.getTime()>a.maxDate},onKeyDown:function(t){if(o.$date){var e=o.$date.getFullYear(),n=new Date(o.$date);37===t.keyCode?n.setYear(e-1):38===t.keyCode?n.setYear(e-4):39===t.keyCode?n.setYear(e+1):40===t.keyCode&&n.setYear(e+4),this.isDisabled(n)||o.select(n,!0)}}}];return{views:a.minView?Array.prototype.slice.call(m,a.minView):m,viewDate:g}}}]}),angular.module("mgcrea.ngStrap.datepicker").run(["$templateCache",function(t){t.put("datepicker/datepicker.tpl.html",'<div class="dropdown-menu datepicker" ng-class="\'datepicker-mode-\' + $mode" style="max-width: 320px"><table style="table-layout: fixed; height: 100%; width: 100%"><thead><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$selectPane(-1)"><i class="{{$iconLeft}}"></i></button></th><th colspan="{{ rows[0].length - 2 }}"><button tabindex="-1" type="button" class="btn btn-default btn-block text-strong" ng-click="$toggleMode()"><strong style="text-transform: capitalize" ng-bind="title"></strong></button></th><th><button tabindex="-1" type="button" class="btn btn-default pull-right" ng-click="$selectPane(+1)"><i class="{{$iconRight}}"></i></button></th></tr><tr ng-if="showLabels" ng-bind-html="labels"></tr></thead><tbody><tr ng-repeat="(i, row) in rows" height="{{ 100 / rows.length }}%"><td class="text-center" ng-repeat="(j, el) in row"><button tabindex="-1" type="button" class="btn btn-default" style="width: 100%" ng-class="{\'btn-primary\': el.selected, \'btn-info btn-today\': el.isToday && !el.selected}" ng-click="$select(el.date)" ng-disabled="el.disabled"><span ng-class="{\'text-muted\': el.muted}" ng-bind="el.label"></span></button></td></tr></tbody></table></div>')}]),angular.module("mgcrea.ngStrap.timepicker",["mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.helpers.dateFormatter","mgcrea.ngStrap.tooltip"]).provider("$timepicker",function(){var t=this.defaults={animation:"am-fade",prefixClass:"timepicker",placement:"bottom-left",templateUrl:"timepicker/timepicker.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!0,timeType:"date",timeFormat:"shortTime",timezone:null,modelTimeFormat:null,autoclose:!1,minTime:-(1/0),maxTime:+(1/0),length:5,hourStep:1,minuteStep:5,secondStep:5,roundDisplay:!1,iconUp:"fa fa-chevron-up",iconDown:"fa fa-chevron-down",arrowBehavior:"pager"};this.$get=["$window","$document","$rootScope","$sce","$dateFormatter","$tooltip","$timeout",function(e,n,i,r,o,s,a){function l(e,n,i){function r(t){var e=6e4*p.minuteStep;return new Date(Math.floor(t.getTime()/e)*e)}function l(t,n){var i=t+n;if(e[0].createTextRange){var r=e[0].createTextRange();r.collapse(!0),r.moveStart("character",t),r.moveEnd("character",i),r.select()}else e[0].setSelectionRange?e[0].setSelectionRange(t,i):angular.isUndefined(e[0].selectionStart)&&(e[0].selectionStart=t,e[0].selectionEnd=i)}function h(){e[0].focus()}var d=s(e,angular.extend({},t,i)),f=i.scope,p=d.$options,g=d.$scope,m=p.lang,v=function(t,e,n){return o.formatDate(t,e,m,n)},y=0,b=p.roundDisplay?r(new Date):new Date,w=n.$dateValue||b,x={hour:w.getHours(),meridian:w.getHours()<12,minute:w.getMinutes(),second:w.getSeconds(),millisecond:w.getMilliseconds()},_=o.getDatetimeFormat(p.timeFormat,m),$=o.hoursFormat(_),C=o.timeSeparator(_),A=o.minutesFormat(_),E=o.secondsFormat(_),S=o.showSeconds(_),k=o.showAM(_);g.$iconUp=p.iconUp,g.$iconDown=p.iconDown,g.$select=function(t,e){d.select(t,e)},g.$moveIndex=function(t,e){d.$moveIndex(t,e)},g.$switchMeridian=function(t){d.switchMeridian(t)},d.update=function(t){angular.isDate(t)&&!isNaN(t.getTime())?(d.$date=t,angular.extend(x,{hour:t.getHours(),minute:t.getMinutes(),second:t.getSeconds(),millisecond:t.getMilliseconds()}),d.$build()):d.$isBuilt||d.$build()},d.select=function(t,e,i){(!n.$dateValue||isNaN(n.$dateValue.getTime()))&&(n.$dateValue=new Date(1970,0,1)),angular.isDate(t)||(t=new Date(t)),0===e?n.$dateValue.setHours(t.getHours()):1===e?n.$dateValue.setMinutes(t.getMinutes()):2===e&&n.$dateValue.setSeconds(t.getSeconds()),n.$setViewValue(angular.copy(n.$dateValue)),n.$render(),p.autoclose&&!i&&a(function(){d.hide(!0)})},d.switchMeridian=function(t){if(n.$dateValue&&!isNaN(n.$dateValue.getTime())){var e=(t||n.$dateValue).getHours();n.$dateValue.setHours(12>e?e+12:e-12),n.$setViewValue(angular.copy(n.$dateValue)),n.$render()}},d.$build=function(){var t,e,n=g.midIndex=parseInt(p.length/2,10),i=[];for(t=0;t<p.length;t++)e=new Date(1970,0,1,x.hour-(n-t)*p.hourStep),i.push({date:e,label:v(e,$),selected:d.$date&&d.$isSelected(e,0),disabled:d.$isDisabled(e,0)});var r,o=[];for(t=0;t<p.length;t++)r=new Date(1970,0,1,0,x.minute-(n-t)*p.minuteStep),o.push({date:r,label:v(r,A),selected:d.$date&&d.$isSelected(r,1),disabled:d.$isDisabled(r,1)});var s,a=[];for(t=0;t<p.length;t++)s=new Date(1970,0,1,0,0,x.second-(n-t)*p.secondStep),a.push({date:s,label:v(s,E),selected:d.$date&&d.$isSelected(s,2),disabled:d.$isDisabled(s,2)});var l=[];for(t=0;t<p.length;t++)S?l.push([i[t],o[t],a[t]]):l.push([i[t],o[t]]);g.rows=l,g.showSeconds=S,g.showAM=k,g.isAM=(d.$date||i[n].date).getHours()<12,g.timeSeparator=C,d.$isBuilt=!0},d.$isSelected=function(t,e){return d.$date?0===e?t.getHours()===d.$date.getHours():1===e?t.getMinutes()===d.$date.getMinutes():2===e?t.getSeconds()===d.$date.getSeconds():void 0:!1},d.$isDisabled=function(t,e){var n;return 0===e?n=t.getTime()+6e4*x.minute+1e3*x.second:1===e?n=t.getTime()+36e5*x.hour+1e3*x.second:2===e&&(n=t.getTime()+36e5*x.hour+6e4*x.minute),n<1*p.minTime||n>1*p.maxTime},g.$arrowAction=function(t,e){"picker"===p.arrowBehavior?d.$setTimeByStep(t,e):d.$moveIndex(t,e)},d.$setTimeByStep=function(t,e){var n=new Date(d.$date||w),i=n.getHours(),r=n.getMinutes(),o=n.getSeconds();0===e?n.setHours(i-parseInt(p.hourStep,10)*t):1===e?n.setMinutes(r-parseInt(p.minuteStep,10)*t):2===e&&n.setSeconds(o-parseInt(p.secondStep,10)*t),d.select(n,e,!0)},d.$moveIndex=function(t,e){var n;0===e?(n=new Date(1970,0,1,x.hour+t*p.length,x.minute,x.second),angular.extend(x,{hour:n.getHours()})):1===e?(n=new Date(1970,0,1,x.hour,x.minute+t*p.length*p.minuteStep,x.second),angular.extend(x,{minute:n.getMinutes()})):2===e&&(n=new Date(1970,0,1,x.hour,x.minute,x.second+t*p.length*p.secondStep),angular.extend(x,{second:n.getSeconds()})),d.$build()},d.$onMouseDown=function(t){if("input"!==t.target.nodeName.toLowerCase()&&t.preventDefault(),t.stopPropagation(),c){var e=angular.element(t.target);"button"!==e[0].nodeName.toLowerCase()&&(e=e.parent()),e.triggerHandler("click")}},d.$onKeyDown=function(t){if(/(38|37|39|40|13)/.test(t.keyCode)&&!t.shiftKey&&!t.altKey){if(t.preventDefault(),t.stopPropagation(),13===t.keyCode)return void d.hide(!0);var e=new Date(d.$date),n=e.getHours(),i=v(e,$).length,r=e.getMinutes(),o=v(e,A).length,s=e.getSeconds(),a=v(e,E).length,u=1,c=/(37|39)/.test(t.keyCode),h=2+1*S+1*k;c&&(37===t.keyCode?y=1>y?h-1:y-1:39===t.keyCode&&(y=h-1>y?y+1:0));var g=[0,i],m=0;38===t.keyCode&&(m=-1),40===t.keyCode&&(m=1);var b=2===y&&S,w=2===y&&!S||3===y&&S;0===y?(e.setHours(n+m*parseInt(p.hourStep,10)),i=v(e,$).length,g=[0,i]):1===y?(e.setMinutes(r+m*parseInt(p.minuteStep,10)),o=v(e,A).length,g=[i+u,o]):b?(e.setSeconds(s+m*parseInt(p.secondStep,10)),a=v(e,E).length,g=[i+u+o+u,a]):w&&(c||d.switchMeridian(),g=[i+u+o+u+(a+u)*S,2]),d.select(e,y,!0),l(g[0],g[1]),f.$digest()}};var D=d.init;d.init=function(){return u&&p.useNative?(e.prop("type","time"),void e.css("-webkit-appearance","textfield")):(c&&(e.prop("type","text"),e.attr("readonly","true"),e.on("click",h)),void D())};var T=d.destroy;d.destroy=function(){u&&p.useNative&&e.off("click",h),T()};var F=d.show;d.show=function(){!c&&e.attr("readonly")||e.attr("disabled")||(F(),a(function(){d.$element&&d.$element.on(c?"touchstart":"mousedown",d.$onMouseDown),p.keyboard&&e&&e.on("keydown",d.$onKeyDown)},0,!1))};var M=d.hide;return d.hide=function(t){d.$isShown&&(d.$element&&d.$element.off(c?"touchstart":"mousedown",d.$onMouseDown),p.keyboard&&e&&e.off("keydown",d.$onKeyDown),M(t))},d}var u=/(ip[ao]d|iphone|android)/gi.test(e.navigator.userAgent),c="createTouch"in e.document&&u;return t.lang||(t.lang=o.getDefaultLocale()),l.defaults=t,l}]}).directive("bsTimepicker",["$window","$parse","$q","$dateFormatter","$dateParser","$timepicker",function(t,e,n,i,r,o){var s=o.defaults,a=/(ip[ao]d|iphone|android)/gi.test(t.navigator.userAgent);return{restrict:"EAC",require:"ngModel",link:function(t,e,n,l){function u(t){if(angular.isDate(t)){var e=isNaN(h.minTime)||new Date(t.getTime()).setFullYear(1970,0,1)>=h.minTime,n=isNaN(h.maxTime)||new Date(t.getTime()).setFullYear(1970,0,1)<=h.maxTime,i=e&&n;l.$setValidity("date",i),l.$setValidity("min",e),l.$setValidity("max",n),i&&(l.$dateValue=t)}}function c(){return!l.$dateValue||isNaN(l.$dateValue.getTime())?"":g(l.$dateValue,h.timeFormat)}var h={scope:t};angular.forEach(["template","templateUrl","controller","controllerAs","placement","container","delay","trigger","keyboard","html","animation","autoclose","timeType","timeFormat","timezone","modelTimeFormat","useNative","hourStep","minuteStep","secondStep","length","arrowBehavior","iconUp","iconDown","roundDisplay","id","prefixClass","prefixEvent"],function(t){angular.isDefined(n[t])&&(h[t]=n[t])});var d=/^(false|0|)$/i;angular.forEach(["html","container","autoclose","useNative","roundDisplay"],function(t){angular.isDefined(n[t])&&d.test(n[t])&&(h[t]=!1)}),a&&(h.useNative||s.useNative)&&(h.timeFormat="HH:mm");var f=o(e,l,h);h=f.$options;var p=h.lang,g=function(t,e,n){return i.formatDate(t,e,p,n)};n.bsShow&&t.$watch(n.bsShow,function(t,e){f&&angular.isDefined(t)&&(angular.isString(t)&&(t=!!t.match(/true|,?(timepicker),?/i)),t===!0?f.show():f.hide())});var m=r({format:h.timeFormat,lang:p});angular.forEach(["minTime","maxTime"],function(t){angular.isDefined(n[t])&&n.$observe(t,function(e){f.$options[t]=m.getTimeForAttribute(t,e),isNaN(f.$options[t])||f.$build(),u(l.$dateValue)})}),t.$watch(n.ngModel,function(t,e){f.update(l.$dateValue)},!0),l.$parsers.unshift(function(t){var e;if(!t)return l.$setValidity("date",!0),null;var n=angular.isDate(t)?t:m.parse(t,l.$dateValue);return!n||isNaN(n.getTime())?void l.$setValidity("date",!1):(u(n),"string"===h.timeType?(e=m.timezoneOffsetAdjust(n,h.timezone,!0),g(e,h.modelTimeFormat||h.timeFormat)):(e=m.timezoneOffsetAdjust(l.$dateValue,h.timezone,!0),"number"===h.timeType?e.getTime():"unix"===h.timeType?e.getTime()/1e3:"iso"===h.timeType?e.toISOString():new Date(e)))}),l.$formatters.push(function(t){var e;return e=angular.isUndefined(t)||null===t?NaN:angular.isDate(t)?t:"string"===h.timeType?m.parse(t,null,h.modelTimeFormat):"unix"===h.timeType?new Date(1e3*t):new Date(t),l.$dateValue=m.timezoneOffsetAdjust(e,h.timezone),c()}),l.$render=function(){e.val(c())},t.$on("$destroy",function(){f&&f.destroy(),h=null,f=null})}}}]),angular.module("mgcrea.ngStrap.timepicker").run(["$templateCache",function(t){t.put("timepicker/timepicker.tpl.html",'<div class="dropdown-menu timepicker" style="min-width: 0px;width: auto"><table height="100%"><thead><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 0)"><i class="{{ $iconUp }}"></i></button></th><th>&nbsp;</th><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 1)"><i class="{{ $iconUp }}"></i></button></th><th>&nbsp;</th><th><button ng-if="showSeconds" tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 2)"><i class="{{ $iconUp }}"></i></button></th></tr></thead><tbody><tr ng-repeat="(i, row) in rows"><td class="text-center"><button tabindex="-1" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[0].selected}" ng-click="$select(row[0].date, 0)" ng-disabled="row[0].disabled"><span ng-class="{\'text-muted\': row[0].muted}" ng-bind="row[0].label"></span></button></td><td><span ng-bind="i == midIndex ? timeSeparator : \' \'"></span></td><td class="text-center"><button tabindex="-1" ng-if="row[1].date" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[1].selected}" ng-click="$select(row[1].date, 1)" ng-disabled="row[1].disabled"><span ng-class="{\'text-muted\': row[1].muted}" ng-bind="row[1].label"></span></button></td><td><span ng-bind="i == midIndex ? timeSeparator : \' \'"></span></td><td class="text-center"><button tabindex="-1" ng-if="showSeconds && row[2].date" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[2].selected}" ng-click="$select(row[2].date, 2)" ng-disabled="row[2].disabled"><span ng-class="{\'text-muted\': row[2].muted}" ng-bind="row[2].label"></span></button></td><td ng-if="showAM">&nbsp;</td><td ng-if="showAM"><button tabindex="-1" ng-show="i == midIndex - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !!isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">AM</button> <button tabindex="-1" ng-show="i == midIndex + 1 - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">PM</button></td></tr></tbody><tfoot><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 0)"><i class="{{ $iconDown }}"></i></button></th><th>&nbsp;</th><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 1)"><i class="{{ $iconDown }}"></i></button></th><th>&nbsp;</th><th><button ng-if="showSeconds" tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 2)"><i class="{{ $iconDown }}"></i></button></th></tr></tfoot></table></div>');
}]),function(t,e,n){"use strict";function i(t,n){return e.equals(t.length,n.length)?t>n:t.length>n.length}function r(t){var e=t.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/);if(!e||4!==e.length)throw new Error("Invalid state ref '"+t+"'");return{state:e[1],paramExpr:e[3]||null}}function o(){var t={prefixStateName:null,template:"bootstrap3",templateUrl:null,includeAbstract:!1};this.setOptions=function(n){e.extend(t,n)},this.$get=["$state","$stateParams","$rootScope",function(e,o,s){var a=s;s.$on("$viewContentLoaded",function(t){i(t.targetScope.$id,a.$id)&&(a=t.targetScope)});var l=function(t){var e=t.parent||(/^(.+)\.[^.]+$/.exec(t.name)||[])[1];return e},u=function(n,i){for(var s,l,u=r(i),c=0,h=n.length;h>c;c+=1)if(n[c].name===u.state)return;s=e.get(u.state),s["abstract"]&&!t.includeAbstract||s.ncyBreadcrumb&&s.ncyBreadcrumb.skip||(u.paramExpr&&(l=a.$eval(u.paramExpr)),s.ncyBreadcrumbLink=e.href(u.state,l||o||{}),n.unshift(s))},c=function(t){var n=r(t),i=e.get(n.state);if(i.ncyBreadcrumb&&i.ncyBreadcrumb.parent){var o="function"==typeof i.ncyBreadcrumb.parent,s=o?i.ncyBreadcrumb.parent(a):i.ncyBreadcrumb.parent;if(s)return s}return l(i)};return{getTemplate:function(e){return t.templateUrl?null:e[t.template]?e[t.template]:t.template},getTemplateUrl:function(){return t.templateUrl},getStatesChain:function(n){for(var i=[],r=e.$current.self.name;r;r=c(r))if(u(i,r),n&&i.length)return i;return t.prefixStateName&&u(i,t.prefixStateName),i},getLastStep:function(){var t=this.getStatesChain(!0);return t.length?t[0]:n},$getLastViewScope:function(){return a}}}]}function s(t,n,i){var r={bootstrap2:'<ul class="breadcrumb"><li ng-repeat="step in steps" ng-switch="$last || !!step.abstract" ng-class="{active: $last}"><a ng-switch-when="false" href="{{step.ncyBreadcrumbLink}}">{{step.ncyBreadcrumbLabel}}</a> <span ng-switch-when="true">{{step.ncyBreadcrumbLabel}}</span><span class="divider" ng-hide="$last">/</span></li></ul>',bootstrap3:'<ol class="breadcrumb"><li ng-repeat="step in steps" ng-class="{active: $last}" ng-switch="$last || !!step.abstract"><a ng-switch-when="false" href="{{step.ncyBreadcrumbLink}}">{{step.ncyBreadcrumbLabel}}</a> <span ng-switch-when="true">{{step.ncyBreadcrumbLabel}}</span></li></ol>'};return{restrict:"AE",replace:!0,scope:{},template:n.getTemplate(r),templateUrl:n.getTemplateUrl(),link:{post:function(r){var o=[],s=function(){c(o);var i=n.$getLastViewScope();r.steps=n.getStatesChain(),e.forEach(r.steps,function(e){if(e.ncyBreadcrumb&&e.ncyBreadcrumb.label){var n=t(e.ncyBreadcrumb.label);e.ncyBreadcrumbLabel=n(i),u(o,n,i,e)}else e.ncyBreadcrumbLabel=e.name})};i.$on("$viewContentLoaded",function(){s()}),s()}}}}function a(t,e,n){return{restrict:"A",scope:{},template:"{{ncyBreadcrumbLabel}}",compile:function(i,r){var o=i.attr(r.$attr.ncyBreadcrumbLast);return o&&i.html(o),{post:function(i){var r=[],o=function(){c(r);var n=e.$getLastViewScope(),o=e.getLastStep();if(o)if(i.ncyBreadcrumbLink=o.ncyBreadcrumbLink,o.ncyBreadcrumb&&o.ncyBreadcrumb.label){var s=t(o.ncyBreadcrumb.label);i.ncyBreadcrumbLabel=s(n),u(r,s,n,i)}else i.ncyBreadcrumbLabel=o.name};n.$on("$viewContentLoaded",function(){o()}),o()}}}}}var l=function(t){if(t.expressions)return t.expressions;var n=[];return e.forEach(t.parts,function(t){e.isFunction(t)&&n.push(t.exp)}),n},u=function(t,n,i,r){e.forEach(l(n),function(e){var o=i.$watch(e,function(){r.ncyBreadcrumbLabel=n(i)});t.push(o)})},c=function(t){e.forEach(t,function(t){t()}),t=[]};s.$inject=["$interpolate","$breadcrumb","$rootScope"],a.$inject=["$interpolate","$breadcrumb","$rootScope"],e.module("ncy-angular-breadcrumb",["ui.router.state"]).provider("$breadcrumb",o).directive("ncyBreadcrumb",s).directive("ncyBreadcrumbLast",a)}(window,window.angular),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["angular"],e):t.hasOwnProperty("angular")?e(t.angular):"object"==typeof exports&&(module.exports=e(require("angular")))}(this,function(t){"use strict";function e(e){return function(){var n="ngStorage-";this.setKeyPrefix=function(t){if("string"!=typeof t)throw new TypeError("[ngStorage] - "+e+"Provider.setKeyPrefix() expects a String.");n=t};var i=t.toJson,r=t.fromJson;this.setSerializer=function(t){if("function"!=typeof t)throw new TypeError("[ngStorage] - "+e+"Provider.setSerializer expects a function.");i=t},this.setDeserializer=function(t){if("function"!=typeof t)throw new TypeError("[ngStorage] - "+e+"Provider.setDeserializer expects a function.");r=t},this.get=function(t){return r(window[e].getItem(n+t))},this.set=function(t,r){return window[e].setItem(n+t,i(r))},this.$get=["$rootScope","$window","$log","$timeout","$document",function(o,s,a,l,u){function c(t){var e;try{e=s[t]}catch(n){e=!1}if(e&&"localStorage"===t){var i="__"+Math.round(1e7*Math.random());try{localStorage.setItem(i,i),localStorage.removeItem(i)}catch(n){e=!1}}return e}var h,d,f=n.length,p=c(e)||(a.warn("This browser does not support Web Storage!"),{setItem:t.noop,getItem:t.noop,removeItem:t.noop}),g={$default:function(e){for(var n in e)t.isDefined(g[n])||(g[n]=t.copy(e[n]));return g.$sync(),g},$reset:function(t){for(var e in g)"$"===e[0]||delete g[e]&&p.removeItem(n+e);return g.$default(t)},$sync:function(){for(var t,e=0,i=p.length;i>e;e++)(t=p.key(e))&&n===t.slice(0,f)&&(g[t.slice(f)]=r(p.getItem(t)))},$apply:function(){var e;if(d=null,!t.equals(g,h)){e=t.copy(h),t.forEach(g,function(r,o){t.isDefined(r)&&"$"!==o[0]&&(p.setItem(n+o,i(r)),delete e[o])});for(var r in e)p.removeItem(n+r);h=t.copy(g)}}};return g.$sync(),h=t.copy(g),o.$watch(function(){d||(d=l(g.$apply,100,!1))}),s.addEventListener&&s.addEventListener("storage",function(e){if(e.key){var i=u[0];i.hasFocus&&i.hasFocus()||n!==e.key.slice(0,f)||(e.newValue?g[e.key.slice(f)]=r(e.newValue):delete g[e.key.slice(f)],h=t.copy(g),o.$apply())}}),s.addEventListener&&s.addEventListener("beforeunload",function(){g.$apply()}),g}]}}return t=t&&t.module?t:window.angular,t.module("ngStorage",[]).provider("$localStorage",e("localStorage")).provider("$sessionStorage",e("sessionStorage"))}),function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(t){var e=["$q","$cacheFactory","$timeout","$rootScope","$log","cfpLoadingBar",function(e,n,i,r,o,s){function a(){i.cancel(u),s.complete(),h=0,c=0}function l(e){var i,r=n.get("$http"),o=t.defaults;!e.cache&&!o.cache||e.cache===!1||"GET"!==e.method&&"JSONP"!==e.method||(i=angular.isObject(e.cache)?e.cache:angular.isObject(o.cache)?o.cache:r);var s=void 0!==i?void 0!==i.get(e.url):!1;return void 0!==e.cached&&s!==e.cached?e.cached:(e.cached=s,s)}var u,c=0,h=0,d=s.latencyThreshold;return{request:function(t){return t.ignoreLoadingBar||l(t)||(r.$broadcast("cfpLoadingBar:loading",{url:t.url}),0===c&&(u=i(function(){s.start()},d)),c++,s.set(h/c)),t},response:function(t){return t&&t.config?(t.config.ignoreLoadingBar||l(t.config)||(h++,r.$broadcast("cfpLoadingBar:loaded",{url:t.config.url,result:t}),h>=c?a():s.set(h/c)),t):(o.error("Broken interceptor detected: Config object not supplied in response:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),t)},responseError:function(t){return t&&t.config?(t.config.ignoreLoadingBar||l(t.config)||(h++,r.$broadcast("cfpLoadingBar:loaded",{url:t.config.url,result:t}),h>=c?a():s.set(h/c)),e.reject(t)):(o.error("Broken interceptor detected: Config object not supplied in rejection:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),e.reject(t))}}}];t.interceptors.push(e)}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.autoIncrement=!0,this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function(t,e,n,i){function r(){c||(c=t.get("$animate"));var r=e.find(f).eq(0);n.cancel(d),v||(i.$broadcast("cfpLoadingBar:started"),v=!0,x&&c.enter(p,r,angular.element(r[0].lastChild)),w&&c.enter(m,r,angular.element(r[0].lastChild)),o(_))}function o(t){if(v){var e=100*t+"%";g.css("width",e),y=t,b&&(n.cancel(h),h=n(function(){s()},250))}}function s(){if(!(a()>=1)){var t=0,e=a();t=e>=0&&.25>e?(3*Math.random()+3)/100:e>=.25&&.65>e?3*Math.random()/100:e>=.65&&.9>e?2*Math.random()/100:e>=.9&&.99>e?.005:0;var n=a()+t;o(n)}}function a(){return y}function l(){y=0,v=!1}function u(){c||(c=t.get("$animate")),i.$broadcast("cfpLoadingBar:completed"),o(1),n.cancel(d),d=n(function(){var t=c.leave(p,l);t&&t.then&&t.then(l),c.leave(m)},500)}var c,h,d,f=this.parentSelector,p=angular.element(this.loadingBarTemplate),g=p.find("div").eq(0),m=angular.element(this.spinnerTemplate),v=!1,y=0,b=this.autoIncrement,w=this.includeSpinner,x=this.includeBar,_=this.startSize;return{start:r,set:o,status:a,inc:s,complete:u,autoIncrement:this.autoIncrement,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}(),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.SockJS=t()}}(function(){var t;return function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return r(n?n:e)},c,c.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){(function(n){"use strict";var i=t("./transport-list");e.exports=t("./main")(i),"_sockjs_onload"in n&&setTimeout(n._sockjs_onload,1)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./main":14,"./transport-list":16}],2:[function(t,e,n){"use strict";function i(){o.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}var r=t("inherits"),o=t("./event");r(i,o),e.exports=i},{"./event":4,inherits:57}],3:[function(t,e,n){"use strict";function i(){o.call(this)}var r=t("inherits"),o=t("./eventtarget");r(i,o),i.prototype.removeAllListeners=function(t){t?delete this._listeners[t]:this._listeners={}},i.prototype.once=function(t,e){function n(){i.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}var i=this,r=!1;this.on(t,n)},i.prototype.emit=function(t){var e=this._listeners[t];if(e)for(var n=Array.prototype.slice.call(arguments,1),i=0;i<e.length;i++)e[i].apply(this,n)},i.prototype.on=i.prototype.addListener=o.prototype.addEventListener,i.prototype.removeListener=o.prototype.removeEventListener,e.exports.EventEmitter=i},{"./eventtarget":5,inherits:57}],4:[function(t,e,n){"use strict";function i(t){this.type=t}i.prototype.initEvent=function(t,e,n){return this.type=t,this.bubbles=e,this.cancelable=n,this.timeStamp=+new Date,this},i.prototype.stopPropagation=function(){},i.prototype.preventDefault=function(){},i.CAPTURING_PHASE=1,i.AT_TARGET=2,i.BUBBLING_PHASE=3,e.exports=i},{}],5:[function(t,e,n){"use strict";function i(){this._listeners={}}i.prototype.addEventListener=function(t,e){t in this._listeners||(this._listeners[t]=[]);var n=this._listeners[t];-1===n.indexOf(e)&&(n=n.concat([e])),this._listeners[t]=n},i.prototype.removeEventListener=function(t,e){var n=this._listeners[t];if(n){var i=n.indexOf(e);return-1!==i?void(n.length>1?this._listeners[t]=n.slice(0,i).concat(n.slice(i+1)):delete this._listeners[t]):void 0}},i.prototype.dispatchEvent=function(t){var e=t.type,n=Array.prototype.slice.call(arguments,0);if(this["on"+e]&&this["on"+e].apply(this,n),e in this._listeners)for(var i=this._listeners[e],r=0;r<i.length;r++)i[r].apply(this,n)},e.exports=i},{}],6:[function(t,e,n){"use strict";function i(t){o.call(this),this.initEvent("message",!1,!1),this.data=t}var r=t("inherits"),o=t("./event");r(i,o),e.exports=i},{"./event":4,inherits:57}],7:[function(t,e,n){"use strict";function i(t){this._transport=t,t.on("message",this._transportMessage.bind(this)),t.on("close",this._transportClose.bind(this))}var r=t("json3"),o=t("./utils/iframe");i.prototype._transportClose=function(t,e){o.postMessage("c",r.stringify([t,e]))},i.prototype._transportMessage=function(t){o.postMessage("t",t)},i.prototype._send=function(t){this._transport.send(t)},i.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},e.exports=i},{"./utils/iframe":47,json3:58}],8:[function(t,e,n){(function(n){"use strict";var i=t("./utils/url"),r=t("./utils/event"),o=t("json3"),s=t("./facade"),a=t("./info-iframe-receiver"),l=t("./utils/iframe"),u=t("./location"),c=function(){};"production"!==n.env.NODE_ENV&&(c=t("debug")("sockjs-client:iframe-bootstrap")),e.exports=function(t,e){var n={};e.forEach(function(t){t.facadeTransport&&(n[t.facadeTransport.transportName]=t.facadeTransport)}),n[a.transportName]=a;var h;t.bootstrap_iframe=function(){var e;l.currentWindowId=u.hash.slice(1);var a=function(r){if(r.source===parent&&("undefined"==typeof h&&(h=r.origin),r.origin===h)){var a;try{a=o.parse(r.data)}catch(d){return void c("bad json",r.data)}if(a.windowId===l.currentWindowId)switch(a.type){case"s":var f;try{f=o.parse(a.data)}catch(d){c("bad json",a.data);break}var p=f[0],g=f[1],m=f[2],v=f[3];if(c(p,g,m,v),p!==t.version)throw new Error('Incompatibile SockJS! Main site uses: "'+p+'", the iframe: "'+t.version+'".');if(!i.isOriginEqual(m,u.href)||!i.isOriginEqual(v,u.href))throw new Error("Can't connect to different domain from within an iframe. ("+u.href+", "+m+", "+v+")");e=new s(new n[g](m,v));break;case"m":e._send(a.data);break;case"c":e&&e._close(),e=null}}};r.attachEvent("message",a),l.postMessage("s")}}}).call(this,{env:{}})},{"./facade":7,"./info-iframe-receiver":10,"./location":13,"./utils/event":46,"./utils/iframe":47,"./utils/url":52,debug:54,json3:58}],9:[function(t,e,n){(function(n){"use strict";function i(t,e){r.call(this);var n=this,i=+new Date;this.xo=new e("GET",t),this.xo.once("finish",function(t,e){var r,o;if(200===t){if(o=+new Date-i,e)try{r=s.parse(e)}catch(u){l("bad json",e)}a.isObject(r)||(r={})}n.emit("finish",r,o),n.removeAllListeners()})}var r=t("events").EventEmitter,o=t("inherits"),s=t("json3"),a=t("./utils/object"),l=function(){};"production"!==n.env.NODE_ENV&&(l=t("debug")("sockjs-client:info-ajax")),o(i,r),i.prototype.close=function(){this.removeAllListeners(),this.xo.close()},e.exports=i}).call(this,{env:{}})},{"./utils/object":49,debug:54,events:3,inherits:57,json3:58}],10:[function(t,e,n){"use strict";function i(t){var e=this;o.call(this),this.ir=new l(t,a),this.ir.once("finish",function(t,n){e.ir=null,e.emit("message",s.stringify([t,n]))})}var r=t("inherits"),o=t("events").EventEmitter,s=t("json3"),a=t("./transport/sender/xhr-local"),l=t("./info-ajax");r(i,o),i.transportName="iframe-info-receiver",i.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},e.exports=i},{"./info-ajax":9,"./transport/sender/xhr-local":37,events:3,inherits:57,json3:58}],11:[function(t,e,n){(function(n,i){"use strict";function r(t,e){var n=this;o.call(this);var r=function(){var i=n.ifr=new u(c.transportName,e,t);i.once("message",function(t){if(t){var e;try{e=a.parse(t)}catch(i){return h("bad json",t),n.emit("finish"),void n.close()}var r=e[0],o=e[1];n.emit("finish",r,o)}n.close()}),i.once("close",function(){n.emit("finish"),n.close()})};i.document.body?r():l.attachEvent("load",r)}var o=t("events").EventEmitter,s=t("inherits"),a=t("json3"),l=t("./utils/event"),u=t("./transport/iframe"),c=t("./info-iframe-receiver"),h=function(){};"production"!==n.env.NODE_ENV&&(h=t("debug")("sockjs-client:info-iframe")),s(r,o),r.enabled=function(){return u.enabled()},r.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},e.exports=r}).call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./info-iframe-receiver":10,"./transport/iframe":22,"./utils/event":46,debug:54,events:3,inherits:57,json3:58}],12:[function(t,e,n){(function(n){"use strict";function i(t,e){f(t);var n=this;r.call(this),setTimeout(function(){n.doXhr(t,e)},0)}var r=t("events").EventEmitter,o=t("inherits"),s=t("./utils/url"),a=t("./transport/sender/xdr"),l=t("./transport/sender/xhr-cors"),u=t("./transport/sender/xhr-local"),c=t("./transport/sender/xhr-fake"),h=t("./info-iframe"),d=t("./info-ajax"),f=function(){};"production"!==n.env.NODE_ENV&&(f=t("debug")("sockjs-client:info-receiver")),o(i,r),i._getReceiver=function(t,e,n){return n.sameOrigin?new d(e,u):l.enabled?new d(e,l):a.enabled&&n.sameScheme?new d(e,a):h.enabled()?new h(t,e):new d(e,c)},i.prototype.doXhr=function(t,e){var n=this,r=s.addPath(t,"/info");f("doXhr",r),this.xo=i._getReceiver(t,r,e),this.timeoutRef=setTimeout(function(){f("timeout"),n._cleanup(!1),n.emit("finish")},i.timeout),this.xo.once("finish",function(t,e){f("finish",t,e),n._cleanup(!0),n.emit("finish",t,e)})},i.prototype._cleanup=function(t){f("_cleanup"),clearTimeout(this.timeoutRef),this.timeoutRef=null,!t&&this.xo&&this.xo.close(),this.xo=null},i.prototype.close=function(){f("close"),this.removeAllListeners(),this._cleanup(!1)},i.timeout=8e3,e.exports=i}).call(this,{env:{}})},{"./info-ajax":9,"./info-iframe":11,"./transport/sender/xdr":34,"./transport/sender/xhr-cors":35,"./transport/sender/xhr-fake":36,"./transport/sender/xhr-local":37,"./utils/url":52,debug:54,events:3,inherits:57}],13:[function(t,e,n){(function(t){"use strict";e.exports=t.location||{origin:"http://localhost:80",protocol:"http",host:"localhost",port:80,href:"http://localhost/",hash:""}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(t,e,n){(function(n,i){"use strict";function r(t,e,n){if(!(this instanceof r))return new r(t,e,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");y.call(this),this.readyState=r.CONNECTING,this.extensions="",this.protocol="",n=n||{},n.protocols_whitelist&&m.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports;var i=n.sessionId||8;if("function"==typeof i)this._generateSessionId=i;else{if("number"!=typeof i)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return u.string(i)}}this._server=n.server||u.numberString(1e3);var o=new s(t);if(!o.host||!o.protocol)throw new SyntaxError("The URL '"+t+"' is invalid");if(o.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==o.protocol&&"https:"!==o.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+o.protocol+"' is not allowed.");var a="https:"===o.protocol;if("https"===b.protocol&&!a)throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");e?Array.isArray(e)||(e=[e]):e=[];var l=e.sort();l.forEach(function(t,e){if(!t)throw new SyntaxError("The protocols entry '"+t+"' is invalid.");if(e<l.length-1&&t===l[e+1])throw new SyntaxError("The protocols entry '"+t+"' is duplicated.")});var c=h.getOrigin(b.href);this._origin=c?c.toLowerCase():null,o.set("pathname",o.pathname.replace(/\/+$/,"")),this.url=o.href,$("using url",this.url),this._urlInfo={nullOrigin:!g.hasDomain(),sameOrigin:h.isOriginEqual(this.url,b.href),sameScheme:h.isSchemeEqual(this.url,b.href)},this._ir=new _(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function o(t){return 1e3===t||t>=3e3&&4999>=t}t("./shims");var s=t("url-parse"),a=t("inherits"),l=t("json3"),u=t("./utils/random"),c=t("./utils/escape"),h=t("./utils/url"),d=t("./utils/event"),f=t("./utils/transport"),p=t("./utils/object"),g=t("./utils/browser"),m=t("./utils/log"),v=t("./event/event"),y=t("./event/eventtarget"),b=t("./location"),w=t("./event/close"),x=t("./event/trans-message"),_=t("./info-receiver"),$=function(){};"production"!==n.env.NODE_ENV&&(i.dbg=t("debug"),$=i.dbg("sockjs-client:main"));var C;a(r,y),r.prototype.close=function(t,e){if(t&&!o(t))throw new Error("InvalidAccessError: Invalid code");if(e&&e.length>123)throw new SyntaxError("reason argument has an invalid length");if(this.readyState!==r.CLOSING&&this.readyState!==r.CLOSED){var n=!0;this._close(t||1e3,e||"Normal closure",n)}},r.prototype.send=function(t){if("string"!=typeof t&&(t=""+t),this.readyState===r.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===r.OPEN&&this._transport.send(c.quote(t))},r.version=t("./version"),r.CONNECTING=0,r.OPEN=1,r.CLOSING=2,r.CLOSED=3,r.prototype._receiveInfo=function(t,e){if($("_receiveInfo",e),this._ir=null,!t)return void this._close(1002,"Cannot connect to server");this._rto=this.countRTO(e),this._transUrl=t.base_url?t.base_url:this.url,t=p.extend(t,this._urlInfo),$("info",t);var n=C.filterToEnabled(this._transportsWhitelist,t);this._transports=n.main,$(this._transports.length+" enabled transports"),this._connect()},r.prototype._connect=function(){for(var t=this._transports.shift();t;t=this._transports.shift()){if($("attempt",t.transportName),t.needBody&&(!i.document.body||"undefined"!=typeof i.document.readyState&&"complete"!==i.document.readyState&&"interactive"!==i.document.readyState))return $("waiting for body"),this._transports.unshift(t),void d.attachEvent("load",this._connect.bind(this));var e=this._rto*t.roundTrips||5e3;this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),e),$("using timeout",e);var n=h.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId());$("transport url",n);var r=new t(n,this._transUrl);return r.on("message",this._transportMessage.bind(this)),r.once("close",this._transportClose.bind(this)),r.transportName=t.transportName,void(this._transport=r)}this._close(2e3,"All transports failed",!1)},r.prototype._transportTimeout=function(){$("_transportTimeout"),this.readyState===r.CONNECTING&&this._transportClose(2007,"Transport timed out")},r.prototype._transportMessage=function(t){$("_transportMessage",t);var e,n=this,i=t.slice(0,1),r=t.slice(1);switch(i){case"o":return void this._open();case"h":return this.dispatchEvent(new v("heartbeat")),void $("heartbeat",this.transport)}if(r)try{e=l.parse(r)}catch(o){$("bad json",r)}if("undefined"==typeof e)return void $("empty payload",r);switch(i){case"a":Array.isArray(e)&&e.forEach(function(t){$("message",n.transport,t),n.dispatchEvent(new x(t))});break;case"m":$("message",this.transport,e),this.dispatchEvent(new x(e));break;case"c":Array.isArray(e)&&2===e.length&&this._close(e[0],e[1],!0)}},r.prototype._transportClose=function(t,e){return $("_transportClose",this.transport,t,e),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),o(t)||2e3===t||this.readyState!==r.CONNECTING?void this._close(t,e):void this._connect()},r.prototype._open=function(){$("_open",this._transport.transportName,this.readyState),this.readyState===r.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=r.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new v("open")),$("connected",this.transport)):this._close(1006,"Server lost session")},r.prototype._close=function(t,e,n){$("_close",this.transport,t,e,n,this.readyState);var i=!1;if(this._ir&&(i=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===r.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=r.CLOSING,setTimeout(function(){this.readyState=r.CLOSED,i&&this.dispatchEvent(new v("error"));var o=new w("close");o.wasClean=n||!1,o.code=t||1e3,o.reason=e,this.dispatchEvent(o),this.onmessage=this.onclose=this.onerror=null,$("disconnected")}.bind(this),0)},r.prototype.countRTO=function(t){return t>100?4*t:300+t},e.exports=function(e){return C=f(e),t("./iframe-bootstrap")(r,e),r}}).call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./event/close":2,"./event/event":4,"./event/eventtarget":5,"./event/trans-message":6,"./iframe-bootstrap":8,"./info-receiver":12,"./location":13,"./shims":15,"./utils/browser":44,"./utils/escape":45,"./utils/event":46,"./utils/log":48,"./utils/object":49,"./utils/random":50,"./utils/transport":51,"./utils/url":52,"./version":53,debug:54,inherits:57,json3:58,"url-parse":59}],15:[function(t,e,n){"use strict";function i(t){var e=+t;return e!==e?e=0:0!==e&&e!==1/0&&e!==-(1/0)&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}function r(t){return t>>>0}function o(){}var s,a=Array.prototype,l=Object.prototype,u=Function.prototype,c=String.prototype,h=a.slice,d=l.toString,f=function(t){return"[object Function]"===l.toString.call(t)},p=function(t){return"[object Array]"===d.call(t)},g=function(t){return"[object String]"===d.call(t)},m=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(t){return!1}}();s=m?function(t,e,n,i){!i&&e in t||Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(t,e,n,i){!i&&e in t||(t[e]=n)};var v=function(t,e,n){for(var i in e)l.hasOwnProperty.call(e,i)&&s(t,i,e[i],n)},y=function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return Object(t)};v(u,{bind:function(t){var e=this;if(!f(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var n=h.call(arguments,1),i=function(){if(this instanceof l){var i=e.apply(this,n.concat(h.call(arguments)));return Object(i)===i?i:this}return e.apply(t,n.concat(h.call(arguments)))},r=Math.max(0,e.length-n.length),s=[],a=0;r>a;a++)s.push("$"+a);var l=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this, arguments); }")(i);return e.prototype&&(o.prototype=e.prototype,l.prototype=new o,o.prototype=null),l}}),v(Array,{isArray:p});var b=Object("a"),w="a"!==b[0]||!(0 in b),x=function(t){var e=!0,n=!0;return t&&(t.call("foo",function(t,n,i){"object"!=typeof i&&(e=!1)}),t.call([1],function(){n="string"==typeof this},"x")),!!t&&e&&n};v(a,{forEach:function(t){var e=y(this),n=w&&g(this)?this.split(""):e,i=arguments[1],r=-1,o=n.length>>>0;if(!f(t))throw new TypeError;for(;++r<o;)r in n&&t.call(i,n[r],r,e)}},!x(a.forEach));var _=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);v(a,{indexOf:function(t){var e=w&&g(this)?this.split(""):y(this),n=e.length>>>0;if(!n)return-1;var r=0;for(arguments.length>1&&(r=i(arguments[1])),r=r>=0?r:Math.max(0,n+r);n>r;r++)if(r in e&&e[r]===t)return r;return-1}},_);var $=c.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?!function(){var t=void 0===/()??/.exec("")[1];c.split=function(e,n){var i=this;if(void 0===e&&0===n)return[];if("[object RegExp]"!==d.call(e))return $.call(this,e,n);var o,s,l,u,c=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":""),f=0;for(e=new RegExp(e.source,h+"g"),i+="",t||(o=new RegExp("^"+e.source+"$(?!\\s)",h)),n=void 0===n?-1>>>0:r(n);(s=e.exec(i))&&(l=s.index+s[0].length,!(l>f&&(c.push(i.slice(f,s.index)),!t&&s.length>1&&s[0].replace(o,function(){for(var t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(s[t]=void 0)}),s.length>1&&s.index<i.length&&a.push.apply(c,s.slice(1)),u=s[0].length,f=l,c.length>=n)));)e.lastIndex===s.index&&e.lastIndex++;return f===i.length?(u||!e.test(""))&&c.push(""):c.push(i.slice(f)),c.length>n?c.slice(0,n):c}}():"0".split(void 0,0).length&&(c.split=function(t,e){return void 0===t&&0===e?[]:$.call(this,t,e)});var C="	\n\x0B\f\r \u2028\u2029\ufeff",A="",E="["+C+"]",S=new RegExp("^"+E+E+"*"),k=new RegExp(E+E+"*$"),D=c.trim&&(C.trim()||!A.trim());v(c,{trim:function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(S,"").replace(k,"")}},D);var T=c.substr,F="".substr&&"b"!=="0b".substr(-1);v(c,{substr:function(t,e){return T.call(this,0>t&&(t=this.length+t)<0?0:t,e)}},F)},{}],16:[function(t,e,n){"use strict";e.exports=[t("./transport/websocket"),t("./transport/xhr-streaming"),t("./transport/xdr-streaming"),t("./transport/eventsource"),t("./transport/lib/iframe-wrap")(t("./transport/eventsource")),t("./transport/htmlfile"),t("./transport/lib/iframe-wrap")(t("./transport/htmlfile")),t("./transport/xhr-polling"),t("./transport/xdr-polling"),t("./transport/lib/iframe-wrap")(t("./transport/xhr-polling")),t("./transport/jsonp-polling")]},{"./transport/eventsource":20,"./transport/htmlfile":21,"./transport/jsonp-polling":23,"./transport/lib/iframe-wrap":26,"./transport/websocket":38,"./transport/xdr-polling":39,"./transport/xdr-streaming":40,"./transport/xhr-polling":41,"./transport/xhr-streaming":42}],17:[function(t,e,n){(function(n,i){"use strict";function r(t,e,n,i){c(t,e);var r=this;o.call(this),setTimeout(function(){r._start(t,e,n,i)},0)}var o=t("events").EventEmitter,s=t("inherits"),a=t("../../utils/event"),l=t("../../utils/url"),u=i.XMLHttpRequest,c=function(){};"production"!==n.env.NODE_ENV&&(c=t("debug")("sockjs-client:browser:xhr")),s(r,o),r.prototype._start=function(t,e,n,i){var o=this;try{this.xhr=new u}catch(s){}if(!this.xhr)return c("no xhr"),this.emit("finish",0,"no xhr support"),void this._cleanup();e=l.addQuery(e,"t="+ +new Date),this.unloadRef=a.unloadAdd(function(){c("unload cleanup"),o._cleanup(!0)});try{this.xhr.open(t,e,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){c("xhr timeout"),o.emit("finish",0,""),o._cleanup(!1)})}catch(h){return c("exception",h),this.emit("finish",0,""),void this._cleanup(!1)}if(i&&i.noCredentials||!r.supportsCORS||(c("withCredentials"),this.xhr.withCredentials="true"),i&&i.headers)for(var d in i.headers)this.xhr.setRequestHeader(d,i.headers[d]);this.xhr.onreadystatechange=function(){if(o.xhr){var t,e,n=o.xhr;switch(c("readyState",n.readyState),n.readyState){case 3:try{e=n.status,t=n.responseText}catch(i){}c("status",e),1223===e&&(e=204),200===e&&t&&t.length>0&&(c("chunk"),o.emit("chunk",e,t));break;case 4:e=n.status,c("status",e),1223===e&&(e=204),(12005===e||12029===e)&&(e=0),c("finish",e,n.responseText),o.emit("finish",e,n.responseText),o._cleanup(!1)}}};try{o.xhr.send(n)}catch(h){o.emit("finish",0,""),o._cleanup(!1)}},r.prototype._cleanup=function(t){if(c("cleanup"),this.xhr){if(this.removeAllListeners(),a.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),t)try{this.xhr.abort()}catch(e){}this.unloadRef=this.xhr=null}},r.prototype.close=function(){c("close"),this._cleanup(!0)},r.enabled=!!u;var h=["Active"].concat("Object").join("X");!r.enabled&&h in i&&(c("overriding xmlhttprequest"),u=function(){try{return new i[h]("Microsoft.XMLHTTP")}catch(t){return null}},r.enabled=!!new u);var d=!1;try{d="withCredentials"in new u}catch(f){}r.supportsCORS=d,e.exports=r}).call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/event":46,"../../utils/url":52,debug:54,events:3,inherits:57}],18:[function(t,e,n){(function(t){e.exports=t.EventSource}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
},{}],19:[function(t,e,n){(function(t){e.exports=t.WebSocket||t.MozWebSocket}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],20:[function(t,e,n){"use strict";function i(t){if(!i.enabled())throw new Error("Transport created when disabled");o.call(this,t,"/eventsource",s,a)}var r=t("inherits"),o=t("./lib/ajax-based"),s=t("./receiver/eventsource"),a=t("./sender/xhr-cors"),l=t("eventsource");r(i,o),i.enabled=function(){return!!l},i.transportName="eventsource",i.roundTrips=2,e.exports=i},{"./lib/ajax-based":24,"./receiver/eventsource":29,"./sender/xhr-cors":35,eventsource:18,inherits:57}],21:[function(t,e,n){"use strict";function i(t){if(!o.enabled)throw new Error("Transport created when disabled");a.call(this,t,"/htmlfile",o,s)}var r=t("inherits"),o=t("./receiver/htmlfile"),s=t("./sender/xhr-local"),a=t("./lib/ajax-based");r(i,a),i.enabled=function(t){return o.enabled&&t.sameOrigin},i.transportName="htmlfile",i.roundTrips=2,e.exports=i},{"./lib/ajax-based":24,"./receiver/htmlfile":30,"./sender/xhr-local":37,inherits:57}],22:[function(t,e,n){(function(n){"use strict";function i(t,e,n){if(!i.enabled())throw new Error("Transport created when disabled");s.call(this);var r=this;this.origin=l.getOrigin(n),this.baseUrl=n,this.transUrl=e,this.transport=t,this.windowId=h.string(8);var o=l.addPath(n,"/iframe.html")+"#"+this.windowId;d(t,e,o),this.iframeObj=u.createIframe(o,function(t){d("err callback"),r.emit("close",1006,"Unable to load an iframe ("+t+")"),r.close()}),this.onmessageCallback=this._message.bind(this),c.attachEvent("message",this.onmessageCallback)}var r=t("inherits"),o=t("json3"),s=t("events").EventEmitter,a=t("../version"),l=t("../utils/url"),u=t("../utils/iframe"),c=t("../utils/event"),h=t("../utils/random"),d=function(){};"production"!==n.env.NODE_ENV&&(d=t("debug")("sockjs-client:transport:iframe")),r(i,s),i.prototype.close=function(){if(d("close"),this.removeAllListeners(),this.iframeObj){c.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(t){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},i.prototype._message=function(t){if(d("message",t.data),!l.isOriginEqual(t.origin,this.origin))return void d("not same origin",t.origin,this.origin);var e;try{e=o.parse(t.data)}catch(n){return void d("bad json",t.data)}if(e.windowId!==this.windowId)return void d("mismatched window id",e.windowId,this.windowId);switch(e.type){case"s":this.iframeObj.loaded(),this.postMessage("s",o.stringify([a,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",e.data);break;case"c":var i;try{i=o.parse(e.data)}catch(n){return void d("bad json",e.data)}this.emit("close",i[0],i[1]),this.close()}},i.prototype.postMessage=function(t,e){d("postMessage",t,e),this.iframeObj.post(o.stringify({windowId:this.windowId,type:t,data:e||""}),this.origin)},i.prototype.send=function(t){d("send",t),this.postMessage("m",t)},i.enabled=function(){return u.iframeEnabled},i.transportName="iframe",i.roundTrips=2,e.exports=i}).call(this,{env:{}})},{"../utils/event":46,"../utils/iframe":47,"../utils/random":50,"../utils/url":52,"../version":53,debug:54,events:3,inherits:57,json3:58}],23:[function(t,e,n){(function(n){"use strict";function i(t){if(!i.enabled())throw new Error("Transport created when disabled");o.call(this,t,"/jsonp",a,s)}var r=t("inherits"),o=t("./lib/sender-receiver"),s=t("./receiver/jsonp"),a=t("./sender/jsonp");r(i,o),i.enabled=function(){return!!n.document},i.transportName="jsonp-polling",i.roundTrips=1,i.needBody=!0,e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/sender-receiver":28,"./receiver/jsonp":31,"./sender/jsonp":33,inherits:57}],24:[function(t,e,n){(function(n){"use strict";function i(t){return function(e,n,i){l("create ajax sender",e,n);var r={};"string"==typeof n&&(r.headers={"Content-type":"text/plain"});var o=s.addPath(e,"/xhr_send"),a=new t("POST",o,n,r);return a.once("finish",function(t){return l("finish",t),a=null,200!==t&&204!==t?i(new Error("http status "+t)):void i()}),function(){l("abort"),a.close(),a=null;var t=new Error("Aborted");t.code=1e3,i(t)}}}function r(t,e,n,r){a.call(this,t,e,i(r),n,r)}var o=t("inherits"),s=t("../../utils/url"),a=t("./sender-receiver"),l=function(){};"production"!==n.env.NODE_ENV&&(l=t("debug")("sockjs-client:ajax-based")),o(r,a),e.exports=r}).call(this,{env:{}})},{"../../utils/url":52,"./sender-receiver":28,debug:54,inherits:57}],25:[function(t,e,n){(function(n){"use strict";function i(t,e){s(t),o.call(this),this.sendBuffer=[],this.sender=e,this.url=t}var r=t("inherits"),o=t("events").EventEmitter,s=function(){};"production"!==n.env.NODE_ENV&&(s=t("debug")("sockjs-client:buffered-sender")),r(i,o),i.prototype.send=function(t){s("send",t),this.sendBuffer.push(t),this.sendStop||this.sendSchedule()},i.prototype.sendScheduleWait=function(){s("sendScheduleWait");var t,e=this;this.sendStop=function(){s("sendStop"),e.sendStop=null,clearTimeout(t)},t=setTimeout(function(){s("timeout"),e.sendStop=null,e.sendSchedule()},25)},i.prototype.sendSchedule=function(){s("sendSchedule",this.sendBuffer.length);var t=this;if(this.sendBuffer.length>0){var e="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,e,function(e){t.sendStop=null,e?(s("error",e),t.emit("close",e.code||1006,"Sending error: "+e),t._cleanup()):t.sendScheduleWait()}),this.sendBuffer=[]}},i.prototype._cleanup=function(){s("_cleanup"),this.removeAllListeners()},i.prototype.stop=function(){s("stop"),this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},e.exports=i}).call(this,{env:{}})},{debug:54,events:3,inherits:57}],26:[function(t,e,n){(function(n){"use strict";var i=t("inherits"),r=t("../iframe"),o=t("../../utils/object");e.exports=function(t){function e(e,n){r.call(this,t.transportName,e,n)}return i(e,r),e.enabled=function(e,i){if(!n.document)return!1;var s=o.extend({},i);return s.sameOrigin=!0,t.enabled(s)&&r.enabled()},e.transportName="iframe-"+t.transportName,e.needBody=!0,e.roundTrips=r.roundTrips+t.roundTrips-1,e.facadeTransport=t,e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/object":49,"../iframe":22,inherits:57}],27:[function(t,e,n){(function(n){"use strict";function i(t,e,n){s(e),o.call(this),this.Receiver=t,this.receiveUrl=e,this.AjaxObject=n,this._scheduleReceiver()}var r=t("inherits"),o=t("events").EventEmitter,s=function(){};"production"!==n.env.NODE_ENV&&(s=t("debug")("sockjs-client:polling")),r(i,o),i.prototype._scheduleReceiver=function(){s("_scheduleReceiver");var t=this,e=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);e.on("message",function(e){s("message",e),t.emit("message",e)}),e.once("close",function(n,i){s("close",n,i,t.pollIsClosing),t.poll=e=null,t.pollIsClosing||("network"===i?t._scheduleReceiver():(t.emit("close",n||1006,i),t.removeAllListeners()))})},i.prototype.abort=function(){s("abort"),this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},e.exports=i}).call(this,{env:{}})},{debug:54,events:3,inherits:57}],28:[function(t,e,n){(function(n){"use strict";function i(t,e,n,i,r){var u=o.addPath(t,e);l(u);var c=this;s.call(this,t,n),this.poll=new a(i,u,r),this.poll.on("message",function(t){l("poll message",t),c.emit("message",t)}),this.poll.once("close",function(t,e){l("poll close",t,e),c.poll=null,c.emit("close",t,e),c.close()})}var r=t("inherits"),o=t("../../utils/url"),s=t("./buffered-sender"),a=t("./polling"),l=function(){};"production"!==n.env.NODE_ENV&&(l=t("debug")("sockjs-client:sender-receiver")),r(i,s),i.prototype.close=function(){l("close"),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null),this.stop()},e.exports=i}).call(this,{env:{}})},{"../../utils/url":52,"./buffered-sender":25,"./polling":27,debug:54,inherits:57}],29:[function(t,e,n){(function(n){"use strict";function i(t){a(t),o.call(this);var e=this,n=this.es=new s(t);n.onmessage=function(t){a("message",t.data),e.emit("message",decodeURI(t.data))},n.onerror=function(t){a("error",n.readyState,t);var i=2!==n.readyState?"network":"permanent";e._cleanup(),e._close(i)}}var r=t("inherits"),o=t("events").EventEmitter,s=t("eventsource"),a=function(){};"production"!==n.env.NODE_ENV&&(a=t("debug")("sockjs-client:receiver:eventsource")),r(i,o),i.prototype.abort=function(){a("abort"),this._cleanup(),this._close("user")},i.prototype._cleanup=function(){a("cleanup");var t=this.es;t&&(t.onmessage=t.onerror=null,t.close(),this.es=null)},i.prototype._close=function(t){a("close",t);var e=this;setTimeout(function(){e.emit("close",null,t),e.removeAllListeners()},200)},e.exports=i}).call(this,{env:{}})},{debug:54,events:3,eventsource:18,inherits:57}],30:[function(t,e,n){(function(n,i){"use strict";function r(t){c(t),l.call(this);var e=this;s.polluteGlobalNamespace(),this.id="a"+u.string(6),t=a.addQuery(t,"c="+decodeURIComponent(s.WPrefix+"."+this.id)),c("using htmlfile",r.htmlfileEnabled);var n=r.htmlfileEnabled?s.createHtmlfile:s.createIframe;i[s.WPrefix][this.id]={start:function(){c("start"),e.iframeObj.loaded()},message:function(t){c("message",t),e.emit("message",t)},stop:function(){c("stop"),e._cleanup(),e._close("network")}},this.iframeObj=n(t,function(){c("callback"),e._cleanup(),e._close("permanent")})}var o=t("inherits"),s=t("../../utils/iframe"),a=t("../../utils/url"),l=t("events").EventEmitter,u=t("../../utils/random"),c=function(){};"production"!==n.env.NODE_ENV&&(c=t("debug")("sockjs-client:receiver:htmlfile")),o(r,l),r.prototype.abort=function(){c("abort"),this._cleanup(),this._close("user")},r.prototype._cleanup=function(){c("_cleanup"),this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete i[s.WPrefix][this.id]},r.prototype._close=function(t){c("_close",t),this.emit("close",null,t),this.removeAllListeners()},r.htmlfileEnabled=!1;var h=["Active"].concat("Object").join("X");if(h in i)try{r.htmlfileEnabled=!!new i[h]("htmlfile")}catch(d){}r.enabled=r.htmlfileEnabled||s.iframeEnabled,e.exports=r}).call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,debug:54,events:3,inherits:57}],31:[function(t,e,n){(function(n,i){"use strict";function r(t){h(t);var e=this;c.call(this),o.polluteGlobalNamespace(),this.id="a"+s.string(6);var n=l.addQuery(t,"c="+encodeURIComponent(o.WPrefix+"."+this.id));i[o.WPrefix][this.id]=this._callback.bind(this),this._createScript(n),this.timeoutId=setTimeout(function(){h("timeout"),e._abort(new Error("JSONP script loaded abnormally (timeout)"))},r.timeout)}var o=t("../../utils/iframe"),s=t("../../utils/random"),a=t("../../utils/browser"),l=t("../../utils/url"),u=t("inherits"),c=t("events").EventEmitter,h=function(){};"production"!==n.env.NODE_ENV&&(h=t("debug")("sockjs-client:receiver:jsonp")),u(r,c),r.prototype.abort=function(){if(h("abort"),i[o.WPrefix][this.id]){var t=new Error("JSONP user aborted read");t.code=1e3,this._abort(t)}},r.timeout=35e3,r.scriptErrorTimeout=1e3,r.prototype._callback=function(t){h("_callback",t),this._cleanup(),this.aborting||(t&&(h("message",t),this.emit("message",t)),this.emit("close",null,"network"),this.removeAllListeners())},r.prototype._abort=function(t){h("_abort",t),this._cleanup(),this.aborting=!0,this.emit("close",t.code,t.message),this.removeAllListeners()},r.prototype._cleanup=function(){if(h("_cleanup"),clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var t=this.script;t.parentNode.removeChild(t),t.onreadystatechange=t.onerror=t.onload=t.onclick=null,this.script=null}delete i[o.WPrefix][this.id]},r.prototype._scriptError=function(){h("_scriptError");var t=this;this.errorTimer||(this.errorTimer=setTimeout(function(){t.loadedOkay||t._abort(new Error("JSONP script loaded abnormally (onerror)"))},r.scriptErrorTimeout))},r.prototype._createScript=function(t){h("_createScript",t);var e,n=this,r=this.script=i.document.createElement("script");if(r.id="a"+s.string(8),r.src=t,r.type="text/javascript",r.charset="UTF-8",r.onerror=this._scriptError.bind(this),r.onload=function(){h("onload"),n._abort(new Error("JSONP script loaded abnormally (onload)"))},r.onreadystatechange=function(){if(h("onreadystatechange",r.readyState),/loaded|closed/.test(r.readyState)){if(r&&r.htmlFor&&r.onclick){n.loadedOkay=!0;try{r.onclick()}catch(t){}}r&&n._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},"undefined"==typeof r.async&&i.document.attachEvent)if(a.isOpera())e=this.script2=i.document.createElement("script"),e.text="try{var a = document.getElementById('"+r.id+"'); if(a)a.onerror();}catch(x){};",r.async=e.async=!1;else{try{r.htmlFor=r.id,r.event="onclick"}catch(o){}r.async=!0}"undefined"!=typeof r.async&&(r.async=!0);var l=i.document.getElementsByTagName("head")[0];l.insertBefore(r,l.firstChild),e&&l.insertBefore(e,l.firstChild)},e.exports=r}).call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/browser":44,"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,debug:54,events:3,inherits:57}],32:[function(t,e,n){(function(n){"use strict";function i(t,e){s(t),o.call(this);var n=this;this.bufferPosition=0,this.xo=new e("POST",t,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(t,e){s("finish",t,e),n._chunkHandler(t,e),n.xo=null;var i=200===t?"network":"permanent";s("close",i),n.emit("close",null,i),n._cleanup()})}var r=t("inherits"),o=t("events").EventEmitter,s=function(){};"production"!==n.env.NODE_ENV&&(s=t("debug")("sockjs-client:receiver:xhr")),r(i,o),i.prototype._chunkHandler=function(t,e){if(s("_chunkHandler",t),200===t&&e)for(var n=-1;;this.bufferPosition+=n+1){var i=e.slice(this.bufferPosition);if(n=i.indexOf("\n"),-1===n)break;var r=i.slice(0,n);r&&(s("message",r),this.emit("message",r))}},i.prototype._cleanup=function(){s("_cleanup"),this.removeAllListeners()},i.prototype.abort=function(){s("abort"),this.xo&&(this.xo.close(),s("close"),this.emit("close",null,"user"),this.xo=null),this._cleanup()},e.exports=i}).call(this,{env:{}})},{debug:54,events:3,inherits:57}],33:[function(t,e,n){(function(n,i){"use strict";function r(t){l("createIframe",t);try{return i.document.createElement('<iframe name="'+t+'">')}catch(e){var n=i.document.createElement("iframe");return n.name=t,n}}function o(){l("createForm"),u=i.document.createElement("form"),u.style.display="none",u.style.position="absolute",u.method="POST",u.enctype="application/x-www-form-urlencoded",u.acceptCharset="UTF-8",c=i.document.createElement("textarea"),c.name="d",u.appendChild(c),i.document.body.appendChild(u)}var s=t("../../utils/random"),a=t("../../utils/url"),l=function(){};"production"!==n.env.NODE_ENV&&(l=t("debug")("sockjs-client:sender:jsonp"));var u,c;e.exports=function(t,e,n){l(t,e),u||o();var i="a"+s.string(8);u.target=i,u.action=a.addQuery(a.addPath(t,"/jsonp_send"),"i="+i);var h=r(i);h.id=i,h.style.display="none",u.appendChild(h);try{c.value=e}catch(d){}u.submit();var f=function(t){l("completed",i,t),h.onerror&&(h.onreadystatechange=h.onerror=h.onload=null,setTimeout(function(){l("cleaning up",i),h.parentNode.removeChild(h),h=null},500),c.value="",n(t))};return h.onerror=function(){l("onerror",i),f()},h.onload=function(){l("onload",i),f()},h.onreadystatechange=function(t){l("onreadystatechange",i,h.readyState,t),"complete"===h.readyState&&f()},function(){l("aborted",i),f(new Error("Aborted"))}}}).call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/random":50,"../../utils/url":52,debug:54}],34:[function(t,e,n){(function(n,i){"use strict";function r(t,e,n){c(t,e);var i=this;o.call(this),setTimeout(function(){i._start(t,e,n)},0)}var o=t("events").EventEmitter,s=t("inherits"),a=t("../../utils/event"),l=t("../../utils/browser"),u=t("../../utils/url"),c=function(){};"production"!==n.env.NODE_ENV&&(c=t("debug")("sockjs-client:sender:xdr")),s(r,o),r.prototype._start=function(t,e,n){c("_start");var r=this,o=new i.XDomainRequest;e=u.addQuery(e,"t="+ +new Date),o.onerror=function(){c("onerror"),r._error()},o.ontimeout=function(){c("ontimeout"),r._error()},o.onprogress=function(){c("progress",o.responseText),r.emit("chunk",200,o.responseText)},o.onload=function(){c("load"),r.emit("finish",200,o.responseText),r._cleanup(!1)},this.xdr=o,this.unloadRef=a.unloadAdd(function(){r._cleanup(!0)});try{this.xdr.open(t,e),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(n)}catch(s){this._error()}},r.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},r.prototype._cleanup=function(t){if(c("cleanup",t),this.xdr){if(this.removeAllListeners(),a.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,t)try{this.xdr.abort()}catch(e){}this.unloadRef=this.xdr=null}},r.prototype.close=function(){c("close"),this._cleanup(!0)},r.enabled=!(!i.XDomainRequest||!l.hasDomain()),e.exports=r}).call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/browser":44,"../../utils/event":46,"../../utils/url":52,debug:54,events:3,inherits:57}],35:[function(t,e,n){"use strict";function i(t,e,n,i){o.call(this,t,e,n,i)}var r=t("inherits"),o=t("../driver/xhr");r(i,o),i.enabled=o.enabled&&o.supportsCORS,e.exports=i},{"../driver/xhr":17,inherits:57}],36:[function(t,e,n){"use strict";function i(){var t=this;r.call(this),this.to=setTimeout(function(){t.emit("finish",200,"{}")},i.timeout)}var r=t("events").EventEmitter,o=t("inherits");o(i,r),i.prototype.close=function(){clearTimeout(this.to)},i.timeout=2e3,e.exports=i},{events:3,inherits:57}],37:[function(t,e,n){"use strict";function i(t,e,n){o.call(this,t,e,n,{noCredentials:!0})}var r=t("inherits"),o=t("../driver/xhr");r(i,o),i.enabled=o.enabled,e.exports=i},{"../driver/xhr":17,inherits:57}],38:[function(t,e,n){(function(n){"use strict";function i(t){if(!i.enabled())throw new Error("Transport created when disabled");a.call(this),u("constructor",t);var e=this,n=o.addPath(t,"/websocket");n="https"===n.slice(0,5)?"wss"+n.slice(5):"ws"+n.slice(4),this.url=n,this.ws=new l(this.url),this.ws.onmessage=function(t){u("message event",t.data),e.emit("message",t.data)},this.unloadRef=r.unloadAdd(function(){u("unload"),e.ws.close()}),this.ws.onclose=function(t){u("close event",t.code,t.reason),e.emit("close",t.code,t.reason),e._cleanup()},this.ws.onerror=function(t){u("error event",t),e.emit("close",1006,"WebSocket connection broken"),e._cleanup()}}var r=t("../utils/event"),o=t("../utils/url"),s=t("inherits"),a=t("events").EventEmitter,l=t("./driver/websocket"),u=function(){};"production"!==n.env.NODE_ENV&&(u=t("debug")("sockjs-client:websocket")),s(i,a),i.prototype.send=function(t){var e="["+t+"]";u("send",e),this.ws.send(e)},i.prototype.close=function(){u("close"),this.ws&&this.ws.close(),this._cleanup()},i.prototype._cleanup=function(){u("_cleanup");var t=this.ws;t&&(t.onmessage=t.onclose=t.onerror=null),r.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},i.enabled=function(){return u("enabled"),!!l},i.transportName="websocket",i.roundTrips=2,e.exports=i}).call(this,{env:{}})},{"../utils/event":46,"../utils/url":52,"./driver/websocket":19,debug:54,events:3,inherits:57}],39:[function(t,e,n){"use strict";function i(t){if(!l.enabled)throw new Error("Transport created when disabled");o.call(this,t,"/xhr",a,l)}var r=t("inherits"),o=t("./lib/ajax-based"),s=t("./xdr-streaming"),a=t("./receiver/xhr"),l=t("./sender/xdr");r(i,o),i.enabled=s.enabled,i.transportName="xdr-polling",i.roundTrips=2,e.exports=i},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,"./xdr-streaming":40,inherits:57}],40:[function(t,e,n){"use strict";function i(t){if(!a.enabled)throw new Error("Transport created when disabled");o.call(this,t,"/xhr_streaming",s,a)}var r=t("inherits"),o=t("./lib/ajax-based"),s=t("./receiver/xhr"),a=t("./sender/xdr");r(i,o),i.enabled=function(t){return t.cookie_needed||t.nullOrigin?!1:a.enabled&&t.sameScheme},i.transportName="xdr-streaming",i.roundTrips=2,e.exports=i},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,inherits:57}],41:[function(t,e,n){"use strict";function i(t){if(!l.enabled&&!a.enabled)throw new Error("Transport created when disabled");o.call(this,t,"/xhr",s,a)}var r=t("inherits"),o=t("./lib/ajax-based"),s=t("./receiver/xhr"),a=t("./sender/xhr-cors"),l=t("./sender/xhr-local");r(i,o),i.enabled=function(t){return t.nullOrigin?!1:l.enabled&&t.sameOrigin?!0:a.enabled},i.transportName="xhr-polling",i.roundTrips=2,e.exports=i},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:57}],42:[function(t,e,n){(function(n){"use strict";function i(t){if(!l.enabled&&!a.enabled)throw new Error("Transport created when disabled");o.call(this,t,"/xhr_streaming",s,a)}var r=t("inherits"),o=t("./lib/ajax-based"),s=t("./receiver/xhr"),a=t("./sender/xhr-cors"),l=t("./sender/xhr-local"),u=t("../utils/browser");r(i,o),i.enabled=function(t){return t.nullOrigin?!1:u.isOpera()?!1:a.enabled},i.transportName="xhr-streaming",i.roundTrips=2,i.needBody=!!n.document,e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/browser":44,"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:57}],43:[function(t,e,n){(function(t){"use strict";t.crypto&&t.crypto.getRandomValues?e.exports.randomBytes=function(e){var n=new Uint8Array(e);return t.crypto.getRandomValues(n),n}:e.exports.randomBytes=function(t){for(var e=new Array(t),n=0;t>n;n++)e[n]=Math.floor(256*Math.random());return e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],44:[function(t,e,n){(function(t){"use strict";e.exports={isOpera:function(){return t.navigator&&/opera/i.test(t.navigator.userAgent)},isKonqueror:function(){return t.navigator&&/konqueror/i.test(t.navigator.userAgent)},hasDomain:function(){if(!t.document)return!0;try{return!!t.document.domain}catch(e){return!1}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],45:[function(t,e,n){"use strict";var i,r=t("json3"),o=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,s=function(t){var e,n={},i=[];for(e=0;65536>e;e++)i.push(String.fromCharCode(e));return t.lastIndex=0,i.join("").replace(t,function(t){return n[t]="\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4),""}),t.lastIndex=0,n};e.exports={quote:function(t){var e=r.stringify(t);return o.lastIndex=0,o.test(e)?(i||(i=s(o)),e.replace(o,function(t){return i[t]})):e}}},{json3:58}],46:[function(t,e,n){(function(n){"use strict";var i=t("./random"),r={},o=!1,s=n.chrome&&n.chrome.app&&n.chrome.app.runtime;e.exports={attachEvent:function(t,e){"undefined"!=typeof n.addEventListener?n.addEventListener(t,e,!1):n.document&&n.attachEvent&&(n.document.attachEvent("on"+t,e),n.attachEvent("on"+t,e))},detachEvent:function(t,e){"undefined"!=typeof n.addEventListener?n.removeEventListener(t,e,!1):n.document&&n.detachEvent&&(n.document.detachEvent("on"+t,e),n.detachEvent("on"+t,e))},unloadAdd:function(t){if(s)return null;var e=i.string(8);return r[e]=t,o&&setTimeout(this.triggerUnloadCallbacks,0),e},unloadDel:function(t){t in r&&delete r[t]},triggerUnloadCallbacks:function(){for(var t in r)r[t](),delete r[t]}};var a=function(){o||(o=!0,e.exports.triggerUnloadCallbacks())};s||e.exports.attachEvent("unload",a)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./random":50}],47:[function(t,e,n){(function(n,i){"use strict";var r=t("./event"),o=t("json3"),s=t("./browser"),a=function(){};"production"!==n.env.NODE_ENV&&(a=t("debug")("sockjs-client:utils:iframe")),e.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){e.exports.WPrefix in i||(i[e.exports.WPrefix]={})},postMessage:function(t,n){i.parent!==i?i.parent.postMessage(o.stringify({windowId:e.exports.currentWindowId,type:t,data:n||""}),"*"):a("Cannot postMessage, no parent window.",t,n)},createIframe:function(t,e){var n,o,s=i.document.createElement("iframe"),l=function(){a("unattach"),clearTimeout(n);try{s.onload=null}catch(t){}s.onerror=null},u=function(){a("cleanup"),s&&(l(),setTimeout(function(){s&&s.parentNode.removeChild(s),s=null},0),r.unloadDel(o))},c=function(t){a("onerror",t),s&&(u(),e(t))},h=function(t,e){a("post",t,e);try{setTimeout(function(){s&&s.contentWindow&&s.contentWindow.postMessage(t,e)},0)}catch(n){}};return s.src=t,s.style.display="none",s.style.position="absolute",s.onerror=function(){c("onerror")},s.onload=function(){a("onload"),clearTimeout(n),n=setTimeout(function(){c("onload timeout")},2e3)},i.document.body.appendChild(s),n=setTimeout(function(){c("timeout")},15e3),o=r.unloadAdd(u),{post:h,cleanup:u,loaded:l}},createHtmlfile:function(t,n){var o,s,l,u=["Active"].concat("Object").join("X"),c=new i[u]("htmlfile"),h=function(){clearTimeout(o),l.onerror=null},d=function(){c&&(h(),r.unloadDel(s),l.parentNode.removeChild(l),l=c=null,CollectGarbage())},f=function(t){a("onerror",t),c&&(d(),n(t))},p=function(t,e){try{setTimeout(function(){l&&l.contentWindow&&l.contentWindow.postMessage(t,e)},0)}catch(n){}};c.open(),c.write('<html><script>document.domain="'+i.document.domain+'";</script></html>'),c.close(),c.parentWindow[e.exports.WPrefix]=i[e.exports.WPrefix];var g=c.createElement("div");return c.body.appendChild(g),l=c.createElement("iframe"),g.appendChild(l),l.src=t,l.onerror=function(){f("onerror")},o=setTimeout(function(){f("timeout")},15e3),s=r.unloadAdd(d),{post:p,cleanup:d,loaded:h}}},e.exports.iframeEnabled=!1,i.document&&(e.exports.iframeEnabled=("function"==typeof i.postMessage||"object"==typeof i.postMessage)&&!s.isKonqueror())}).call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./browser":44,"./event":46,debug:54,json3:58}],48:[function(t,e,n){(function(t){"use strict";var n={};["log","debug","warn"].forEach(function(e){var i=t.console&&t.console[e]&&t.console[e].apply;n[e]=i?function(){return t.console[e].apply(t.console,arguments)}:"log"===e?function(){}:n.log}),e.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],49:[function(t,e,n){"use strict";e.exports={isObject:function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},extend:function(t){if(!this.isObject(t))return t;for(var e,n,i=1,r=arguments.length;r>i;i++){e=arguments[i];for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t}}},{}],50:[function(t,e,n){"use strict";var i=t("crypto"),r="abcdefghijklmnopqrstuvwxyz012345";e.exports={string:function(t){for(var e=r.length,n=i.randomBytes(t),o=[],s=0;t>s;s++)o.push(r.substr(n[s]%e,1));return o.join("")},number:function(t){return Math.floor(Math.random()*t)},numberString:function(t){var e=(""+(t-1)).length,n=new Array(e+1).join("0");return(n+this.number(t)).slice(-e)}}},{crypto:43}],51:[function(t,e,n){(function(n){"use strict";var i=function(){};"production"!==n.env.NODE_ENV&&(i=t("debug")("sockjs-client:utils:transport")),e.exports=function(t){return{filterToEnabled:function(e,n){var r={main:[],facade:[]};return e?"string"==typeof e&&(e=[e]):e=[],t.forEach(function(t){return t?"websocket"===t.transportName&&n.websocket===!1?void i("disabled from server","websocket"):e.length&&-1===e.indexOf(t.transportName)?void i("not in whitelist",t.transportName):void(t.enabled(n)?(i("enabled",t.transportName),r.main.push(t),t.facadeTransport&&r.facade.push(t.facadeTransport)):i("disabled",t.transportName)):void 0}),r}}}}).call(this,{env:{}})},{debug:54}],52:[function(t,e,n){(function(n){"use strict";var i=t("url-parse"),r=function(){};"production"!==n.env.NODE_ENV&&(r=t("debug")("sockjs-client:utils:url")),e.exports={getOrigin:function(t){if(!t)return null;var e=new i(t);if("file:"===e.protocol)return null;var n=e.port;return n||(n="https:"===e.protocol?"443":"80"),e.protocol+"//"+e.hostname+":"+n},isOriginEqual:function(t,e){var n=this.getOrigin(t)===this.getOrigin(e);return r("same",t,e,n),n},isSchemeEqual:function(t,e){return t.split(":")[0]===e.split(":")[0]},addPath:function(t,e){var n=t.split("?");return n[0]+e+(n[1]?"?"+n[1]:"")},addQuery:function(t,e){return t+(-1===t.indexOf("?")?"?"+e:"&"+e)}}}).call(this,{env:{}})},{debug:54,"url-parse":59}],53:[function(t,e,n){e.exports="1.0.2"},{}],54:[function(t,e,n){function i(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function r(){var t=arguments,e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+n.humanize(this.diff),!e)return t;var i="color: "+this.color;t=[t[0],i,"color: inherit"].concat(Array.prototype.slice.call(t,1));var r=0,o=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(r++,"%c"===t&&(o=r))}),t.splice(o,0,i),t}function o(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(t){try{null==t?u.removeItem("debug"):u.debug=t}catch(e){}}function a(){var t;try{t=u.debug}catch(e){}return t}function l(){try{return window.localStorage}catch(t){}}n=e.exports=t("./debug"),n.log=o,n.formatArgs=r,n.save=s,n.load=a,n.useColors=i;var u;u="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:l(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(t){return JSON.stringify(t)},n.enable(a())},{"./debug":55}],55:[function(t,e,n){function i(){return n.colors[c++%n.colors.length]}function r(t){function e(){}function r(){var t=r,e=+new Date,o=e-(u||e);t.diff=o,t.prev=u,t.curr=e,u=e,null==t.useColors&&(t.useColors=n.useColors()),null==t.color&&t.useColors&&(t.color=i());var s=Array.prototype.slice.call(arguments);s[0]=n.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var a=0;s[0]=s[0].replace(/%([a-z%])/g,function(e,i){if("%%"===e)return e;a++;var r=n.formatters[i];if("function"==typeof r){var o=s[a];e=r.call(t,o),s.splice(a,1),a--}return e}),"function"==typeof n.formatArgs&&(s=n.formatArgs.apply(t,s));var l=r.log||n.log||console.log.bind(console);l.apply(t,s)}e.enabled=!1,r.enabled=!0;var o=n.enabled(t)?r:e;return o.namespace=t,o}function o(t){n.save(t);for(var e=(t||"").split(/[\s,]+/),i=e.length,r=0;i>r;r++)e[r]&&(t=e[r].replace(/\*/g,".*?"),
"-"===t[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$")))}function s(){n.enable("")}function a(t){var e,i;for(e=0,i=n.skips.length;i>e;e++)if(n.skips[e].test(t))return!1;for(e=0,i=n.names.length;i>e;e++)if(n.names[e].test(t))return!0;return!1}function l(t){return t instanceof Error?t.stack||t.message:t}n=e.exports=r,n.coerce=l,n.disable=s,n.enable=o,n.enabled=a,n.humanize=t("ms"),n.names=[],n.skips=[],n.formatters={};var u,c=0},{ms:56}],56:[function(t,e,n){function i(t){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),i=(e[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return n*h;case"days":case"day":case"d":return n*c;case"hours":case"hour":case"hrs":case"hr":case"h":return n*u;case"minutes":case"minute":case"mins":case"min":case"m":return n*l;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}function r(t){return t>=c?Math.round(t/c)+"d":t>=u?Math.round(t/u)+"h":t>=l?Math.round(t/l)+"m":t>=a?Math.round(t/a)+"s":t+"ms"}function o(t){return s(t,c,"day")||s(t,u,"hour")||s(t,l,"minute")||s(t,a,"second")||t+" ms"}function s(t,e,n){return e>t?void 0:1.5*e>t?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var a=1e3,l=60*a,u=60*l,c=24*u,h=365.25*c;e.exports=function(t,e){return e=e||{},"string"==typeof t?i(t):e["long"]?o(t):r(t)}},{}],57:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],58:[function(e,n,i){(function(e){(function(){function r(t,e){function n(t){if(n[t]!==m)return n[t];var r;if("bug-string-char-index"==t)r="a"!="a"[0];else if("json"==t)r=n("json-stringify")&&n("json-parse");else{var s,a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var l=e.stringify,c="function"==typeof l&&b;if(c){(s=function(){return 1}).toJSON=s;try{c="0"===l(0)&&"0"===l(new i)&&'""'==l(new o)&&l(y)===m&&l(m)===m&&l()===m&&"1"===l(s)&&"[1]"==l([s])&&"[null]"==l([m])&&"null"==l(null)&&"[null,null,null]"==l([m,y,null])&&l({a:[s,!0,!1,null,"\x00\b\n\f\r	"]})==a&&"1"===l(null,s)&&"[\n 1,\n 2\n]"==l([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==l(new u(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==l(new u(864e13))&&'"-000001-01-01T00:00:00.000Z"'==l(new u(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==l(new u(-1))}catch(h){c=!1}}r=c}if("json-parse"==t){var d=e.parse;if("function"==typeof d)try{if(0===d("0")&&!d(!1)){s=d(a);var f=5==s.a.length&&1===s.a[0];if(f){try{f=!d('"	"')}catch(h){}if(f)try{f=1!==d("01")}catch(h){}if(f)try{f=1!==d("1.")}catch(h){}}}}catch(h){f=!1}r=f}}return n[t]=!!r}t||(t=l.Object()),e||(e=l.Object());var i=t.Number||l.Number,o=t.String||l.String,a=t.Object||l.Object,u=t.Date||l.Date,c=t.SyntaxError||l.SyntaxError,h=t.TypeError||l.TypeError,d=t.Math||l.Math,f=t.JSON||l.JSON;"object"==typeof f&&f&&(e.stringify=f.stringify,e.parse=f.parse);var p,g,m,v=a.prototype,y=v.toString,b=new u(-0xc782b5b800cec);try{b=-109252==b.getUTCFullYear()&&0===b.getUTCMonth()&&1===b.getUTCDate()&&10==b.getUTCHours()&&37==b.getUTCMinutes()&&6==b.getUTCSeconds()&&708==b.getUTCMilliseconds()}catch(w){}if(!n("json")){var x="[object Function]",_="[object Date]",$="[object Number]",C="[object String]",A="[object Array]",E="[object Boolean]",S=n("bug-string-char-index");if(!b)var k=d.floor,D=[0,31,59,90,120,151,181,212,243,273,304,334],T=function(t,e){return D[e]+365*(t-1970)+k((t-1969+(e=+(e>1)))/4)-k((t-1901+e)/100)+k((t-1601+e)/400)};if((p=v.hasOwnProperty)||(p=function(t){var e,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=y?p=function(t){var e=this.__proto__,n=t in(this.__proto__=null,this);return this.__proto__=e,n}:(e=n.constructor,p=function(t){var n=(this.constructor||e).prototype;return t in this&&!(t in n&&this[t]===n[t])}),n=null,p.call(this,t)}),g=function(t,e){var n,i,r,o=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,i=new n;for(r in i)p.call(i,r)&&o++;return n=i=null,o?g=2==o?function(t,e){var n,i={},r=y.call(t)==x;for(n in t)r&&"prototype"==n||p.call(i,n)||!(i[n]=1)||!p.call(t,n)||e(n)}:function(t,e){var n,i,r=y.call(t)==x;for(n in t)r&&"prototype"==n||!p.call(t,n)||(i="constructor"===n)||e(n);(i||p.call(t,n="constructor"))&&e(n)}:(i=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],g=function(t,e){var n,r,o=y.call(t)==x,a=!o&&"function"!=typeof t.constructor&&s[typeof t.hasOwnProperty]&&t.hasOwnProperty||p;for(n in t)o&&"prototype"==n||!a.call(t,n)||e(n);for(r=i.length;n=i[--r];a.call(t,n)&&e(n));}),g(t,e)},!n("json-stringify")){var F={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},M="000000",L=function(t,e){return(M+(e||0)).slice(-t)},O="\\u00",P=function(t){for(var e='"',n=0,i=t.length,r=!S||i>10,o=r&&(S?t.split(""):t);i>n;n++){var s=t.charCodeAt(n);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=F[s];break;default:if(32>s){e+=O+L(2,s.toString(16));break}e+=r?o[n]:t.charAt(n)}}return e+'"'},B=function(t,e,n,i,r,o,s){var a,l,u,c,d,f,v,b,w,x,S,D,F,M,O,I;try{a=e[t]}catch(R){}if("object"==typeof a&&a)if(l=y.call(a),l!=_||p.call(a,"toJSON"))"function"==typeof a.toJSON&&(l!=$&&l!=C&&l!=A||p.call(a,"toJSON"))&&(a=a.toJSON(t));else if(a>-1/0&&1/0>a){if(T){for(d=k(a/864e5),u=k(d/365.2425)+1970-1;T(u+1,0)<=d;u++);for(c=k((d-T(u,0))/30.42);T(u,c+1)<=d;c++);d=1+d-T(u,c),f=(a%864e5+864e5)%864e5,v=k(f/36e5)%24,b=k(f/6e4)%60,w=k(f/1e3)%60,x=f%1e3}else u=a.getUTCFullYear(),c=a.getUTCMonth(),d=a.getUTCDate(),v=a.getUTCHours(),b=a.getUTCMinutes(),w=a.getUTCSeconds(),x=a.getUTCMilliseconds();a=(0>=u||u>=1e4?(0>u?"-":"+")+L(6,0>u?-u:u):L(4,u))+"-"+L(2,c+1)+"-"+L(2,d)+"T"+L(2,v)+":"+L(2,b)+":"+L(2,w)+"."+L(3,x)+"Z"}else a=null;if(n&&(a=n.call(e,t,a)),null===a)return"null";if(l=y.call(a),l==E)return""+a;if(l==$)return a>-1/0&&1/0>a?""+a:"null";if(l==C)return P(""+a);if("object"==typeof a){for(M=s.length;M--;)if(s[M]===a)throw h();if(s.push(a),S=[],O=o,o+=r,l==A){for(F=0,M=a.length;M>F;F++)D=B(F,a,n,i,r,o,s),S.push(D===m?"null":D);I=S.length?r?"[\n"+o+S.join(",\n"+o)+"\n"+O+"]":"["+S.join(",")+"]":"[]"}else g(i||a,function(t){var e=B(t,a,n,i,r,o,s);e!==m&&S.push(P(t)+":"+(r?" ":"")+e)}),I=S.length?r?"{\n"+o+S.join(",\n"+o)+"\n"+O+"}":"{"+S.join(",")+"}":"{}";return s.pop(),I}};e.stringify=function(t,e,n){var i,r,o,a;if(s[typeof e]&&e)if((a=y.call(e))==x)r=e;else if(a==A){o={};for(var l,u=0,c=e.length;c>u;l=e[u++],a=y.call(l),(a==C||a==$)&&(o[l]=1));}if(n)if((a=y.call(n))==$){if((n-=n%1)>0)for(i="",n>10&&(n=10);i.length<n;i+=" ");}else a==C&&(i=n.length<=10?n:n.slice(0,10));return B("",(l={},l[""]=t,l),r,o,i,"",[])}}if(!n("json-parse")){var I,R,j=o.fromCharCode,N={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},z=function(){throw I=R=null,c()},U=function(){for(var t,e,n,i,r,o=R,s=o.length;s>I;)switch(r=o.charCodeAt(I)){case 9:case 10:case 13:case 32:I++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=S?o.charAt(I):o[I],I++,t;case 34:for(t="@",I++;s>I;)if(r=o.charCodeAt(I),32>r)z();else if(92==r)switch(r=o.charCodeAt(++I)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=N[r],I++;break;case 117:for(e=++I,n=I+4;n>I;I++)r=o.charCodeAt(I),r>=48&&57>=r||r>=97&&102>=r||r>=65&&70>=r||z();t+=j("0x"+o.slice(e,I));break;default:z()}else{if(34==r)break;for(r=o.charCodeAt(I),e=I;r>=32&&92!=r&&34!=r;)r=o.charCodeAt(++I);t+=o.slice(e,I)}if(34==o.charCodeAt(I))return I++,t;z();default:if(e=I,45==r&&(i=!0,r=o.charCodeAt(++I)),r>=48&&57>=r){for(48==r&&(r=o.charCodeAt(I+1),r>=48&&57>=r)&&z(),i=!1;s>I&&(r=o.charCodeAt(I),r>=48&&57>=r);I++);if(46==o.charCodeAt(I)){for(n=++I;s>n&&(r=o.charCodeAt(n),r>=48&&57>=r);n++);n==I&&z(),I=n}if(r=o.charCodeAt(I),101==r||69==r){for(r=o.charCodeAt(++I),(43==r||45==r)&&I++,n=I;s>n&&(r=o.charCodeAt(n),r>=48&&57>=r);n++);n==I&&z(),I=n}return+o.slice(e,I)}if(i&&z(),"true"==o.slice(I,I+4))return I+=4,!0;if("false"==o.slice(I,I+5))return I+=5,!1;if("null"==o.slice(I,I+4))return I+=4,null;z()}return"$"},V=function(t){var e,n;if("$"==t&&z(),"string"==typeof t){if("@"==(S?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];t=U(),"]"!=t;n||(n=!0))n&&(","==t?(t=U(),"]"==t&&z()):z()),","==t&&z(),e.push(V(t));return e}if("{"==t){for(e={};t=U(),"}"!=t;n||(n=!0))n&&(","==t?(t=U(),"}"==t&&z()):z()),(","==t||"string"!=typeof t||"@"!=(S?t.charAt(0):t[0])||":"!=U())&&z(),e[t.slice(1)]=V(U());return e}z()}return t},H=function(t,e,n){var i=W(t,e,n);i===m?delete t[e]:t[e]=i},W=function(t,e,n){var i,r=t[e];if("object"==typeof r&&r)if(y.call(r)==A)for(i=r.length;i--;)H(r,i,n);else g(r,function(t){H(r,t,n)});return n.call(t,e,r)};e.parse=function(t,e){var n,i;return I=0,R=""+t,n=V(U()),"$"!=U()&&z(),I=R=null,e&&y.call(e)==x?W((i={},i[""]=n,i),"",e):n}}}return e.runInContext=r,e}var o="function"==typeof t&&t.amd,s={"function":!0,object:!0},a=s[typeof i]&&i&&!i.nodeType&&i,l=s[typeof window]&&window||this,u=a&&s[typeof n]&&n&&!n.nodeType&&"object"==typeof e&&e;if(!u||u.global!==u&&u.window!==u&&u.self!==u||(l=u),a&&!o)r(l,a);else{var c=l.JSON,h=l.JSON3,d=!1,f=r(l,l.JSON3={noConflict:function(){return d||(d=!0,l.JSON=c,l.JSON3=h,c=h=null),f}});l.JSON={parse:f.parse,stringify:f.stringify}}o&&t(function(){return f})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],59:[function(t,e,n){"use strict";function i(t,e,n){if(!(this instanceof i))return new i(t,e,n);var u,c,h,d,f=a.test(t),p=typeof e,g=this,m=0;for("object"!==p&&"string"!==p&&(n=e,e=null),n&&"function"!=typeof n&&(n=s.parse),e=o(e);m<l.length;m++)c=l[m],u=c[0],d=c[1],u!==u?g[d]=t:"string"==typeof u?~(h=t.indexOf(u))&&("number"==typeof c[2]?(g[d]=t.slice(0,h),t=t.slice(h+c[2])):(g[d]=t.slice(h),t=t.slice(0,h))):(h=u.exec(t))&&(g[d]=h[1],t=t.slice(0,t.length-h[0].length)),g[d]=g[d]||(c[3]||"port"===d&&f?e[d]||"":""),c[4]&&(g[d]=g[d].toLowerCase());n&&(g.query=n(g.query)),r(g.port,g.protocol)||(g.host=g.hostname,g.port=""),g.username=g.password="",g.auth&&(c=g.auth.split(":"),g.username=c[0]||"",g.password=c[1]||""),g.href=g.toString()}var r=t("requires-port"),o=t("./lolcation"),s=t("querystringify"),a=/^\/(?!\/)/,l=[["#","hash"],["?","query"],["//","protocol",2,1,1],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/\:(\d+)$/,"port"],[NaN,"hostname",void 0,1,1]];i.prototype.set=function(t,e,n){var i=this;return"query"===t?("string"==typeof e&&(e=(n||s.parse)(e)),i[t]=e):"port"===t?(i[t]=e,r(e,i.protocol)?e&&(i.host=i.hostname+":"+e):(i.host=i.hostname,i[t]="")):"hostname"===t?(i[t]=e,i.port&&(e+=":"+i.port),i.host=e):"host"===t?(i[t]=e,/\:\d+/.test(e)&&(e=e.split(":"),i.hostname=e[0],i.port=e[1])):i[t]=e,i.href=i.toString(),i},i.prototype.toString=function(t){t&&"function"==typeof t||(t=s.stringify);var e,n=this,i=n.protocol+"//";return n.username&&(i+=n.username,n.password&&(i+=":"+n.password),i+="@"),i+=n.hostname,n.port&&(i+=":"+n.port),i+=n.pathname,n.query&&(e="object"==typeof n.query?t(n.query):n.query,i+=("?"===e.charAt(0)?"":"?")+e),n.hash&&(i+=n.hash),i},i.qs=s,i.location=o,e.exports=i},{"./lolcation":60,querystringify:61,"requires-port":62}],60:[function(t,e,n){(function(n){"use strict";var i,r={hash:1,query:1};e.exports=function(e){e=e||n.location||{},i=i||t("./");var o,s={},a=typeof e;if("blob:"===e.protocol)s=new i(unescape(e.pathname),{});else if("string"===a){s=new i(e,{});for(o in r)delete s[o]}else if("object"===a)for(o in e)o in r||(s[o]=e[o]);return s}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./":59}],61:[function(t,e,n){"use strict";function i(t){for(var e,n=/([^=?&]+)=([^&]*)/g,i={};e=n.exec(t);i[decodeURIComponent(e[1])]=decodeURIComponent(e[2]));return i}function r(t,e){e=e||"";var n=[];"string"!=typeof e&&(e="?");for(var i in t)o.call(t,i)&&n.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return n.length?e+n.join("&"):""}var o=Object.prototype.hasOwnProperty;n.stringify=r,n.parse=i},{}],62:[function(t,e,n){"use strict";e.exports=function(t,e){if(e=e.split(":")[0],t=+t,!t)return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 22!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},{}]},{},[1])(1)}),!function(){function t(t){return t&&(t.ownerDocument||t.document||t).documentElement}function e(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function n(t,e){return e>t?-1:t>e?1:t>=e?0:NaN}function i(t){return null===t?NaN:+t}function r(t){return!isNaN(t)}function o(t){return{left:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);r>i;){var o=i+r>>>1;t(e[o],n)<0?i=o+1:r=o}return i},right:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);r>i;){var o=i+r>>>1;t(e[o],n)>0?r=o:i=o+1}return i}}}function s(t){return t.length}function a(t){for(var e=1;t*e%1;)e*=10;return e}function l(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function u(){this._=Object.create(null)}function c(t){return(t+="")===gs||t[0]===ms?ms+t:t}function h(t){return(t+="")[0]===ms?t.slice(1):t}function d(t){return c(t)in this._}function f(t){return(t=c(t))in this._&&delete this._[t]}function p(){var t=[];for(var e in this._)t.push(h(e));return t}function g(){var t=0;for(var e in this._)++t;return t}function m(){for(var t in this._)return!1;return!0}function v(){this._=Object.create(null)}function y(t){return t}function b(t,e,n){return function(){var i=n.apply(e,arguments);return i===e?t:i}}function w(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,i=vs.length;i>n;++n){var r=vs[n]+e;if(r in t)return r}}function x(){}function _(){}function $(t){function e(){for(var e,i=n,r=-1,o=i.length;++r<o;)(e=i[r].on)&&e.apply(this,arguments);return t}var n=[],i=new u;return e.on=function(e,r){var o,s=i.get(e);return arguments.length<2?s&&s.on:(s&&(s.on=null,n=n.slice(0,o=n.indexOf(s)).concat(n.slice(o+1)),i.remove(e)),r&&n.push(i.set(e,{on:r})),t)},e}function C(){ns.event.preventDefault()}function A(){for(var t,e=ns.event;t=e.sourceEvent;)e=t;return e}function E(t){for(var e=new _,n=0,i=arguments.length;++n<i;)e[arguments[n]]=$(e);return e.of=function(n,i){return function(r){try{var o=r.sourceEvent=ns.event;r.target=t,ns.event=r,e[r.type].apply(n,i)}finally{ns.event=o}}},e}function S(t){return bs(t,$s),t}function k(t){return"function"==typeof t?t:function(){return ws(t,this)}}function D(t){return"function"==typeof t?t:function(){return xs(t,this)}}function T(t,e){function n(){this.removeAttribute(t)}function i(){this.removeAttributeNS(t.space,t.local)}function r(){this.setAttribute(t,e)}function o(){this.setAttributeNS(t.space,t.local,e)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function a(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=ns.ns.qualify(t),null==e?t.local?i:n:"function"==typeof e?t.local?a:s:t.local?o:r}function F(t){return t.trim().replace(/\s+/g," ")}function M(t){return new RegExp("(?:^|\\s+)"+ns.requote(t)+"(?:\\s+|$)","g")}function L(t){return(t+"").trim().split(/^|\s+/)}function O(t,e){function n(){for(var n=-1;++n<r;)t[n](this,e)}function i(){for(var n=-1,i=e.apply(this,arguments);++n<r;)t[n](this,i)}t=L(t).map(P);var r=t.length;return"function"==typeof e?i:n}function P(t){var e=M(t);return function(n,i){if(r=n.classList)return i?r.add(t):r.remove(t);var r=n.getAttribute("class")||"";i?(e.lastIndex=0,e.test(r)||n.setAttribute("class",F(r+" "+t))):n.setAttribute("class",F(r.replace(e," ")))}}function B(t,e,n){function i(){this.style.removeProperty(t)}function r(){this.style.setProperty(t,e,n)}function o(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}return null==e?i:"function"==typeof e?o:r}function I(t,e){function n(){delete this[t]}function i(){this[t]=e}function r(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?r:i}function R(t){function e(){var e=this.ownerDocument,n=this.namespaceURI;return n?e.createElementNS(n,t):e.createElement(t)}function n(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=ns.ns.qualify(t)).local?n:e}function j(){var t=this.parentNode;t&&t.removeChild(this)}function N(t){return{__data__:t}}function z(t){return function(){return _s(this,t)}}function U(t){return arguments.length||(t=n),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function V(t,e){for(var n=0,i=t.length;i>n;n++)for(var r,o=t[n],s=0,a=o.length;a>s;s++)(r=o[s])&&e(r,s,n);return t}function H(t){return bs(t,As),t}function W(t){var e,n;return function(i,r,o){var s,a=t[o].update,l=a.length;for(o!=n&&(n=o,e=0),r>=e&&(e=r+1);!(s=a[e])&&++e<l;);return s}}function Y(t,e,n){function i(){var e=this[s];e&&(this.removeEventListener(t,e,e.$),delete this[s])}function r(){var r=l(e,rs(arguments));i.call(this),this.addEventListener(t,this[s]=r,r.$=n),r._=e}function o(){var e,n=new RegExp("^__on([^.]+)"+ns.requote(t)+"$");for(var i in this)if(e=i.match(n)){var r=this[i];this.removeEventListener(e[1],r,r.$),delete this[i]}}var s="__on"+t,a=t.indexOf("."),l=q;a>0&&(t=t.slice(0,a));var u=Es.get(t);return u&&(t=u,l=K),a?e?r:i:e?x:o}function q(t,e){return function(n){var i=ns.event;ns.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{ns.event=i}}}function K(t,e){var n=q(t,e);return function(t){var e=this,i=t.relatedTarget;i&&(i===e||8&i.compareDocumentPosition(e))||n.call(e,t)}}function X(n){var i=".dragsuppress-"+ ++ks,r="click"+i,o=ns.select(e(n)).on("touchmove"+i,C).on("dragstart"+i,C).on("selectstart"+i,C);if(null==Ss&&(Ss="onselectstart"in n?!1:w(n.style,"userSelect")),Ss){var s=t(n).style,a=s[Ss];s[Ss]="none"}return function(t){if(o.on(i,null),Ss&&(s[Ss]=a),t){var e=function(){o.on(r,null)};o.on(r,function(){C(),e()},!0),setTimeout(e,0)}}}function G(t,n){n.changedTouches&&(n=n.changedTouches[0]);var i=t.ownerSVGElement||t;if(i.createSVGPoint){var r=i.createSVGPoint();if(0>Ds){var o=e(t);if(o.scrollX||o.scrollY){i=ns.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var s=i[0][0].getScreenCTM();Ds=!(s.f||s.e),i.remove()}}return Ds?(r.x=n.pageX,r.y=n.pageY):(r.x=n.clientX,r.y=n.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var a=t.getBoundingClientRect();return[n.clientX-a.left-t.clientLeft,n.clientY-a.top-t.clientTop]}function J(){return ns.event.changedTouches[0].identifier}function Z(t){return t>0?1:0>t?-1:0}function Q(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function tt(t){return t>1?0:-1>t?Ms:Math.acos(t)}function et(t){return t>1?Ps:-1>t?-Ps:Math.asin(t)}function nt(t){return((t=Math.exp(t))-1/t)/2}function it(t){return((t=Math.exp(t))+1/t)/2}function rt(t){return((t=Math.exp(2*t))-1)/(t+1)}function ot(t){return(t=Math.sin(t/2))*t}function st(){}function at(t,e,n){return this instanceof at?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof at?new at(t.h,t.s,t.l):xt(""+t,_t,at):new at(t,e,n)}function lt(t,e,n){function i(t){return t>360?t-=360:0>t&&(t+=360),60>t?o+(s-o)*t/60:180>t?s:240>t?o+(s-o)*(240-t)/60:o}function r(t){return Math.round(255*i(t))}var o,s;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,n=0>n?0:n>1?1:n,s=.5>=n?n*(1+e):n+e-n*e,o=2*n-s,new vt(r(t+120),r(t),r(t-120))}function ut(t,e,n){return this instanceof ut?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof ut?new ut(t.h,t.c,t.l):t instanceof ht?ft(t.l,t.a,t.b):ft((t=$t((t=ns.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ut(t,e,n)}function ct(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new ht(n,Math.cos(t*=Bs)*e,Math.sin(t)*e)}function ht(t,e,n){return this instanceof ht?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof ht?new ht(t.l,t.a,t.b):t instanceof ut?ct(t.h,t.c,t.l):$t((t=vt(t)).r,t.g,t.b):new ht(t,e,n)}function dt(t,e,n){var i=(t+16)/116,r=i+e/500,o=i-n/200;return r=pt(r)*qs,i=pt(i)*Ks,o=pt(o)*Xs,new vt(mt(3.2404542*r-1.5371385*i-.4985314*o),mt(-.969266*r+1.8760108*i+.041556*o),mt(.0556434*r-.2040259*i+1.0572252*o))}function ft(t,e,n){return t>0?new ut(Math.atan2(n,e)*Is,Math.sqrt(e*e+n*n),t):new ut(NaN,NaN,t)}function pt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function gt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function mt(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function vt(t,e,n){return this instanceof vt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof vt?new vt(t.r,t.g,t.b):xt(""+t,vt,lt):new vt(t,e,n)}function yt(t){return new vt(t>>16,t>>8&255,255&t)}function bt(t){return yt(t)+""}function wt(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function xt(t,e,n){var i,r,o,s=0,a=0,l=0;if(i=/([a-z]+)\((.*)\)/i.exec(t))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(At(r[0]),At(r[1]),At(r[2]))}return(o=Zs.get(t.toLowerCase()))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(s=(3840&o)>>4,s=s>>4|s,a=240&o,a=a>>4|a,l=15&o,l=l<<4|l):7===t.length&&(s=(16711680&o)>>16,a=(65280&o)>>8,l=255&o)),e(s,a,l))}function _t(t,e,n){var i,r,o=Math.min(t/=255,e/=255,n/=255),s=Math.max(t,e,n),a=s-o,l=(s+o)/2;return a?(r=.5>l?a/(s+o):a/(2-s-o),i=t==s?(e-n)/a+(n>e?6:0):e==s?(n-t)/a+2:(t-e)/a+4,i*=60):(i=NaN,r=l>0&&1>l?0:i),new at(i,r,l)}function $t(t,e,n){t=Ct(t),e=Ct(e),n=Ct(n);var i=gt((.4124564*t+.3575761*e+.1804375*n)/qs),r=gt((.2126729*t+.7151522*e+.072175*n)/Ks),o=gt((.0193339*t+.119192*e+.9503041*n)/Xs);return ht(116*r-16,500*(i-r),200*(r-o))}function Ct(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function At(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Et(t){return"function"==typeof t?t:function(){return t}}function St(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),kt(e,n,t,i)}}function kt(t,e,n,i){function r(){var t,e=l.status;if(!e&&Tt(l)||e>=200&&300>e||304===e){try{t=n.call(o,l)}catch(i){return void s.error.call(o,i)}s.load.call(o,t)}else s.error.call(o,l)}var o={},s=ns.dispatch("beforesend","progress","load","error"),a={},l=new XMLHttpRequest,u=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=r:l.onreadystatechange=function(){l.readyState>3&&r()},l.onprogress=function(t){var e=ns.event;ns.event=t;try{s.progress.call(o,l)}finally{ns.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?a[t]:(null==e?delete a[t]:a[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",o):e},o.responseType=function(t){return arguments.length?(u=t,o):u},o.response=function(t){return n=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(rs(arguments)))}}),o.send=function(n,i,r){if(2===arguments.length&&"function"==typeof i&&(r=i,i=null),l.open(n,t,!0),null==e||"accept"in a||(a.accept=e+",*/*"),l.setRequestHeader)for(var c in a)l.setRequestHeader(c,a[c]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=u&&(l.responseType=u),null!=r&&o.on("error",r).on("load",function(t){r(null,t)}),s.beforesend.call(o,l),l.send(null==i?null:i),o},o.abort=function(){return l.abort(),o},ns.rebind(o,s,"on"),null==i?o:o.get(Dt(i))}function Dt(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function Tt(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Ft(){var t=Mt(),e=Lt()-t;e>24?(isFinite(e)&&(clearTimeout(na),na=setTimeout(Ft,e)),ea=0):(ea=1,ra(Ft))}function Mt(){var t=Date.now();for(ia=Qs;ia;)t>=ia.t&&(ia.f=ia.c(t-ia.t)),ia=ia.n;return t}function Lt(){for(var t,e=Qs,n=1/0;e;)e.f?e=t?t.n=e.n:Qs=e.n:(e.t<n&&(n=e.t),e=(t=e).n);return ta=t,n}function Ot(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Pt(t,e){var n=Math.pow(10,3*ps(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function Bt(t){var e=t.decimal,n=t.thousands,i=t.grouping,r=t.currency,o=i&&n?function(t,e){for(var r=t.length,o=[],s=0,a=i[0],l=0;r>0&&a>0&&(l+a+1>e&&(a=Math.max(1,e-l)),o.push(t.substring(r-=a,r+a)),!((l+=a+1)>e));)a=i[s=(s+1)%i.length];return o.reverse().join(n)}:y;return function(t){var n=sa.exec(t),i=n[1]||" ",s=n[2]||">",a=n[3]||"-",l=n[4]||"",u=n[5],c=+n[6],h=n[7],d=n[8],f=n[9],p=1,g="",m="",v=!1,y=!0;switch(d&&(d=+d.substring(1)),(u||"0"===i&&"="===s)&&(u=i="0",s="="),f){case"n":h=!0,f="g";break;case"%":p=100,m="%",f="f";break;case"p":p=100,m="%",f="r";break;case"b":case"o":case"x":case"X":"#"===l&&(g="0"+f.toLowerCase());case"c":y=!1;case"d":v=!0,d=0;break;case"s":p=-1,f="r"}"$"===l&&(g=r[0],m=r[1]),"r"!=f||d||(f="g"),null!=d&&("g"==f?d=Math.max(1,Math.min(21,d)):("e"==f||"f"==f)&&(d=Math.max(0,Math.min(20,d)))),f=aa.get(f)||It;var b=u&&h;return function(t){var n=m;if(v&&t%1)return"";var r=0>t||0===t&&0>1/t?(t=-t,"-"):"-"===a?"":a;if(0>p){var l=ns.formatPrefix(t,d);t=l.scale(t),n=l.symbol+m}else t*=p;t=f(t,d);var w,x,_=t.lastIndexOf(".");if(0>_){var $=y?t.lastIndexOf("e"):-1;0>$?(w=t,x=""):(w=t.substring(0,$),x=t.substring($))}else w=t.substring(0,_),x=e+t.substring(_+1);!u&&h&&(w=o(w,1/0));var C=g.length+w.length+x.length+(b?0:r.length),A=c>C?new Array(C=c-C+1).join(i):"";return b&&(w=o(A+w,A.length?c-x.length:1/0)),r+=g,t=w+x,("<"===s?r+t+A:">"===s?A+r+t:"^"===s?A.substring(0,C>>=1)+r+t+A.substring(C):r+(b?t:A+t))+n}}}function It(t){return t+""}function Rt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function jt(t,e,n){function i(e){var n=t(e),i=o(n,1);return i-e>e-n?n:i}function r(n){return e(n=t(new ua(n-1)),1),n}function o(t,n){return e(t=new ua(+t),n),t}function s(t,i,o){var s=r(t),a=[];if(o>1)for(;i>s;)n(s)%o||a.push(new Date(+s)),e(s,1);else for(;i>s;)a.push(new Date(+s)),e(s,1);return a}function a(t,e,n){try{ua=Rt;var i=new Rt;return i._=t,s(i,e,n)}finally{ua=Date}}t.floor=t,t.round=i,t.ceil=r,t.offset=o,t.range=s;var l=t.utc=Nt(t);return l.floor=l,l.round=Nt(i),l.ceil=Nt(r),l.offset=Nt(o),l.range=a,t}function Nt(t){return function(e,n){try{ua=Rt;var i=new Rt;return i._=e,t(i,n)._}finally{ua=Date}}}function zt(t){function e(t){function e(e){for(var n,r,o,s=[],a=-1,l=0;++a<i;)37===t.charCodeAt(a)&&(s.push(t.slice(l,a)),null!=(r=ha[n=t.charAt(++a)])&&(n=t.charAt(++a)),(o=k[n])&&(n=o(e,null==r?"e"===n?" ":"0":r)),s.push(n),l=a+1);return s.push(t.slice(l,a)),s.join("")}var i=t.length;return e.parse=function(e){var i={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=n(i,t,e,0);if(r!=e.length)return null;"p"in i&&(i.H=i.H%12+12*i.p);var o=null!=i.Z&&ua!==Rt,s=new(o?Rt:ua);return"j"in i?s.setFullYear(i.y,0,i.j):"w"in i&&("W"in i||"U"in i)?(s.setFullYear(i.y,0,1),s.setFullYear(i.y,0,"W"in i?(i.w+6)%7+7*i.W-(s.getDay()+5)%7:i.w+7*i.U-(s.getDay()+6)%7)):s.setFullYear(i.y,i.m,i.d),s.setHours(i.H+(i.Z/100|0),i.M+i.Z%100,i.S,i.L),o?s._:s},e.toString=function(){return t},e}function n(t,e,n,i){for(var r,o,s,a=0,l=e.length,u=n.length;l>a;){if(i>=u)return-1;if(r=e.charCodeAt(a++),37===r){if(s=e.charAt(a++),o=D[s in ha?e.charAt(a++):s],!o||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function i(t,e,n){_.lastIndex=0;var i=_.exec(e.slice(n));return i?(t.w=$.get(i[0].toLowerCase()),n+i[0].length):-1}function r(t,e,n){w.lastIndex=0;var i=w.exec(e.slice(n));return i?(t.w=x.get(i[0].toLowerCase()),n+i[0].length):-1}function o(t,e,n){E.lastIndex=0;var i=E.exec(e.slice(n));return i?(t.m=S.get(i[0].toLowerCase()),n+i[0].length):-1}function s(t,e,n){C.lastIndex=0;var i=C.exec(e.slice(n));return i?(t.m=A.get(i[0].toLowerCase()),n+i[0].length):-1}function a(t,e,i){return n(t,k.c.toString(),e,i)}function l(t,e,i){return n(t,k.x.toString(),e,i)}function u(t,e,i){return n(t,k.X.toString(),e,i)}function c(t,e,n){var i=b.get(e.slice(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)}var h=t.dateTime,d=t.date,f=t.time,p=t.periods,g=t.days,m=t.shortDays,v=t.months,y=t.shortMonths;e.utc=function(t){function n(t){try{ua=Rt;var e=new ua;return e._=t,i(e)}finally{ua=Date}}var i=e(t);return n.parse=function(t){try{ua=Rt;var e=i.parse(t);return e&&e._}finally{ua=Date}},n.toString=i.toString,n},e.multi=e.utc.multi=ae;var b=ns.map(),w=Vt(g),x=Ht(g),_=Vt(m),$=Ht(m),C=Vt(v),A=Ht(v),E=Vt(y),S=Ht(y);p.forEach(function(t,e){b.set(t.toLowerCase(),e)});var k={a:function(t){return m[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:e(h),d:function(t,e){return Ut(t.getDate(),e,2)},e:function(t,e){return Ut(t.getDate(),e,2)},H:function(t,e){return Ut(t.getHours(),e,2)},I:function(t,e){return Ut(t.getHours()%12||12,e,2)},j:function(t,e){return Ut(1+la.dayOfYear(t),e,3)},L:function(t,e){return Ut(t.getMilliseconds(),e,3)},m:function(t,e){return Ut(t.getMonth()+1,e,2)},M:function(t,e){return Ut(t.getMinutes(),e,2)},p:function(t){return p[+(t.getHours()>=12)]},S:function(t,e){return Ut(t.getSeconds(),e,2)},U:function(t,e){return Ut(la.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Ut(la.mondayOfYear(t),e,2)},x:e(d),X:e(f),y:function(t,e){return Ut(t.getFullYear()%100,e,2)},Y:function(t,e){return Ut(t.getFullYear()%1e4,e,4)},Z:oe,"%":function(){return"%"}},D={a:i,A:r,b:o,B:s,c:a,d:Qt,e:Qt,H:ee,I:ee,j:te,L:re,m:Zt,M:ne,p:c,S:ie,U:Yt,w:Wt,W:qt,x:l,X:u,y:Xt,Y:Kt,Z:Gt,"%":se};return e}function Ut(t,e,n){var i=0>t?"-":"",r=(i?-t:t)+"",o=r.length;return i+(n>o?new Array(n-o+1).join(e)+r:r)}function Vt(t){return new RegExp("^(?:"+t.map(ns.requote).join("|")+")","i")}function Ht(t){for(var e=new u,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function Wt(t,e,n){da.lastIndex=0;var i=da.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Yt(t,e,n){da.lastIndex=0;var i=da.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function qt(t,e,n){da.lastIndex=0;var i=da.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function Kt(t,e,n){da.lastIndex=0;var i=da.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Xt(t,e,n){da.lastIndex=0;var i=da.exec(e.slice(n,n+2));return i?(t.y=Jt(+i[0]),n+i[0].length):-1}function Gt(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Jt(t){return t+(t>68?1900:2e3)}function Zt(t,e,n){da.lastIndex=0;var i=da.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function Qt(t,e,n){da.lastIndex=0;var i=da.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function te(t,e,n){da.lastIndex=0;var i=da.exec(e.slice(n,n+3));return i?(t.j=+i[0],n+i[0].length):-1}function ee(t,e,n){da.lastIndex=0;var i=da.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function ne(t,e,n){da.lastIndex=0;var i=da.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function ie(t,e,n){da.lastIndex=0;var i=da.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function re(t,e,n){da.lastIndex=0;var i=da.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function oe(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",i=ps(e)/60|0,r=ps(e)%60;return n+Ut(i,"0",2)+Ut(r,"0",2)}function se(t,e,n){fa.lastIndex=0;var i=fa.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function ae(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,i=t[n];!i[1](e);)i=t[++n];
return i[0](e)}}function le(){}function ue(t,e,n){var i=n.s=t+e,r=i-t,o=i-r;n.t=t-o+(e-r)}function ce(t,e){t&&va.hasOwnProperty(t.type)&&va[t.type](t,e)}function he(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function de(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)he(t[n],e,1);e.polygonEnd()}function fe(){function t(t,e){t*=Bs,e=e*Bs/2+Ms/4;var n=t-i,s=n>=0?1:-1,a=s*n,l=Math.cos(e),u=Math.sin(e),c=o*u,h=r*l+c*Math.cos(a),d=c*s*Math.sin(a);ba.add(Math.atan2(d,h)),i=t,r=l,o=u}var e,n,i,r,o;wa.point=function(s,a){wa.point=t,i=(e=s)*Bs,r=Math.cos(a=(n=a)*Bs/2+Ms/4),o=Math.sin(a)},wa.lineEnd=function(){t(e,n)}}function pe(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function ge(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function me(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ve(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function ye(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function be(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function we(t){return[Math.atan2(t[1],t[0]),et(t[2])]}function xe(t,e){return ps(t[0]-e[0])<Ts&&ps(t[1]-e[1])<Ts}function _e(t,e){t*=Bs;var n=Math.cos(e*=Bs);$e(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function $e(t,e,n){++xa,$a+=(t-$a)/xa,Ca+=(e-Ca)/xa,Aa+=(n-Aa)/xa}function Ce(){function t(t,r){t*=Bs;var o=Math.cos(r*=Bs),s=o*Math.cos(t),a=o*Math.sin(t),l=Math.sin(r),u=Math.atan2(Math.sqrt((u=n*l-i*a)*u+(u=i*s-e*l)*u+(u=e*a-n*s)*u),e*s+n*a+i*l);_a+=u,Ea+=u*(e+(e=s)),Sa+=u*(n+(n=a)),ka+=u*(i+(i=l)),$e(e,n,i)}var e,n,i;Ma.point=function(r,o){r*=Bs;var s=Math.cos(o*=Bs);e=s*Math.cos(r),n=s*Math.sin(r),i=Math.sin(o),Ma.point=t,$e(e,n,i)}}function Ae(){Ma.point=_e}function Ee(){function t(t,e){t*=Bs;var n=Math.cos(e*=Bs),s=n*Math.cos(t),a=n*Math.sin(t),l=Math.sin(e),u=r*l-o*a,c=o*s-i*l,h=i*a-r*s,d=Math.sqrt(u*u+c*c+h*h),f=i*s+r*a+o*l,p=d&&-tt(f)/d,g=Math.atan2(d,f);Da+=p*u,Ta+=p*c,Fa+=p*h,_a+=g,Ea+=g*(i+(i=s)),Sa+=g*(r+(r=a)),ka+=g*(o+(o=l)),$e(i,r,o)}var e,n,i,r,o;Ma.point=function(s,a){e=s,n=a,Ma.point=t,s*=Bs;var l=Math.cos(a*=Bs);i=l*Math.cos(s),r=l*Math.sin(s),o=Math.sin(a),$e(i,r,o)},Ma.lineEnd=function(){t(e,n),Ma.lineEnd=Ae,Ma.point=_e}}function Se(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return n=e.invert(n,i),n&&t.invert(n[0],n[1])}),n}function ke(){return!0}function De(t,e,n,i,r){var o=[],s=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(xe(n,i)){r.lineStart();for(var a=0;e>a;++a)r.point((n=t[a])[0],n[1]);return void r.lineEnd()}var l=new Fe(n,t,null,!0),u=new Fe(n,null,l,!1);l.o=u,o.push(l),s.push(u),l=new Fe(i,t,null,!1),u=new Fe(i,null,l,!0),l.o=u,o.push(l),s.push(u)}}),s.sort(e),Te(o),Te(s),o.length){for(var a=0,l=n,u=s.length;u>a;++a)s[a].e=l=!l;for(var c,h,d=o[0];;){for(var f=d,p=!0;f.v;)if((f=f.n)===d)return;c=f.z,r.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(var a=0,u=c.length;u>a;++a)r.point((h=c[a])[0],h[1]);else i(f.x,f.n.x,1,r);f=f.n}else{if(p){c=f.p.z;for(var a=c.length-1;a>=0;--a)r.point((h=c[a])[0],h[1])}else i(f.x,f.p.x,-1,r);f=f.p}f=f.o,c=f.z,p=!p}while(!f.v);r.lineEnd()}}}function Te(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function Fe(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Me(t,e,n,i){return function(r,o){function s(e,n){var i=r(e,n);t(e=i[0],n=i[1])&&o.point(e,n)}function a(t,e){var n=r(t,e);m.point(n[0],n[1])}function l(){y.point=a,m.lineStart()}function u(){y.point=s,m.lineEnd()}function c(t,e){g.push([t,e]);var n=r(t,e);w.point(n[0],n[1])}function h(){w.lineStart(),g=[]}function d(){c(g[0][0],g[0][1]),w.lineEnd();var t,e=w.clean(),n=b.buffer(),i=n.length;if(g.pop(),p.push(g),g=null,i)if(1&e){t=n[0];var r,i=t.length-1,s=-1;if(i>0){for(x||(o.polygonStart(),x=!0),o.lineStart();++s<i;)o.point((r=t[s])[0],r[1]);o.lineEnd()}}else i>1&&2&e&&n.push(n.pop().concat(n.shift())),f.push(n.filter(Le))}var f,p,g,m=e(o),v=r.invert(i[0],i[1]),y={point:s,lineStart:l,lineEnd:u,polygonStart:function(){y.point=c,y.lineStart=h,y.lineEnd=d,f=[],p=[]},polygonEnd:function(){y.point=s,y.lineStart=l,y.lineEnd=u,f=ns.merge(f);var t=je(v,p);f.length?(x||(o.polygonStart(),x=!0),De(f,Pe,t,n,o)):t&&(x||(o.polygonStart(),x=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),x&&(o.polygonEnd(),x=!1),f=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},b=Oe(),w=e(b),x=!1;return y}}function Le(t){return t.length>1}function Oe(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:x,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Pe(t,e){return((t=t.x)[0]<0?t[1]-Ps-Ts:Ps-t[1])-((e=e.x)[0]<0?e[1]-Ps-Ts:Ps-e[1])}function Be(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var a=o>0?Ms:-Ms,l=ps(o-n);ps(l-Ms)<Ts?(t.point(n,i=(i+s)/2>0?Ps:-Ps),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),t.point(o,i),e=0):r!==a&&l>=Ms&&(ps(n-r)<Ts&&(n-=r*Ts),ps(o-a)<Ts&&(o-=a*Ts),i=Ie(n,i,o,s),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),e=0),t.point(n=o,i=s),r=a},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}function Ie(t,e,n,i){var r,o,s=Math.sin(t-n);return ps(s)>Ts?Math.atan((Math.sin(e)*(o=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(e))*Math.sin(t))/(r*o*s)):(e+i)/2}function Re(t,e,n,i){var r;if(null==t)r=n*Ps,i.point(-Ms,r),i.point(0,r),i.point(Ms,r),i.point(Ms,0),i.point(Ms,-r),i.point(0,-r),i.point(-Ms,-r),i.point(-Ms,0),i.point(-Ms,r);else if(ps(t[0]-e[0])>Ts){var o=t[0]<e[0]?Ms:-Ms;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}function je(t,e){var n=t[0],i=t[1],r=[Math.sin(n),-Math.cos(n),0],o=0,s=0;ba.reset();for(var a=0,l=e.length;l>a;++a){var u=e[a],c=u.length;if(c)for(var h=u[0],d=h[0],f=h[1]/2+Ms/4,p=Math.sin(f),g=Math.cos(f),m=1;;){m===c&&(m=0),t=u[m];var v=t[0],y=t[1]/2+Ms/4,b=Math.sin(y),w=Math.cos(y),x=v-d,_=x>=0?1:-1,$=_*x,C=$>Ms,A=p*b;if(ba.add(Math.atan2(A*_*Math.sin($),g*w+A*Math.cos($))),o+=C?x+_*Ls:x,C^d>=n^v>=n){var E=me(pe(h),pe(t));be(E);var S=me(r,E);be(S);var k=(C^x>=0?-1:1)*et(S[2]);(i>k||i===k&&(E[0]||E[1]))&&(s+=C^x>=0?1:-1)}if(!m++)break;d=v,p=b,g=w,h=t}}return(-Ts>o||Ts>o&&0>ba)^1&s}function Ne(t){function e(t,e){return Math.cos(t)*Math.cos(e)>o}function n(t){var n,o,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(h,d){var f,p=[h,d],g=e(h,d),m=s?g?0:r(h,d):g?r(h+(0>h?Ms:-Ms),d):0;if(!n&&(u=l=g)&&t.lineStart(),g!==l&&(f=i(n,p),(xe(n,f)||xe(p,f))&&(p[0]+=Ts,p[1]+=Ts,g=e(p[0],p[1]))),g!==l)c=0,g?(t.lineStart(),f=i(p,n),t.point(f[0],f[1])):(f=i(n,p),t.point(f[0],f[1]),t.lineEnd()),n=f;else if(a&&n&&s^g){var v;m&o||!(v=i(p,n,!0))||(c=0,s?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||n&&xe(n,p)||t.point(p[0],p[1]),n=p,l=g,o=m},lineEnd:function(){l&&t.lineEnd(),n=null},clean:function(){return c|(u&&l)<<1}}}function i(t,e,n){var i=pe(t),r=pe(e),s=[1,0,0],a=me(i,r),l=ge(a,a),u=a[0],c=l-u*u;if(!c)return!n&&t;var h=o*l/c,d=-o*u/c,f=me(s,a),p=ye(s,h),g=ye(a,d);ve(p,g);var m=f,v=ge(p,m),y=ge(m,m),b=v*v-y*(ge(p,p)-1);if(!(0>b)){var w=Math.sqrt(b),x=ye(m,(-v-w)/y);if(ve(x,p),x=we(x),!n)return x;var _,$=t[0],C=e[0],A=t[1],E=e[1];$>C&&(_=$,$=C,C=_);var S=C-$,k=ps(S-Ms)<Ts,D=k||Ts>S;if(!k&&A>E&&(_=A,A=E,E=_),D?k?A+E>0^x[1]<(ps(x[0]-$)<Ts?A:E):A<=x[1]&&x[1]<=E:S>Ms^($<=x[0]&&x[0]<=C)){var T=ye(m,(-v+w)/y);return ve(T,p),[x,we(T)]}}}function r(e,n){var i=s?t:Ms-t,r=0;return-i>e?r|=1:e>i&&(r|=2),-i>n?r|=4:n>i&&(r|=8),r}var o=Math.cos(t),s=o>0,a=ps(o)>Ts,l=pn(t,6*Bs);return Me(e,n,l,s?[0,-t]:[-Ms,t-Ms])}function ze(t,e,n,i){return function(r){var o,s=r.a,a=r.b,l=s.x,u=s.y,c=a.x,h=a.y,d=0,f=1,p=c-l,g=h-u;if(o=t-l,p||!(o>0)){if(o/=p,0>p){if(d>o)return;f>o&&(f=o)}else if(p>0){if(o>f)return;o>d&&(d=o)}if(o=n-l,p||!(0>o)){if(o/=p,0>p){if(o>f)return;o>d&&(d=o)}else if(p>0){if(d>o)return;f>o&&(f=o)}if(o=e-u,g||!(o>0)){if(o/=g,0>g){if(d>o)return;f>o&&(f=o)}else if(g>0){if(o>f)return;o>d&&(d=o)}if(o=i-u,g||!(0>o)){if(o/=g,0>g){if(o>f)return;o>d&&(d=o)}else if(g>0){if(d>o)return;f>o&&(f=o)}return d>0&&(r.a={x:l+d*p,y:u+d*g}),1>f&&(r.b={x:l+f*p,y:u+f*g}),r}}}}}}function Ue(t,e,n,i){function r(i,r){return ps(i[0]-t)<Ts?r>0?0:3:ps(i[0]-n)<Ts?r>0?2:1:ps(i[1]-e)<Ts?r>0?1:0:r>0?3:2}function o(t,e){return s(t.x,e.x)}function s(t,e){var n=r(t,1),i=r(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){function l(t){for(var e=0,n=m.length,i=t[1],r=0;n>r;++r)for(var o,s=1,a=m[r],l=a.length,u=a[0];l>s;++s)o=a[s],u[1]<=i?o[1]>i&&Q(u,o,t)>0&&++e:o[1]<=i&&Q(u,o,t)<0&&--e,u=o;return 0!==e}function u(o,a,l,u){var c=0,h=0;if(null==o||(c=r(o,l))!==(h=r(a,l))||s(o,a)<0^l>0){do u.point(0===c||3===c?t:n,c>1?i:e);while((c=(c+l+4)%4)!==h)}else u.point(a[0],a[1])}function c(r,o){return r>=t&&n>=r&&o>=e&&i>=o}function h(t,e){c(t,e)&&a.point(t,e)}function d(){D.point=p,m&&m.push(v=[]),C=!0,$=!1,x=_=NaN}function f(){g&&(p(y,b),w&&$&&S.rejoin(),g.push(S.buffer())),D.point=h,$&&a.lineEnd()}function p(t,e){t=Math.max(-Oa,Math.min(Oa,t)),e=Math.max(-Oa,Math.min(Oa,e));var n=c(t,e);if(m&&v.push([t,e]),C)y=t,b=e,w=n,C=!1,n&&(a.lineStart(),a.point(t,e));else if(n&&$)a.point(t,e);else{var i={a:{x:x,y:_},b:{x:t,y:e}};k(i)?($||(a.lineStart(),a.point(i.a.x,i.a.y)),a.point(i.b.x,i.b.y),n||a.lineEnd(),A=!1):n&&(a.lineStart(),a.point(t,e),A=!1)}x=t,_=e,$=n}var g,m,v,y,b,w,x,_,$,C,A,E=a,S=Oe(),k=ze(t,e,n,i),D={point:h,lineStart:d,lineEnd:f,polygonStart:function(){a=S,g=[],m=[],A=!0},polygonEnd:function(){a=E,g=ns.merge(g);var e=l([t,i]),n=A&&e,r=g.length;(n||r)&&(a.polygonStart(),n&&(a.lineStart(),u(null,null,1,a),a.lineEnd()),r&&De(g,o,e,u,a),a.polygonEnd()),g=m=v=null}};return D}}function Ve(t){var e=0,n=Ms/3,i=sn(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*Ms/180,n=t[1]*Ms/180):[e/Ms*180,n/Ms*180]},r}function He(t,e){function n(t,e){var n=Math.sqrt(o-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),s-n*Math.cos(t)]}var i=Math.sin(t),r=(i+Math.sin(e))/2,o=1+i*(2*r-i),s=Math.sqrt(o)/r;return n.invert=function(t,e){var n=s-e;return[Math.atan2(t,n)/r,et((o-(t*t+n*n)*r*r)/(2*r))]},n}function We(){function t(t,e){Ba+=r*t-i*e,i=t,r=e}var e,n,i,r;za.point=function(o,s){za.point=t,e=i=o,n=r=s},za.lineEnd=function(){t(e,n)}}function Ye(t,e){Ia>t&&(Ia=t),t>ja&&(ja=t),Ra>e&&(Ra=e),e>Na&&(Na=e)}function qe(){function t(t,e){s.push("M",t,",",e,o)}function e(t,e){s.push("M",t,",",e),a.point=n}function n(t,e){s.push("L",t,",",e)}function i(){a.point=t}function r(){s.push("Z")}var o=Ke(4.5),s=[],a={point:t,lineStart:function(){a.point=e},lineEnd:i,polygonStart:function(){a.lineEnd=r},polygonEnd:function(){a.lineEnd=i,a.point=t},pointRadius:function(t){return o=Ke(t),a},result:function(){if(s.length){var t=s.join("");return s=[],t}}};return a}function Ke(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Xe(t,e){$a+=t,Ca+=e,++Aa}function Ge(){function t(t,i){var r=t-e,o=i-n,s=Math.sqrt(r*r+o*o);Ea+=s*(e+t)/2,Sa+=s*(n+i)/2,ka+=s,Xe(e=t,n=i)}var e,n;Va.point=function(i,r){Va.point=t,Xe(e=i,n=r)}}function Je(){Va.point=Xe}function Ze(){function t(t,e){var n=t-i,o=e-r,s=Math.sqrt(n*n+o*o);Ea+=s*(i+t)/2,Sa+=s*(r+e)/2,ka+=s,s=r*t-i*e,Da+=s*(i+t),Ta+=s*(r+e),Fa+=3*s,Xe(i=t,r=e)}var e,n,i,r;Va.point=function(o,s){Va.point=t,Xe(e=i=o,n=r=s)},Va.lineEnd=function(){t(e,n)}}function Qe(t){function e(e,n){t.moveTo(e+s,n),t.arc(e,n,s,0,Ls)}function n(e,n){t.moveTo(e,n),a.point=i}function i(e,n){t.lineTo(e,n)}function r(){a.point=e}function o(){t.closePath()}var s=4.5,a={point:e,lineStart:function(){a.point=n},lineEnd:r,polygonStart:function(){a.lineEnd=o},polygonEnd:function(){a.lineEnd=r,a.point=e},pointRadius:function(t){return s=t,a},result:x};return a}function tn(t){function e(t){return(a?i:n)(t)}function n(e){return rn(e,function(n,i){n=t(n,i),e.point(n[0],n[1])})}function i(e){function n(n,i){n=t(n,i),e.point(n[0],n[1])}function i(){b=NaN,C.point=o,e.lineStart()}function o(n,i){var o=pe([n,i]),s=t(n,i);r(b,w,y,x,_,$,b=s[0],w=s[1],y=n,x=o[0],_=o[1],$=o[2],a,e),e.point(b,w)}function s(){C.point=n,e.lineEnd()}function l(){i(),C.point=u,C.lineEnd=c}function u(t,e){o(h=t,d=e),f=b,p=w,g=x,m=_,v=$,C.point=o}function c(){r(b,w,y,x,_,$,f,p,h,g,m,v,a,e),C.lineEnd=s,s()}var h,d,f,p,g,m,v,y,b,w,x,_,$,C={point:n,lineStart:i,lineEnd:s,polygonStart:function(){e.polygonStart(),C.lineStart=l},polygonEnd:function(){e.polygonEnd(),C.lineStart=i}};return C}function r(e,n,i,a,l,u,c,h,d,f,p,g,m,v){var y=c-e,b=h-n,w=y*y+b*b;if(w>4*o&&m--){var x=a+f,_=l+p,$=u+g,C=Math.sqrt(x*x+_*_+$*$),A=Math.asin($/=C),E=ps(ps($)-1)<Ts||ps(i-d)<Ts?(i+d)/2:Math.atan2(_,x),S=t(E,A),k=S[0],D=S[1],T=k-e,F=D-n,M=b*T-y*F;(M*M/w>o||ps((y*T+b*F)/w-.5)>.3||s>a*f+l*p+u*g)&&(r(e,n,i,a,l,u,k,D,E,x/=C,_/=C,$,m,v),v.point(k,D),r(k,D,E,x,_,$,c,h,d,f,p,g,m,v))}}var o=.5,s=Math.cos(30*Bs),a=16;return e.precision=function(t){return arguments.length?(a=(o=t*t)>0&&16,e):Math.sqrt(o)},e}function en(t){var e=tn(function(e,n){return t([e*Is,n*Is])});return function(t){return an(e(t))}}function nn(t){this.stream=t}function rn(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function on(t){return sn(function(){return t})()}function sn(t){function e(t){return t=a(t[0]*Bs,t[1]*Bs),[t[0]*d+l,u-t[1]*d]}function n(t){return t=a.invert((t[0]-l)/d,(u-t[1])/d),t&&[t[0]*Is,t[1]*Is]}function i(){a=Se(s=cn(v,b,w),o);var t=o(g,m);return l=f-t[0]*d,u=p+t[1]*d,r()}function r(){return c&&(c.valid=!1,c=null),e}var o,s,a,l,u,c,h=tn(function(t,e){return t=o(t,e),[t[0]*d+l,u-t[1]*d]}),d=150,f=480,p=250,g=0,m=0,v=0,b=0,w=0,x=La,_=y,$=null,C=null;return e.stream=function(t){return c&&(c.valid=!1),c=an(x(s,h(_(t)))),c.valid=!0,c},e.clipAngle=function(t){return arguments.length?(x=null==t?($=t,La):Ne(($=+t)*Bs),r()):$},e.clipExtent=function(t){return arguments.length?(C=t,_=t?Ue(t[0][0],t[0][1],t[1][0],t[1][1]):y,r()):C},e.scale=function(t){return arguments.length?(d=+t,i()):d},e.translate=function(t){return arguments.length?(f=+t[0],p=+t[1],i()):[f,p]},e.center=function(t){return arguments.length?(g=t[0]%360*Bs,m=t[1]%360*Bs,i()):[g*Is,m*Is]},e.rotate=function(t){return arguments.length?(v=t[0]%360*Bs,b=t[1]%360*Bs,w=t.length>2?t[2]%360*Bs:0,i()):[v*Is,b*Is,w*Is]},ns.rebind(e,h,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,i()}}function an(t){return rn(t,function(e,n){t.point(e*Bs,n*Bs)})}function ln(t,e){return[t,e]}function un(t,e){return[t>Ms?t-Ls:-Ms>t?t+Ls:t,e]}function cn(t,e,n){return t?e||n?Se(dn(t),fn(e,n)):dn(t):e||n?fn(e,n):un}function hn(t){return function(e,n){return e+=t,[e>Ms?e-Ls:-Ms>e?e+Ls:e,n]}}function dn(t){var e=hn(t);return e.invert=hn(-t),e}function fn(t,e){function n(t,e){var n=Math.cos(e),a=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*i+a*r;return[Math.atan2(l*o-c*s,a*i-u*r),et(c*o+l*s)]}var i=Math.cos(t),r=Math.sin(t),o=Math.cos(e),s=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),a=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*o-l*s;return[Math.atan2(l*o+u*s,a*i+c*r),et(c*i-a*r)]},n}function pn(t,e){var n=Math.cos(t),i=Math.sin(t);return function(r,o,s,a){var l=s*e;null!=r?(r=gn(n,r),o=gn(n,o),(s>0?o>r:r>o)&&(r+=s*Ls)):(r=t+s*Ls,o=t-.5*l);for(var u,c=r;s>0?c>o:o>c;c-=l)a.point((u=we([n,-i*Math.cos(c),-i*Math.sin(c)]))[0],u[1])}}function gn(t,e){var n=pe(e);n[0]-=t,be(n);var i=tt(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-Ts)%(2*Math.PI)}function mn(t,e,n){var i=ns.range(t,e-Ts,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function vn(t,e,n){var i=ns.range(t,e-Ts,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function yn(t){return t.source}function bn(t){return t.target}function wn(t,e,n,i){var r=Math.cos(e),o=Math.sin(e),s=Math.cos(i),a=Math.sin(i),l=r*Math.cos(t),u=r*Math.sin(t),c=s*Math.cos(n),h=s*Math.sin(n),d=2*Math.asin(Math.sqrt(ot(i-e)+r*s*ot(n-t))),f=1/Math.sin(d),p=d?function(t){var e=Math.sin(t*=d)*f,n=Math.sin(d-t)*f,i=n*l+e*c,r=n*u+e*h,s=n*o+e*a;return[Math.atan2(r,i)*Is,Math.atan2(s,Math.sqrt(i*i+r*r))*Is]}:function(){return[t*Is,e*Is]};return p.distance=d,p}function xn(){function t(t,r){var o=Math.sin(r*=Bs),s=Math.cos(r),a=ps((t*=Bs)-e),l=Math.cos(a);Ha+=Math.atan2(Math.sqrt((a=s*Math.sin(a))*a+(a=i*o-n*s*l)*a),n*o+i*s*l),e=t,n=o,i=s}var e,n,i;Wa.point=function(r,o){e=r*Bs,n=Math.sin(o*=Bs),i=Math.cos(o),Wa.point=t},Wa.lineEnd=function(){Wa.point=Wa.lineEnd=x}}function _n(t,e){function n(e,n){var i=Math.cos(e),r=Math.cos(n),o=t(i*r);return[o*r*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var i=Math.sqrt(t*t+n*n),r=e(i),o=Math.sin(r),s=Math.cos(r);return[Math.atan2(t*o,i*s),Math.asin(i&&n*o/i)]},n}function $n(t,e){function n(t,e){s>0?-Ps+Ts>e&&(e=-Ps+Ts):e>Ps-Ts&&(e=Ps-Ts);var n=s/Math.pow(r(e),o);return[n*Math.sin(o*t),s-n*Math.cos(o*t)]}var i=Math.cos(t),r=function(t){return Math.tan(Ms/4+t/2)},o=t===e?Math.sin(t):Math.log(i/Math.cos(e))/Math.log(r(e)/r(t)),s=i*Math.pow(r(t),o)/o;return o?(n.invert=function(t,e){var n=s-e,i=Z(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(s/i,1/o))-Ps]},n):An}function Cn(t,e){function n(t,e){var n=o-e;return[n*Math.sin(r*t),o-n*Math.cos(r*t)]}var i=Math.cos(t),r=t===e?Math.sin(t):(i-Math.cos(e))/(e-t),o=i/r+t;return ps(r)<Ts?ln:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,o-Z(r)*Math.sqrt(t*t+n*n)]},n)}function An(t,e){return[t,Math.log(Math.tan(Ms/4+e/2))]}function En(t){var e,n=on(t),i=n.scale,r=n.translate,o=n.clipExtent;return n.scale=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var s=o.apply(n,arguments);if(s===n){if(e=null==t){var a=Ms*i(),l=r();o([[l[0]-a,l[1]-a],[l[0]+a,l[1]+a]])}}else e&&(s=null);return s},n.clipExtent(null)}function Sn(t,e){return[Math.log(Math.tan(Ms/4+e/2)),-t]}function kn(t){return t[0]}function Dn(t){return t[1]}function Tn(t){for(var e=t.length,n=[0,1],i=2,r=2;e>r;r++){for(;i>1&&Q(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function Fn(t,e){return t[0]-e[0]||t[1]-e[1]}function Mn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Ln(t,e,n,i){var r=t[0],o=n[0],s=e[0]-r,a=i[0]-o,l=t[1],u=n[1],c=e[1]-l,h=i[1]-u,d=(a*(l-u)-h*(r-o))/(h*s-a*c);return[r+d*s,l+d*c]}function On(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Pn(){ni(this),this.edge=this.site=this.circle=null}function Bn(t){var e=il.pop()||new Pn;return e.site=t,e}function In(t){qn(t),tl.remove(t),il.push(t),ni(t)}function Rn(t){var e=t.circle,n=e.x,i=e.cy,r={x:n,y:i},o=t.P,s=t.N,a=[t];In(t);for(var l=o;l.circle&&ps(n-l.circle.x)<Ts&&ps(i-l.circle.cy)<Ts;)o=l.P,a.unshift(l),In(l),l=o;a.unshift(l),qn(l);for(var u=s;u.circle&&ps(n-u.circle.x)<Ts&&ps(i-u.circle.cy)<Ts;)s=u.N,a.push(u),In(u),u=s;a.push(u),qn(u);var c,h=a.length;for(c=1;h>c;++c)u=a[c],l=a[c-1],Qn(u.edge,l.site,u.site,r);l=a[0],u=a[h-1],u.edge=Jn(l.site,u.site,null,r),Yn(l),Yn(u)}function jn(t){for(var e,n,i,r,o=t.x,s=t.y,a=tl._;a;)if(i=Nn(a,s)-o,i>Ts)a=a.L;else{if(r=o-zn(a,s),!(r>Ts)){i>-Ts?(e=a.P,n=a):r>-Ts?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}var l=Bn(t);if(tl.insert(e,l),e||n){if(e===n)return qn(e),n=Bn(e.site),tl.insert(l,n),l.edge=n.edge=Jn(e.site,l.site),Yn(e),void Yn(n);if(!n)return void(l.edge=Jn(e.site,l.site));qn(e),qn(n);var u=e.site,c=u.x,h=u.y,d=t.x-c,f=t.y-h,p=n.site,g=p.x-c,m=p.y-h,v=2*(d*m-f*g),y=d*d+f*f,b=g*g+m*m,w={x:(m*y-f*b)/v+c,y:(d*b-g*y)/v+h};Qn(n.edge,u,p,w),l.edge=Jn(u,t,null,w),n.edge=Jn(t,p,null,w),Yn(e),Yn(n)}}function Nn(t,e){var n=t.site,i=n.x,r=n.y,o=r-e;if(!o)return i;var s=t.P;if(!s)return-1/0;n=s.site;var a=n.x,l=n.y,u=l-e;if(!u)return a;var c=a-i,h=1/o-1/u,d=c/u;return h?(-d+Math.sqrt(d*d-2*h*(c*c/(-2*u)-l+u/2+r-o/2)))/h+i:(i+a)/2}function zn(t,e){var n=t.N;if(n)return Nn(n,e);var i=t.site;return i.y===e?i.x:1/0}function Un(t){this.site=t,this.edges=[]}function Vn(t){for(var e,n,i,r,o,s,a,l,u,c,h=t[0][0],d=t[1][0],f=t[0][1],p=t[1][1],g=Qa,m=g.length;m--;)if(o=g[m],o&&o.prepare())for(a=o.edges,l=a.length,s=0;l>s;)c=a[s].end(),i=c.x,r=c.y,u=a[++s%l].start(),e=u.x,n=u.y,(ps(i-e)>Ts||ps(r-n)>Ts)&&(a.splice(s,0,new ti(Zn(o.site,c,ps(i-h)<Ts&&p-r>Ts?{x:h,y:ps(e-h)<Ts?n:p}:ps(r-p)<Ts&&d-i>Ts?{x:ps(n-p)<Ts?e:d,y:p}:ps(i-d)<Ts&&r-f>Ts?{x:d,y:ps(e-d)<Ts?n:f}:ps(r-f)<Ts&&i-h>Ts?{x:ps(n-f)<Ts?e:h,y:f}:null),o.site,null)),++l)}function Hn(t,e){return e.angle-t.angle}function Wn(){ni(this),this.x=this.y=this.arc=this.site=this.cy=null}function Yn(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var s=r.x,a=r.y,l=i.x-s,u=i.y-a,c=o.x-s,h=o.y-a,d=2*(l*h-u*c);if(!(d>=-Fs)){var f=l*l+u*u,p=c*c+h*h,g=(h*f-u*p)/d,m=(l*p-c*f)/d,h=m+a,v=rl.pop()||new Wn;v.arc=t,v.site=r,v.x=g+s,v.y=h+Math.sqrt(g*g+m*m),v.cy=h,t.circle=v;for(var y=null,b=nl._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}nl.insert(y,v),y||(el=v)}}}}function qn(t){var e=t.circle;e&&(e.P||(el=e.N),nl.remove(e),rl.push(e),ni(e),t.circle=null)}function Kn(t){for(var e,n=Za,i=ze(t[0][0],t[0][1],t[1][0],t[1][1]),r=n.length;r--;)e=n[r],(!Xn(e,t)||!i(e)||ps(e.a.x-e.b.x)<Ts&&ps(e.a.y-e.b.y)<Ts)&&(e.a=e.b=null,n.splice(r,1))}function Xn(t,e){var n=t.b;if(n)return!0;var i,r,o=t.a,s=e[0][0],a=e[1][0],l=e[0][1],u=e[1][1],c=t.l,h=t.r,d=c.x,f=c.y,p=h.x,g=h.y,m=(d+p)/2,v=(f+g)/2;if(g===f){if(s>m||m>=a)return;if(d>p){if(o){if(o.y>=u)return}else o={x:m,y:l};n={x:m,y:u}}else{if(o){if(o.y<l)return}else o={x:m,y:u};n={x:m,y:l}}}else if(i=(d-p)/(g-f),r=v-i*m,-1>i||i>1)if(d>p){if(o){if(o.y>=u)return}else o={x:(l-r)/i,y:l};n={x:(u-r)/i,y:u}}else{if(o){if(o.y<l)return}else o={x:(u-r)/i,y:u};n={x:(l-r)/i,y:l}}else if(g>f){if(o){if(o.x>=a)return}else o={x:s,y:i*s+r};n={x:a,y:i*a+r}}else{if(o){if(o.x<s)return}else o={x:a,y:i*a+r};n={x:s,y:i*s+r}}return t.a=o,t.b=n,!0}function Gn(t,e){this.l=t,this.r=e,this.a=this.b=null}function Jn(t,e,n,i){var r=new Gn(t,e);return Za.push(r),n&&Qn(r,t,e,n),i&&Qn(r,e,t,i),Qa[t.i].edges.push(new ti(r,t,e)),Qa[e.i].edges.push(new ti(r,e,t)),r}function Zn(t,e,n){var i=new Gn(t,null);return i.a=e,i.b=n,Za.push(i),i}function Qn(t,e,n,i){t.a||t.b?t.l===n?t.b=i:t.a=i:(t.a=i,t.l=e,t.r=n)}function ti(t,e,n){var i=t.a,r=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function ei(){this._=null}function ni(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ii(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function ri(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function oi(t){for(;t.L;)t=t.L;return t}function si(t,e){var n,i,r,o=t.sort(ai).pop();for(Za=[],Qa=new Array(t.length),tl=new ei,nl=new ei;;)if(r=el,o&&(!r||o.y<r.y||o.y===r.y&&o.x<r.x))(o.x!==n||o.y!==i)&&(Qa[o.i]=new Un(o),jn(o),n=o.x,i=o.y),o=t.pop();else{if(!r)break;Rn(r.arc)}e&&(Kn(e),Vn(e));var s={cells:Qa,edges:Za};return tl=nl=Za=Qa=null,s}function ai(t,e){return e.y-t.y||e.x-t.x}function li(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function ui(t){return t.x}function ci(t){return t.y}function hi(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function di(t,e,n,i,r,o){if(!t(e,n,i,r,o)){var s=.5*(n+r),a=.5*(i+o),l=e.nodes;l[0]&&di(t,l[0],n,i,s,a),l[1]&&di(t,l[1],s,i,r,a),l[2]&&di(t,l[2],n,a,s,o),l[3]&&di(t,l[3],s,a,r,o)}}function fi(t,e,n,i,r,o,s){var a,l=1/0;return function u(t,c,h,d,f){if(!(c>o||h>s||i>d||r>f)){if(p=t.point){var p,g=e-t.x,m=n-t.y,v=g*g+m*m;if(l>v){var y=Math.sqrt(l=v);i=e-y,r=n-y,o=e+y,s=n+y,a=p}}for(var b=t.nodes,w=.5*(c+d),x=.5*(h+f),_=e>=w,$=n>=x,C=$<<1|_,A=C+4;A>C;++C)if(t=b[3&C])switch(3&C){case 0:u(t,c,h,w,x);break;case 1:u(t,w,h,d,x);break;case 2:u(t,c,x,w,f);break;case 3:u(t,w,x,d,f)}}}(t,i,r,o,s),a}function pi(t,e){t=ns.rgb(t),e=ns.rgb(e);var n=t.r,i=t.g,r=t.b,o=e.r-n,s=e.g-i,a=e.b-r;return function(t){return"#"+wt(Math.round(n+o*t))+wt(Math.round(i+s*t))+wt(Math.round(r+a*t))}}function gi(t,e){var n,i={},r={};for(n in t)n in e?i[n]=yi(t[n],e[n]):r[n]=t[n];for(n in e)n in t||(r[n]=e[n]);return function(t){for(n in i)r[n]=i[n](t);return r}}function mi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function vi(t,e){var n,i,r,o=sl.lastIndex=al.lastIndex=0,s=-1,a=[],l=[];for(t+="",e+="";(n=sl.exec(t))&&(i=al.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),a[s]?a[s]+=r:a[++s]=r),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:mi(n,i)})),o=al.lastIndex;return o<e.length&&(r=e.slice(o),a[s]?a[s]+=r:a[++s]=r),a.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var n,i=0;e>i;++i)a[(n=l[i]).i]=n.x(t);return a.join("")})}function yi(t,e){for(var n,i=ns.interpolators.length;--i>=0&&!(n=ns.interpolators[i](t,e)););return n}function bi(t,e){var n,i=[],r=[],o=t.length,s=e.length,a=Math.min(t.length,e.length);for(n=0;a>n;++n)i.push(yi(t[n],e[n]));for(;o>n;++n)r[n]=t[n];for(;s>n;++n)r[n]=e[n];return function(t){for(n=0;a>n;++n)r[n]=i[n](t);return r}}function wi(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function xi(t){return function(e){return 1-t(1-e)}}function _i(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function $i(t){return t*t}function Ci(t){return t*t*t}function Ai(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function Ei(t){return function(e){return Math.pow(e,t)}}function Si(t){return 1-Math.cos(t*Ps)}function ki(t){return Math.pow(2,10*(t-1))}function Di(t){return 1-Math.sqrt(1-t*t)}function Ti(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Ls*Math.asin(1/t):(t=1,n=e/4),function(i){return 1+t*Math.pow(2,-10*i)*Math.sin((i-n)*Ls/e)}}function Fi(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Mi(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Li(t,e){t=ns.hcl(t),e=ns.hcl(e);var n=t.h,i=t.c,r=t.l,o=e.h-n,s=e.c-i,a=e.l-r;return isNaN(s)&&(s=0,i=isNaN(i)?e.c:i),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return ct(n+o*t,i+s*t,r+a*t)+""}}function Oi(t,e){t=ns.hsl(t),e=ns.hsl(e);var n=t.h,i=t.s,r=t.l,o=e.h-n,s=e.s-i,a=e.l-r;return isNaN(s)&&(s=0,i=isNaN(i)?e.s:i),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return lt(n+o*t,i+s*t,r+a*t)+""}}function Pi(t,e){t=ns.lab(t),e=ns.lab(e);var n=t.l,i=t.a,r=t.b,o=e.l-n,s=e.a-i,a=e.b-r;return function(t){return dt(n+o*t,i+s*t,r+a*t)+""}}function Bi(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Ii(t){var e=[t.a,t.b],n=[t.c,t.d],i=ji(e),r=Ri(e,n),o=ji(Ni(n,e,-r))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,i*=-1,r*=-1),this.rotate=(i?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Is,this.translate=[t.e,t.f],this.scale=[i,o],this.skew=o?Math.atan2(r,o)*Is:0}function Ri(t,e){return t[0]*e[0]+t[1]*e[1]}function ji(t){var e=Math.sqrt(Ri(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Ni(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function zi(t,e){var n,i=[],r=[],o=ns.transform(t),s=ns.transform(e),a=o.translate,l=s.translate,u=o.rotate,c=s.rotate,h=o.skew,d=s.skew,f=o.scale,p=s.scale;return a[0]!=l[0]||a[1]!=l[1]?(i.push("translate(",null,",",null,")"),r.push({i:1,x:mi(a[0],l[0])},{i:3,x:mi(a[1],l[1])})):i.push(l[0]||l[1]?"translate("+l+")":""),u!=c?(u-c>180?c+=360:c-u>180&&(u+=360),r.push({i:i.push(i.pop()+"rotate(",null,")")-2,x:mi(u,c)})):c&&i.push(i.pop()+"rotate("+c+")"),h!=d?r.push({i:i.push(i.pop()+"skewX(",null,")")-2,x:mi(h,d)}):d&&i.push(i.pop()+"skewX("+d+")"),f[0]!=p[0]||f[1]!=p[1]?(n=i.push(i.pop()+"scale(",null,",",null,")"),r.push({i:n-4,x:mi(f[0],p[0])},{i:n-2,x:mi(f[1],p[1])})):(1!=p[0]||1!=p[1])&&i.push(i.pop()+"scale("+p+")"),n=r.length,function(t){for(var e,o=-1;++o<n;)i[(e=r[o]).i]=e.x(t);return i.join("")}}function Ui(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Vi(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Hi(t){for(var e=t.source,n=t.target,i=Yi(e,n),r=[e];e!==i;)e=e.parent,r.push(e);for(var o=r.length;n!==i;)r.splice(o,0,n),n=n.parent;return r}function Wi(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Yi(t,e){if(t===e)return t;for(var n=Wi(t),i=Wi(e),r=n.pop(),o=i.pop(),s=null;r===o;)s=r,r=n.pop(),o=i.pop();return s}function qi(t){t.fixed|=2}function Ki(t){t.fixed&=-7}function Xi(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Gi(t){t.fixed&=-5}function Ji(t,e,n){var i=0,r=0;if(t.charge=0,!t.leaf)for(var o,s=t.nodes,a=s.length,l=-1;++l<a;)o=s[l],null!=o&&(Ji(o,e,n),t.charge+=o.charge,i+=o.charge*o.cx,r+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var u=e*n[t.point.index];t.charge+=t.pointCharge=u,i+=u*t.point.x,r+=u*t.point.y}t.cx=i/t.charge,t.cy=r/t.charge}function Zi(t,e){return ns.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=rr,t}function Qi(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(r=t.children)&&(i=r.length))for(var i,r;--i>=0;)n.push(r[i])}function tr(t,e){for(var n=[t],i=[];null!=(t=n.pop());)if(i.push(t),(o=t.children)&&(r=o.length))for(var r,o,s=-1;++s<r;)n.push(o[s]);for(;null!=(t=i.pop());)e(t)}function er(t){return t.children}function nr(t){return t.value}function ir(t,e){return e.value-t.value}function rr(t){return ns.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function or(t){return t.x}function sr(t){return t.y}function ar(t,e,n){t.y0=e,t.y=n}function lr(t){return ns.range(t.length)}function ur(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function cr(t){for(var e,n=1,i=0,r=t[0][1],o=t.length;o>n;++n)(e=t[n][1])>r&&(i=n,r=e);return i}function hr(t){return t.reduce(dr,0)}function dr(t,e){return t+e[1]}function fr(t,e){return pr(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function pr(t,e){for(var n=-1,i=+t[0],r=(t[1]-i)/e,o=[];++n<=e;)o[n]=r*n+i;return o}function gr(t){return[ns.min(t),ns.max(t)]}function mr(t,e){return t.value-e.value}function vr(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function yr(t,e){t._pack_next=e,e._pack_prev=t}function br(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return.999*r*r>n*n+i*i}function wr(t){function e(t){c=Math.min(t.x-t.r,c),h=Math.max(t.x+t.r,h),d=Math.min(t.y-t.r,d),f=Math.max(t.y+t.r,f)}if((n=t.children)&&(u=n.length)){var n,i,r,o,s,a,l,u,c=1/0,h=-1/0,d=1/0,f=-1/0;if(n.forEach(xr),i=n[0],i.x=-i.r,i.y=0,e(i),u>1&&(r=n[1],r.x=r.r,r.y=0,e(r),u>2))for(o=n[2],Cr(i,r,o),e(o),vr(i,o),i._pack_prev=o,vr(o,r),r=i._pack_next,s=3;u>s;s++){Cr(i,r,o=n[s]);var p=0,g=1,m=1;for(a=r._pack_next;a!==r;a=a._pack_next,g++)if(br(a,o)){p=1;break}if(1==p)for(l=i._pack_prev;l!==a._pack_prev&&!br(l,o);l=l._pack_prev,m++);p?(m>g||g==m&&r.r<i.r?yr(i,r=a):yr(i=l,r),s--):(vr(i,o),r=o,e(o))}var v=(c+h)/2,y=(d+f)/2,b=0;for(s=0;u>s;s++)o=n[s],o.x-=v,o.y-=y,b=Math.max(b,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=b,n.forEach(_r)}}function xr(t){t._pack_next=t._pack_prev=t}function _r(t){delete t._pack_next,delete t._pack_prev}function $r(t,e,n,i){var r=t.children;if(t.x=e+=i*t.x,t.y=n+=i*t.y,t.r*=i,r)for(var o=-1,s=r.length;++o<s;)$r(r[o],e,n,i)}function Cr(t,e,n){var i=t.r+n.r,r=e.x-t.x,o=e.y-t.y;if(i&&(r||o)){var s=e.r+n.r,a=r*r+o*o;s*=s,i*=i;var l=.5+(i-s)/(2*a),u=Math.sqrt(Math.max(0,2*s*(i+a)-(i-=a)*i-s*s))/(2*a);n.x=t.x+l*r+u*o,n.y=t.y+l*o-u*r}else n.x=t.x+i,n.y=t.y}function Ar(t,e){return t.parent==e.parent?1:2;
}function Er(t){var e=t.children;return e.length?e[0]:t.t}function Sr(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function kr(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function Dr(t){for(var e,n=0,i=0,r=t.children,o=r.length;--o>=0;)e=r[o],e.z+=n,e.m+=n,n+=e.s+(i+=e.c)}function Tr(t,e,n){return t.a.parent===e.parent?t.a:n}function Fr(t){return 1+ns.max(t,function(t){return t.y})}function Mr(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Lr(t){var e=t.children;return e&&e.length?Lr(e[0]):t}function Or(t){var e,n=t.children;return n&&(e=n.length)?Or(n[e-1]):t}function Pr(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Br(t,e){var n=t.x+e[3],i=t.y+e[0],r=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return 0>r&&(n+=r/2,r=0),0>o&&(i+=o/2,o=0),{x:n,y:i,dx:r,dy:o}}function Ir(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function Rr(t){return t.rangeExtent?t.rangeExtent():Ir(t.range())}function jr(t,e,n,i){var r=n(t[0],t[1]),o=i(e[0],e[1]);return function(t){return o(r(t))}}function Nr(t,e){var n,i=0,r=t.length-1,o=t[i],s=t[r];return o>s&&(n=i,i=r,r=n,n=o,o=s,s=n),t[i]=e.floor(o),t[r]=e.ceil(s),t}function zr(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:yl}function Ur(t,e,n,i){var r=[],o=[],s=0,a=Math.min(t.length,e.length)-1;for(t[a]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<=a;)r.push(n(t[s-1],t[s])),o.push(i(e[s-1],e[s]));return function(e){var n=ns.bisect(t,e,1,a)-1;return o[n](r[n](e))}}function Vr(t,e,n,i){function r(){var r=Math.min(t.length,e.length)>2?Ur:jr,l=i?Vi:Ui;return s=r(t,e,l,n),a=r(e,t,l,yi),o}function o(t){return s(t)}var s,a;return o.invert=function(t){return a(t)},o.domain=function(e){return arguments.length?(t=e.map(Number),r()):t},o.range=function(t){return arguments.length?(e=t,r()):e},o.rangeRound=function(t){return o.range(t).interpolate(Bi)},o.clamp=function(t){return arguments.length?(i=t,r()):i},o.interpolate=function(t){return arguments.length?(n=t,r()):n},o.ticks=function(e){return qr(t,e)},o.tickFormat=function(e,n){return Kr(t,e,n)},o.nice=function(e){return Wr(t,e),r()},o.copy=function(){return Vr(t,e,n,i)},r()}function Hr(t,e){return ns.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Wr(t,e){return Nr(t,zr(Yr(t,e)[2]))}function Yr(t,e){null==e&&(e=10);var n=Ir(t),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),o=e/i*r;return.15>=o?r*=10:.35>=o?r*=5:.75>=o&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function qr(t,e){return ns.range.apply(ns,Yr(t,e))}function Kr(t,e,n){var i=Yr(t,e);if(n){var r=sa.exec(n);if(r.shift(),"s"===r[8]){var o=ns.formatPrefix(Math.max(ps(i[0]),ps(i[1])));return r[7]||(r[7]="."+Xr(o.scale(i[2]))),r[8]="f",n=ns.format(r.join("")),function(t){return n(o.scale(t))+o.symbol}}r[7]||(r[7]="."+Gr(r[8],i)),n=r.join("")}else n=",."+Xr(i[2])+"f";return ns.format(n)}function Xr(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Gr(t,e){var n=Xr(e[2]);return t in bl?Math.abs(n-Xr(Math.max(ps(e[0]),ps(e[1]))))+ +("e"!==t):n-2*("%"===t)}function Jr(t,e,n,i){function r(t){return(n?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function o(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function s(e){return t(r(e))}return s.invert=function(e){return o(t.invert(e))},s.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((i=e.map(Number)).map(r)),s):i},s.base=function(n){return arguments.length?(e=+n,t.domain(i.map(r)),s):e},s.nice=function(){var e=Nr(i.map(r),n?Math:xl);return t.domain(e),i=e.map(o),s},s.ticks=function(){var t=Ir(i),s=[],a=t[0],l=t[1],u=Math.floor(r(a)),c=Math.ceil(r(l)),h=e%1?2:e;if(isFinite(c-u)){if(n){for(;c>u;u++)for(var d=1;h>d;d++)s.push(o(u)*d);s.push(o(u))}else for(s.push(o(u));u++<c;)for(var d=h-1;d>0;d--)s.push(o(u)*d);for(u=0;s[u]<a;u++);for(c=s.length;s[c-1]>l;c--);s=s.slice(u,c)}return s},s.tickFormat=function(t,e){if(!arguments.length)return wl;arguments.length<2?e=wl:"function"!=typeof e&&(e=ns.format(e));var i,a=Math.max(.1,t/s.ticks().length),l=n?(i=1e-12,Math.ceil):(i=-1e-12,Math.floor);return function(t){return t/o(l(r(t)+i))<=a?e(t):""}},s.copy=function(){return Jr(t.copy(),e,n,i)},Hr(s,t)}function Zr(t,e,n){function i(e){return t(r(e))}var r=Qr(e),o=Qr(1/e);return i.invert=function(e){return o(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(r)),i):n},i.ticks=function(t){return qr(n,t)},i.tickFormat=function(t,e){return Kr(n,t,e)},i.nice=function(t){return i.domain(Wr(n,t))},i.exponent=function(s){return arguments.length?(r=Qr(e=s),o=Qr(1/e),t.domain(n.map(r)),i):e},i.copy=function(){return Zr(t.copy(),e,n)},Hr(i,t)}function Qr(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function to(t,e){function n(n){return o[((r.get(n)||("range"===e.t?r.set(n,t.push(n)):NaN))-1)%o.length]}function i(e,n){return ns.range(t.length).map(function(t){return e+n*t})}var r,o,s;return n.domain=function(i){if(!arguments.length)return t;t=[],r=new u;for(var o,s=-1,a=i.length;++s<a;)r.has(o=i[s])||r.set(o,t.push(o));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(o=t,s=0,e={t:"range",a:arguments},n):o},n.rangePoints=function(r,a){arguments.length<2&&(a=0);var l=r[0],u=r[1],c=t.length<2?(l=(l+u)/2,0):(u-l)/(t.length-1+a);return o=i(l+c*a/2,c),s=0,e={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(r,a){arguments.length<2&&(a=0);var l=r[0],u=r[1],c=t.length<2?(l=u=Math.round((l+u)/2),0):(u-l)/(t.length-1+a)|0;return o=i(l+Math.round(c*a/2+(u-l-(t.length-1+a)*c)/2),c),s=0,e={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(r,a,l){arguments.length<2&&(a=0),arguments.length<3&&(l=a);var u=r[1]<r[0],c=r[u-0],h=r[1-u],d=(h-c)/(t.length-a+2*l);return o=i(c+d*l,d),u&&o.reverse(),s=d*(1-a),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(r,a,l){arguments.length<2&&(a=0),arguments.length<3&&(l=a);var u=r[1]<r[0],c=r[u-0],h=r[1-u],d=Math.floor((h-c)/(t.length-a+2*l));return o=i(c+Math.round((h-c-(t.length-a)*d)/2),d),u&&o.reverse(),s=Math.round(d*(1-a)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return s},n.rangeExtent=function(){return Ir(e.a[0])},n.copy=function(){return to(t,e)},n.domain(t)}function eo(t,e){function o(){var n=0,i=e.length;for(a=[];++n<i;)a[n-1]=ns.quantile(t,n/i);return s}function s(t){return isNaN(t=+t)?void 0:e[ns.bisect(a,t)]}var a;return s.domain=function(e){return arguments.length?(t=e.map(i).filter(r).sort(n),o()):t},s.range=function(t){return arguments.length?(e=t,o()):e},s.quantiles=function(){return a},s.invertExtent=function(n){return n=e.indexOf(n),0>n?[NaN,NaN]:[n>0?a[n-1]:t[0],n<a.length?a[n]:t[t.length-1]]},s.copy=function(){return eo(t,e)},o()}function no(t,e,n){function i(e){return n[Math.max(0,Math.min(s,Math.floor(o*(e-t))))]}function r(){return o=n.length/(e-t),s=n.length-1,i}var o,s;return i.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],r()):[t,e]},i.range=function(t){return arguments.length?(n=t,r()):n},i.invertExtent=function(e){return e=n.indexOf(e),e=0>e?NaN:e/o+t,[e,e+1/o]},i.copy=function(){return no(t,e,n)},r()}function io(t,e){function n(n){return n>=n?e[ns.bisect(t,n)]:void 0}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return io(t,e)},n}function ro(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return qr(t,e)},e.tickFormat=function(e,n){return Kr(t,e,n)},e.copy=function(){return ro(t)},e}function oo(){return 0}function so(t){return t.innerRadius}function ao(t){return t.outerRadius}function lo(t){return t.startAngle}function uo(t){return t.endAngle}function co(t){return t&&t.padAngle}function ho(t,e,n,i){return(t-n)*e-(e-i)*t>0?0:1}function fo(t,e,n,i,r){var o=t[0]-e[0],s=t[1]-e[1],a=(r?i:-i)/Math.sqrt(o*o+s*s),l=a*s,u=-a*o,c=t[0]+l,h=t[1]+u,d=e[0]+l,f=e[1]+u,p=(c+d)/2,g=(h+f)/2,m=d-c,v=f-h,y=m*m+v*v,b=n-i,w=c*f-d*h,x=(0>v?-1:1)*Math.sqrt(b*b*y-w*w),_=(w*v-m*x)/y,$=(-w*m-v*x)/y,C=(w*v+m*x)/y,A=(-w*m+v*x)/y,E=_-p,S=$-g,k=C-p,D=A-g;return E*E+S*S>k*k+D*D&&(_=C,$=A),[[_-l,$-u],[_*n/b,$*n/b]]}function po(t){function e(e){function s(){u.push("M",o(t(c),a))}for(var l,u=[],c=[],h=-1,d=e.length,f=Et(n),p=Et(i);++h<d;)r.call(this,l=e[h],h)?c.push([+f.call(this,l,h),+p.call(this,l,h)]):c.length&&(s(),c=[]);return c.length&&s(),u.length?u.join(""):null}var n=kn,i=Dn,r=ke,o=go,s=o.key,a=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e.defined=function(t){return arguments.length?(r=t,e):r},e.interpolate=function(t){return arguments.length?(s="function"==typeof t?o=t:(o=Sl.get(t)||go).key,e):s},e.tension=function(t){return arguments.length?(a=t,e):a},e}function go(t){return t.join("L")}function mo(t){return go(t)+"Z"}function vo(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i[0]+(i=t[e])[0])/2,"V",i[1]);return n>1&&r.push("H",i[0]),r.join("")}function yo(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("V",(i=t[e])[1],"H",i[0]);return r.join("")}function bo(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i=t[e])[0],"V",i[1]);return r.join("")}function wo(t,e){return t.length<4?go(t):t[1]+$o(t.slice(1,-1),Co(t,e))}function xo(t,e){return t.length<3?go(t):t[0]+$o((t.push(t[0]),t),Co([t[t.length-2]].concat(t,[t[1]]),e))}function _o(t,e){return t.length<3?go(t):t[0]+$o(t,Co(t,e))}function $o(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return go(t);var n=t.length!=e.length,i="",r=t[0],o=t[1],s=e[0],a=s,l=1;if(n&&(i+="Q"+(o[0]-2*s[0]/3)+","+(o[1]-2*s[1]/3)+","+o[0]+","+o[1],r=t[1],l=2),e.length>1){a=e[1],o=t[l],l++,i+="C"+(r[0]+s[0])+","+(r[1]+s[1])+","+(o[0]-a[0])+","+(o[1]-a[1])+","+o[0]+","+o[1];for(var u=2;u<e.length;u++,l++)o=t[l],a=e[u],i+="S"+(o[0]-a[0])+","+(o[1]-a[1])+","+o[0]+","+o[1]}if(n){var c=t[l];i+="Q"+(o[0]+2*a[0]/3)+","+(o[1]+2*a[1]/3)+","+c[0]+","+c[1]}return i}function Co(t,e){for(var n,i=[],r=(1-e)/2,o=t[0],s=t[1],a=1,l=t.length;++a<l;)n=o,o=s,s=t[a],i.push([r*(s[0]-n[0]),r*(s[1]-n[1])]);return i}function Ao(t){if(t.length<3)return go(t);var e=1,n=t.length,i=t[0],r=i[0],o=i[1],s=[r,r,r,(i=t[1])[0]],a=[o,o,o,i[1]],l=[r,",",o,"L",Do(Tl,s),",",Do(Tl,a)];for(t.push(t[n-1]);++e<=n;)i=t[e],s.shift(),s.push(i[0]),a.shift(),a.push(i[1]),To(l,s,a);return t.pop(),l.push("L",i),l.join("")}function Eo(t){if(t.length<4)return go(t);for(var e,n=[],i=-1,r=t.length,o=[0],s=[0];++i<3;)e=t[i],o.push(e[0]),s.push(e[1]);for(n.push(Do(Tl,o)+","+Do(Tl,s)),--i;++i<r;)e=t[i],o.shift(),o.push(e[0]),s.shift(),s.push(e[1]),To(n,o,s);return n.join("")}function So(t){for(var e,n,i=-1,r=t.length,o=r+4,s=[],a=[];++i<4;)n=t[i%r],s.push(n[0]),a.push(n[1]);for(e=[Do(Tl,s),",",Do(Tl,a)],--i;++i<o;)n=t[i%r],s.shift(),s.push(n[0]),a.shift(),a.push(n[1]),To(e,s,a);return e.join("")}function ko(t,e){var n=t.length-1;if(n)for(var i,r,o=t[0][0],s=t[0][1],a=t[n][0]-o,l=t[n][1]-s,u=-1;++u<=n;)i=t[u],r=u/n,i[0]=e*i[0]+(1-e)*(o+r*a),i[1]=e*i[1]+(1-e)*(s+r*l);return Ao(t)}function Do(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function To(t,e,n){t.push("C",Do(kl,e),",",Do(kl,n),",",Do(Dl,e),",",Do(Dl,n),",",Do(Tl,e),",",Do(Tl,n))}function Fo(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Mo(t){for(var e=0,n=t.length-1,i=[],r=t[0],o=t[1],s=i[0]=Fo(r,o);++e<n;)i[e]=(s+(s=Fo(r=o,o=t[e+1])))/2;return i[e]=s,i}function Lo(t){for(var e,n,i,r,o=[],s=Mo(t),a=-1,l=t.length-1;++a<l;)e=Fo(t[a],t[a+1]),ps(e)<Ts?s[a]=s[a+1]=0:(n=s[a]/e,i=s[a+1]/e,r=n*n+i*i,r>9&&(r=3*e/Math.sqrt(r),s[a]=r*n,s[a+1]=r*i));for(a=-1;++a<=l;)r=(t[Math.min(l,a+1)][0]-t[Math.max(0,a-1)][0])/(6*(1+s[a]*s[a])),o.push([r||0,s[a]*r||0]);return o}function Oo(t){return t.length<3?go(t):t[0]+$o(t,Lo(t))}function Po(t){for(var e,n,i,r=-1,o=t.length;++r<o;)e=t[r],n=e[0],i=e[1]-Ps,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function Bo(t){function e(e){function l(){g.push("M",a(t(v),h),c,u(t(m.reverse()),h),"Z")}for(var d,f,p,g=[],m=[],v=[],y=-1,b=e.length,w=Et(n),x=Et(r),_=n===i?function(){return f}:Et(i),$=r===o?function(){return p}:Et(o);++y<b;)s.call(this,d=e[y],y)?(m.push([f=+w.call(this,d,y),p=+x.call(this,d,y)]),v.push([+_.call(this,d,y),+$.call(this,d,y)])):m.length&&(l(),m=[],v=[]);return m.length&&l(),g.length?g.join(""):null}var n=kn,i=kn,r=0,o=Dn,s=ke,a=go,l=a.key,u=a,c="L",h=.7;return e.x=function(t){return arguments.length?(n=i=t,e):i},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(r=o=t,e):o},e.y0=function(t){return arguments.length?(r=t,e):r},e.y1=function(t){return arguments.length?(o=t,e):o},e.defined=function(t){return arguments.length?(s=t,e):s},e.interpolate=function(t){return arguments.length?(l="function"==typeof t?a=t:(a=Sl.get(t)||go).key,u=a.reverse||a,c=a.closed?"M":"L",e):l},e.tension=function(t){return arguments.length?(h=t,e):h},e}function Io(t){return t.radius}function Ro(t){return[t.x,t.y]}function jo(t){return function(){var e=t.apply(this,arguments),n=e[0],i=e[1]-Ps;return[n*Math.cos(i),n*Math.sin(i)]}}function No(){return 64}function zo(){return"circle"}function Uo(t){var e=Math.sqrt(t/Ms);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Vo(t){return function(){var e,n;(e=this[t])&&(n=e[e.active])&&(--e.count?delete e[e.active]:delete this[t],e.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function Ho(t,e,n){return bs(t,Il),t.namespace=e,t.id=n,t}function Wo(t,e,n,i){var r=t.id,o=t.namespace;return V(t,"function"==typeof n?function(t,s,a){t[o][r].tween.set(e,i(n.call(t,t.__data__,s,a)))}:(n=i(n),function(t){t[o][r].tween.set(e,n)}))}function Yo(t){return null==t&&(t=""),function(){this.textContent=t}}function qo(t){return null==t?"__transition__":"__transition_"+t+"__"}function Ko(t,e,n,i,r){var o=t[n]||(t[n]={active:0,count:0}),s=o[i];if(!s){var a=r.time;s=o[i]={tween:new u,time:a,delay:r.delay,duration:r.duration,ease:r.ease,index:e},r=null,++o.count,ns.timer(function(r){function l(n){if(o.active>i)return c();var r=o[o.active];r&&(--o.count,delete o[o.active],r.event&&r.event.interrupt.call(t,t.__data__,r.index)),o.active=i,s.event&&s.event.start.call(t,t.__data__,e),s.tween.forEach(function(n,i){(i=i.call(t,t.__data__,e))&&g.push(i)}),d=s.ease,h=s.duration,ns.timer(function(){return p.c=u(n||1)?ke:u,1},0,a)}function u(n){if(o.active!==i)return 1;for(var r=n/h,a=d(r),l=g.length;l>0;)g[--l].call(t,a);return r>=1?(s.event&&s.event.end.call(t,t.__data__,e),c()):void 0}function c(){return--o.count?delete o[i]:delete t[n],1}var h,d,f=s.delay,p=ia,g=[];return p.t=f+a,r>=f?l(r-f):void(p.c=l)},0,a)}}function Xo(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate("+(isFinite(i)?i:n(t))+",0)"})}function Go(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate(0,"+(isFinite(i)?i:n(t))+")"})}function Jo(t){return t.toISOString()}function Zo(t,e,n){function i(e){return t(e)}function r(t,n){var i=t[1]-t[0],r=i/n,o=ns.bisect(Yl,r);return o==Yl.length?[e.year,Yr(t.map(function(t){return t/31536e6}),n)[2]]:o?e[r/Yl[o-1]<Yl[o]/r?o-1:o]:[Xl,Yr(t,n)[2]]}return i.invert=function(e){return Qo(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain().map(Qo)},i.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,Qo(+n+1),e).length}var o=i.domain(),s=Ir(o),a=null==t?r(s,10):"number"==typeof t&&r(s,t);return a&&(t=a[0],e=a[1]),i.domain(Nr(o,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=Qo(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=Qo(+e+1);return e}}:t))},i.ticks=function(t,e){var n=Ir(i.domain()),o=null==t?r(n,10):"number"==typeof t?r(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],Qo(+n[1]+1),1>e?1:e)},i.tickFormat=function(){return n},i.copy=function(){return Zo(t.copy(),e,n)},Hr(i,t)}function Qo(t){return new Date(t)}function ts(t){return JSON.parse(t.responseText)}function es(t){var e=os.createRange();return e.selectNode(os.body),e.createContextualFragment(t.responseText)}var ns={version:"3.5.5"},is=[].slice,rs=function(t){return is.call(t)},os=this.document;if(os)try{rs(os.documentElement.childNodes)[0].nodeType}catch(ss){rs=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),os)try{os.createElement("DIV").style.setProperty("opacity",0,"")}catch(as){var ls=this.Element.prototype,us=ls.setAttribute,cs=ls.setAttributeNS,hs=this.CSSStyleDeclaration.prototype,ds=hs.setProperty;ls.setAttribute=function(t,e){us.call(this,t,e+"")},ls.setAttributeNS=function(t,e,n){cs.call(this,t,e,n+"")},hs.setProperty=function(t,e,n){ds.call(this,t,e+"",n)}}ns.ascending=n,ns.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:NaN},ns.min=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&n>i&&(n=i)}else{for(;++r<o;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=i;break}for(;++r<o;)null!=(i=e.call(t,t[r],r))&&n>i&&(n=i)}return n},ns.max=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&i>n&&(n=i)}else{for(;++r<o;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=i;break}for(;++r<o;)null!=(i=e.call(t,t[r],r))&&i>n&&(n=i)}return n},ns.extent=function(t,e){var n,i,r,o=-1,s=t.length;if(1===arguments.length){for(;++o<s;)if(null!=(i=t[o])&&i>=i){n=r=i;break}for(;++o<s;)null!=(i=t[o])&&(n>i&&(n=i),i>r&&(r=i))}else{for(;++o<s;)if(null!=(i=e.call(t,t[o],o))&&i>=i){n=r=i;break}for(;++o<s;)null!=(i=e.call(t,t[o],o))&&(n>i&&(n=i),i>r&&(r=i))}return[n,r]},ns.sum=function(t,e){var n,i=0,o=t.length,s=-1;if(1===arguments.length)for(;++s<o;)r(n=+t[s])&&(i+=n);else for(;++s<o;)r(n=+e.call(t,t[s],s))&&(i+=n);return i},ns.mean=function(t,e){var n,o=0,s=t.length,a=-1,l=s;if(1===arguments.length)for(;++a<s;)r(n=i(t[a]))?o+=n:--l;else for(;++a<s;)r(n=i(e.call(t,t[a],a)))?o+=n:--l;return l?o/l:void 0},ns.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],o=n-i;return o?r+o*(t[i]-r):r},ns.median=function(t,e){var o,s=[],a=t.length,l=-1;if(1===arguments.length)for(;++l<a;)r(o=i(t[l]))&&s.push(o);else for(;++l<a;)r(o=i(e.call(t,t[l],l)))&&s.push(o);return s.length?ns.quantile(s.sort(n),.5):void 0},ns.variance=function(t,e){var n,o,s=t.length,a=0,l=0,u=-1,c=0;if(1===arguments.length)for(;++u<s;)r(n=i(t[u]))&&(o=n-a,a+=o/++c,l+=o*(n-a));else for(;++u<s;)r(n=i(e.call(t,t[u],u)))&&(o=n-a,a+=o/++c,l+=o*(n-a));return c>1?l/(c-1):void 0},ns.deviation=function(){var t=ns.variance.apply(this,arguments);return t?Math.sqrt(t):t};var fs=o(n);ns.bisectLeft=fs.left,ns.bisect=ns.bisectRight=fs.right,ns.bisector=function(t){return o(1===t.length?function(e,i){return n(t(e),i)}:t)},ns.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,2>o&&(e=0));for(var i,r,o=n-e;o;)r=Math.random()*o--|0,i=t[o+e],t[o+e]=t[r+e],t[r+e]=i;return t},ns.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},ns.pairs=function(t){for(var e,n=0,i=t.length-1,r=t[0],o=new Array(0>i?0:i);i>n;)o[n]=[e=r,r=t[++n]];return o},ns.zip=function(){if(!(i=arguments.length))return[];for(var t=-1,e=ns.min(arguments,s),n=new Array(e);++t<e;)for(var i,r=-1,o=n[t]=new Array(i);++r<i;)o[r]=arguments[r][t];return n},ns.transpose=function(t){return ns.zip.apply(ns,t)},ns.keys=function(t){var e=[];for(var n in t)e.push(n);return e},ns.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},ns.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},ns.merge=function(t){for(var e,n,i,r=t.length,o=-1,s=0;++o<r;)s+=t[o].length;for(n=new Array(s);--r>=0;)for(i=t[r],e=i.length;--e>=0;)n[--s]=i[e];return n};var ps=Math.abs;ns.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var i,r=[],o=a(ps(n)),s=-1;if(t*=o,e*=o,n*=o,0>n)for(;(i=t+n*++s)>e;)r.push(i/o);else for(;(i=t+n*++s)<e;)r.push(i/o);return r},ns.map=function(t,e){var n=new u;if(t instanceof u)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var i,r=-1,o=t.length;if(1===arguments.length)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e.call(t,i=t[r],r),i)}else for(var s in t)n.set(s,t[s]);return n};var gs="__proto__",ms="\x00";l(u,{has:d,get:function(t){return this._[c(t)]},set:function(t,e){return this._[c(t)]=e},remove:f,keys:p,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:h(e),value:this._[e]});return t},size:g,empty:m,forEach:function(t){for(var e in this._)t.call(this,h(e),this._[e])}}),ns.nest=function(){function t(e,s,a){if(a>=o.length)return i?i.call(r,s):n?s.sort(n):s;for(var l,c,h,d,f=-1,p=s.length,g=o[a++],m=new u;++f<p;)(d=m.get(l=g(c=s[f])))?d.push(c):m.set(l,[c]);return e?(c=e(),h=function(n,i){c.set(n,t(e,i,a))}):(c={},h=function(n,i){c[n]=t(e,i,a)}),m.forEach(h),c}function e(t,n){if(n>=o.length)return t;var i=[],r=s[n++];return t.forEach(function(t,r){i.push({key:t,values:e(r,n)})}),r?i.sort(function(t,e){return r(t.key,e.key)}):i}var n,i,r={},o=[],s=[];return r.map=function(e,n){return t(n,e,0)},r.entries=function(n){return e(t(ns.map,n,0),0)},r.key=function(t){return o.push(t),r},r.sortKeys=function(t){return s[o.length-1]=t,r},r.sortValues=function(t){return n=t,r},r.rollup=function(t){return i=t,r},r},ns.set=function(t){var e=new v;if(t)for(var n=0,i=t.length;i>n;++n)e.add(t[n]);return e},l(v,{has:d,add:function(t){return this._[c(t+="")]=!0,t},remove:f,values:p,size:g,empty:m,forEach:function(t){for(var e in this._)t.call(this,h(e))}}),ns.behavior={},ns.rebind=function(t,e){for(var n,i=1,r=arguments.length;++i<r;)t[n=arguments[i]]=b(t,e,e[n]);return t};var vs=["webkit","ms","moz","Moz","o","O"];ns.dispatch=function(){for(var t=new _,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=$(t);return t},_.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(n>=0&&(i=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},ns.event=null,ns.requote=function(t){return t.replace(ys,"\\$&")};var ys=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,bs={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},ws=function(t,e){return e.querySelector(t)},xs=function(t,e){return e.querySelectorAll(t)},_s=function(t,e){var n=t.matches||t[w(t,"matchesSelector")];return(_s=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(ws=function(t,e){return Sizzle(t,e)[0]||null},xs=Sizzle,_s=Sizzle.matchesSelector),ns.selection=function(){return ns.select(os.documentElement)};var $s=ns.selection.prototype=[];$s.select=function(t){var e,n,i,r,o=[];t=k(t);for(var s=-1,a=this.length;++s<a;){o.push(e=[]),e.parentNode=(i=this[s]).parentNode;for(var l=-1,u=i.length;++l<u;)(r=i[l])?(e.push(n=t.call(r,r.__data__,l,s)),n&&"__data__"in r&&(n.__data__=r.__data__)):e.push(null)}return S(o)},$s.selectAll=function(t){var e,n,i=[];t=D(t);for(var r=-1,o=this.length;++r<o;)for(var s=this[r],a=-1,l=s.length;++a<l;)(n=s[a])&&(i.push(e=rs(t.call(n,n.__data__,a,r))),e.parentNode=n);return S(i)};var Cs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ns.ns={prefix:Cs,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.slice(0,e),t=t.slice(e+1)),Cs.hasOwnProperty(n)?{space:Cs[n],local:t}:t}},$s.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=ns.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(T(e,t[e]));return this}return this.each(T(t,e))},$s.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=L(t)).length,r=-1;if(e=n.classList){for(;++r<i;)if(!e.contains(t[r]))return!1}else for(e=n.getAttribute("class");++r<i;)if(!M(t[r]).test(e))return!1;return!0}for(e in t)this.each(O(e,t[e]));return this}return this.each(O(t,e))},$s.style=function(t,n,i){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(n="");for(i in t)this.each(B(i,t[i],n));return this}if(2>r){var o=this.node();return e(o).getComputedStyle(o,null).getPropertyValue(t)}i=""}return this.each(B(t,n,i))},$s.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(I(e,t[e]));return this}return this.each(I(t,e))},$s.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},$s.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},$s.append=function(t){return t=R(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},$s.insert=function(t,e){return t=R(t),e=k(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},$s.remove=function(){return this.each(j)},$s.data=function(t,e){function n(t,n){var i,r,o,s=t.length,h=n.length,d=Math.min(s,h),f=new Array(h),p=new Array(h),g=new Array(s);if(e){var m,v=new u,y=new Array(s);for(i=-1;++i<s;)v.has(m=e.call(r=t[i],r.__data__,i))?g[i]=r:v.set(m,r),y[i]=m;for(i=-1;++i<h;)(r=v.get(m=e.call(n,o=n[i],i)))?r!==!0&&(f[i]=r,r.__data__=o):p[i]=N(o),v.set(m,!0);for(i=-1;++i<s;)v.get(y[i])!==!0&&(g[i]=t[i])}else{for(i=-1;++i<d;)r=t[i],o=n[i],r?(r.__data__=o,f[i]=r):p[i]=N(o);for(;h>i;++i)p[i]=N(n[i]);for(;s>i;++i)g[i]=t[i]}p.update=f,p.parentNode=f.parentNode=g.parentNode=t.parentNode,a.push(p),l.push(f),c.push(g)}var i,r,o=-1,s=this.length;if(!arguments.length){for(t=new Array(s=(i=this[0]).length);++o<s;)(r=i[o])&&(t[o]=r.__data__);return t}var a=H([]),l=S([]),c=S([]);if("function"==typeof t)for(;++o<s;)n(i=this[o],t.call(i,i.parentNode.__data__,o));else for(;++o<s;)n(i=this[o],t);return l.enter=function(){return a},l.exit=function(){return c},l},$s.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},$s.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=z(t));for(var o=0,s=this.length;s>o;o++){r.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var a=0,l=n.length;l>a;a++)(i=n[a])&&t.call(i,i.__data__,a,o)&&e.push(i)}return S(r)},$s.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],r=i.length-1,o=i[r];--r>=0;)(n=i[r])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},$s.sort=function(t){t=U.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},$s.each=function(t){return V(this,function(e,n,i){t.call(e,e.__data__,n,i)})},$s.call=function(t){var e=rs(arguments);return t.apply(e[0]=this,e),this},$s.empty=function(){return!this.node()},$s.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],i=0,r=n.length;r>i;i++){var o=n[i];if(o)return o}return null},$s.size=function(){var t=0;return V(this,function(){++t}),t};var As=[];ns.selection.enter=H,ns.selection.enter.prototype=As,As.append=$s.append,As.empty=$s.empty,As.node=$s.node,As.call=$s.call,As.size=$s.size,As.select=function(t){for(var e,n,i,r,o,s=[],a=-1,l=this.length;++a<l;){i=(r=this[a]).update,s.push(e=[]),e.parentNode=r.parentNode;for(var u=-1,c=r.length;++u<c;)(o=r[u])?(e.push(i[u]=n=t.call(r.parentNode,o.__data__,u,a)),n.__data__=o.__data__):e.push(null)}return S(s)},As.insert=function(t,e){return arguments.length<2&&(e=W(this)),$s.insert.call(this,t,e)},ns.select=function(e){var n;return"string"==typeof e?(n=[ws(e,os)],n.parentNode=os.documentElement):(n=[e],n.parentNode=t(e)),S([n])},ns.selectAll=function(t){var e;return"string"==typeof t?(e=rs(xs(t,os)),e.parentNode=os.documentElement):(e=t,e.parentNode=null),S([e])},$s.on=function(t,e,n){var i=arguments.length;if(3>i){if("string"!=typeof t){2>i&&(e=!1);for(n in t)this.each(Y(n,t[n],e));return this}if(2>i)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(Y(t,e,n))};var Es=ns.map({mouseenter:"mouseover",mouseleave:"mouseout"});os&&Es.forEach(function(t){"on"+t in os&&Es.remove(t)});var Ss,ks=0;ns.mouse=function(t){return G(t,A())};var Ds=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ns.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=A().changedTouches),e)for(var i,r=0,o=e.length;o>r;++r)if((i=e[r]).identifier===n)return G(t,i)},ns.behavior.drag=function(){function t(){this.on("mousedown.drag",o).on("touchstart.drag",s)}function n(t,e,n,o,s){return function(){function a(){var t,n,i=e(d,g);i&&(t=i[0]-b[0],n=i[1]-b[1],p|=t|n,b=i,f({type:"drag",x:i[0]+u[0],y:i[1]+u[1],dx:t,dy:n}))}function l(){e(d,g)&&(v.on(o+m,null).on(s+m,null),y(p&&ns.event.target===h),f({type:"dragend"}))}var u,c=this,h=ns.event.target,d=c.parentNode,f=i.of(c,arguments),p=0,g=t(),m=".drag"+(null==g?"":"-"+g),v=ns.select(n(h)).on(o+m,a).on(s+m,l),y=X(h),b=e(d,g);r?(u=r.apply(c,arguments),u=[u.x-b[0],u.y-b[1]]):u=[0,0],f({type:"dragstart"})}}var i=E(t,"drag","dragstart","dragend"),r=null,o=n(x,ns.mouse,e,"mousemove","mouseup"),s=n(J,ns.touch,y,"touchmove","touchend");return t.origin=function(e){return arguments.length?(r=e,t):r},ns.rebind(t,i,"on")},ns.touches=function(t,e){return arguments.length<2&&(e=A().touches),e?rs(e).map(function(e){var n=G(t,e);return n.identifier=e.identifier,n}):[]};var Ts=1e-6,Fs=Ts*Ts,Ms=Math.PI,Ls=2*Ms,Os=Ls-Ts,Ps=Ms/2,Bs=Ms/180,Is=180/Ms,Rs=Math.SQRT2,js=2,Ns=4;ns.interpolateZoom=function(t,e){function n(t){var e=t*y;if(v){var n=it(g),s=o/(js*d)*(n*rt(Rs*e+g)-nt(g));return[i+s*u,r+s*c,o*n/it(Rs*e+g)]}return[i+t*u,r+t*c,o*Math.exp(Rs*e)]}var i=t[0],r=t[1],o=t[2],s=e[0],a=e[1],l=e[2],u=s-i,c=a-r,h=u*u+c*c,d=Math.sqrt(h),f=(l*l-o*o+Ns*h)/(2*o*js*d),p=(l*l-o*o-Ns*h)/(2*l*js*d),g=Math.log(Math.sqrt(f*f+1)-f),m=Math.log(Math.sqrt(p*p+1)-p),v=m-g,y=(v||Math.log(l/o))/Rs;return n.duration=1e3*y,n},ns.behavior.zoom=function(){function t(t){t.on(F,h).on(Us+".zoom",f).on("dblclick.zoom",p).on(O,d)}function n(t){return[(t[0]-A.x)/A.k,(t[1]-A.y)/A.k]}function i(t){return[t[0]*A.k+A.x,t[1]*A.k+A.y]}function r(t){A.k=Math.max(k[0],Math.min(k[1],t))}function o(t,e){e=i(e),A.x+=t[0]-e[0],A.y+=t[1]-e[1]}function s(e,n,i,s){e.__chart__={x:A.x,y:A.y,k:A.k},r(Math.pow(2,s)),o(m=n,i),e=ns.select(e),D>0&&(e=e.transition().duration(D)),e.call(t.event)}function a(){x&&x.domain(w.range().map(function(t){return(t-A.x)/A.k}).map(w.invert)),$&&$.domain(_.range().map(function(t){return(t-A.y)/A.k}).map(_.invert))}function l(t){T++||t({type:"zoomstart"})}function u(t){a(),t({type:"zoom",scale:A.k,translate:[A.x,A.y]})}function c(t){--T||t({type:"zoomend"}),m=null}function h(){function t(){h=1,o(ns.mouse(r),f),u(a)}function i(){d.on(M,null).on(L,null),p(h&&ns.event.target===s),c(a)}var r=this,s=ns.event.target,a=P.of(r,arguments),h=0,d=ns.select(e(r)).on(M,t).on(L,i),f=n(ns.mouse(r)),p=X(r);Bl.call(r),l(a)}function d(){function t(){var t=ns.touches(p);return f=A.k,t.forEach(function(t){t.identifier in m&&(m[t.identifier]=n(t))}),t}function e(){var e=ns.event.target;ns.select(e).on(w,i).on(x,a),_.push(e);for(var n=ns.event.changedTouches,r=0,o=n.length;o>r;++r)m[n[r].identifier]=null;var l=t(),u=Date.now();if(1===l.length){if(500>u-b){var c=l[0];s(p,c,m[c.identifier],Math.floor(Math.log(A.k)/Math.LN2)+1),C()}b=u}else if(l.length>1){var c=l[0],h=l[1],d=c[0]-h[0],f=c[1]-h[1];v=d*d+f*f}}function i(){var t,e,n,i,s=ns.touches(p);Bl.call(p);for(var a=0,l=s.length;l>a;++a,
i=null)if(n=s[a],i=m[n.identifier]){if(e)break;t=n,e=i}if(i){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,h=v&&Math.sqrt(c/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+i[0])/2,(e[1]+i[1])/2],r(h*f)}b=null,o(t,e),u(g)}function a(){if(ns.event.touches.length){for(var e=ns.event.changedTouches,n=0,i=e.length;i>n;++n)delete m[e[n].identifier];for(var r in m)return void t()}ns.selectAll(_).on(y,null),$.on(F,h).on(O,d),E(),c(g)}var f,p=this,g=P.of(p,arguments),m={},v=0,y=".zoom-"+ns.event.changedTouches[0].identifier,w="touchmove"+y,x="touchend"+y,_=[],$=ns.select(p),E=X(p);e(),l(g),$.on(F,null).on(O,e)}function f(){var t=P.of(this,arguments);y?clearTimeout(y):(g=n(m=v||ns.mouse(this)),Bl.call(this),l(t)),y=setTimeout(function(){y=null,c(t)},50),C(),r(Math.pow(2,.002*zs())*A.k),o(m,g),u(t)}function p(){var t=ns.mouse(this),e=Math.log(A.k)/Math.LN2;s(this,t,n(t),ns.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var g,m,v,y,b,w,x,_,$,A={x:0,y:0,k:1},S=[960,500],k=Vs,D=250,T=0,F="mousedown.zoom",M="mousemove.zoom",L="mouseup.zoom",O="touchstart.zoom",P=E(t,"zoomstart","zoom","zoomend");return Us||(Us="onwheel"in os?(zs=function(){return-ns.event.deltaY*(ns.event.deltaMode?120:1)},"wheel"):"onmousewheel"in os?(zs=function(){return ns.event.wheelDelta},"mousewheel"):(zs=function(){return-ns.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=P.of(this,arguments),e=A;Ol?ns.select(this).transition().each("start.zoom",function(){A=this.__chart__||{x:0,y:0,k:1},l(t)}).tween("zoom:zoom",function(){var n=S[0],i=S[1],r=m?m[0]:n/2,o=m?m[1]:i/2,s=ns.interpolateZoom([(r-A.x)/A.k,(o-A.y)/A.k,n/A.k],[(r-e.x)/e.k,(o-e.y)/e.k,n/e.k]);return function(e){var i=s(e),a=n/i[2];this.__chart__=A={x:r-i[0]*a,y:o-i[1]*a,k:a},u(t)}}).each("interrupt.zoom",function(){c(t)}).each("end.zoom",function(){c(t)}):(this.__chart__=A,l(t),u(t),c(t))})},t.translate=function(e){return arguments.length?(A={x:+e[0],y:+e[1],k:A.k},a(),t):[A.x,A.y]},t.scale=function(e){return arguments.length?(A={x:A.x,y:A.y,k:+e},a(),t):A.k},t.scaleExtent=function(e){return arguments.length?(k=null==e?Vs:[+e[0],+e[1]],t):k},t.center=function(e){return arguments.length?(v=e&&[+e[0],+e[1]],t):v},t.size=function(e){return arguments.length?(S=e&&[+e[0],+e[1]],t):S},t.duration=function(e){return arguments.length?(D=+e,t):D},t.x=function(e){return arguments.length?(x=e,w=e.copy(),A={x:0,y:0,k:1},t):x},t.y=function(e){return arguments.length?($=e,_=e.copy(),A={x:0,y:0,k:1},t):$},ns.rebind(t,P,"on")};var zs,Us,Vs=[0,1/0];ns.color=st,st.prototype.toString=function(){return this.rgb()+""},ns.hsl=at;var Hs=at.prototype=new st;Hs.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new at(this.h,this.s,this.l/t)},Hs.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new at(this.h,this.s,t*this.l)},Hs.rgb=function(){return lt(this.h,this.s,this.l)},ns.hcl=ut;var Ws=ut.prototype=new st;Ws.brighter=function(t){return new ut(this.h,this.c,Math.min(100,this.l+Ys*(arguments.length?t:1)))},Ws.darker=function(t){return new ut(this.h,this.c,Math.max(0,this.l-Ys*(arguments.length?t:1)))},Ws.rgb=function(){return ct(this.h,this.c,this.l).rgb()},ns.lab=ht;var Ys=18,qs=.95047,Ks=1,Xs=1.08883,Gs=ht.prototype=new st;Gs.brighter=function(t){return new ht(Math.min(100,this.l+Ys*(arguments.length?t:1)),this.a,this.b)},Gs.darker=function(t){return new ht(Math.max(0,this.l-Ys*(arguments.length?t:1)),this.a,this.b)},Gs.rgb=function(){return dt(this.l,this.a,this.b)},ns.rgb=vt;var Js=vt.prototype=new st;Js.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b,r=30;return e||n||i?(e&&r>e&&(e=r),n&&r>n&&(n=r),i&&r>i&&(i=r),new vt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,i/t))):new vt(r,r,r)},Js.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new vt(t*this.r,t*this.g,t*this.b)},Js.hsl=function(){return _t(this.r,this.g,this.b)},Js.toString=function(){return"#"+wt(this.r)+wt(this.g)+wt(this.b)};var Zs=ns.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Zs.forEach(function(t,e){Zs.set(t,yt(e))}),ns.functor=Et,ns.xhr=St(y),ns.dsv=function(t,e){function n(t,n,o){arguments.length<3&&(o=n,n=null);var s=kt(t,e,null==n?i:r(n),o);return s.row=function(t){return arguments.length?s.response(null==(n=t)?i:r(t)):n},s}function i(t){return n.parse(t.responseText)}function r(t){return function(e){return n.parse(e.responseText,t)}}function o(e){return e.map(s).join(t)}function s(t){return a.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var a=new RegExp('["'+t+"\n]"),l=t.charCodeAt(0);return n.parse=function(t,e){var i;return n.parseRows(t,function(t,n){if(i)return i(t,n-1);var r=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");i=e?function(t,n){return e(r(t),n)}:r})},n.parseRows=function(t,e){function n(){if(c>=u)return s;if(r)return r=!1,o;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<u;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}c=n+2;var i=t.charCodeAt(n+1);return 13===i?(r=!0,10===t.charCodeAt(n+2)&&++c):10===i&&(r=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;u>c;){var i=t.charCodeAt(c++),a=1;if(10===i)r=!0;else if(13===i)r=!0,10===t.charCodeAt(c)&&(++c,++a);else if(i!==l)continue;return t.slice(e,c-a)}return t.slice(e)}for(var i,r,o={},s={},a=[],u=t.length,c=0,h=0;(i=n())!==s;){for(var d=[];i!==o&&i!==s;)d.push(i),i=n();e&&null==(d=e(d,h++))||a.push(d)}return a},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var i=new v,r=[];return e.forEach(function(t){for(var e in t)i.has(e)||r.push(i.add(e))}),[r.map(s).join(t)].concat(e.map(function(e){return r.map(function(t){return s(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(o).join("\n")},n},ns.csv=ns.dsv(",","text/csv"),ns.tsv=ns.dsv("	","text/tab-separated-values");var Qs,ta,ea,na,ia,ra=this[w(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};ns.timer=function(t,e,n){var i=arguments.length;2>i&&(e=0),3>i&&(n=Date.now());var r=n+e,o={c:t,t:r,f:!1,n:null};ta?ta.n=o:Qs=o,ta=o,ea||(na=clearTimeout(na),ea=1,ra(Ft))},ns.timer.flush=function(){Mt(),Lt()},ns.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var oa=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(Pt);ns.formatPrefix=function(t,e){var n=0;return t&&(0>t&&(t*=-1),e&&(t=ns.round(t,Ot(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),oa[8+n/3]};var sa=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,aa=ns.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=ns.round(t,Ot(t,e))).toFixed(Math.max(0,Math.min(20,Ot(t*(1+1e-15),e))))}}),la=ns.time={},ua=Date;Rt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ca.setUTCDate.apply(this._,arguments)},setDay:function(){ca.setUTCDay.apply(this._,arguments)},setFullYear:function(){ca.setUTCFullYear.apply(this._,arguments)},setHours:function(){ca.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ca.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ca.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ca.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ca.setUTCSeconds.apply(this._,arguments)},setTime:function(){ca.setTime.apply(this._,arguments)}};var ca=Date.prototype;la.year=jt(function(t){return t=la.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),la.years=la.year.range,la.years.utc=la.year.utc.range,la.day=jt(function(t){var e=new ua(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),la.days=la.day.range,la.days.utc=la.day.utc.range,la.dayOfYear=function(t){var e=la.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=la[t]=jt(function(t){return(t=la.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=la.year(t).getDay();return Math.floor((la.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});la[t+"s"]=n.range,la[t+"s"].utc=n.utc.range,la[t+"OfYear"]=function(t){var n=la.year(t).getDay();return Math.floor((la.dayOfYear(t)+(n+e)%7)/7)}}),la.week=la.sunday,la.weeks=la.sunday.range,la.weeks.utc=la.sunday.utc.range,la.weekOfYear=la.sundayOfYear;var ha={"-":"",_:" ",0:"0"},da=/^\s*\d+/,fa=/^%/;ns.locale=function(t){return{numberFormat:Bt(t),timeFormat:zt(t)}};var pa=ns.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ns.format=pa.numberFormat,ns.geo={},le.prototype={s:0,t:0,add:function(t){ue(t,this.t,ga),ue(ga.s,this.s,this),this.s?this.t+=ga.t:this.s=ga.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ga=new le;ns.geo.stream=function(t,e){t&&ma.hasOwnProperty(t.type)?ma[t.type](t,e):ce(t,e)};var ma={Feature:function(t,e){ce(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)ce(n[i].geometry,e)}},va={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){he(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)he(n[i],e,0)},Polygon:function(t,e){de(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)de(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)ce(n[i],e)}};ns.geo.area=function(t){return ya=0,ns.geo.stream(t,wa),ya};var ya,ba=new le,wa={sphere:function(){ya+=4*Ms},point:x,lineStart:x,lineEnd:x,polygonStart:function(){ba.reset(),wa.lineStart=fe},polygonEnd:function(){var t=2*ba;ya+=0>t?4*Ms+t:t,wa.lineStart=wa.lineEnd=wa.point=x}};ns.geo.bounds=function(){function t(t,e){b.push(w=[c=t,d=t]),h>e&&(h=e),e>f&&(f=e)}function e(e,n){var i=pe([e*Bs,n*Bs]);if(v){var r=me(v,i),o=[r[1],-r[0],0],s=me(o,r);be(s),s=we(s);var l=e-p,u=l>0?1:-1,g=s[0]*Is*u,m=ps(l)>180;if(m^(g>u*p&&u*e>g)){var y=s[1]*Is;y>f&&(f=y)}else if(g=(g+360)%360-180,m^(g>u*p&&u*e>g)){var y=-s[1]*Is;h>y&&(h=y)}else h>n&&(h=n),n>f&&(f=n);m?p>e?a(c,e)>a(c,d)&&(d=e):a(e,d)>a(c,d)&&(c=e):d>=c?(c>e&&(c=e),e>d&&(d=e)):e>p?a(c,e)>a(c,d)&&(d=e):a(e,d)>a(c,d)&&(c=e)}else t(e,n);v=i,p=e}function n(){x.point=e}function i(){w[0]=c,w[1]=d,x.point=t,v=null}function r(t,n){if(v){var i=t-p;y+=ps(i)>180?i+(i>0?360:-360):i}else g=t,m=n;wa.point(t,n),e(t,n)}function o(){wa.lineStart()}function s(){r(g,m),wa.lineEnd(),ps(y)>Ts&&(c=-(d=180)),w[0]=c,w[1]=d,v=null}function a(t,e){return(e-=t)<0?e+360:e}function l(t,e){return t[0]-e[0]}function u(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,h,d,f,p,g,m,v,y,b,w,x={point:t,lineStart:n,lineEnd:i,polygonStart:function(){x.point=r,x.lineStart=o,x.lineEnd=s,y=0,wa.polygonStart()},polygonEnd:function(){wa.polygonEnd(),x.point=t,x.lineStart=n,x.lineEnd=i,0>ba?(c=-(d=180),h=-(f=90)):y>Ts?f=90:-Ts>y&&(h=-90),w[0]=c,w[1]=d}};return function(t){f=d=-(c=h=1/0),b=[],ns.geo.stream(t,x);var e=b.length;if(e){b.sort(l);for(var n,i=1,r=b[0],o=[r];e>i;++i)n=b[i],u(n[0],r)||u(n[1],r)?(a(r[0],n[1])>a(r[0],r[1])&&(r[1]=n[1]),a(n[0],r[1])>a(r[0],r[1])&&(r[0]=n[0])):o.push(r=n);for(var s,n,p=-1/0,e=o.length-1,i=0,r=o[e];e>=i;r=n,++i)n=o[i],(s=a(r[1],n[0]))>p&&(p=s,c=n[0],d=r[1])}return b=w=null,1/0===c||1/0===h?[[NaN,NaN],[NaN,NaN]]:[[c,h],[d,f]]}}(),ns.geo.centroid=function(t){xa=_a=$a=Ca=Aa=Ea=Sa=ka=Da=Ta=Fa=0,ns.geo.stream(t,Ma);var e=Da,n=Ta,i=Fa,r=e*e+n*n+i*i;return Fs>r&&(e=Ea,n=Sa,i=ka,Ts>_a&&(e=$a,n=Ca,i=Aa),r=e*e+n*n+i*i,Fs>r)?[NaN,NaN]:[Math.atan2(n,e)*Is,et(i/Math.sqrt(r))*Is]};var xa,_a,$a,Ca,Aa,Ea,Sa,ka,Da,Ta,Fa,Ma={sphere:x,point:_e,lineStart:Ce,lineEnd:Ae,polygonStart:function(){Ma.lineStart=Ee},polygonEnd:function(){Ma.lineStart=Ce}},La=Me(ke,Be,Re,[-Ms,-Ms/2]),Oa=1e9;ns.geo.clipExtent=function(){var t,e,n,i,r,o,s={stream:function(t){return r&&(r.valid=!1),r=o(t),r.valid=!0,r},extent:function(a){return arguments.length?(o=Ue(t=+a[0][0],e=+a[0][1],n=+a[1][0],i=+a[1][1]),r&&(r.valid=!1,r=null),s):[[t,e],[n,i]]}};return s.extent([[0,0],[960,500]])},(ns.geo.conicEqualArea=function(){return Ve(He)}).raw=He,ns.geo.albers=function(){return ns.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ns.geo.albersUsa=function(){function t(t){var o=t[0],s=t[1];return e=null,n(o,s),e||(i(o,s),e)||r(o,s),e}var e,n,i,r,o=ns.geo.albers(),s=ns.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=ns.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=o.scale(),n=o.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&.234>r&&i>=-.425&&-.214>i?s:r>=.166&&.234>r&&i>=-.214&&-.115>i?a:o).invert(t)},t.stream=function(t){var e=o.stream(t),n=s.stream(t),i=a.stream(t);return{point:function(t,r){e.point(t,r),n.point(t,r),i.point(t,r)},sphere:function(){e.sphere(),n.sphere(),i.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),i.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},t.precision=function(e){return arguments.length?(o.precision(e),s.precision(e),a.precision(e),t):o.precision()},t.scale=function(e){return arguments.length?(o.scale(e),s.scale(.35*e),a.scale(e),t.translate(o.translate())):o.scale()},t.translate=function(e){if(!arguments.length)return o.translate();var u=o.scale(),c=+e[0],h=+e[1];return n=o.translate(e).clipExtent([[c-.455*u,h-.238*u],[c+.455*u,h+.238*u]]).stream(l).point,i=s.translate([c-.307*u,h+.201*u]).clipExtent([[c-.425*u+Ts,h+.12*u+Ts],[c-.214*u-Ts,h+.234*u-Ts]]).stream(l).point,r=a.translate([c-.205*u,h+.212*u]).clipExtent([[c-.214*u+Ts,h+.166*u+Ts],[c-.115*u-Ts,h+.234*u-Ts]]).stream(l).point,t},t.scale(1070)};var Pa,Ba,Ia,Ra,ja,Na,za={point:x,lineStart:x,lineEnd:x,polygonStart:function(){Ba=0,za.lineStart=We},polygonEnd:function(){za.lineStart=za.lineEnd=za.point=x,Pa+=ps(Ba/2)}},Ua={point:Ye,lineStart:x,lineEnd:x,polygonStart:x,polygonEnd:x},Va={point:Xe,lineStart:Ge,lineEnd:Je,polygonStart:function(){Va.lineStart=Ze},polygonEnd:function(){Va.point=Xe,Va.lineStart=Ge,Va.lineEnd=Je}};ns.geo.path=function(){function t(t){return t&&("function"==typeof a&&o.pointRadius(+a.apply(this,arguments)),s&&s.valid||(s=r(o)),ns.geo.stream(t,s)),o.result()}function e(){return s=null,t}var n,i,r,o,s,a=4.5;return t.area=function(t){return Pa=0,ns.geo.stream(t,r(za)),Pa},t.centroid=function(t){return $a=Ca=Aa=Ea=Sa=ka=Da=Ta=Fa=0,ns.geo.stream(t,r(Va)),Fa?[Da/Fa,Ta/Fa]:ka?[Ea/ka,Sa/ka]:Aa?[$a/Aa,Ca/Aa]:[NaN,NaN]},t.bounds=function(t){return ja=Na=-(Ia=Ra=1/0),ns.geo.stream(t,r(Ua)),[[Ia,Ra],[ja,Na]]},t.projection=function(t){return arguments.length?(r=(n=t)?t.stream||en(t):y,e()):n},t.context=function(t){return arguments.length?(o=null==(i=t)?new qe:new Qe(t),"function"!=typeof a&&o.pointRadius(a),e()):i},t.pointRadius=function(e){return arguments.length?(a="function"==typeof e?e:(o.pointRadius(+e),+e),t):a},t.projection(ns.geo.albersUsa()).context(null)},ns.geo.transform=function(t){return{stream:function(e){var n=new nn(e);for(var i in t)n[i]=t[i];return n}}},nn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ns.geo.projection=on,ns.geo.projectionMutator=sn,(ns.geo.equirectangular=function(){return on(ln)}).raw=ln.invert=ln,ns.geo.rotation=function(t){function e(e){return e=t(e[0]*Bs,e[1]*Bs),e[0]*=Is,e[1]*=Is,e}return t=cn(t[0]%360*Bs,t[1]*Bs,t.length>2?t[2]*Bs:0),e.invert=function(e){return e=t.invert(e[0]*Bs,e[1]*Bs),e[0]*=Is,e[1]*=Is,e},e},un.invert=ln,ns.geo.circle=function(){function t(){var t="function"==typeof i?i.apply(this,arguments):i,e=cn(-t[0]*Bs,-t[1]*Bs,0).invert,r=[];return n(null,null,1,{point:function(t,n){r.push(t=e(t,n)),t[0]*=Is,t[1]*=Is}}),{type:"Polygon",coordinates:[r]}}var e,n,i=[0,0],r=6;return t.origin=function(e){return arguments.length?(i=e,t):i},t.angle=function(i){return arguments.length?(n=pn((e=+i)*Bs,r*Bs),t):e},t.precision=function(i){return arguments.length?(n=pn(e*Bs,(r=+i)*Bs),t):r},t.angle(90)},ns.geo.distance=function(t,e){var n,i=(e[0]-t[0])*Bs,r=t[1]*Bs,o=e[1]*Bs,s=Math.sin(i),a=Math.cos(i),l=Math.sin(r),u=Math.cos(r),c=Math.sin(o),h=Math.cos(o);return Math.atan2(Math.sqrt((n=h*s)*n+(n=u*c-l*h*a)*n),l*c+u*h*a)},ns.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return ns.range(Math.ceil(o/m)*m,r,m).map(d).concat(ns.range(Math.ceil(u/v)*v,l,v).map(f)).concat(ns.range(Math.ceil(i/p)*p,n,p).filter(function(t){return ps(t%m)>Ts}).map(c)).concat(ns.range(Math.ceil(a/g)*g,s,g).filter(function(t){return ps(t%v)>Ts}).map(h))}var n,i,r,o,s,a,l,u,c,h,d,f,p=10,g=p,m=90,v=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[d(o).concat(f(l).slice(1),d(r).reverse().slice(1),f(u).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(o=+e[0][0],r=+e[1][0],u=+e[0][1],l=+e[1][1],o>r&&(e=o,o=r,r=e),u>l&&(e=u,u=l,l=e),t.precision(y)):[[o,u],[r,l]]},t.minorExtent=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],a=+e[0][1],s=+e[1][1],i>n&&(e=i,i=n,n=e),a>s&&(e=a,a=s,s=e),t.precision(y)):[[i,a],[n,s]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(m=+e[0],v=+e[1],t):[m,v]},t.minorStep=function(e){return arguments.length?(p=+e[0],g=+e[1],t):[p,g]},t.precision=function(e){return arguments.length?(y=+e,c=mn(a,s,90),h=vn(i,n,y),d=mn(u,l,90),f=vn(o,r,y),t):y},t.majorExtent([[-180,-90+Ts],[180,90-Ts]]).minorExtent([[-180,-80-Ts],[180,80+Ts]])},ns.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||i.apply(this,arguments),n||r.apply(this,arguments)]}}var e,n,i=yn,r=bn;return t.distance=function(){return ns.geo.distance(e||i.apply(this,arguments),n||r.apply(this,arguments))},t.source=function(n){return arguments.length?(i=n,e="function"==typeof n?null:n,t):i},t.target=function(e){return arguments.length?(r=e,n="function"==typeof e?null:e,t):r},t.precision=function(){return arguments.length?t:0},t},ns.geo.interpolate=function(t,e){return wn(t[0]*Bs,t[1]*Bs,e[0]*Bs,e[1]*Bs)},ns.geo.length=function(t){return Ha=0,ns.geo.stream(t,Wa),Ha};var Ha,Wa={sphere:x,point:x,lineStart:xn,lineEnd:x,polygonStart:x,polygonEnd:x},Ya=_n(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(ns.geo.azimuthalEqualArea=function(){return on(Ya)}).raw=Ya;var qa=_n(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},y);(ns.geo.azimuthalEquidistant=function(){return on(qa)}).raw=qa,(ns.geo.conicConformal=function(){return Ve($n)}).raw=$n,(ns.geo.conicEquidistant=function(){return Ve(Cn)}).raw=Cn;var Ka=_n(function(t){return 1/t},Math.atan);(ns.geo.gnomonic=function(){return on(Ka)}).raw=Ka,An.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Ps]},(ns.geo.mercator=function(){return En(An)}).raw=An;var Xa=_n(function(){return 1},Math.asin);(ns.geo.orthographic=function(){return on(Xa)}).raw=Xa;var Ga=_n(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(ns.geo.stereographic=function(){return on(Ga)}).raw=Ga,Sn.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Ps]},(ns.geo.transverseMercator=function(){var t=En(Sn),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=Sn,ns.geom={},ns.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,r=Et(n),o=Et(i),s=t.length,a=[],l=[];for(e=0;s>e;e++)a.push([+r.call(this,t[e],e),+o.call(this,t[e],e),e]);for(a.sort(Fn),e=0;s>e;e++)l.push([a[e][0],-a[e][1]]);var u=Tn(a),c=Tn(l),h=c[0]===u[0],d=c[c.length-1]===u[u.length-1],f=[];for(e=u.length-1;e>=0;--e)f.push(t[a[u[e]][2]]);for(e=+h;e<c.length-d;++e)f.push(t[a[c[e]][2]]);return f}var n=kn,i=Dn;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e)},ns.geom.polygon=function(t){return bs(t,Ja),t};var Ja=ns.geom.polygon.prototype=[];Ja.area=function(){for(var t,e=-1,n=this.length,i=this[n-1],r=0;++e<n;)t=i,i=this[e],r+=t[1]*i[0]-t[0]*i[1];return.5*r},Ja.centroid=function(t){var e,n,i=-1,r=this.length,o=0,s=0,a=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++i<r;)e=a,a=this[i],n=e[0]*a[1]-a[0]*e[1],o+=(e[0]+a[0])*n,s+=(e[1]+a[1])*n;return[o*t,s*t]},Ja.clip=function(t){for(var e,n,i,r,o,s,a=On(t),l=-1,u=this.length-On(this),c=this[u-1];++l<u;){for(e=t.slice(),t.length=0,r=this[l],o=e[(i=e.length-a)-1],n=-1;++n<i;)s=e[n],Mn(s,c,r)?(Mn(o,c,r)||t.push(Ln(o,s,c,r)),t.push(s)):Mn(o,c,r)&&t.push(Ln(o,s,c,r)),o=s;a&&t.push(t[0]),c=r}return t};var Za,Qa,tl,el,nl,il=[],rl=[];Un.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(Hn),e.length},ti.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ei.prototype={insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=oi(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)i=n.U,n===i.L?(r=i.R,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(ii(this,n),t=n,n=t.U),n.C=!1,i.C=!0,ri(this,i))):(r=i.L,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(ri(this,n),t=n,n=t.U),n.C=!1,i.C=!0,ii(this,i))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,s=t.R;if(n=o?s?oi(s):o:s,r?r.L===t?r.L=n:r.R=n:this._=n,o&&s?(i=n.C,n.C=t.C,n.L=o,o.U=n,n!==s?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=s,s.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===r.L){if(e=r.R,e.C&&(e.C=!1,r.C=!0,ii(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ri(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,ii(this,r),t=this._;break}}else if(e=r.L,e.C&&(e.C=!1,r.C=!0,ri(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ii(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,ri(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}},ns.geom.voronoi=function(t){function e(t){var e=new Array(t.length),i=a[0][0],r=a[0][1],o=a[1][0],s=a[1][1];return si(n(t),a).cells.forEach(function(n,a){var l=n.edges,u=n.site,c=e[a]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):u.x>=i&&u.x<=o&&u.y>=r&&u.y<=s?[[i,s],[o,s],[o,r],[i,r]]:[];c.point=t[a]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(o(t,e)/Ts)*Ts,y:Math.round(s(t,e)/Ts)*Ts,i:e}})}var i=kn,r=Dn,o=i,s=r,a=ol;return t?e(t):(e.links=function(t){return si(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return si(n(t)).cells.forEach(function(n,i){for(var r,o,s=n.site,a=n.edges.sort(Hn),l=-1,u=a.length,c=a[u-1].edge,h=c.l===s?c.r:c.l;++l<u;)r=c,o=h,c=a[l].edge,h=c.l===s?c.r:c.l,i<o.i&&i<h.i&&li(s,o,h)<0&&e.push([t[i],t[o.i],t[h.i]])}),e},e.x=function(t){return arguments.length?(o=Et(i=t),e):i},e.y=function(t){return arguments.length?(s=Et(r=t),e):r},e.clipExtent=function(t){return arguments.length?(a=null==t?ol:t,e):a===ol?null:a},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):a===ol?null:a&&a[1]},e)};var ol=[[-1e6,-1e6],[1e6,1e6]];ns.geom.delaunay=function(t){return ns.geom.voronoi().triangles(t)},ns.geom.quadtree=function(t,e,n,i,r){function o(t){function o(t,e,n,i,r,o,s,a){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(ps(l-n)+ps(c-i)<.01)u(t,e,n,i,r,o,s,a);else{var h=t.point;t.x=t.y=t.point=null,u(t,h,l,c,r,o,s,a),u(t,e,n,i,r,o,s,a)}else t.x=n,t.y=i,t.point=e}else u(t,e,n,i,r,o,s,a)}function u(t,e,n,i,r,s,a,l){var u=.5*(r+a),c=.5*(s+l),h=n>=u,d=i>=c,f=d<<1|h;t.leaf=!1,t=t.nodes[f]||(t.nodes[f]=hi()),h?r=u:a=u,d?s=c:l=c,o(t,e,n,i,r,s,a,l)}var c,h,d,f,p,g,m,v,y,b=Et(a),w=Et(l);if(null!=e)g=e,m=n,v=i,y=r;else if(v=y=-(g=m=1/0),h=[],d=[],p=t.length,s)for(f=0;p>f;++f)c=t[f],c.x<g&&(g=c.x),c.y<m&&(m=c.y),c.x>v&&(v=c.x),c.y>y&&(y=c.y),h.push(c.x),d.push(c.y);else for(f=0;p>f;++f){var x=+b(c=t[f],f),_=+w(c,f);g>x&&(g=x),m>_&&(m=_),x>v&&(v=x),_>y&&(y=_),h.push(x),d.push(_)}var $=v-g,C=y-m;$>C?y=m+$:v=g+C;var A=hi();if(A.add=function(t){o(A,t,+b(t,++f),+w(t,f),g,m,v,y)},A.visit=function(t){di(t,A,g,m,v,y)},A.find=function(t){return fi(A,t[0],t[1],g,m,v,y)},f=-1,null==e){for(;++f<p;)o(A,t[f],h[f],d[f],g,m,v,y);--f}else t.forEach(A.add);return h=d=t=c=null,A}var s,a=kn,l=Dn;return(s=arguments.length)?(a=ui,l=ci,3===s&&(r=n,i=e,n=e=0),o(t)):(o.x=function(t){return arguments.length?(a=t,o):a},o.y=function(t){return arguments.length?(l=t,o):l},o.extent=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),o):null==e?null:[[e,n],[i,r]]},o.size=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=n=0,i=+t[0],r=+t[1]),o):null==e?null:[i-e,r-n]},o)},ns.interpolateRgb=pi,ns.interpolateObject=gi,ns.interpolateNumber=mi,ns.interpolateString=vi;var sl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,al=new RegExp(sl.source,"g");ns.interpolate=yi,ns.interpolators=[function(t,e){var n=typeof e;return("string"===n?Zs.has(e)||/^(#|rgb\(|hsl\()/.test(e)?pi:vi:e instanceof st?pi:Array.isArray(e)?bi:"object"===n&&isNaN(e)?gi:mi)(t,e)}],ns.interpolateArray=bi;var ll=function(){return y},ul=ns.map({linear:ll,poly:Ei,quad:function(){return $i},cubic:function(){return Ci},sin:function(){return Si},exp:function(){return ki},circle:function(){return Di},elastic:Ti,back:Fi,bounce:function(){return Mi}}),cl=ns.map({"in":y,out:xi,"in-out":_i,"out-in":function(t){return _i(xi(t))}});ns.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,i=e>=0?t.slice(e+1):"in";return n=ul.get(n)||ll,i=cl.get(i)||y,wi(i(n.apply(null,is.call(arguments,1))))},ns.interpolateHcl=Li,ns.interpolateHsl=Oi,ns.interpolateLab=Pi,ns.interpolateRound=Bi,ns.transform=function(t){var e=os.createElementNS(ns.ns.prefix.svg,"g");return(ns.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Ii(n?n.matrix:hl)})(t)},Ii.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var hl={a:1,b:0,c:0,d:1,e:0,f:0};ns.interpolateTransform=zi,ns.layout={},ns.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push(Hi(t[n]));return e}},ns.layout.chord=function(){function t(){var t,u,h,d,f,p={},g=[],m=ns.range(o),v=[];for(n=[],i=[],t=0,d=-1;++d<o;){for(u=0,f=-1;++f<o;)u+=r[d][f];g.push(u),v.push(ns.range(o)),t+=u}for(s&&m.sort(function(t,e){return s(g[t],g[e])}),a&&v.forEach(function(t,e){t.sort(function(t,n){return a(r[e][t],r[e][n])})}),t=(Ls-c*o)/t,u=0,d=-1;++d<o;){for(h=u,f=-1;++f<o;){var y=m[d],b=v[y][f],w=r[y][b],x=u,_=u+=w*t;p[y+"-"+b]={index:y,subindex:b,startAngle:x,endAngle:_,value:w}}i[y]={index:y,startAngle:h,endAngle:u,value:(u-h)/t},u+=c}for(d=-1;++d<o;)for(f=d-1;++f<o;){var $=p[d+"-"+f],C=p[f+"-"+d];($.value||C.value)&&n.push($.value<C.value?{source:C,target:$}:{source:$,target:C})}l&&e()}function e(){n.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2);
})}var n,i,r,o,s,a,l,u={},c=0;return u.matrix=function(t){return arguments.length?(o=(r=t)&&r.length,n=i=null,u):r},u.padding=function(t){return arguments.length?(c=t,n=i=null,u):c},u.sortGroups=function(t){return arguments.length?(s=t,n=i=null,u):s},u.sortSubgroups=function(t){return arguments.length?(a=t,n=null,u):a},u.sortChords=function(t){return arguments.length?(l=t,n&&e(),u):l},u.chords=function(){return n||t(),n},u.groups=function(){return i||t(),i},u},ns.layout.force=function(){function t(t){return function(e,n,i,r){if(e.point!==t){var o=e.cx-t.x,s=e.cy-t.y,a=r-n,l=o*o+s*s;if(l>a*a/m){if(p>l){var u=e.charge/l;t.px-=o*u,t.py-=s*u}return!0}if(e.point&&l&&p>l){var u=e.pointCharge/l;t.px-=o*u,t.py-=s*u}}return!e.charge}}function e(t){t.px=ns.event.x,t.py=ns.event.y,a.resume()}var n,i,r,o,s,a={},l=ns.dispatch("start","tick","end"),u=[1,1],c=.9,h=dl,d=fl,f=-30,p=pl,g=.1,m=.64,v=[],b=[];return a.tick=function(){if((i*=.99)<.005)return l.end({type:"end",alpha:i=0}),!0;var e,n,a,h,d,p,m,y,w,x=v.length,_=b.length;for(n=0;_>n;++n)a=b[n],h=a.source,d=a.target,y=d.x-h.x,w=d.y-h.y,(p=y*y+w*w)&&(p=i*o[n]*((p=Math.sqrt(p))-r[n])/p,y*=p,w*=p,d.x-=y*(m=h.weight/(d.weight+h.weight)),d.y-=w*m,h.x+=y*(m=1-m),h.y+=w*m);if((m=i*g)&&(y=u[0]/2,w=u[1]/2,n=-1,m))for(;++n<x;)a=v[n],a.x+=(y-a.x)*m,a.y+=(w-a.y)*m;if(f)for(Ji(e=ns.geom.quadtree(v),i,s),n=-1;++n<x;)(a=v[n]).fixed||e.visit(t(a));for(n=-1;++n<x;)a=v[n],a.fixed?(a.x=a.px,a.y=a.py):(a.x-=(a.px-(a.px=a.x))*c,a.y-=(a.py-(a.py=a.y))*c);l.tick({type:"tick",alpha:i})},a.nodes=function(t){return arguments.length?(v=t,a):v},a.links=function(t){return arguments.length?(b=t,a):b},a.size=function(t){return arguments.length?(u=t,a):u},a.linkDistance=function(t){return arguments.length?(h="function"==typeof t?t:+t,a):h},a.distance=a.linkDistance,a.linkStrength=function(t){return arguments.length?(d="function"==typeof t?t:+t,a):d},a.friction=function(t){return arguments.length?(c=+t,a):c},a.charge=function(t){return arguments.length?(f="function"==typeof t?t:+t,a):f},a.chargeDistance=function(t){return arguments.length?(p=t*t,a):Math.sqrt(p)},a.gravity=function(t){return arguments.length?(g=+t,a):g},a.theta=function(t){return arguments.length?(m=t*t,a):Math.sqrt(m)},a.alpha=function(t){return arguments.length?(t=+t,i?i=t>0?t:0:t>0&&(l.start({type:"start",alpha:i=t}),ns.timer(a.tick)),a):i},a.start=function(){function t(t,i){if(!n){for(n=new Array(l),a=0;l>a;++a)n[a]=[];for(a=0;c>a;++a){var r=b[a];n[r.source.index].push(r.target),n[r.target.index].push(r.source)}}for(var o,s=n[e],a=-1,u=s.length;++a<u;)if(!isNaN(o=s[a][t]))return o;return Math.random()*i}var e,n,i,l=v.length,c=b.length,p=u[0],g=u[1];for(e=0;l>e;++e)(i=v[e]).index=e,i.weight=0;for(e=0;c>e;++e)i=b[e],"number"==typeof i.source&&(i.source=v[i.source]),"number"==typeof i.target&&(i.target=v[i.target]),++i.source.weight,++i.target.weight;for(e=0;l>e;++e)i=v[e],isNaN(i.x)&&(i.x=t("x",p)),isNaN(i.y)&&(i.y=t("y",g)),isNaN(i.px)&&(i.px=i.x),isNaN(i.py)&&(i.py=i.y);if(r=[],"function"==typeof h)for(e=0;c>e;++e)r[e]=+h.call(this,b[e],e);else for(e=0;c>e;++e)r[e]=h;if(o=[],"function"==typeof d)for(e=0;c>e;++e)o[e]=+d.call(this,b[e],e);else for(e=0;c>e;++e)o[e]=d;if(s=[],"function"==typeof f)for(e=0;l>e;++e)s[e]=+f.call(this,v[e],e);else for(e=0;l>e;++e)s[e]=f;return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){return n||(n=ns.behavior.drag().origin(y).on("dragstart.force",qi).on("drag.force",e).on("dragend.force",Ki)),arguments.length?void this.on("mouseover.force",Xi).on("mouseout.force",Gi).call(n):n},ns.rebind(a,l,"on")};var dl=20,fl=1,pl=1/0;ns.layout.hierarchy=function(){function t(r){var o,s=[r],a=[];for(r.depth=0;null!=(o=s.pop());)if(a.push(o),(u=n.call(t,o,o.depth))&&(l=u.length)){for(var l,u,c;--l>=0;)s.push(c=u[l]),c.parent=o,c.depth=o.depth+1;i&&(o.value=0),o.children=u}else i&&(o.value=+i.call(t,o,o.depth)||0),delete o.children;return tr(r,function(t){var n,r;e&&(n=t.children)&&n.sort(e),i&&(r=t.parent)&&(r.value+=t.value)}),a}var e=ir,n=er,i=nr;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(i=e,t):i},t.revalue=function(e){return i&&(Qi(e,function(t){t.children&&(t.value=0)}),tr(e,function(e){var n;e.children||(e.value=+i.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},ns.layout.partition=function(){function t(e,n,i,r){var o=e.children;if(e.x=n,e.y=e.depth*r,e.dx=i,e.dy=r,o&&(s=o.length)){var s,a,l,u=-1;for(i=e.value?i/e.value:0;++u<s;)t(a=o[u],n,l=a.value*i,r),n+=l}}function e(t){var n=t.children,i=0;if(n&&(r=n.length))for(var r,o=-1;++o<r;)i=Math.max(i,e(n[o]));return 1+i}function n(n,o){var s=i.call(this,n,o);return t(s[0],0,r[0],r[1]/e(s[0])),s}var i=ns.layout.hierarchy(),r=[1,1];return n.size=function(t){return arguments.length?(r=t,n):r},Zi(n,i)},ns.layout.pie=function(){function t(s){var a,l=s.length,u=s.map(function(n,i){return+e.call(t,n,i)}),c=+("function"==typeof i?i.apply(this,arguments):i),h=("function"==typeof r?r.apply(this,arguments):r)-c,d=Math.min(Math.abs(h)/l,+("function"==typeof o?o.apply(this,arguments):o)),f=d*(0>h?-1:1),p=(h-l*f)/ns.sum(u),g=ns.range(l),m=[];return null!=n&&g.sort(n===gl?function(t,e){return u[e]-u[t]}:function(t,e){return n(s[t],s[e])}),g.forEach(function(t){m[t]={data:s[t],value:a=u[t],startAngle:c,endAngle:c+=a*p+f,padAngle:d}}),m}var e=Number,n=gl,i=0,r=Ls,o=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(i=e,t):i},t.endAngle=function(e){return arguments.length?(r=e,t):r},t.padAngle=function(e){return arguments.length?(o=e,t):o},t};var gl={};ns.layout.stack=function(){function t(a,l){if(!(d=a.length))return a;var u=a.map(function(n,i){return e.call(t,n,i)}),c=u.map(function(e){return e.map(function(e,n){return[o.call(t,e,n),s.call(t,e,n)]})}),h=n.call(t,c,l);u=ns.permute(u,h),c=ns.permute(c,h);var d,f,p,g,m=i.call(t,c,l),v=u[0].length;for(p=0;v>p;++p)for(r.call(t,u[0][p],g=m[p],c[0][p][1]),f=1;d>f;++f)r.call(t,u[f][p],g+=c[f-1][p][1],c[f][p][1]);return a}var e=y,n=lr,i=ur,r=ar,o=or,s=sr;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:ml.get(e)||lr,t):n},t.offset=function(e){return arguments.length?(i="function"==typeof e?e:vl.get(e)||ur,t):i},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(s=e,t):s},t.out=function(e){return arguments.length?(r=e,t):r},t};var ml=ns.map({"inside-out":function(t){var e,n,i=t.length,r=t.map(cr),o=t.map(hr),s=ns.range(i).sort(function(t,e){return r[t]-r[e]}),a=0,l=0,u=[],c=[];for(e=0;i>e;++e)n=s[e],l>a?(a+=o[n],u.push(n)):(l+=o[n],c.push(n));return c.reverse().concat(u)},reverse:function(t){return ns.range(t.length).reverse()},"default":lr}),vl=ns.map({silhouette:function(t){var e,n,i,r=t.length,o=t[0].length,s=[],a=0,l=[];for(n=0;o>n;++n){for(e=0,i=0;r>e;e++)i+=t[e][n][1];i>a&&(a=i),s.push(i)}for(n=0;o>n;++n)l[n]=(a-s[n])/2;return l},wiggle:function(t){var e,n,i,r,o,s,a,l,u,c=t.length,h=t[0],d=h.length,f=[];for(f[0]=l=u=0,n=1;d>n;++n){for(e=0,r=0;c>e;++e)r+=t[e][n][1];for(e=0,o=0,a=h[n][0]-h[n-1][0];c>e;++e){for(i=0,s=(t[e][n][1]-t[e][n-1][1])/(2*a);e>i;++i)s+=(t[i][n][1]-t[i][n-1][1])/a;o+=s*t[e][n][1]}f[n]=l-=r?o/r*a:0,u>l&&(u=l)}for(n=0;d>n;++n)f[n]-=u;return f},expand:function(t){var e,n,i,r=t.length,o=t[0].length,s=1/r,a=[];for(n=0;o>n;++n){for(e=0,i=0;r>e;e++)i+=t[e][n][1];if(i)for(e=0;r>e;e++)t[e][n][1]/=i;else for(e=0;r>e;e++)t[e][n][1]=s}for(n=0;o>n;++n)a[n]=0;return a},zero:ur});ns.layout.histogram=function(){function t(t,o){for(var s,a,l=[],u=t.map(n,this),c=i.call(this,u,o),h=r.call(this,c,u,o),o=-1,d=u.length,f=h.length-1,p=e?1:1/d;++o<f;)s=l[o]=[],s.dx=h[o+1]-(s.x=h[o]),s.y=0;if(f>0)for(o=-1;++o<d;)a=u[o],a>=c[0]&&a<=c[1]&&(s=l[ns.bisect(h,a,1,f)-1],s.y+=p,s.push(t[o]));return l}var e=!0,n=Number,i=gr,r=fr;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(i=Et(e),t):i},t.bins=function(e){return arguments.length?(r="number"==typeof e?function(t){return pr(t,e)}:Et(e),t):r},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},ns.layout.pack=function(){function t(t,o){var s=n.call(this,t,o),a=s[0],l=r[0],u=r[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(a.x=a.y=0,tr(a,function(t){t.r=+c(t.value)}),tr(a,wr),i){var h=i*(e?1:Math.max(2*a.r/l,2*a.r/u))/2;tr(a,function(t){t.r+=h}),tr(a,wr),tr(a,function(t){t.r-=h})}return $r(a,l/2,u/2,e?1:1/Math.max(2*a.r/l,2*a.r/u)),s}var e,n=ns.layout.hierarchy().sort(mr),i=0,r=[1,1];return t.size=function(e){return arguments.length?(r=e,t):r},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(i=+e,t):i},Zi(t,n)},ns.layout.tree=function(){function t(t,r){var c=s.call(this,t,r),h=c[0],d=e(h);if(tr(d,n),d.parent.m=-d.z,Qi(d,i),u)Qi(h,o);else{var f=h,p=h,g=h;Qi(h,function(t){t.x<f.x&&(f=t),t.x>p.x&&(p=t),t.depth>g.depth&&(g=t)});var m=a(f,p)/2-f.x,v=l[0]/(p.x+a(p,f)/2+m),y=l[1]/(g.depth||1);Qi(h,function(t){t.x=(t.x+m)*v,t.y=t.depth*y})}return c}function e(t){for(var e,n={A:null,children:[t]},i=[n];null!=(e=i.pop());)for(var r,o=e.children,s=0,a=o.length;a>s;++s)i.push((o[s]=r={_:o[s],parent:e,children:(r=o[s].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:s}).a=r);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e.length){Dr(t);var o=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+a(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+a(t._,i._));t.parent.A=r(t,i,t.parent.A||n[0])}function i(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function r(t,e,n){if(e){for(var i,r=t,o=t,s=e,l=r.parent.children[0],u=r.m,c=o.m,h=s.m,d=l.m;s=Sr(s),r=Er(r),s&&r;)l=Er(l),o=Sr(o),o.a=t,i=s.z+h-r.z-u+a(s._,r._),i>0&&(kr(Tr(s,t,n),t,i),u+=i,c+=i),h+=s.m,u+=r.m,d+=l.m,c+=o.m;s&&!Sr(o)&&(o.t=s,o.m+=h-c),r&&!Er(l)&&(l.t=r,l.m+=u-d,n=t)}return n}function o(t){t.x*=l[0],t.y=t.depth*l[1]}var s=ns.layout.hierarchy().sort(null).value(null),a=Ar,l=[1,1],u=null;return t.separation=function(e){return arguments.length?(a=e,t):a},t.size=function(e){return arguments.length?(u=null==(l=e)?o:null,t):u?null:l},t.nodeSize=function(e){return arguments.length?(u=null==(l=e)?null:o,t):u?l:null},Zi(t,s)},ns.layout.cluster=function(){function t(t,o){var s,a=e.call(this,t,o),l=a[0],u=0;tr(l,function(t){var e=t.children;e&&e.length?(t.x=Mr(e),t.y=Fr(e)):(t.x=s?u+=n(t,s):0,t.y=0,s=t)});var c=Lr(l),h=Or(l),d=c.x-n(c,h)/2,f=h.x+n(h,c)/2;return tr(l,r?function(t){t.x=(t.x-l.x)*i[0],t.y=(l.y-t.y)*i[1]}:function(t){t.x=(t.x-d)/(f-d)*i[0],t.y=(1-(l.y?t.y/l.y:1))*i[1]}),a}var e=ns.layout.hierarchy().sort(null).value(null),n=Ar,i=[1,1],r=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(r=null==(i=e),t):r?null:i},t.nodeSize=function(e){return arguments.length?(r=null!=(i=e),t):r?i:null},Zi(t,e)},ns.layout.treemap=function(){function t(t,e){for(var n,i,r=-1,o=t.length;++r<o;)i=(n=t[r]).value*(0>e?0:e),n.area=isNaN(i)||0>=i?0:i}function e(n){var o=n.children;if(o&&o.length){var s,a,l,u=h(n),c=[],d=o.slice(),p=1/0,g="slice"===f?u.dx:"dice"===f?u.dy:"slice-dice"===f?1&n.depth?u.dy:u.dx:Math.min(u.dx,u.dy);for(t(d,u.dx*u.dy/n.value),c.area=0;(l=d.length)>0;)c.push(s=d[l-1]),c.area+=s.area,"squarify"!==f||(a=i(c,g))<=p?(d.pop(),p=a):(c.area-=c.pop().area,r(c,g,u,!1),g=Math.min(u.dx,u.dy),c.length=c.area=0,p=1/0);c.length&&(r(c,g,u,!0),c.length=c.area=0),o.forEach(e)}}function n(e){var i=e.children;if(i&&i.length){var o,s=h(e),a=i.slice(),l=[];for(t(a,s.dx*s.dy/e.value),l.area=0;o=a.pop();)l.push(o),l.area+=o.area,null!=o.z&&(r(l,o.z?s.dx:s.dy,s,!a.length),l.length=l.area=0);i.forEach(n)}}function i(t,e){for(var n,i=t.area,r=0,o=1/0,s=-1,a=t.length;++s<a;)(n=t[s].area)&&(o>n&&(o=n),n>r&&(r=n));return i*=i,e*=e,i?Math.max(e*r*p/i,i/(e*o*p)):1/0}function r(t,e,n,i){var r,o=-1,s=t.length,a=n.x,u=n.y,c=e?l(t.area/e):0;if(e==n.dx){for((i||c>n.dy)&&(c=n.dy);++o<s;)r=t[o],r.x=a,r.y=u,r.dy=c,a+=r.dx=Math.min(n.x+n.dx-a,c?l(r.area/c):0);r.z=!0,r.dx+=n.x+n.dx-a,n.y+=c,n.dy-=c}else{for((i||c>n.dx)&&(c=n.dx);++o<s;)r=t[o],r.x=a,r.y=u,r.dx=c,u+=r.dy=Math.min(n.y+n.dy-u,c?l(r.area/c):0);r.z=!1,r.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function o(i){var r=s||a(i),o=r[0];return o.x=0,o.y=0,o.dx=u[0],o.dy=u[1],s&&a.revalue(o),t([o],o.dx*o.dy/o.value),(s?n:e)(o),d&&(s=r),r}var s,a=ns.layout.hierarchy(),l=Math.round,u=[1,1],c=null,h=Pr,d=!1,f="squarify",p=.5*(1+Math.sqrt(5));return o.size=function(t){return arguments.length?(u=t,o):u},o.padding=function(t){function e(e){var n=t.call(o,e,e.depth);return null==n?Pr(e):Br(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Br(e,t)}if(!arguments.length)return c;var i;return h=null==(c=t)?Pr:"function"==(i=typeof t)?e:"number"===i?(t=[t,t,t,t],n):n,o},o.round=function(t){return arguments.length?(l=t?Math.round:Number,o):l!=Number},o.sticky=function(t){return arguments.length?(d=t,s=null,o):d},o.ratio=function(t){return arguments.length?(p=t,o):p},o.mode=function(t){return arguments.length?(f=t+"",o):f},Zi(o,a)},ns.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,i,r;do n=2*Math.random()-1,i=2*Math.random()-1,r=n*n+i*i;while(!r||r>1);return t+e*n*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var t=ns.random.normal.apply(ns,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=ns.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e}}},ns.scale={};var yl={floor:y,ceil:y};ns.scale.linear=function(){return Vr([0,1],[0,1],yi,!1)};var bl={s:1,g:1,p:1,r:1,e:1};ns.scale.log=function(){return Jr(ns.scale.linear().domain([0,1]),10,!0,[1,10])};var wl=ns.format(".0e"),xl={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};ns.scale.pow=function(){return Zr(ns.scale.linear(),1,[0,1])},ns.scale.sqrt=function(){return ns.scale.pow().exponent(.5)},ns.scale.ordinal=function(){return to([],{t:"range",a:[[]]})},ns.scale.category10=function(){return ns.scale.ordinal().range(_l)},ns.scale.category20=function(){return ns.scale.ordinal().range($l)},ns.scale.category20b=function(){return ns.scale.ordinal().range(Cl)},ns.scale.category20c=function(){return ns.scale.ordinal().range(Al)};var _l=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(bt),$l=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(bt),Cl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(bt),Al=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(bt);ns.scale.quantile=function(){return eo([],[])},ns.scale.quantize=function(){return no(0,1,[0,1])},ns.scale.threshold=function(){return io([.5],[0,1])},ns.scale.identity=function(){return ro([0,1])},ns.svg={},ns.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),u=Math.max(0,+i.apply(this,arguments)),c=s.apply(this,arguments)-Ps,h=a.apply(this,arguments)-Ps,d=Math.abs(h-c),f=c>h?0:1;if(t>u&&(p=u,u=t,t=p),d>=Os)return e(u,f)+(t?e(t,1-f):"")+"Z";var p,g,m,v,y,b,w,x,_,$,C,A,E=0,S=0,k=[];if((v=(+l.apply(this,arguments)||0)/2)&&(m=o===El?Math.sqrt(t*t+u*u):+o.apply(this,arguments),f||(S*=-1),u&&(S=et(m/u*Math.sin(v))),t&&(E=et(m/t*Math.sin(v)))),u){y=u*Math.cos(c+S),b=u*Math.sin(c+S),w=u*Math.cos(h-S),x=u*Math.sin(h-S);var D=Math.abs(h-c-2*S)<=Ms?0:1;if(S&&ho(y,b,w,x)===f^D){var T=(c+h)/2;y=u*Math.cos(T),b=u*Math.sin(T),w=x=null}}else y=b=0;if(t){_=t*Math.cos(h-E),$=t*Math.sin(h-E),C=t*Math.cos(c+E),A=t*Math.sin(c+E);var F=Math.abs(c-h+2*E)<=Ms?0:1;if(E&&ho(_,$,C,A)===1-f^F){var M=(c+h)/2;_=t*Math.cos(M),$=t*Math.sin(M),C=A=null}}else _=$=0;if((p=Math.min(Math.abs(u-t)/2,+r.apply(this,arguments)))>.001){g=u>t^f?0:1;var L=null==C?[_,$]:null==w?[y,b]:Ln([y,b],[C,A],[w,x],[_,$]),O=y-L[0],P=b-L[1],B=w-L[0],I=x-L[1],R=1/Math.sin(Math.acos((O*B+P*I)/(Math.sqrt(O*O+P*P)*Math.sqrt(B*B+I*I)))/2),j=Math.sqrt(L[0]*L[0]+L[1]*L[1]);if(null!=w){var N=Math.min(p,(u-j)/(R+1)),z=fo(null==C?[_,$]:[C,A],[y,b],u,N,f),U=fo([w,x],[_,$],u,N,f);p===N?k.push("M",z[0],"A",N,",",N," 0 0,",g," ",z[1],"A",u,",",u," 0 ",1-f^ho(z[1][0],z[1][1],U[1][0],U[1][1]),",",f," ",U[1],"A",N,",",N," 0 0,",g," ",U[0]):k.push("M",z[0],"A",N,",",N," 0 1,",g," ",U[0])}else k.push("M",y,",",b);if(null!=C){var V=Math.min(p,(t-j)/(R-1)),H=fo([y,b],[C,A],t,-V,f),W=fo([_,$],null==w?[y,b]:[w,x],t,-V,f);p===V?k.push("L",W[0],"A",V,",",V," 0 0,",g," ",W[1],"A",t,",",t," 0 ",f^ho(W[1][0],W[1][1],H[1][0],H[1][1]),",",1-f," ",H[1],"A",V,",",V," 0 0,",g," ",H[0]):k.push("L",W[0],"A",V,",",V," 0 0,",g," ",H[0])}else k.push("L",_,",",$)}else k.push("M",y,",",b),null!=w&&k.push("A",u,",",u," 0 ",D,",",f," ",w,",",x),k.push("L",_,",",$),null!=C&&k.push("A",t,",",t," 0 ",F,",",1-f," ",C,",",A);return k.push("Z"),k.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var n=so,i=ao,r=oo,o=El,s=lo,a=uo,l=co;return t.innerRadius=function(e){return arguments.length?(n=Et(e),t):n},t.outerRadius=function(e){return arguments.length?(i=Et(e),t):i},t.cornerRadius=function(e){return arguments.length?(r=Et(e),t):r},t.padRadius=function(e){return arguments.length?(o=e==El?El:Et(e),t):o},t.startAngle=function(e){return arguments.length?(s=Et(e),t):s},t.endAngle=function(e){return arguments.length?(a=Et(e),t):a},t.padAngle=function(e){return arguments.length?(l=Et(e),t):l},t.centroid=function(){var t=(+n.apply(this,arguments)+ +i.apply(this,arguments))/2,e=(+s.apply(this,arguments)+ +a.apply(this,arguments))/2-Ps;return[Math.cos(e)*t,Math.sin(e)*t]},t};var El="auto";ns.svg.line=function(){return po(y)};var Sl=ns.map({linear:go,"linear-closed":mo,step:vo,"step-before":yo,"step-after":bo,basis:Ao,"basis-open":Eo,"basis-closed":So,bundle:ko,cardinal:_o,"cardinal-open":wo,"cardinal-closed":xo,monotone:Oo});Sl.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var kl=[0,2/3,1/3,0],Dl=[0,1/3,2/3,0],Tl=[0,1/6,2/3,1/6];ns.svg.line.radial=function(){var t=po(Po);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},yo.reverse=bo,bo.reverse=yo,ns.svg.area=function(){return Bo(y)},ns.svg.area.radial=function(){var t=Bo(Po);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},ns.svg.chord=function(){function t(t,a){var l=e(this,o,t,a),u=e(this,s,t,a);return"M"+l.p0+i(l.r,l.p1,l.a1-l.a0)+(n(l,u)?r(l.r,l.p1,l.r,l.p0):r(l.r,l.p1,u.r,u.p0)+i(u.r,u.p1,u.a1-u.a0)+r(u.r,u.p1,l.r,l.p0))+"Z"}function e(t,e,n,i){var r=e.call(t,n,i),o=a.call(t,r,i),s=l.call(t,r,i)-Ps,c=u.call(t,r,i)-Ps;return{r:o,a0:s,a1:c,p0:[o*Math.cos(s),o*Math.sin(s)],p1:[o*Math.cos(c),o*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function i(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Ms)+",1 "+e}function r(t,e,n,i){return"Q 0,0 "+i}var o=yn,s=bn,a=Io,l=lo,u=uo;return t.radius=function(e){return arguments.length?(a=Et(e),t):a},t.source=function(e){return arguments.length?(o=Et(e),t):o},t.target=function(e){return arguments.length?(s=Et(e),t):s},t.startAngle=function(e){return arguments.length?(l=Et(e),t):l},t.endAngle=function(e){return arguments.length?(u=Et(e),t):u},t},ns.svg.diagonal=function(){function t(t,r){var o=e.call(this,t,r),s=n.call(this,t,r),a=(o.y+s.y)/2,l=[o,{x:o.x,y:a},{x:s.x,y:a},s];return l=l.map(i),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var e=yn,n=bn,i=Ro;return t.source=function(n){return arguments.length?(e=Et(n),t):e},t.target=function(e){return arguments.length?(n=Et(e),t):n},t.projection=function(e){return arguments.length?(i=e,t):i},t},ns.svg.diagonal.radial=function(){var t=ns.svg.diagonal(),e=Ro,n=t.projection;return t.projection=function(t){return arguments.length?n(jo(e=t)):e},t},ns.svg.symbol=function(){function t(t,i){return(Fl.get(e.call(this,t,i))||Uo)(n.call(this,t,i))}var e=zo,n=No;return t.type=function(n){return arguments.length?(e=Et(n),t):e},t.size=function(e){return arguments.length?(n=Et(e),t):n},t};var Fl=ns.map({circle:Uo,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Ll)),n=e*Ll;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Ml),n=e*Ml/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Ml),n=e*Ml/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});ns.svg.symbolTypes=Fl.keys();var Ml=Math.sqrt(3),Ll=Math.tan(30*Bs);$s.transition=function(t){for(var e,n,i=Ol||++Rl,r=qo(t),o=[],s=Pl||{time:Date.now(),ease:Ai,delay:0,duration:250},a=-1,l=this.length;++a<l;){o.push(e=[]);for(var u=this[a],c=-1,h=u.length;++c<h;)(n=u[c])&&Ko(n,c,r,i,s),e.push(n)}return Ho(o,r,i)},$s.interrupt=function(t){return this.each(null==t?Bl:Vo(qo(t)))};var Ol,Pl,Bl=Vo(qo()),Il=[],Rl=0;Il.call=$s.call,Il.empty=$s.empty,Il.node=$s.node,Il.size=$s.size,ns.transition=function(t,e){return t&&t.transition?Ol?t.transition(e):t:ns.selection().transition(t)},ns.transition.prototype=Il,Il.select=function(t){var e,n,i,r=this.id,o=this.namespace,s=[];t=k(t);for(var a=-1,l=this.length;++a<l;){s.push(e=[]);for(var u=this[a],c=-1,h=u.length;++c<h;)(i=u[c])&&(n=t.call(i,i.__data__,c,a))?("__data__"in i&&(n.__data__=i.__data__),Ko(n,c,o,r,i[o][r]),e.push(n)):e.push(null)}return Ho(s,o,r)},Il.selectAll=function(t){var e,n,i,r,o,s=this.id,a=this.namespace,l=[];t=D(t);for(var u=-1,c=this.length;++u<c;)for(var h=this[u],d=-1,f=h.length;++d<f;)if(i=h[d]){o=i[a][s],n=t.call(i,i.__data__,d,u),l.push(e=[]);for(var p=-1,g=n.length;++p<g;)(r=n[p])&&Ko(r,p,a,s,o),e.push(r)}return Ho(l,a,s)},Il.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=z(t));for(var o=0,s=this.length;s>o;o++){r.push(e=[]);for(var n=this[o],a=0,l=n.length;l>a;a++)(i=n[a])&&t.call(i,i.__data__,a,o)&&e.push(i)}return Ho(r,this.namespace,this.id)},Il.tween=function(t,e){var n=this.id,i=this.namespace;return arguments.length<2?this.node()[i][n].tween.get(t):V(this,null==e?function(e){e[i][n].tween.remove(t)}:function(r){r[i][n].tween.set(t,e)})},Il.attr=function(t,e){function n(){this.removeAttribute(a)}function i(){this.removeAttributeNS(a.space,a.local)}function r(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(a);return n!==t&&(e=s(n,t),function(t){this.setAttribute(a,e(t))})})}function o(t){return null==t?i:(t+="",function(){var e,n=this.getAttributeNS(a.space,a.local);return n!==t&&(e=s(n,t),function(t){this.setAttributeNS(a.space,a.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var s="transform"==t?zi:yi,a=ns.ns.qualify(t);return Wo(this,"attr."+t,e,a.local?o:r)},Il.attrTween=function(t,e){function n(t,n){var i=e.call(this,t,n,this.getAttribute(r));return i&&function(t){this.setAttribute(r,i(t))}}function i(t,n){var i=e.call(this,t,n,this.getAttributeNS(r.space,r.local));return i&&function(t){this.setAttributeNS(r.space,r.local,i(t))}}var r=ns.ns.qualify(t);return this.tween("attr."+t,r.local?i:n)},Il.style=function(t,n,i){function r(){this.style.removeProperty(t)}function o(n){return null==n?r:(n+="",function(){var r,o=e(this).getComputedStyle(this,null).getPropertyValue(t);return o!==n&&(r=yi(o,n),function(e){this.style.setProperty(t,r(e),i)})})}var s=arguments.length;if(3>s){if("string"!=typeof t){2>s&&(n="");for(i in t)this.style(i,t[i],n);return this}i=""}return Wo(this,"style."+t,n,o)},Il.styleTween=function(t,n,i){function r(r,o){var s=n.call(this,r,o,e(this).getComputedStyle(this,null).getPropertyValue(t));return s&&function(e){this.style.setProperty(t,s(e),i)}}return arguments.length<3&&(i=""),this.tween("style."+t,r)},Il.text=function(t){return Wo(this,"text",t,Yo)},Il.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Il.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=ns.ease.apply(ns,arguments)),V(this,function(i){i[n][e].ease=t}))},Il.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:V(this,"function"==typeof t?function(i,r,o){i[n][e].delay=+t.call(i,i.__data__,r,o)}:(t=+t,function(i){i[n][e].delay=t}))},Il.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:V(this,"function"==typeof t?function(i,r,o){i[n][e].duration=Math.max(1,t.call(i,i.__data__,r,o))}:(t=Math.max(1,t),function(i){i[n][e].duration=t}))},Il.each=function(t,e){var n=this.id,i=this.namespace;if(arguments.length<2){var r=Pl,o=Ol;try{Ol=n,V(this,function(e,r,o){Pl=e[i][n],t.call(e,e.__data__,r,o)})}finally{Pl=r,Ol=o}}else V(this,function(r){var o=r[i][n];(o.event||(o.event=ns.dispatch("start","end","interrupt"))).on(t,e)});return this},Il.transition=function(){for(var t,e,n,i,r=this.id,o=++Rl,s=this.namespace,a=[],l=0,u=this.length;u>l;l++){a.push(t=[]);for(var e=this[l],c=0,h=e.length;h>c;c++)(n=e[c])&&(i=n[s][r],Ko(n,c,s,o,{time:i.time,ease:i.ease,delay:i.delay+i.duration,duration:i.duration})),t.push(n)}return Ho(a,s,o)},ns.svg.axis=function(){function t(t){t.each(function(){var t,u=ns.select(this),c=this.__chart__||n,h=this.__chart__=n.copy(),d=null==l?h.ticks?h.ticks.apply(h,a):h.domain():l,f=null==e?h.tickFormat?h.tickFormat.apply(h,a):y:e,p=u.selectAll(".tick").data(d,h),g=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Ts),m=ns.transition(p.exit()).style("opacity",Ts).remove(),v=ns.transition(p.order()).style("opacity",1),b=Math.max(r,0)+s,w=Rr(h),x=u.selectAll(".domain").data([0]),_=(x.enter().append("path").attr("class","domain"),ns.transition(x));g.append("line"),g.append("text");var $,C,A,E,S=g.select("line"),k=v.select("line"),D=p.select("text").text(f),T=g.select("text"),F=v.select("text"),M="top"===i||"left"===i?-1:1;if("bottom"===i||"top"===i?(t=Xo,$="x",A="y",C="x2",E="y2",D.attr("dy",0>M?"0em":".71em").style("text-anchor","middle"),_.attr("d","M"+w[0]+","+M*o+"V0H"+w[1]+"V"+M*o)):(t=Go,$="y",A="x",C="y2",E="x2",D.attr("dy",".32em").style("text-anchor",0>M?"end":"start"),_.attr("d","M"+M*o+","+w[0]+"H0V"+w[1]+"H"+M*o)),S.attr(E,M*r),T.attr(A,M*b),k.attr(C,0).attr(E,M*r),F.attr($,0).attr(A,M*b),h.rangeBand){var L=h,O=L.rangeBand()/2;c=h=function(t){return L(t)+O}}else c.rangeBand?c=h:m.call(t,h,c);g.call(t,c,h),v.call(t,h,h)})}var e,n=ns.scale.linear(),i=jl,r=6,o=6,s=3,a=[10],l=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(i=e in Nl?e+"":jl,t):i},t.ticks=function(){return arguments.length?(a=arguments,t):a},t.tickValues=function(e){return arguments.length?(l=e,t):l},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(r=+e,o=+arguments[n-1],t):r},t.innerTickSize=function(e){return arguments.length?(r=+e,t):r},t.outerTickSize=function(e){return arguments.length?(o=+e,t):o},t.tickPadding=function(e){return arguments.length?(s=+e,t):s},t.tickSubdivide=function(){return arguments.length&&t},t};var jl="bottom",Nl={top:1,right:1,bottom:1,left:1};ns.svg.brush=function(){function t(e){e.each(function(){var e=ns.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",o).on("touchstart.brush",o),s=e.selectAll(".background").data([0]);s.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var a=e.selectAll(".resize").data(g,y);a.exit().remove(),a.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return zl[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),a.style("display",t.empty()?"none":null);var l,h=ns.transition(e),d=ns.transition(s);u&&(l=Rr(u),d.attr("x",l[0]).attr("width",l[1]-l[0]),i(h)),c&&(l=Rr(c),d.attr("y",l[0]).attr("height",l[1]-l[0]),r(h)),n(h)})}function n(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+h[+/e$/.test(t)]+","+d[+/^s/.test(t)]+")"})}function i(t){t.select(".extent").attr("x",h[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",h[1]-h[0])}function r(t){t.select(".extent").attr("y",d[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",d[1]-d[0])}function o(){function o(){32==ns.event.keyCode&&(D||(b=null,F[0]-=h[1],F[1]-=d[1],D=2),C())}function g(){32==ns.event.keyCode&&2==D&&(F[0]+=h[1],F[1]+=d[1],D=0,C())}function m(){var t=ns.mouse(x),e=!1;w&&(t[0]+=w[0],t[1]+=w[1]),D||(ns.event.altKey?(b||(b=[(h[0]+h[1])/2,(d[0]+d[1])/2]),F[0]=h[+(t[0]<b[0])],F[1]=d[+(t[1]<b[1])]):b=null),S&&v(t,u,0)&&(i(A),e=!0),k&&v(t,c,1)&&(r(A),e=!0),e&&(n(A),$({type:"brush",mode:D?"move":"resize"}))}function v(t,e,n){var i,r,o=Rr(e),l=o[0],u=o[1],c=F[n],g=n?d:h,m=g[1]-g[0];return D&&(l-=c,u-=m+c),i=(n?p:f)?Math.max(l,Math.min(u,t[n])):t[n],D?r=(i+=c)+m:(b&&(c=Math.max(l,Math.min(u,2*b[n]-i))),i>c?(r=i,i=c):r=c),g[0]!=i||g[1]!=r?(n?a=null:s=null,g[0]=i,g[1]=r,!0):void 0}function y(){m(),A.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),ns.select("body").style("cursor",null),M.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),T(),$({type:"brushend"})}var b,w,x=this,_=ns.select(ns.event.target),$=l.of(x,arguments),A=ns.select(x),E=_.datum(),S=!/^(n|s)$/.test(E)&&u,k=!/^(e|w)$/.test(E)&&c,D=_.classed("extent"),T=X(x),F=ns.mouse(x),M=ns.select(e(x)).on("keydown.brush",o).on("keyup.brush",g);if(ns.event.changedTouches?M.on("touchmove.brush",m).on("touchend.brush",y):M.on("mousemove.brush",m).on("mouseup.brush",y),A.interrupt().selectAll("*").interrupt(),D)F[0]=h[0]-F[0],F[1]=d[0]-F[1];else if(E){var L=+/w$/.test(E),O=+/^n/.test(E);w=[h[1-L]-F[0],d[1-O]-F[1]],F[0]=h[L],F[1]=d[O]}else ns.event.altKey&&(b=F.slice());A.style("pointer-events","none").selectAll(".resize").style("display",null),ns.select("body").style("cursor",_.style("cursor")),$({type:"brushstart"}),m()}var s,a,l=E(t,"brushstart","brush","brushend"),u=null,c=null,h=[0,0],d=[0,0],f=!0,p=!0,g=Ul[0];return t.event=function(t){t.each(function(){var t=l.of(this,arguments),e={x:h,y:d,i:s,j:a},n=this.__chart__||e;this.__chart__=e,Ol?ns.select(this).transition().each("start.brush",function(){s=n.i,a=n.j,h=n.x,d=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=bi(h,e.x),i=bi(d,e.y);return s=a=null,function(r){h=e.x=n(r),d=e.y=i(r),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){s=e.i,a=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(u=e,g=Ul[!u<<1|!c],t):u},t.y=function(e){return arguments.length?(c=e,g=Ul[!u<<1|!c],t):c},t.clamp=function(e){return arguments.length?(u&&c?(f=!!e[0],p=!!e[1]):u?f=!!e:c&&(p=!!e),t):u&&c?[f,p]:u?f:c?p:null;
},t.extent=function(e){var n,i,r,o,l;return arguments.length?(u&&(n=e[0],i=e[1],c&&(n=n[0],i=i[0]),s=[n,i],u.invert&&(n=u(n),i=u(i)),n>i&&(l=n,n=i,i=l),(n!=h[0]||i!=h[1])&&(h=[n,i])),c&&(r=e[0],o=e[1],u&&(r=r[1],o=o[1]),a=[r,o],c.invert&&(r=c(r),o=c(o)),r>o&&(l=r,r=o,o=l),(r!=d[0]||o!=d[1])&&(d=[r,o])),t):(u&&(s?(n=s[0],i=s[1]):(n=h[0],i=h[1],u.invert&&(n=u.invert(n),i=u.invert(i)),n>i&&(l=n,n=i,i=l))),c&&(a?(r=a[0],o=a[1]):(r=d[0],o=d[1],c.invert&&(r=c.invert(r),o=c.invert(o)),r>o&&(l=r,r=o,o=l))),u&&c?[[n,r],[i,o]]:u?[n,i]:c&&[r,o])},t.clear=function(){return t.empty()||(h=[0,0],d=[0,0],s=a=null),t},t.empty=function(){return!!u&&h[0]==h[1]||!!c&&d[0]==d[1]},ns.rebind(t,l,"on")};var zl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ul=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Vl=la.format=pa.timeFormat,Hl=Vl.utc,Wl=Hl("%Y-%m-%dT%H:%M:%S.%LZ");Vl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Jo:Wl,Jo.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Jo.toString=Wl.toString,la.second=jt(function(t){return new ua(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),la.seconds=la.second.range,la.seconds.utc=la.second.utc.range,la.minute=jt(function(t){return new ua(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),la.minutes=la.minute.range,la.minutes.utc=la.minute.utc.range,la.hour=jt(function(t){var e=t.getTimezoneOffset()/60;return new ua(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),la.hours=la.hour.range,la.hours.utc=la.hour.utc.range,la.month=jt(function(t){return t=la.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),la.months=la.month.range,la.months.utc=la.month.utc.range;var Yl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],ql=[[la.second,1],[la.second,5],[la.second,15],[la.second,30],[la.minute,1],[la.minute,5],[la.minute,15],[la.minute,30],[la.hour,1],[la.hour,3],[la.hour,6],[la.hour,12],[la.day,1],[la.day,2],[la.week,1],[la.month,1],[la.month,3],[la.year,1]],Kl=Vl.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",ke]]),Xl={range:function(t,e,n){return ns.range(Math.ceil(t/n)*n,+e,n).map(Qo)},floor:y,ceil:y};ql.year=la.year,la.scale=function(){return Zo(ns.scale.linear(),ql,Kl)};var Gl=ql.map(function(t){return[t[0].utc,t[1]]}),Jl=Hl.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",ke]]);Gl.year=la.year.utc,la.scale.utc=function(){return Zo(ns.scale.linear(),Gl,Jl)},ns.text=St(function(t){return t.responseText}),ns.json=function(t,e){return kt(t,"application/json",ts,e)},ns.html=function(t,e){return kt(t,"text/html",es,e)},ns.xml=St(function(t){return t.responseXML}),"function"==typeof define&&define.amd?define(ns):"object"==typeof module&&module.exports&&(module.exports=ns),this.d3=ns}(),function(){d3.timeline=function(){function t(t){function e(t,e){return b.left+(t.starting_time-v)*V}function M(t,e){return b.left+(t.starting_time-v)*V+5}function L(){if(c||R.attr("height"))c?R.attr("height",c):c=R.attr("height");else{if(!$)throw"height of the timeline is not set";c=K.height+K.top-I.top,d3.select(t[0][0]).attr("height",c)}}function O(){if(u||I.width){if(!u||!I.width)try{u=R.attr("width")}catch(t){console.log(t)}}else try{if(u=R.attr("width"),!u)throw"width of the timeline is not set. As of Firefox 27, timeline().with(x) needs to be explicitly set in order to render"}catch(t){console.log(t)}}function P(e,n){t.append("svg:line").attr("x1",e).attr("y1",n.marginTop).attr("x2",e).attr("y2",c-n.marginBottom).style("stroke",n.color).style("stroke-width",n.width)}var B=t.append("g"),I=t[0][0].getBoundingClientRect(),R=d3.select(t[0][0]),j={},N=1,z=0,U=0;O(),_&&B.each(function(t,e){t.forEach(function(t,e){t.times.forEach(function(t,n){0===e&&0===n?(originTime=t.starting_time,t.starting_time=0,t.ending_time=t.ending_time-originTime):(t.starting_time=t.starting_time-originTime,t.ending_time=t.ending_time-originTime)})})}),(w||0===y||0===v)&&(B.each(function(t,e){t.forEach(function(t,e){w&&-1==Object.keys(j).indexOf(e)&&(j[e]=N,N++),t.times.forEach(function(t,e){0===v&&(t.starting_time<z||0===z&&_===!1)&&(z=t.starting_time),0===y&&t.ending_time>U&&(U=t.ending_time)})})}),0===y&&(y=U),0===v&&(v=z));var V=1/(y-v)*(u-b.left-b.right),H=d3.time.scale().domain([v,y]).range([b.left,u-b.right]),W=d3.svg.axis().scale(H).orient(l).tickFormat(f.format).ticks(f.numTicks||f.tickTime,f.tickInterval).tickSize(f.tickSize);if(A&&B.append("g").attr("class","axis").attr("transform","translate(0,"+(b.top+($+C)*N)+")").call(W),S&&B.append("g").attr("class","axis").attr("transform","translate(0,"+(b.top+($+C)*N)+")").attr(k.stroke,k.spacing).call(W.tickFormat("").tickSize(-(b.top+($+C)*(N-1)+3),0,0)),B.each(function(s,l){s.forEach(function(s,l){function c(t,e){return w?b.top+($+C)*j[l]:b.top}function f(t,e){return w?b.top+($+C)*j[l]+.75*$:b.top+.75*$}var v=s.times,y="undefined"!=typeof s.label,x=function(t){return null==a?t:a(t)};if("undefined"!=typeof s.id&&console.warn("d3Timeline Warning: Ids per dataset is deprecated in favor of a 'class' key. Ids are now per data element."),d){var _=($+C)*j[l];B.selectAll("svg").data(v).enter().insert("rect").attr("class","row-green-bar").attr("x",0+b.left).attr("width",u-b.right-b.left).attr("y",_).attr("height",$).attr("fill",d)}if(B.selectAll("svg").data(v).enter().append(function(t,e){return document.createElementNS(d3.ns.prefix.svg,"display"in t?t.display:m)}).attr("x",e).attr("y",c).attr("width",function(t,e){return(t.ending_time-t.starting_time)*V}).attr("cy",function(t,e){return c(t,e)+$/2}).attr("cx",e).attr("r",$/2).attr("height",$).style("fill",function(t,e){var n;return t.color?t.color:g?(n=t[g],p(n?n:s[g])):p(l)}).on("mousemove",function(t,e){n(t,l,s)}).on("mouseover",function(t,e){i(t,e,s)}).on("mouseout",function(t,e){r(t,e,s)}).on("click",function(t,e){o(t,l,s)}).attr("class",function(t,e){return s["class"]?"timelineSeries_"+s["class"]:"timelineSeries_"+l}).attr("id",function(t,e){return s.id&&!t.id?"timelineItem_"+s.id:t.id?t.id:"timelineItem_"+l+"_"+e}),B.selectAll("svg").data(v).enter().append("text").attr("x",M).attr("y",f).text(function(t){return t.label}),h){var A=$+C/2+b.top+($+C)*j[l];t.append("svg:line").attr("class","row-seperator").attr("x1",0+b.left).attr("x2",u-b.right).attr("y1",A).attr("y2",A).attr("stroke-width",1).attr("stroke",h)}y&&t.append("text").attr("class","timeline-label").attr("transform","translate(0,"+(.75*$+b.top+($+C)*j[l])+")").text(y?x(s.label):s.id).on("click",function(t,e){o(t,l,s)}),"undefined"!=typeof s.icon&&t.append("image").attr("class","timeline-label").attr("transform","translate(0,"+(b.top+($+C)*j[l])+")").attr("xlink:href",s.icon).attr("width",b.left).attr("height",$)})}),u>I.width){var Y=function(){var t=Math.min(0,Math.max(I.width-u,d3.event.translate[0]));q.translate([t,0]),B.attr("transform","translate("+t+",0)"),s(t*V,H)},q=d3.behavior.zoom().x(H).on("zoom",Y);t.attr("class","scrollable").call(q)}x&&B.selectAll(".tick text").attr("transform",function(t){return"rotate("+x+")translate("+(this.getBBox().width/2+10)+","+this.getBBox().height/2+")"});var K=B[0][0].getBoundingClientRect();if(L(),T&&B.each(function(t,e){t.forEach(function(t){var e=t.times;e.forEach(function(t){P(H(t.starting_time),F),P(H(t.ending_time),F)})})}),E){var X=H(new Date);P(X,D)}}var e=["circle","rect"],n=function(){},i=function(){},r=function(){},o=function(){},s=function(){},a=function(){},l="bottom",u=null,c=null,h=null,d=null,f={format:d3.time.format("%I %p"),tickTime:d3.time.hours,tickInterval:1,tickSize:6},p=d3.scale.category20(),g=null,m="rect",v=0,y=0,b={left:30,right:30,top:30,bottom:30},w=!1,x=!1,_=!1,$=20,C=5,A=!0,E=!1,S=!1,k={stroke:"stroke-dasharray",spacing:"4 10"},D={marginTop:25,marginBottom:0,width:1,color:p},T=!1,F={marginTop:25,marginBottom:0,width:1,color:p};return t.margin=function(e){return arguments.length?(b=e,t):b},t.orient=function(e){return arguments.length?(l=e,t):l},t.itemHeight=function(e){return arguments.length?($=e,t):$},t.itemMargin=function(e){return arguments.length?(C=e,t):C},t.height=function(e){return arguments.length?(c=e,t):c},t.width=function(e){return arguments.length?(u=e,t):u},t.display=function(n){return arguments.length&&-1!=e.indexOf(n)?(m=n,t):m},t.labelFormat=function(e){return arguments.length?(a=e,t):null},t.tickFormat=function(e){return arguments.length?(f=e,t):f},t.hover=function(e){return arguments.length?(n=e,t):n},t.mouseover=function(e){return arguments.length?(i=e,t):e},t.mouseout=function(e){return arguments.length?(r=e,t):e},t.click=function(e){return arguments.length?(o=e,t):o},t.scroll=function(e){return arguments.length?(s=e,t):s},t.colors=function(e){return arguments.length?(p=e,t):p},t.beginning=function(e){return arguments.length?(v=e,t):v},t.ending=function(e){return arguments.length?(y=e,t):y},t.rotateTicks=function(e){return x=e,t},t.stack=function(){return w=!w,t},t.relativeTime=function(){return _=!_,t},t.showBorderLine=function(){return T=!T,t},t.showBorderFormat=function(e){return arguments.length?(F=e,t):F},t.showToday=function(){return E=!E,t},t.showTodayFormat=function(e){return arguments.length?(D=e,t):D},t.colorProperty=function(e){return arguments.length?(g=e,t):g},t.rowSeperators=function(e){return arguments.length?(h=e,t):h},t.background=function(e){return arguments.length?(d=e,t):d},t.showTimeAxis=function(){return A=!A,t},t.showTimeAxisTick=function(){return S=!S,t},t.showTimeAxisTickFormat=function(e){return arguments.length?(k=e,t):k},t}}(),function(){function t(t,e){if(t!==e){var n=null===t,i=t===_,r=t===t,o=null===e,s=e===_,a=e===e;if(t>e&&!o||!r||n&&!s&&a||i&&a)return 1;if(e>t&&!n||!a||o&&!i&&r||s&&r)return-1}return 0}function e(t,e,n){for(var i=t.length,r=n?i:-1;n?r--:++r<i;)if(e(t[r],r,t))return r;return-1}function n(t,e,n){if(e!==e)return f(t,n);for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function i(t){return"function"==typeof t||!1}function r(t){return null==t?"":t+""}function o(t,e){for(var n=-1,i=t.length;++n<i&&e.indexOf(t.charAt(n))>-1;);return n}function s(t,e){for(var n=t.length;n--&&e.indexOf(t.charAt(n))>-1;);return n}function a(e,n){return t(e.criteria,n.criteria)||e.index-n.index}function l(e,n,i){for(var r=-1,o=e.criteria,s=n.criteria,a=o.length,l=i.length;++r<a;){var u=t(o[r],s[r]);if(u){if(r>=l)return u;var c=i[r];return u*("asc"===c||c===!0?1:-1)}}return e.index-n.index}function u(t){return zt[t]}function c(t){return Ut[t]}function h(t,e,n){return e?t=Wt[t]:n&&(t=Yt[t]),"\\"+t}function d(t){return"\\"+Yt[t]}function f(t,e,n){for(var i=t.length,r=e+(n?0:-1);n?r--:++r<i;){var o=t[r];if(o!==o)return r}return-1}function p(t){return!!t&&"object"==typeof t}function g(t){return 160>=t&&t>=9&&13>=t||32==t||160==t||5760==t||6158==t||t>=8192&&(8202>=t||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function m(t,e){for(var n=-1,i=t.length,r=-1,o=[];++n<i;)t[n]===e&&(t[n]=z,o[++r]=n);return o}function v(t,e){for(var n,i=-1,r=t.length,o=-1,s=[];++i<r;){var a=t[i],l=e?e(a,i,t):a;i&&n===l||(n=l,s[++o]=a)}return s}function y(t){for(var e=-1,n=t.length;++e<n&&g(t.charCodeAt(e)););return e}function b(t){for(var e=t.length;e--&&g(t.charCodeAt(e)););return e}function w(t){return Vt[t]}function x(g){function K(t){if(p(t)&&!Da(t)&&!(t instanceof zt)){if(t instanceof tt)return t;if(es.call(t,"__chain__")&&es.call(t,"__wrapped__"))return fi(t)}return new tt(t)}function Z(){}function tt(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}function zt(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ks,this.__views__=[]}function Ut(){var t=new zt(this.__wrapped__);return t.__actions__=ne(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ne(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ne(this.__views__),t}function Vt(){if(this.__filtered__){var t=new zt(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Ht(){var t=this.__wrapped__.value(),e=this.__dir__,n=Da(t),i=0>e,r=n?t.length:0,o=Yn(0,r,this.__views__),s=o.start,a=o.end,l=a-s,u=i?a:s-1,c=this.__iteratees__,h=c.length,d=0,f=$s(l,this.__takeCount__);if(!n||I>r||r==l&&f==l)return nn(t,this.__actions__);var p=[];t:for(;l--&&f>d;){u+=e;for(var g=-1,m=t[u];++g<h;){var v=c[g],y=v.iteratee,b=v.type,w=y(m);if(b==j)m=w;else if(!w){if(b==R)continue t;break t}}p[d++]=m}return p}function Wt(){this.__data__={}}function Yt(t){return this.has(t)&&delete this.__data__[t]}function qt(t){return"__proto__"==t?_:this.__data__[t]}function Kt(t){return"__proto__"!=t&&es.call(this.__data__,t)}function Xt(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this}function Gt(t){var e=t?t.length:0;for(this.data={hash:vs(null),set:new hs};e--;)this.push(t[e])}function Jt(t,e){var n=t.data,i="string"==typeof e||Or(e)?n.set.has(e):n.hash[e];return i?0:-1}function Zt(t){var e=this.data;"string"==typeof t||Or(t)?e.set.add(t):e.hash[t]=!0}function ee(t,e){for(var n=-1,i=t.length,r=-1,o=e.length,s=zo(i+o);++n<i;)s[n]=t[n];for(;++r<o;)s[n++]=e[r];return s}function ne(t,e){var n=-1,i=t.length;for(e||(e=zo(i));++n<i;)e[n]=t[n];return e}function ie(t,e){for(var n=-1,i=t.length;++n<i&&e(t[n],n,t)!==!1;);return t}function re(t,e){for(var n=t.length;n--&&e(t[n],n,t)!==!1;);return t}function oe(t,e){for(var n=-1,i=t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function se(t,e,n,i){for(var r=-1,o=t.length,s=i,a=s;++r<o;){var l=t[r],u=+e(l);n(u,s)&&(s=u,a=l)}return a}function ae(t,e){for(var n=-1,i=t.length,r=-1,o=[];++n<i;){var s=t[n];e(s,n,t)&&(o[++r]=s)}return o}function le(t,e){for(var n=-1,i=t.length,r=zo(i);++n<i;)r[n]=e(t[n],n,t);return r}function ue(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function ce(t,e,n,i){var r=-1,o=t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function he(t,e,n,i){var r=t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function de(t,e){for(var n=-1,i=t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function fe(t,e){for(var n=t.length,i=0;n--;)i+=+e(t[n])||0;return i}function pe(t,e){return t===_?e:t}function ge(t,e,n,i){return t!==_&&es.call(i,n)?t:e}function me(t,e,n){for(var i=-1,r=Na(e),o=r.length;++i<o;){var s=r[i],a=t[s],l=n(a,e[s],s,t,e);(l===l?l===a:a!==a)&&(a!==_||s in t)||(t[s]=l)}return t}function ve(t,e){return null==e?t:be(e,Na(e),t)}function ye(t,e){for(var n=-1,i=null==t,r=!i&&Jn(t),o=r?t.length:0,s=e.length,a=zo(s);++n<s;){var l=e[n];r?a[n]=Zn(l,o)?t[l]:_:a[n]=i?_:t[l]}return a}function be(t,e,n){n||(n={});for(var i=-1,r=e.length;++i<r;){var o=e[i];n[o]=t[o]}return n}function we(t,e,n){var i=typeof t;return"function"==i?e===_?t:sn(t,e,n):null==t?ko:"object"==i?je(t):e===_?Oo(t):Ne(t,e)}function xe(t,e,n,i,r,o,s){var a;if(n&&(a=r?n(t,i,r):n(t)),a!==_)return a;if(!Or(t))return t;var l=Da(t);if(l){if(a=qn(t),!e)return ne(t,a)}else{var u=is.call(t),c=u==q;if(u!=G&&u!=U&&(!c||r))return Nt[u]?Xn(t,u,e):r?t:{};if(a=Kn(c?{}:t),!e)return ve(a,t)}o||(o=[]),s||(s=[]);for(var h=o.length;h--;)if(o[h]==t)return s[h];return o.push(t),s.push(a),(l?ie:Fe)(t,function(i,r){a[r]=xe(i,e,n,r,t,o,s)}),a}function _e(t,e,n){if("function"!=typeof t)throw new Go(N);return ds(function(){t.apply(_,n)},e)}function $e(t,e){var i=t?t.length:0,r=[];if(!i)return r;var o=-1,s=Vn(),a=s===n,l=a&&e.length>=I?gn(e):null,u=e.length;l&&(s=Jt,a=!1,e=l);t:for(;++o<i;){var c=t[o];if(a&&c===c){for(var h=u;h--;)if(e[h]===c)continue t;r.push(c)}else s(e,c,0)<0&&r.push(c)}return r}function Ce(t,e){var n=!0;return Bs(t,function(t,i,r){return n=!!e(t,i,r)}),n}function Ae(t,e,n,i){var r=i,o=r;return Bs(t,function(t,s,a){var l=+e(t,s,a);(n(l,r)||l===i&&l===o)&&(r=l,o=t)}),o}function Ee(t,e,n,i){var r=t.length;for(n=null==n?0:+n||0,0>n&&(n=-n>r?0:r+n),i=i===_||i>r?r:+i||0,0>i&&(i+=r),r=n>i?0:i>>>0,n>>>=0;r>n;)t[n++]=e;return t}function Se(t,e){var n=[];return Bs(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function ke(t,e,n,i){var r;return n(t,function(t,n,o){return e(t,n,o)?(r=i?n:t,!1):void 0}),r}function De(t,e,n,i){i||(i=[]);for(var r=-1,o=t.length;++r<o;){var s=t[r];p(s)&&Jn(s)&&(n||Da(s)||Ar(s))?e?De(s,e,n,i):ue(i,s):n||(i[i.length]=s)}return i}function Te(t,e){return Rs(t,e,to)}function Fe(t,e){return Rs(t,e,Na)}function Me(t,e){return js(t,e,Na)}function Le(t,e){for(var n=-1,i=e.length,r=-1,o=[];++n<i;){var s=e[n];Lr(t[s])&&(o[++r]=s)}return o}function Oe(t,e,n){if(null!=t){n!==_&&n in hi(t)&&(e=[n]);for(var i=0,r=e.length;null!=t&&r>i;)t=t[e[i++]];return i&&i==r?t:_}}function Pe(t,e,n,i,r,o){return t===e?!0:null==t||null==e||!Or(t)&&!p(e)?t!==t&&e!==e:Be(t,e,Pe,n,i,r,o)}function Be(t,e,n,i,r,o,s){var a=Da(t),l=Da(e),u=V,c=V;a||(u=is.call(t),u==U?u=G:u!=G&&(a=Vr(t))),l||(c=is.call(e),c==U?c=G:c!=G&&(l=Vr(e)));var h=u==G,d=c==G,f=u==c;if(f&&!a&&!h)return jn(t,e,u);if(!r){var p=h&&es.call(t,"__wrapped__"),g=d&&es.call(e,"__wrapped__");if(p||g)return n(p?t.value():t,g?e.value():e,i,r,o,s)}if(!f)return!1;o||(o=[]),s||(s=[]);for(var m=o.length;m--;)if(o[m]==t)return s[m]==e;o.push(t),s.push(e);var v=(a?Rn:Nn)(t,e,n,i,r,o,s);return o.pop(),s.pop(),v}function Ie(t,e,n){var i=e.length,r=i,o=!n;if(null==t)return!r;for(t=hi(t);i--;){var s=e[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<r;){s=e[i];var a=s[0],l=t[a],u=s[1];if(o&&s[2]){if(l===_&&!(a in t))return!1}else{var c=n?n(l,u,a):_;if(!(c===_?Pe(u,l,n,!0):c))return!1}}return!0}function Re(t,e){var n=-1,i=Jn(t)?zo(t.length):[];return Bs(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function je(t){var e=Hn(t);if(1==e.length&&e[0][2]){var n=e[0][0],i=e[0][1];return function(t){return null==t?!1:t[n]===i&&(i!==_||n in hi(t))}}return function(t){return Ie(t,e)}}function Ne(t,e){var n=Da(t),i=ti(t)&&ii(e),r=t+"";return t=di(t),function(o){if(null==o)return!1;var s=r;if(o=hi(o),(n||!i)&&!(s in o)){if(o=1==t.length?o:Oe(o,Ke(t,0,-1)),null==o)return!1;s=Ei(t),o=hi(o)}return o[s]===e?e!==_||s in o:Pe(e,o[s],_,!0)}}function ze(t,e,n,i,r){if(!Or(t))return t;var o=Jn(e)&&(Da(e)||Vr(e)),s=o?_:Na(e);return ie(s||e,function(a,l){if(s&&(l=a,a=e[l]),p(a))i||(i=[]),r||(r=[]),Ue(t,e,l,ze,n,i,r);else{var u=t[l],c=n?n(u,a,l,t,e):_,h=c===_;h&&(c=a),c===_&&(!o||l in t)||!h&&(c===c?c===u:u!==u)||(t[l]=c)}}),t}function Ue(t,e,n,i,r,o,s){for(var a=o.length,l=e[n];a--;)if(o[a]==l)return void(t[n]=s[a]);var u=t[n],c=r?r(u,l,n,t,e):_,h=c===_;h&&(c=l,Jn(l)&&(Da(l)||Vr(l))?c=Da(u)?u:Jn(u)?ne(u):[]:Nr(l)||Ar(l)?c=Ar(u)?Kr(u):Nr(u)?u:{}:h=!1),o.push(l),s.push(c),h?t[n]=i(c,l,r,o,s):(c===c?c!==u:u===u)&&(t[n]=c)}function Ve(t){return function(e){return null==e?_:e[t]}}function He(t){var e=t+"";return t=di(t),function(n){return Oe(n,t,e)}}function We(t,e){for(var n=t?e.length:0;n--;){var i=e[n];if(i!=r&&Zn(i)){var r=i;fs.call(t,i,1)}}return t}function Ye(t,e){return t+ys(Es()*(e-t+1))}function qe(t,e,n,i,r){return r(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}function Ke(t,e,n){var i=-1,r=t.length;e=null==e?0:+e||0,0>e&&(e=-e>r?0:r+e),n=n===_||n>r?r:+n||0,0>n&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=zo(r);++i<r;)o[i]=t[i+e];return o}function Xe(t,e){var n;return Bs(t,function(t,i,r){return n=e(t,i,r),!n}),!!n}function Ge(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function Je(t,e,n){var i=zn(),r=-1;e=le(e,function(t){return i(t)});var o=Re(t,function(t){var n=le(e,function(e){return e(t)});return{criteria:n,index:++r,value:t}});return Ge(o,function(t,e){return l(t,e,n)})}function Ze(t,e){var n=0;return Bs(t,function(t,i,r){n+=+e(t,i,r)||0}),n}function Qe(t,e){var i=-1,r=Vn(),o=t.length,s=r===n,a=s&&o>=I,l=a?gn():null,u=[];l?(r=Jt,s=!1):(a=!1,l=e?[]:u);t:for(;++i<o;){var c=t[i],h=e?e(c,i,t):c;if(s&&c===c){for(var d=l.length;d--;)if(l[d]===h)continue t;e&&l.push(h),u.push(c)}else r(l,h,0)<0&&((e||a)&&l.push(h),u.push(c))}return u}function tn(t,e){for(var n=-1,i=e.length,r=zo(i);++n<i;)r[n]=t[e[n]];return r}function en(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?Ke(t,i?0:o,i?o+1:r):Ke(t,i?o+1:0,i?r:o)}function nn(t,e){var n=t;n instanceof zt&&(n=n.value());for(var i=-1,r=e.length;++i<r;){var o=e[i];n=o.func.apply(o.thisArg,ue([n],o.args))}return n}function rn(t,e,n){var i=0,r=t?t.length:i;if("number"==typeof e&&e===e&&Fs>=r){for(;r>i;){var o=i+r>>>1,s=t[o];(n?e>=s:e>s)&&null!==s?i=o+1:r=o}return r}return on(t,e,ko,n)}function on(t,e,n,i){e=n(e);for(var r=0,o=t?t.length:0,s=e!==e,a=null===e,l=e===_;o>r;){var u=ys((r+o)/2),c=n(t[u]),h=c!==_,d=c===c;if(s)var f=d||i;else f=a?d&&h&&(i||null!=c):l?d&&(i||h):null==c?!1:i?e>=c:e>c;f?r=u+1:o=u}return $s(o,Ts)}function sn(t,e,n){if("function"!=typeof t)return ko;if(e===_)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)};case 5:return function(n,i,r,o,s){return t.call(e,n,i,r,o,s)}}return function(){return t.apply(e,arguments)}}function an(t){var e=new ss(t.byteLength),n=new ps(e);return n.set(new ps(t)),e}function ln(t,e,n){for(var i=n.length,r=-1,o=_s(t.length-i,0),s=-1,a=e.length,l=zo(a+o);++s<a;)l[s]=e[s];for(;++r<i;)l[n[r]]=t[r];for(;o--;)l[s++]=t[r++];return l}function un(t,e,n){for(var i=-1,r=n.length,o=-1,s=_s(t.length-r,0),a=-1,l=e.length,u=zo(s+l);++o<s;)u[o]=t[o];for(var c=o;++a<l;)u[c+a]=e[a];for(;++i<r;)u[c+n[i]]=t[o++];return u}function cn(t,e){return function(n,i,r){var o=e?e():{};if(i=zn(i,r,3),Da(n))for(var s=-1,a=n.length;++s<a;){var l=n[s];t(o,l,i(l,s,n),n)}else Bs(n,function(e,n,r){t(o,e,i(e,n,r),r)});return o}}function hn(t){return vr(function(e,n){var i=-1,r=null==e?0:n.length,o=r>2?n[r-2]:_,s=r>2?n[2]:_,a=r>1?n[r-1]:_;for("function"==typeof o?(o=sn(o,a,5),r-=2):(o="function"==typeof a?a:_,r-=o?1:0),s&&Qn(n[0],n[1],s)&&(o=3>r?_:o,r=1);++i<r;){var l=n[i];l&&t(e,l,o)}return e})}function dn(t,e){return function(n,i){var r=n?Us(n):0;if(!ni(r))return t(n,i);for(var o=e?r:-1,s=hi(n);(e?o--:++o<r)&&i(s[o],o,s)!==!1;);return n}}function fn(t){return function(e,n,i){for(var r=hi(e),o=i(e),s=o.length,a=t?s:-1;t?a--:++a<s;){var l=o[a];if(n(r[l],l,r)===!1)break}return e}}function pn(t,e){function n(){var r=this&&this!==Qt&&this instanceof n?i:t;return r.apply(e,arguments)}var i=vn(t);return n}function gn(t){return vs&&hs?new Gt(t):null}function mn(t){return function(e){for(var n=-1,i=Ao(co(e)),r=i.length,o="";++n<r;)o=t(o,i[n],n);return o}}function vn(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Ps(t.prototype),i=t.apply(n,e);return Or(i)?i:n}}function yn(t){function e(n,i,r){r&&Qn(n,i,r)&&(i=_);var o=In(n,t,_,_,_,_,_,i);return o.placeholder=e.placeholder,o}return e}function bn(t,e){return vr(function(n){var i=n[0];return null==i?i:(n.push(e),t.apply(_,n))})}function wn(t,e){return function(n,i,r){if(r&&Qn(n,i,r)&&(i=_),i=zn(i,r,3),1==i.length){n=Da(n)?n:ci(n);var o=se(n,i,t,e);if(!n.length||o!==e)return o}return Ae(n,i,t,e)}}function xn(t,n){return function(i,r,o){if(r=zn(r,o,3),Da(i)){var s=e(i,r,n);return s>-1?i[s]:_}return ke(i,r,t)}}function _n(t){return function(n,i,r){return n&&n.length?(i=zn(i,r,3),e(n,i,t)):-1}}function $n(t){return function(e,n,i){return n=zn(n,i,3),ke(e,n,t,!0)}}function Cn(t){return function(){for(var e,n=arguments.length,i=t?n:-1,r=0,o=zo(n);t?i--:++i<n;){var s=o[r++]=arguments[i];if("function"!=typeof s)throw new Go(N);!e&&tt.prototype.thru&&"wrapper"==Un(s)&&(e=new tt([],!0))}for(i=e?-1:n;++i<n;){s=o[i];var a=Un(s),l="wrapper"==a?zs(s):_;e=l&&ei(l[0])&&l[1]==(F|S|D|M)&&!l[4].length&&1==l[9]?e[Un(l[0])].apply(e,l[3]):1==s.length&&ei(s)?e[a]():e.thru(s)}return function(){var t=arguments,i=t[0];if(e&&1==t.length&&Da(i)&&i.length>=I)return e.plant(i).value();for(var r=0,s=n?o[r].apply(this,t):i;++r<n;)s=o[r].call(this,s);return s}}}function An(t,e){return function(n,i,r){return"function"==typeof i&&r===_&&Da(n)?t(n,i):e(n,sn(i,r,3))}}function En(t){return function(e,n,i){return("function"!=typeof n||i!==_)&&(n=sn(n,i,3)),t(e,n,to)}}function Sn(t){return function(e,n,i){return("function"!=typeof n||i!==_)&&(n=sn(n,i,3)),t(e,n)}}function kn(t){return function(e,n,i){var r={};return n=zn(n,i,3),Fe(e,function(e,i,o){var s=n(e,i,o);i=t?s:i,e=t?e:s,r[i]=e}),r}}function Dn(t){return function(e,n,i){return e=r(e),(t?e:"")+Ln(e,n,i)+(t?"":e)}}function Tn(t){var e=vr(function(n,i){var r=m(i,e.placeholder);return In(n,t,_,i,r)});return e}function Fn(t,e){return function(n,i,r,o){var s=arguments.length<3;return"function"==typeof i&&o===_&&Da(n)?t(n,i,r,s):qe(n,zn(i,o,4),r,s,e)}}function Mn(t,e,n,i,r,o,s,a,l,u){function c(){for(var b=arguments.length,w=b,x=zo(b);w--;)x[w]=arguments[w];if(i&&(x=ln(x,i,r)),o&&(x=un(x,o,s)),p||v){var $=c.placeholder,E=m(x,$);if(b-=E.length,u>b){var S=a?ne(a):_,k=_s(u-b,0),F=p?E:_,M=p?_:E,L=p?x:_,O=p?_:x;e|=p?D:T,e&=~(p?T:D),g||(e&=~(C|A));var P=[t,e,n,L,F,O,M,S,l,k],B=Mn.apply(_,P);return ei(t)&&Vs(B,P),B.placeholder=$,B}}var I=d?n:this,R=f?I[t]:t;return a&&(x=li(x,a)),h&&l<x.length&&(x.length=l),this&&this!==Qt&&this instanceof c&&(R=y||vn(t)),R.apply(I,x)}var h=e&F,d=e&C,f=e&A,p=e&S,g=e&E,v=e&k,y=f?_:vn(t);return c}function Ln(t,e,n){var i=t.length;if(e=+e,i>=e||!ws(e))return"";var r=e-i;return n=null==n?" ":n+"",vo(n,ms(r/n.length)).slice(0,r)}function On(t,e,n,i){function r(){for(var e=-1,a=arguments.length,l=-1,u=i.length,c=zo(u+a);++l<u;)c[l]=i[l];for(;a--;)c[l++]=arguments[++e];var h=this&&this!==Qt&&this instanceof r?s:t;return h.apply(o?n:this,c)}var o=e&C,s=vn(t);return r}function Pn(t){var e=Wo[t];return function(t,n){return n=n===_?0:+n||0,n?(n=us(10,n),e(t*n)/n):e(t)}}function Bn(t){return function(e,n,i,r){var o=zn(i);return null==i&&o===we?rn(e,n,t):on(e,n,o(i,r,1),t)}}function In(t,e,n,i,r,o,s,a){var l=e&A;if(!l&&"function"!=typeof t)throw new Go(N);var u=i?i.length:0;if(u||(e&=~(D|T),i=r=_),u-=r?r.length:0,e&T){var c=i,h=r;i=r=_}var d=l?_:zs(t),f=[t,e,n,i,r,c,h,o,s,a];if(d&&(ri(f,d),e=f[1],a=f[9]),f[9]=null==a?l?0:t.length:_s(a-u,0)||0,e==C)var p=pn(f[0],f[2]);else p=e!=D&&e!=(C|D)||f[4].length?Mn.apply(_,f):On.apply(_,f);var g=d?Ns:Vs;return g(p,f)}function Rn(t,e,n,i,r,o,s){var a=-1,l=t.length,u=e.length;if(l!=u&&!(r&&u>l))return!1;for(;++a<l;){var c=t[a],h=e[a],d=i?i(r?h:c,r?c:h,a):_;if(d!==_){if(d)continue;return!1}if(r){if(!de(e,function(t){return c===t||n(c,t,i,r,o,s)}))return!1}else if(c!==h&&!n(c,h,i,r,o,s))return!1}return!0}function jn(t,e,n){switch(n){case H:case W:return+t==+e;case Y:return t.name==e.name&&t.message==e.message;case X:return t!=+t?e!=+e:t==+e;case J:case Q:return t==e+""}return!1}function Nn(t,e,n,i,r,o,s){var a=Na(t),l=a.length,u=Na(e),c=u.length;if(l!=c&&!r)return!1;for(var h=l;h--;){var d=a[h];if(!(r?d in e:es.call(e,d)))return!1}for(var f=r;++h<l;){d=a[h];var p=t[d],g=e[d],m=i?i(r?g:p,r?p:g,d):_;if(!(m===_?n(p,g,i,r,o,s):m))return!1;f||(f="constructor"==d)}if(!f){var v=t.constructor,y=e.constructor;if(v!=y&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y))return!1}return!0}function zn(t,e,n){var i=K.callback||Eo;return i=i===Eo?we:i,n?i(t,e,n):i}function Un(t){for(var e=t.name+"",n=Os[e],i=n?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function Vn(t,e,i){var r=K.indexOf||Ci;return r=r===Ci?n:r,t?r(t,e,i):r}function Hn(t){for(var e=eo(t),n=e.length;n--;)e[n][2]=ii(e[n][1]);return e}function Wn(t,e){var n=null==t?_:t[e];return Ir(n)?n:_}function Yn(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=$s(e,t+s);break;case"takeRight":t=_s(t,e-s)}}return{start:t,end:e}}function qn(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&es.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Kn(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=qo),new e}function Xn(t,e,n){var i=t.constructor;switch(e){case et:return an(t);case H:case W:return new i(+t);case nt:case it:case rt:case ot:case st:case at:case lt:case ut:case ct:var r=t.buffer;return new i(n?an(r):r,t.byteOffset,t.length);case X:case Q:return new i(t);case J:var o=new i(t.source,Dt.exec(t));o.lastIndex=t.lastIndex}return o}function Gn(t,e,n){null==t||ti(e,t)||(e=di(e),t=1==e.length?t:Oe(t,Ke(e,0,-1)),e=Ei(e));var i=null==t?t:t[e];return null==i?_:i.apply(t,n)}function Jn(t){return null!=t&&ni(Us(t))}function Zn(t,e){return t="number"==typeof t||Mt.test(t)?+t:-1,e=null==e?Ms:e,t>-1&&t%1==0&&e>t}function Qn(t,e,n){if(!Or(n))return!1;var i=typeof e;if("number"==i?Jn(n)&&Zn(e,n.length):"string"==i&&e in n){var r=n[e];return t===t?t===r:r!==r}return!1}function ti(t,e){var n=typeof t;if("string"==n&&_t.test(t)||"number"==n)return!0;if(Da(t))return!1;var i=!xt.test(t);return i||null!=e&&t in hi(e)}function ei(t){var e=Un(t),n=K[e];if("function"!=typeof n||!(e in zt.prototype))return!1;if(t===n)return!0;var i=zs(n);return!!i&&t===i[0]}function ni(t){return"number"==typeof t&&t>-1&&t%1==0&&Ms>=t}function ii(t){return t===t&&!Or(t)}function ri(t,e){var n=t[1],i=e[1],r=n|i,o=F>r,s=i==F&&n==S||i==F&&n==M&&t[7].length<=e[8]||i==(F|M)&&n==S;if(!o&&!s)return t;i&C&&(t[2]=e[2],r|=n&C?0:E);var a=e[3];if(a){var l=t[3];t[3]=l?ln(l,a,e[4]):ne(a),t[4]=l?m(t[3],z):ne(e[4])}return a=e[5],a&&(l=t[5],t[5]=l?un(l,a,e[6]):ne(a),t[6]=l?m(t[5],z):ne(e[6])),a=e[7],a&&(t[7]=ne(a)),i&F&&(t[8]=null==t[8]?e[8]:$s(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r,t}function oi(t,e){return t===_?e:Ta(t,e,oi)}function si(t,e){t=hi(t);for(var n=-1,i=e.length,r={};++n<i;){var o=e[n];o in t&&(r[o]=t[o])}return r}function ai(t,e){var n={};return Te(t,function(t,i,r){e(t,i,r)&&(n[i]=t)}),n}function li(t,e){for(var n=t.length,i=$s(e.length,n),r=ne(t);i--;){var o=e[i];t[i]=Zn(o,n)?r[o]:_}return t}function ui(t){for(var e=to(t),n=e.length,i=n&&t.length,r=!!i&&ni(i)&&(Da(t)||Ar(t)),o=-1,s=[];++o<n;){var a=e[o];(r&&Zn(a,i)||es.call(t,a))&&s.push(a)}return s}function ci(t){return null==t?[]:Jn(t)?Or(t)?t:qo(t):oo(t)}function hi(t){return Or(t)?t:qo(t)}function di(t){if(Da(t))return t;var e=[];return r(t).replace($t,function(t,n,i,r){e.push(i?r.replace(St,"$1"):n||t)}),e}function fi(t){return t instanceof zt?t.clone():new tt(t.__wrapped__,t.__chain__,ne(t.__actions__))}function pi(t,e,n){e=(n?Qn(t,e,n):null==e)?1:_s(ys(e)||1,1);for(var i=0,r=t?t.length:0,o=-1,s=zo(ms(r/e));r>i;)s[++o]=Ke(t,i,i+=e);return s}function gi(t){for(var e=-1,n=t?t.length:0,i=-1,r=[];++e<n;){var o=t[e];o&&(r[++i]=o)}return r}function mi(t,e,n){var i=t?t.length:0;return i?((n?Qn(t,e,n):null==e)&&(e=1),Ke(t,0>e?0:e)):[]}function vi(t,e,n){var i=t?t.length:0;return i?((n?Qn(t,e,n):null==e)&&(e=1),e=i-(+e||0),Ke(t,0,0>e?0:e)):[]}function yi(t,e,n){return t&&t.length?en(t,zn(e,n,3),!0,!0):[]}function bi(t,e,n){return t&&t.length?en(t,zn(e,n,3),!0):[]}function wi(t,e,n,i){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&Qn(t,e,n)&&(n=0,
i=r),Ee(t,e,n,i)):[]}function xi(t){return t?t[0]:_}function _i(t,e,n){var i=t?t.length:0;return n&&Qn(t,e,n)&&(e=!1),i?De(t,e):[]}function $i(t){var e=t?t.length:0;return e?De(t,!0):[]}function Ci(t,e,i){var r=t?t.length:0;if(!r)return-1;if("number"==typeof i)i=0>i?_s(r+i,0):i;else if(i){var o=rn(t,e);return r>o&&(e===e?e===t[o]:t[o]!==t[o])?o:-1}return n(t,e,i||0)}function Ai(t){return vi(t,1)}function Ei(t){var e=t?t.length:0;return e?t[e-1]:_}function Si(t,e,n){var i=t?t.length:0;if(!i)return-1;var r=i;if("number"==typeof n)r=(0>n?_s(i+n,0):$s(n||0,i-1))+1;else if(n){r=rn(t,e,!0)-1;var o=t[r];return(e===e?e===o:o!==o)?r:-1}if(e!==e)return f(t,r,!0);for(;r--;)if(t[r]===e)return r;return-1}function ki(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var n=0,i=Vn(),r=t.length;++n<r;)for(var o=0,s=t[n];(o=i(e,s,o))>-1;)fs.call(e,o,1);return e}function Di(t,e,n){var i=[];if(!t||!t.length)return i;var r=-1,o=[],s=t.length;for(e=zn(e,n,3);++r<s;){var a=t[r];e(a,r,t)&&(i.push(a),o.push(r))}return We(t,o),i}function Ti(t){return mi(t,1)}function Fi(t,e,n){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&Qn(t,e,n)&&(e=0,n=i),Ke(t,e,n)):[]}function Mi(t,e,n){var i=t?t.length:0;return i?((n?Qn(t,e,n):null==e)&&(e=1),Ke(t,0,0>e?0:e)):[]}function Li(t,e,n){var i=t?t.length:0;return i?((n?Qn(t,e,n):null==e)&&(e=1),e=i-(+e||0),Ke(t,0>e?0:e)):[]}function Oi(t,e,n){return t&&t.length?en(t,zn(e,n,3),!1,!0):[]}function Pi(t,e,n){return t&&t.length?en(t,zn(e,n,3)):[]}function Bi(t,e,i,r){var o=t?t.length:0;if(!o)return[];null!=e&&"boolean"!=typeof e&&(r=i,i=Qn(t,e,r)?_:e,e=!1);var s=zn();return(null!=i||s!==we)&&(i=s(i,r,3)),e&&Vn()===n?v(t,i):Qe(t,i)}function Ii(t){if(!t||!t.length)return[];var e=-1,n=0;t=ae(t,function(t){return Jn(t)?(n=_s(t.length,n),!0):void 0});for(var i=zo(n);++e<n;)i[e]=le(t,Ve(e));return i}function Ri(t,e,n){var i=t?t.length:0;if(!i)return[];var r=Ii(t);return null==e?r:(e=sn(e,n,4),le(r,function(t){return ce(t,e,_,!0)}))}function ji(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(Jn(n))var i=i?ue($e(i,n),$e(n,i)):n}return i?Qe(i):[]}function Ni(t,e){var n=-1,i=t?t.length:0,r={};for(!i||e||Da(t[0])||(e=[]);++n<i;){var o=t[n];e?r[o]=e[n]:o&&(r[o[0]]=o[1])}return r}function zi(t){var e=K(t);return e.__chain__=!0,e}function Ui(t,e,n){return e.call(n,t),t}function Vi(t,e,n){return e.call(n,t)}function Hi(){return zi(this)}function Wi(){return new tt(this.value(),this.__chain__)}function Yi(t){for(var e,n=this;n instanceof Z;){var i=fi(n);e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e}function qi(){var t=this.__wrapped__,e=function(t){return t.reverse()};if(t instanceof zt){var n=t;return this.__actions__.length&&(n=new zt(this)),n=n.reverse(),n.__actions__.push({func:Vi,args:[e],thisArg:_}),new tt(n,this.__chain__)}return this.thru(e)}function Ki(){return this.value()+""}function Xi(){return nn(this.__wrapped__,this.__actions__)}function Gi(t,e,n){var i=Da(t)?oe:Ce;return n&&Qn(t,e,n)&&(e=_),("function"!=typeof e||n!==_)&&(e=zn(e,n,3)),i(t,e)}function Ji(t,e,n){var i=Da(t)?ae:Se;return e=zn(e,n,3),i(t,e)}function Zi(t,e){return ra(t,je(e))}function Qi(t,e,n,i){var r=t?Us(t):0;return ni(r)||(t=oo(t),r=t.length),n="number"!=typeof n||i&&Qn(e,n,i)?0:0>n?_s(r+n,0):n||0,"string"==typeof t||!Da(t)&&Ur(t)?r>=n&&t.indexOf(e,n)>-1:!!r&&Vn(t,e,n)>-1}function tr(t,e,n){var i=Da(t)?le:Re;return e=zn(e,n,3),i(t,e)}function er(t,e){return tr(t,Oo(e))}function nr(t,e,n){var i=Da(t)?ae:Se;return e=zn(e,n,3),i(t,function(t,n,i){return!e(t,n,i)})}function ir(t,e,n){if(n?Qn(t,e,n):null==e){t=ci(t);var i=t.length;return i>0?t[Ye(0,i-1)]:_}var r=-1,o=qr(t),i=o.length,s=i-1;for(e=$s(0>e?0:+e||0,i);++r<e;){var a=Ye(r,s),l=o[a];o[a]=o[r],o[r]=l}return o.length=e,o}function rr(t){return ir(t,ks)}function or(t){var e=t?Us(t):0;return ni(e)?e:Na(t).length}function sr(t,e,n){var i=Da(t)?de:Xe;return n&&Qn(t,e,n)&&(e=_),("function"!=typeof e||n!==_)&&(e=zn(e,n,3)),i(t,e)}function ar(t,e,n){if(null==t)return[];n&&Qn(t,e,n)&&(e=_);var i=-1;e=zn(e,n,3);var r=Re(t,function(t,n,r){return{criteria:e(t,n,r),index:++i,value:t}});return Ge(r,a)}function lr(t,e,n,i){return null==t?[]:(i&&Qn(e,n,i)&&(n=_),Da(e)||(e=null==e?[]:[e]),Da(n)||(n=null==n?[]:[n]),Je(t,e,n))}function ur(t,e){return Ji(t,je(e))}function cr(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new Go(N);var n=t;t=e,e=n}return t=ws(t=+t)?t:0,function(){return--t<1?e.apply(this,arguments):void 0}}function hr(t,e,n){return n&&Qn(t,e,n)&&(e=_),e=t&&null==e?t.length:_s(+e||0,0),In(t,F,_,_,_,_,e)}function dr(t,e){var n;if("function"!=typeof e){if("function"!=typeof t)throw new Go(N);var i=t;t=e,e=i}return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=_),n}}function fr(t,e,n){function i(){f&&as(f),u&&as(u),g=0,u=f=p=_}function r(e,n){n&&as(n),u=f=p=_,e&&(g=ga(),c=t.apply(d,l),f||u||(l=d=_))}function o(){var t=e-(ga()-h);0>=t||t>e?r(p,u):f=ds(o,t)}function s(){r(v,f)}function a(){if(l=arguments,h=ga(),d=this,p=v&&(f||!y),m===!1)var n=y&&!f;else{u||y||(g=h);var i=m-(h-g),r=0>=i||i>m;r?(u&&(u=as(u)),g=h,c=t.apply(d,l)):u||(u=ds(s,i))}return r&&f?f=as(f):f||e===m||(f=ds(o,e)),n&&(r=!0,c=t.apply(d,l)),!r||f||u||(l=d=_),c}var l,u,c,h,d,f,p,g=0,m=!1,v=!0;if("function"!=typeof t)throw new Go(N);if(e=0>e?0:+e||0,n===!0){var y=!0;v=!1}else Or(n)&&(y=!!n.leading,m="maxWait"in n&&_s(+n.maxWait||0,e),v="trailing"in n?!!n.trailing:v);return a.cancel=i,a}function pr(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new Go(N);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s),s};return n.cache=new pr.Cache,n}function gr(t){if("function"!=typeof t)throw new Go(N);return function(){return!t.apply(this,arguments)}}function mr(t){return dr(2,t)}function vr(t,e){if("function"!=typeof t)throw new Go(N);return e=_s(e===_?t.length-1:+e||0,0),function(){for(var n=arguments,i=-1,r=_s(n.length-e,0),o=zo(r);++i<r;)o[i]=n[e+i];switch(e){case 0:return t.call(this,o);case 1:return t.call(this,n[0],o);case 2:return t.call(this,n[0],n[1],o)}var s=zo(e+1);for(i=-1;++i<e;)s[i]=n[i];return s[e]=o,t.apply(this,s)}}function yr(t){if("function"!=typeof t)throw new Go(N);return function(e){return t.apply(this,e)}}function br(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new Go(N);return n===!1?i=!1:Or(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),fr(t,e,{leading:i,maxWait:+e,trailing:r})}function wr(t,e){return e=null==e?ko:e,In(e,D,_,[t],[])}function xr(t,e,n,i){return e&&"boolean"!=typeof e&&Qn(t,e,n)?e=!1:"function"==typeof e&&(i=n,n=e,e=!1),"function"==typeof n?xe(t,e,sn(n,i,3)):xe(t,e)}function _r(t,e,n){return"function"==typeof e?xe(t,!0,sn(e,n,3)):xe(t,!0)}function $r(t,e){return t>e}function Cr(t,e){return t>=e}function Ar(t){return p(t)&&Jn(t)&&es.call(t,"callee")&&!cs.call(t,"callee")}function Er(t){return t===!0||t===!1||p(t)&&is.call(t)==H}function Sr(t){return p(t)&&is.call(t)==W}function kr(t){return!!t&&1===t.nodeType&&p(t)&&!Nr(t)}function Dr(t){return null==t?!0:Jn(t)&&(Da(t)||Ur(t)||Ar(t)||p(t)&&Lr(t.splice))?!t.length:!Na(t).length}function Tr(t,e,n,i){n="function"==typeof n?sn(n,i,3):_;var r=n?n(t,e):_;return r===_?Pe(t,e,n):!!r}function Fr(t){return p(t)&&"string"==typeof t.message&&is.call(t)==Y}function Mr(t){return"number"==typeof t&&ws(t)}function Lr(t){return Or(t)&&is.call(t)==q}function Or(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Pr(t,e,n,i){return n="function"==typeof n?sn(n,i,3):_,Ie(t,Hn(e),n)}function Br(t){return jr(t)&&t!=+t}function Ir(t){return null==t?!1:Lr(t)?os.test(ts.call(t)):p(t)&&Ft.test(t)}function Rr(t){return null===t}function jr(t){return"number"==typeof t||p(t)&&is.call(t)==X}function Nr(t){var e;if(!p(t)||is.call(t)!=G||Ar(t)||!es.call(t,"constructor")&&(e=t.constructor,"function"==typeof e&&!(e instanceof e)))return!1;var n;return Te(t,function(t,e){n=e}),n===_||es.call(t,n)}function zr(t){return Or(t)&&is.call(t)==J}function Ur(t){return"string"==typeof t||p(t)&&is.call(t)==Q}function Vr(t){return p(t)&&ni(t.length)&&!!jt[is.call(t)]}function Hr(t){return t===_}function Wr(t,e){return e>t}function Yr(t,e){return e>=t}function qr(t){var e=t?Us(t):0;return ni(e)?e?ne(t):[]:oo(t)}function Kr(t){return be(t,to(t))}function Xr(t,e,n){var i=Ps(t);return n&&Qn(t,e,n)&&(e=_),e?ve(i,e):i}function Gr(t){return Le(t,to(t))}function Jr(t,e,n){var i=null==t?_:Oe(t,di(e),e+"");return i===_?n:i}function Zr(t,e){if(null==t)return!1;var n=es.call(t,e);if(!n&&!ti(e)){if(e=di(e),t=1==e.length?t:Oe(t,Ke(e,0,-1)),null==t)return!1;e=Ei(e),n=es.call(t,e)}return n||ni(t.length)&&Zn(e,t.length)&&(Da(t)||Ar(t))}function Qr(t,e,n){n&&Qn(t,e,n)&&(e=_);for(var i=-1,r=Na(t),o=r.length,s={};++i<o;){var a=r[i],l=t[a];e?es.call(s,l)?s[l].push(a):s[l]=[a]:s[l]=a}return s}function to(t){if(null==t)return[];Or(t)||(t=qo(t));var e=t.length;e=e&&ni(e)&&(Da(t)||Ar(t))&&e||0;for(var n=t.constructor,i=-1,r="function"==typeof n&&n.prototype===t,o=zo(e),s=e>0;++i<e;)o[i]=i+"";for(var a in t)s&&Zn(a,e)||"constructor"==a&&(r||!es.call(t,a))||o.push(a);return o}function eo(t){t=hi(t);for(var e=-1,n=Na(t),i=n.length,r=zo(i);++e<i;){var o=n[e];r[e]=[o,t[o]]}return r}function no(t,e,n){var i=null==t?_:t[e];return i===_&&(null==t||ti(e,t)||(e=di(e),t=1==e.length?t:Oe(t,Ke(e,0,-1)),i=null==t?_:t[Ei(e)]),i=i===_?n:i),Lr(i)?i.call(t):i}function io(t,e,n){if(null==t)return t;var i=e+"";e=null!=t[i]||ti(e,t)?[i]:di(e);for(var r=-1,o=e.length,s=o-1,a=t;null!=a&&++r<o;){var l=e[r];Or(a)&&(r==s?a[l]=n:null==a[l]&&(a[l]=Zn(e[r+1])?[]:{})),a=a[l]}return t}function ro(t,e,n,i){var r=Da(t)||Vr(t);if(e=zn(e,i,4),null==n)if(r||Or(t)){var o=t.constructor;n=r?Da(t)?new o:[]:Ps(Lr(o)?o.prototype:_)}else n={};return(r?ie:Fe)(t,function(t,i,r){return e(n,t,i,r)}),n}function oo(t){return tn(t,Na(t))}function so(t){return tn(t,to(t))}function ao(t,e,n){return e=+e||0,n===_?(n=e,e=0):n=+n||0,t>=$s(e,n)&&t<_s(e,n)}function lo(t,e,n){n&&Qn(t,e,n)&&(e=n=_);var i=null==t,r=null==e;if(null==n&&(r&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,r=!0)),i&&r&&(e=1,r=!1),t=+t||0,r?(e=t,t=0):e=+e||0,n||t%1||e%1){var o=Es();return $s(t+o*(e-t+ls("1e-"+((o+"").length-1))),e)}return Ye(t,e)}function uo(t){return t=r(t),t&&t.charAt(0).toUpperCase()+t.slice(1)}function co(t){return t=r(t),t&&t.replace(Lt,u).replace(Et,"")}function ho(t,e,n){t=r(t),e+="";var i=t.length;return n=n===_?i:$s(0>n?0:+n||0,i),n-=e.length,n>=0&&t.indexOf(e,n)==n}function fo(t){return t=r(t),t&&vt.test(t)?t.replace(gt,c):t}function po(t){return t=r(t),t&&At.test(t)?t.replace(Ct,h):t||"(?:)"}function go(t,e,n){t=r(t),e=+e;var i=t.length;if(i>=e||!ws(e))return t;var o=(e-i)/2,s=ys(o),a=ms(o);return n=Ln("",a,n),n.slice(0,s)+t+n}function mo(t,e,n){return(n?Qn(t,e,n):null==e)?e=0:e&&(e=+e),t=wo(t),As(t,e||(Tt.test(t)?16:10))}function vo(t,e){var n="";if(t=r(t),e=+e,1>e||!t||!ws(e))return n;do e%2&&(n+=t),e=ys(e/2),t+=t;while(e);return n}function yo(t,e,n){return t=r(t),n=null==n?0:$s(0>n?0:+n||0,t.length),t.lastIndexOf(e,n)==n}function bo(t,e,n){var i=K.templateSettings;n&&Qn(t,e,n)&&(e=n=_),t=r(t),e=me(ve({},n||e),i,ge);var o,s,a=me(ve({},e.imports),i.imports,ge),l=Na(a),u=tn(a,l),c=0,h=e.interpolate||Ot,f="__p += '",p=Ko((e.escape||Ot).source+"|"+h.source+"|"+(h===wt?kt:Ot).source+"|"+(e.evaluate||Ot).source+"|$","g"),g="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Rt+"]")+"\n";t.replace(p,function(e,n,i,r,a,l){return i||(i=r),f+=t.slice(c,l).replace(Pt,d),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),a&&(s=!0,f+="';\n"+a+";\n__p += '"),i&&(f+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=l+e.length,e}),f+="';\n";var m=e.variable;m||(f="with (obj) {\n"+f+"\n}\n"),f=(s?f.replace(ht,""):f).replace(dt,"$1").replace(ft,"$1;"),f="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=Ja(function(){return Ho(l,g+"return "+f).apply(_,u)});if(v.source=f,Fr(v))throw v;return v}function wo(t,e,n){var i=t;return(t=r(t))?(n?Qn(i,e,n):null==e)?t.slice(y(t),b(t)+1):(e+="",t.slice(o(t,e),s(t,e)+1)):t}function xo(t,e,n){var i=t;return t=r(t),t?(n?Qn(i,e,n):null==e)?t.slice(y(t)):t.slice(o(t,e+"")):t}function _o(t,e,n){var i=t;return t=r(t),t?(n?Qn(i,e,n):null==e)?t.slice(0,b(t)+1):t.slice(0,s(t,e+"")+1):t}function $o(t,e,n){n&&Qn(t,e,n)&&(e=_);var i=L,o=O;if(null!=e)if(Or(e)){var s="separator"in e?e.separator:s;i="length"in e?+e.length||0:i,o="omission"in e?r(e.omission):o}else i=+e||0;if(t=r(t),i>=t.length)return t;var a=i-o.length;if(1>a)return o;var l=t.slice(0,a);if(null==s)return l+o;if(zr(s)){if(t.slice(a).search(s)){var u,c,h=t.slice(0,a);for(s.global||(s=Ko(s.source,(Dt.exec(s)||"")+"g")),s.lastIndex=0;u=s.exec(h);)c=u.index;l=l.slice(0,null==c?a:c)}}else if(t.indexOf(s,a)!=a){var d=l.lastIndexOf(s);d>-1&&(l=l.slice(0,d))}return l+o}function Co(t){return t=r(t),t&&mt.test(t)?t.replace(pt,w):t}function Ao(t,e,n){return n&&Qn(t,e,n)&&(e=_),t=r(t),t.match(e||Bt)||[]}function Eo(t,e,n){return n&&Qn(t,e,n)&&(e=_),p(t)?Do(t):we(t,e)}function So(t){return function(){return t}}function ko(t){return t}function Do(t){return je(xe(t,!0))}function To(t,e){return Ne(t,xe(e,!0))}function Fo(t,e,n){if(null==n){var i=Or(e),r=i?Na(e):_,o=r&&r.length?Le(e,r):_;(o?o.length:i)||(o=!1,n=e,e=t,t=this)}o||(o=Le(e,Na(e)));var s=!0,a=-1,l=Lr(t),u=o.length;n===!1?s=!1:Or(n)&&"chain"in n&&(s=n.chain);for(;++a<u;){var c=o[a],h=e[c];t[c]=h,l&&(t.prototype[c]=function(e){return function(){var n=this.__chain__;if(s||n){var i=t(this.__wrapped__),r=i.__actions__=ne(this.__actions__);return r.push({func:e,args:arguments,thisArg:t}),i.__chain__=n,i}return e.apply(t,ue([this.value()],arguments))}}(h))}return t}function Mo(){return Qt._=rs,this}function Lo(){}function Oo(t){return ti(t)?Ve(t):He(t)}function Po(t){return function(e){return Oe(t,di(e),e+"")}}function Bo(t,e,n){n&&Qn(t,e,n)&&(e=n=_),t=+t||0,n=null==n?1:+n||0,null==e?(e=t,t=0):e=+e||0;for(var i=-1,r=_s(ms((e-t)/(n||1)),0),o=zo(r);++i<r;)o[i]=t,t+=n;return o}function Io(t,e,n){if(t=ys(t),1>t||!ws(t))return[];var i=-1,r=zo($s(t,Ds));for(e=sn(e,n,1);++i<t;)Ds>i?r[i]=e(i):e(i);return r}function Ro(t){var e=++ns;return r(t)+e}function jo(t,e){return(+t||0)+(+e||0)}function No(t,e,n){return n&&Qn(t,e,n)&&(e=_),e=zn(e,n,3),1==e.length?fe(Da(t)?t:ci(t),e):Ze(t,e)}g=g?te.defaults(Qt.Object(),g,te.pick(Qt,It)):Qt;var zo=g.Array,Uo=g.Date,Vo=g.Error,Ho=g.Function,Wo=g.Math,Yo=g.Number,qo=g.Object,Ko=g.RegExp,Xo=g.String,Go=g.TypeError,Jo=zo.prototype,Zo=qo.prototype,Qo=Xo.prototype,ts=Ho.prototype.toString,es=Zo.hasOwnProperty,ns=0,is=Zo.toString,rs=Qt._,os=Ko("^"+ts.call(es).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ss=g.ArrayBuffer,as=g.clearTimeout,ls=g.parseFloat,us=Wo.pow,cs=Zo.propertyIsEnumerable,hs=Wn(g,"Set"),ds=g.setTimeout,fs=Jo.splice,ps=g.Uint8Array,gs=Wn(g,"WeakMap"),ms=Wo.ceil,vs=Wn(qo,"create"),ys=Wo.floor,bs=Wn(zo,"isArray"),ws=g.isFinite,xs=Wn(qo,"keys"),_s=Wo.max,$s=Wo.min,Cs=Wn(Uo,"now"),As=g.parseInt,Es=Wo.random,Ss=Yo.NEGATIVE_INFINITY,ks=Yo.POSITIVE_INFINITY,Ds=4294967295,Ts=Ds-1,Fs=Ds>>>1,Ms=9007199254740991,Ls=gs&&new gs,Os={};K.support={};K.templateSettings={escape:yt,evaluate:bt,interpolate:wt,variable:"",imports:{_:K}};var Ps=function(){function t(){}return function(e){if(Or(e)){t.prototype=e;var n=new t;t.prototype=_}return n||{}}}(),Bs=dn(Fe),Is=dn(Me,!0),Rs=fn(),js=fn(!0),Ns=Ls?function(t,e){return Ls.set(t,e),t}:ko,zs=Ls?function(t){return Ls.get(t)}:Lo,Us=Ve("length"),Vs=function(){var t=0,e=0;return function(n,i){var r=ga(),o=B-(r-e);if(e=r,o>0){if(++t>=P)return n}else t=0;return Ns(n,i)}}(),Hs=vr(function(t,e){return p(t)&&Jn(t)?$e(t,De(e,!1,!0)):[]}),Ws=_n(),Ys=_n(!0),qs=vr(function(t){for(var e=t.length,i=e,r=zo(h),o=Vn(),s=o===n,a=[];i--;){var l=t[i]=Jn(l=t[i])?l:[];r[i]=s&&l.length>=120?gn(i&&l):null}var u=t[0],c=-1,h=u?u.length:0,d=r[0];t:for(;++c<h;)if(l=u[c],(d?Jt(d,l):o(a,l,0))<0){for(var i=e;--i;){var f=r[i];if((f?Jt(f,l):o(t[i],l,0))<0)continue t}d&&d.push(l),a.push(l)}return a}),Ks=vr(function(e,n){n=De(n);var i=ye(e,n);return We(e,n.sort(t)),i}),Xs=Bn(),Gs=Bn(!0),Js=vr(function(t){return Qe(De(t,!1,!0))}),Zs=vr(function(t,e){return Jn(t)?$e(t,e):[]}),Qs=vr(Ii),ta=vr(function(t){var e=t.length,n=e>2?t[e-2]:_,i=e>1?t[e-1]:_;return e>2&&"function"==typeof n?e-=2:(n=e>1&&"function"==typeof i?(--e,i):_,i=_),t.length=e,Ri(t,n,i)}),ea=vr(function(t){return t=De(t),this.thru(function(e){return ee(Da(e)?e:[hi(e)],t)})}),na=vr(function(t,e){return ye(t,De(e))}),ia=cn(function(t,e,n){es.call(t,n)?++t[n]:t[n]=1}),ra=xn(Bs),oa=xn(Is,!0),sa=An(ie,Bs),aa=An(re,Is),la=cn(function(t,e,n){es.call(t,n)?t[n].push(e):t[n]=[e]}),ua=cn(function(t,e,n){t[n]=e}),ca=vr(function(t,e,n){var i=-1,r="function"==typeof e,o=ti(e),s=Jn(t)?zo(t.length):[];return Bs(t,function(t){var a=r?e:o&&null!=t?t[e]:_;s[++i]=a?a.apply(t,n):Gn(t,e,n)}),s}),ha=cn(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),da=Fn(ce,Bs),fa=Fn(he,Is),pa=vr(function(t,e){if(null==t)return[];var n=e[2];return n&&Qn(e[0],e[1],n)&&(e.length=1),Je(t,De(e),[])}),ga=Cs||function(){return(new Uo).getTime()},ma=vr(function(t,e,n){var i=C;if(n.length){var r=m(n,ma.placeholder);i|=D}return In(t,i,e,n,r)}),va=vr(function(t,e){e=e.length?De(e):Gr(t);for(var n=-1,i=e.length;++n<i;){var r=e[n];t[r]=In(t[r],C,t)}return t}),ya=vr(function(t,e,n){var i=C|A;if(n.length){var r=m(n,ya.placeholder);i|=D}return In(e,i,t,n,r)}),ba=yn(S),wa=yn(k),xa=vr(function(t,e){return _e(t,1,e)}),_a=vr(function(t,e,n){return _e(t,e,n)}),$a=Cn(),Ca=Cn(!0),Aa=vr(function(t,e){if(e=De(e),"function"!=typeof t||!oe(e,i))throw new Go(N);var n=e.length;return vr(function(i){for(var r=$s(i.length,n);r--;)i[r]=e[r](i[r]);return t.apply(this,i)})}),Ea=Tn(D),Sa=Tn(T),ka=vr(function(t,e){return In(t,M,_,_,_,De(e))}),Da=bs||function(t){return p(t)&&ni(t.length)&&is.call(t)==V},Ta=hn(ze),Fa=hn(function(t,e,n){return n?me(t,e,n):ve(t,e)}),Ma=bn(Fa,pe),La=bn(Ta,oi),Oa=$n(Fe),Pa=$n(Me),Ba=En(Rs),Ia=En(js),Ra=Sn(Fe),ja=Sn(Me),Na=xs?function(t){var e=null==t?_:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&Jn(t)?ui(t):Or(t)?xs(t):[]}:ui,za=kn(!0),Ua=kn(),Va=vr(function(t,e){if(null==t)return{};if("function"!=typeof e[0]){var e=le(De(e),Xo);return si(t,$e(to(t),e))}var n=sn(e[0],e[1],3);return ai(t,function(t,e,i){return!n(t,e,i)})}),Ha=vr(function(t,e){return null==t?{}:"function"==typeof e[0]?ai(t,sn(e[0],e[1],3)):si(t,De(e))}),Wa=mn(function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)}),Ya=mn(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),qa=Dn(),Ka=Dn(!0),Xa=mn(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Ga=mn(function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}),Ja=vr(function(t,e){try{return t.apply(_,e)}catch(n){return Fr(n)?n:new Vo(n)}}),Za=vr(function(t,e){return function(n){return Gn(n,t,e)}}),Qa=vr(function(t,e){return function(n){return Gn(t,n,e)}}),tl=Pn("ceil"),el=Pn("floor"),nl=wn($r,Ss),il=wn(Wr,ks),rl=Pn("round");return K.prototype=Z.prototype,tt.prototype=Ps(Z.prototype),tt.prototype.constructor=tt,zt.prototype=Ps(Z.prototype),zt.prototype.constructor=zt,Wt.prototype["delete"]=Yt,Wt.prototype.get=qt,Wt.prototype.has=Kt,Wt.prototype.set=Xt,Gt.prototype.push=Zt,pr.Cache=Wt,K.after=cr,K.ary=hr,K.assign=Fa,K.at=na,K.before=dr,K.bind=ma,K.bindAll=va,K.bindKey=ya,K.callback=Eo,K.chain=zi,K.chunk=pi,K.compact=gi,K.constant=So,K.countBy=ia,K.create=Xr,K.curry=ba,K.curryRight=wa,K.debounce=fr,K.defaults=Ma,K.defaultsDeep=La,K.defer=xa,K.delay=_a,K.difference=Hs,K.drop=mi,K.dropRight=vi,K.dropRightWhile=yi,K.dropWhile=bi,K.fill=wi,K.filter=Ji,K.flatten=_i,K.flattenDeep=$i,K.flow=$a,K.flowRight=Ca,K.forEach=sa,K.forEachRight=aa,K.forIn=Ba,K.forInRight=Ia,K.forOwn=Ra,K.forOwnRight=ja,K.functions=Gr,K.groupBy=la,K.indexBy=ua,K.initial=Ai,K.intersection=qs,K.invert=Qr,K.invoke=ca,K.keys=Na,K.keysIn=to,K.map=tr,K.mapKeys=za,K.mapValues=Ua,K.matches=Do,K.matchesProperty=To,K.memoize=pr,K.merge=Ta,K.method=Za,K.methodOf=Qa,K.mixin=Fo,K.modArgs=Aa,K.negate=gr,K.omit=Va,K.once=mr,K.pairs=eo,K.partial=Ea,K.partialRight=Sa,K.partition=ha,K.pick=Ha,K.pluck=er,K.property=Oo,K.propertyOf=Po,K.pull=ki,K.pullAt=Ks,K.range=Bo,K.rearg=ka,K.reject=nr,K.remove=Di,K.rest=Ti,K.restParam=vr,K.set=io,K.shuffle=rr,K.slice=Fi,K.sortBy=ar,K.sortByAll=pa,K.sortByOrder=lr,K.spread=yr,K.take=Mi,K.takeRight=Li,K.takeRightWhile=Oi,K.takeWhile=Pi,K.tap=Ui,K.throttle=br,K.thru=Vi,K.times=Io,K.toArray=qr,K.toPlainObject=Kr,K.transform=ro,K.union=Js,K.uniq=Bi,K.unzip=Ii,K.unzipWith=Ri,K.values=oo,K.valuesIn=so,K.where=ur,K.without=Zs,K.wrap=wr,K.xor=ji,K.zip=Qs,K.zipObject=Ni,K.zipWith=ta,K.backflow=Ca,K.collect=tr,K.compose=Ca,K.each=sa,K.eachRight=aa,K.extend=Fa,K.iteratee=Eo,K.methods=Gr,K.object=Ni,K.select=Ji,K.tail=Ti,K.unique=Bi,Fo(K,K),K.add=jo,K.attempt=Ja,K.camelCase=Wa,K.capitalize=uo,K.ceil=tl,K.clone=xr,K.cloneDeep=_r,K.deburr=co,K.endsWith=ho,K.escape=fo,K.escapeRegExp=po,K.every=Gi,K.find=ra,K.findIndex=Ws,K.findKey=Oa,K.findLast=oa,K.findLastIndex=Ys,K.findLastKey=Pa,K.findWhere=Zi,K.first=xi,K.floor=el,K.get=Jr,K.gt=$r,K.gte=Cr,K.has=Zr,K.identity=ko,K.includes=Qi,K.indexOf=Ci,K.inRange=ao,K.isArguments=Ar,K.isArray=Da,K.isBoolean=Er,K.isDate=Sr,K.isElement=kr,K.isEmpty=Dr,K.isEqual=Tr,K.isError=Fr,K.isFinite=Mr,K.isFunction=Lr,K.isMatch=Pr,K.isNaN=Br,K.isNative=Ir,K.isNull=Rr,K.isNumber=jr,K.isObject=Or,K.isPlainObject=Nr,K.isRegExp=zr,K.isString=Ur,K.isTypedArray=Vr,K.isUndefined=Hr,K.kebabCase=Ya,K.last=Ei,K.lastIndexOf=Si,K.lt=Wr,K.lte=Yr,K.max=nl,K.min=il,K.noConflict=Mo,K.noop=Lo,K.now=ga,K.pad=go,K.padLeft=qa,K.padRight=Ka,K.parseInt=mo,K.random=lo,K.reduce=da,K.reduceRight=fa,K.repeat=vo,K.result=no,K.round=rl,K.runInContext=x,K.size=or,K.snakeCase=Xa,K.some=sr,K.sortedIndex=Xs,K.sortedLastIndex=Gs,K.startCase=Ga,K.startsWith=yo,K.sum=No,K.template=bo,K.trim=wo,K.trimLeft=xo,K.trimRight=_o,K.trunc=$o,K.unescape=Co,K.uniqueId=Ro,K.words=Ao,K.all=Gi,K.any=sr,K.contains=Qi,K.eq=Tr,K.detect=ra,K.foldl=da,K.foldr=fa,K.head=xi,K.include=Qi,K.inject=da,Fo(K,function(){var t={};return Fe(K,function(e,n){K.prototype[n]||(t[n]=e)}),t}(),!1),K.sample=ir,K.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return ir(e,t)}):ir(this.value())},K.VERSION=$,ie(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){K[t].placeholder=K}),ie(["drop","take"],function(t,e){zt.prototype[t]=function(n){var i=this.__filtered__;if(i&&!e)return new zt(this);n=null==n?1:_s(ys(n)||0,0);var r=this.clone();return i?r.__takeCount__=$s(r.__takeCount__,n):r.__views__.push({size:n,type:t+(r.__dir__<0?"Right":"")}),r},zt.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),ie(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n!=j;zt.prototype[t]=function(t,e){var r=this.clone();return r.__iteratees__.push({iteratee:zn(t,e,1),type:n}),r.__filtered__=r.__filtered__||i,r}}),ie(["first","last"],function(t,e){var n="take"+(e?"Right":"");zt.prototype[t]=function(){return this[n](1).value()[0]}}),ie(["initial","rest"],function(t,e){var n="drop"+(e?"":"Right");zt.prototype[t]=function(){return this.__filtered__?new zt(this):this[n](1)}}),ie(["pluck","where"],function(t,e){var n=e?"filter":"map",i=e?je:Oo;zt.prototype[t]=function(t){return this[n](i(t))}}),zt.prototype.compact=function(){return this.filter(ko)},zt.prototype.reject=function(t,e){return t=zn(t,e,1),this.filter(function(e){return!t(e)})},zt.prototype.slice=function(t,e){t=null==t?0:+t||0;var n=this;return n.__filtered__&&(t>0||0>e)?new zt(n):(0>t?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==_&&(e=+e||0,n=0>e?n.dropRight(-e):n.take(e-t)),n)},zt.prototype.takeRightWhile=function(t,e){return this.reverse().takeWhile(t,e).reverse()},zt.prototype.toArray=function(){return this.take(ks)},Fe(zt.prototype,function(t,e){var n=/^(?:filter|map|reject)|While$/.test(e),i=/^(?:first|last)$/.test(e),r=K[i?"take"+("last"==e?"Right":""):e];r&&(K.prototype[e]=function(){var e=i?[1]:arguments,o=this.__chain__,s=this.__wrapped__,a=!!this.__actions__.length,l=s instanceof zt,u=e[0],c=l||Da(s);c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var h=function(t){return i&&o?r(t,1)[0]:r.apply(_,ue([t],e))},d={func:Vi,args:[h],thisArg:_},f=l&&!a;if(i&&!o)return f?(s=s.clone(),s.__actions__.push(d),t.call(s)):r.call(_,this.value())[0];if(!i&&c){s=f?s:new zt(this);var p=t.apply(s,e);return p.__actions__.push(d),new tt(p,o)}return this.thru(h)})}),ie(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var e=(/^(?:replace|split)$/.test(t)?Qo:Jo)[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(t);K.prototype[t]=function(){var t=arguments;return i&&!this.__chain__?e.apply(this.value(),t):this[n](function(n){return e.apply(n,t)})}}),Fe(zt.prototype,function(t,e){var n=K[e];if(n){var i=n.name+"",r=Os[i]||(Os[i]=[]);r.push({name:e,func:n})}}),Os[Mn(_,A).name]=[{name:"wrapper",func:_}],zt.prototype.clone=Ut,zt.prototype.reverse=Vt,zt.prototype.value=Ht,K.prototype.chain=Hi,K.prototype.commit=Wi,K.prototype.concat=ea,K.prototype.plant=Yi,K.prototype.reverse=qi,K.prototype.toString=Ki,K.prototype.run=K.prototype.toJSON=K.prototype.valueOf=K.prototype.value=Xi,K.prototype.collect=K.prototype.map,K.prototype.head=K.prototype.first,K.prototype.select=K.prototype.filter,K.prototype.tail=K.prototype.rest,K}var _,$="3.10.1",C=1,A=2,E=4,S=8,k=16,D=32,T=64,F=128,M=256,L=30,O="...",P=150,B=16,I=200,R=1,j=2,N="Expected a function",z="__lodash_placeholder__",U="[object Arguments]",V="[object Array]",H="[object Boolean]",W="[object Date]",Y="[object Error]",q="[object Function]",K="[object Map]",X="[object Number]",G="[object Object]",J="[object RegExp]",Z="[object Set]",Q="[object String]",tt="[object WeakMap]",et="[object ArrayBuffer]",nt="[object Float32Array]",it="[object Float64Array]",rt="[object Int8Array]",ot="[object Int16Array]",st="[object Int32Array]",at="[object Uint8Array]",lt="[object Uint8ClampedArray]",ut="[object Uint16Array]",ct="[object Uint32Array]",ht=/\b__p \+= '';/g,dt=/\b(__p \+=) '' \+/g,ft=/(__e\(.*?\)|\b__t\)) \+\n'';/g,pt=/&(?:amp|lt|gt|quot|#39|#96);/g,gt=/[&<>"'`]/g,mt=RegExp(pt.source),vt=RegExp(gt.source),yt=/<%-([\s\S]+?)%>/g,bt=/<%([\s\S]+?)%>/g,wt=/<%=([\s\S]+?)%>/g,xt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,_t=/^\w*$/,$t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Ct=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,At=RegExp(Ct.source),Et=/[\u0300-\u036f\ufe20-\ufe23]/g,St=/\\(\\)?/g,kt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Dt=/\w*$/,Tt=/^0[xX]/,Ft=/^\[object .+?Constructor\]$/,Mt=/^\d+$/,Lt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ot=/($^)/,Pt=/['\n\r\u2028\u2029\\]/g,Bt=function(){var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",e="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"+(?="+t+e+")|"+t+"?"+e+"|"+t+"+|[0-9]+","g")}(),It=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Rt=-1,jt={};jt[nt]=jt[it]=jt[rt]=jt[ot]=jt[st]=jt[at]=jt[lt]=jt[ut]=jt[ct]=!0,jt[U]=jt[V]=jt[et]=jt[H]=jt[W]=jt[Y]=jt[q]=jt[K]=jt[X]=jt[G]=jt[J]=jt[Z]=jt[Q]=jt[tt]=!1;var Nt={};Nt[U]=Nt[V]=Nt[et]=Nt[H]=Nt[W]=Nt[nt]=Nt[it]=Nt[rt]=Nt[ot]=Nt[st]=Nt[X]=Nt[G]=Nt[J]=Nt[Q]=Nt[at]=Nt[lt]=Nt[ut]=Nt[ct]=!0,Nt[Y]=Nt[q]=Nt[K]=Nt[Z]=Nt[tt]=!1;var zt={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},Ut={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Vt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Ht={"function":!0,object:!0},Wt={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Yt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},qt=Ht[typeof exports]&&exports&&!exports.nodeType&&exports,Kt=Ht[typeof module]&&module&&!module.nodeType&&module,Xt=qt&&Kt&&"object"==typeof global&&global&&global.Object&&global,Gt=Ht[typeof self]&&self&&self.Object&&self,Jt=Ht[typeof window]&&window&&window.Object&&window,Zt=Kt&&Kt.exports===qt&&qt,Qt=Xt||Jt!==(this&&this.window)&&Jt||Gt||this,te=x();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Qt._=te,define(function(){return te})):qt&&Kt?Zt?(Kt.exports=te)._=te:qt._=te:Qt._=te}.call(this),function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return r(n?n:t)},c,c.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){(function(e){e.graphlib=t("./index")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./index":2}],2:[function(t,e,n){var i=t("./lib");e.exports={Graph:i.Graph,json:t("./lib/json"),alg:t("./lib/alg"),version:i.version}},{"./lib":18,"./lib/alg":9,"./lib/json":19}],3:[function(t,e,n){function i(t){function e(o){r.has(i,o)||(i[o]=!0,n.push(o),r.each(t.successors(o),e),r.each(t.predecessors(o),e))}var n,i={},o=[];return r.each(t.nodes(),function(t){n=[],e(t),n.length&&o.push(n)}),o}var r=t("../lodash");e.exports=i},{"../lodash":20}],4:[function(t,e,n){function i(t,e,n){o.isArray(e)||(e=[e]);var i=[],s={};return o.each(e,function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);r(t,e,"post"===n,s,i)}),i}function r(t,e,n,i,s){o.has(i,e)||(i[e]=!0,n||s.push(e),o.each(t.neighbors(e),function(e){r(t,e,n,i,s)}),n&&s.push(e))}var o=t("../lodash");e.exports=i},{"../lodash":20}],5:[function(t,e,n){function i(t,e,n){return o.transform(t.nodes(),function(i,o){i[o]=r(t,o,e,n)},{})}var r=t("./dijkstra"),o=t("../lodash");e.exports=i},{"../lodash":20,"./dijkstra":6}],6:[function(t,e,n){function i(t,e,n,i){return r(t,String(e),n||a,i||function(e){return t.outEdges(e)})}function r(t,e,n,i){var r,o,a={},l=new s,u=function(t){var e=t.v!==r?t.v:t.w,i=a[e],s=n(t),u=o.distance+s;if(0>s)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+s);u<i.distance&&(i.distance=u,i.predecessor=r,l.decrease(e,u))};for(t.nodes().forEach(function(t){var n=t===e?0:Number.POSITIVE_INFINITY;a[t]={distance:n},l.add(t,n)});l.size()>0&&(r=l.removeMin(),o=a[r],o.distance!==Number.POSITIVE_INFINITY);)i(r).forEach(u);return a}var o=t("../lodash"),s=t("../data/priority-queue");e.exports=i;var a=o.constant(1)},{"../data/priority-queue":16,"../lodash":20}],7:[function(t,e,n){function i(t){return r.filter(o(t),function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])})}var r=t("../lodash"),o=t("./tarjan");e.exports=i},{"../lodash":20,"./tarjan":14}],8:[function(t,e,n){function i(t,e,n){return r(t,e||s,n||function(e){return t.outEdges(e);
})}function r(t,e,n){var i={},r=t.nodes();return r.forEach(function(t){i[t]={},i[t][t]={distance:0},r.forEach(function(e){t!==e&&(i[t][e]={distance:Number.POSITIVE_INFINITY})}),n(t).forEach(function(n){var r=n.v===t?n.w:n.v,o=e(n);i[t][r]={distance:o,predecessor:t}})}),r.forEach(function(t){var e=i[t];r.forEach(function(n){var o=i[n];r.forEach(function(n){var i=o[t],r=e[n],s=o[n],a=i.distance+r.distance;a<s.distance&&(s.distance=a,s.predecessor=r.predecessor)})})}),i}var o=t("../lodash");e.exports=i;var s=o.constant(1)},{"../lodash":20}],9:[function(t,e,n){e.exports={components:t("./components"),dijkstra:t("./dijkstra"),dijkstraAll:t("./dijkstra-all"),findCycles:t("./find-cycles"),floydWarshall:t("./floyd-warshall"),isAcyclic:t("./is-acyclic"),postorder:t("./postorder"),preorder:t("./preorder"),prim:t("./prim"),tarjan:t("./tarjan"),topsort:t("./topsort")}},{"./components":3,"./dijkstra":6,"./dijkstra-all":5,"./find-cycles":7,"./floyd-warshall":8,"./is-acyclic":10,"./postorder":11,"./preorder":12,"./prim":13,"./tarjan":14,"./topsort":15}],10:[function(t,e,n){function i(t){try{r(t)}catch(e){if(e instanceof r.CycleException)return!1;throw e}return!0}var r=t("./topsort");e.exports=i},{"./topsort":15}],11:[function(t,e,n){function i(t,e){return r(t,e,"post")}var r=t("./dfs");e.exports=i},{"./dfs":4}],12:[function(t,e,n){function i(t,e){return r(t,e,"pre")}var r=t("./dfs");e.exports=i},{"./dfs":4}],13:[function(t,e,n){function i(t,e){function n(t){var n=t.v===i?t.w:t.v,r=u.priority(n);if(void 0!==r){var o=e(t);r>o&&(l[n]=i,u.decrease(n,o))}}var i,a=new o,l={},u=new s;if(0===t.nodeCount())return a;r.each(t.nodes(),function(t){u.add(t,Number.POSITIVE_INFINITY),a.setNode(t)}),u.decrease(t.nodes()[0],0);for(var c=!1;u.size()>0;){if(i=u.removeMin(),r.has(l,i))a.setEdge(i,l[i]);else{if(c)throw new Error("Input graph is not connected: "+t);c=!0}t.nodeEdges(i).forEach(n)}return a}var r=t("../lodash"),o=t("../graph"),s=t("../data/priority-queue");e.exports=i},{"../data/priority-queue":16,"../graph":17,"../lodash":20}],14:[function(t,e,n){function i(t){function e(a){var l=o[a]={onStack:!0,lowlink:n,index:n++};if(i.push(a),t.successors(a).forEach(function(t){r.has(o,t)?o[t].onStack&&(l.lowlink=Math.min(l.lowlink,o[t].index)):(e(t),l.lowlink=Math.min(l.lowlink,o[t].lowlink))}),l.lowlink===l.index){var u,c=[];do u=i.pop(),o[u].onStack=!1,c.push(u);while(a!==u);s.push(c)}}var n=0,i=[],o={},s=[];return t.nodes().forEach(function(t){r.has(o,t)||e(t)}),s}var r=t("../lodash");e.exports=i},{"../lodash":20}],15:[function(t,e,n){function i(t){function e(a){if(o.has(i,a))throw new r;o.has(n,a)||(i[a]=!0,n[a]=!0,o.each(t.predecessors(a),e),delete i[a],s.push(a))}var n={},i={},s=[];if(o.each(t.sinks(),e),o.size(n)!==t.nodeCount())throw new r;return s}function r(){}var o=t("../lodash");e.exports=i,i.CycleException=r},{"../lodash":20}],16:[function(t,e,n){function i(){this._arr=[],this._keyIndices={}}var r=t("../lodash");e.exports=i,i.prototype.size=function(){return this._arr.length},i.prototype.keys=function(){return this._arr.map(function(t){return t.key})},i.prototype.has=function(t){return r.has(this._keyIndices,t)},i.prototype.priority=function(t){var e=this._keyIndices[t];return void 0!==e?this._arr[e].priority:void 0},i.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},i.prototype.add=function(t,e){var n=this._keyIndices;if(t=String(t),!r.has(n,t)){var i=this._arr,o=i.length;return n[t]=o,i.push({key:t,priority:e}),this._decrease(o),!0}return!1},i.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},i.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)},i.prototype._heapify=function(t){var e=this._arr,n=2*t,i=n+1,r=t;n<e.length&&(r=e[n].priority<e[r].priority?n:r,i<e.length&&(r=e[i].priority<e[r].priority?i:r),r!==t&&(this._swap(t,r),this._heapify(r)))},i.prototype._decrease=function(t){for(var e,n=this._arr,i=n[t].priority;0!==t&&(e=t>>1,!(n[e].priority<i));)this._swap(t,e),t=e},i.prototype._swap=function(t,e){var n=this._arr,i=this._keyIndices,r=n[t],o=n[e];n[t]=o,n[e]=r,i[o.key]=t,i[r.key]=e}},{"../lodash":20}],17:[function(t,e,n){"use strict";function i(t){this._isDirected=u.has(t,"directed")?t.directed:!0,this._isMultigraph=u.has(t,"multigraph")?t.multigraph:!1,this._isCompound=u.has(t,"compound")?t.compound:!1,this._label=void 0,this._defaultNodeLabelFn=u.constant(void 0),this._defaultEdgeLabelFn=u.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[h]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function r(t,e){t[e]?t[e]++:t[e]=1}function o(t,e){--t[e]||delete t[e]}function s(t,e,n,i){var r=""+e,o=""+n;if(!t&&r>o){var s=r;r=o,o=s}return r+d+o+d+(u.isUndefined(i)?c:i)}function a(t,e,n,i){var r=""+e,o=""+n;if(!t&&r>o){var s=r;r=o,o=s}var a={v:r,w:o};return i&&(a.name=i),a}function l(t,e){return s(t,e.v,e.w,e.name)}var u=t("./lodash");e.exports=i;var c="\x00",h="\x00",d="";i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(t){return this._label=t,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(t){return u.isFunction(t)||(t=u.constant(t)),this._defaultNodeLabelFn=t,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return u.keys(this._nodes)},i.prototype.sources=function(){return u.filter(this.nodes(),function(t){return u.isEmpty(this._in[t])},this)},i.prototype.sinks=function(){return u.filter(this.nodes(),function(t){return u.isEmpty(this._out[t])},this)},i.prototype.setNodes=function(t,e){var n=arguments;return u.each(t,function(t){n.length>1?this.setNode(t,e):this.setNode(t)},this),this},i.prototype.setNode=function(t,e){return u.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=h,this._children[t]={},this._children[h][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},i.prototype.node=function(t){return this._nodes[t]},i.prototype.hasNode=function(t){return u.has(this._nodes,t)},i.prototype.removeNode=function(t){var e=this;if(u.has(this._nodes,t)){var n=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],u.each(this.children(t),function(t){this.setParent(t)},this),delete this._children[t]),u.each(u.keys(this._in[t]),n),delete this._in[t],delete this._preds[t],u.each(u.keys(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},i.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(u.isUndefined(e))e=h;else{e+="";for(var n=e;!u.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},i.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},i.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(e!==h)return e}},i.prototype.children=function(t){if(u.isUndefined(t)&&(t=h),this._isCompound){var e=this._children[t];if(e)return u.keys(e)}else{if(t===h)return this.nodes();if(this.hasNode(t))return[]}},i.prototype.predecessors=function(t){var e=this._preds[t];return e?u.keys(e):void 0},i.prototype.successors=function(t){var e=this._sucs[t];return e?u.keys(e):void 0},i.prototype.neighbors=function(t){var e=this.predecessors(t);return e?u.union(e,this.successors(t)):void 0},i.prototype.filterNodes=function(t){function e(t){var o=i.parent(t);return void 0===o||n.hasNode(o)?(r[t]=o,o):o in r?r[o]:e(o)}var n=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});n.setGraph(this.graph()),u.each(this._nodes,function(e,i){t(i)&&n.setNode(i,e)},this),u.each(this._edgeObjs,function(t){n.hasNode(t.v)&&n.hasNode(t.w)&&n.setEdge(t,this.edge(t))},this);var i=this,r={};return this._isCompound&&u.each(n.nodes(),function(t){n.setParent(t,e(t))}),n},i.prototype.setDefaultEdgeLabel=function(t){return u.isFunction(t)||(t=u.constant(t)),this._defaultEdgeLabelFn=t,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return u.values(this._edgeObjs)},i.prototype.setPath=function(t,e){var n=this,i=arguments;return u.reduce(t,function(t,r){return i.length>1?n.setEdge(t,r,e):n.setEdge(t,r),r}),this},i.prototype.setEdge=function(){var t,e,n,i,o=!1,l=arguments[0];"object"==typeof l&&null!==l&&"v"in l?(t=l.v,e=l.w,n=l.name,2===arguments.length&&(i=arguments[1],o=!0)):(t=l,e=arguments[1],n=arguments[3],arguments.length>2&&(i=arguments[2],o=!0)),t=""+t,e=""+e,u.isUndefined(n)||(n=""+n);var c=s(this._isDirected,t,e,n);if(u.has(this._edgeLabels,c))return o&&(this._edgeLabels[c]=i),this;if(!u.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[c]=o?i:this._defaultEdgeLabelFn(t,e,n);var h=a(this._isDirected,t,e,n);return t=h.v,e=h.w,Object.freeze(h),this._edgeObjs[c]=h,r(this._preds[e],t),r(this._sucs[t],e),this._in[e][c]=h,this._out[t][c]=h,this._edgeCount++,this},i.prototype.edge=function(t,e,n){var i=1===arguments.length?l(this._isDirected,arguments[0]):s(this._isDirected,t,e,n);return this._edgeLabels[i]},i.prototype.hasEdge=function(t,e,n){var i=1===arguments.length?l(this._isDirected,arguments[0]):s(this._isDirected,t,e,n);return u.has(this._edgeLabels,i)},i.prototype.removeEdge=function(t,e,n){var i=1===arguments.length?l(this._isDirected,arguments[0]):s(this._isDirected,t,e,n),r=this._edgeObjs[i];return r&&(t=r.v,e=r.w,delete this._edgeLabels[i],delete this._edgeObjs[i],o(this._preds[e],t),o(this._sucs[t],e),delete this._in[e][i],delete this._out[t][i],this._edgeCount--),this},i.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var i=u.values(n);return e?u.filter(i,function(t){return t.v===e}):i}},i.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var i=u.values(n);return e?u.filter(i,function(t){return t.w===e}):i}},i.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);return n?n.concat(this.outEdges(t,e)):void 0}},{"./lodash":20}],18:[function(t,e,n){e.exports={Graph:t("./graph"),version:t("./version")}},{"./graph":17,"./version":21}],19:[function(t,e,n){function i(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:r(t),edges:o(t)};return a.isUndefined(t.graph())||(e.value=a.clone(t.graph())),e}function r(t){return a.map(t.nodes(),function(e){var n=t.node(e),i=t.parent(e),r={v:e};return a.isUndefined(n)||(r.value=n),a.isUndefined(i)||(r.parent=i),r})}function o(t){return a.map(t.edges(),function(e){var n=t.edge(e),i={v:e.v,w:e.w};return a.isUndefined(e.name)||(i.name=e.name),a.isUndefined(n)||(i.value=n),i})}function s(t){var e=new l(t.options).setGraph(t.value);return a.each(t.nodes,function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)}),a.each(t.edges,function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)}),e}var a=t("./lodash"),l=t("./graph");e.exports={write:i,read:s}},{"./graph":17,"./lodash":20}],20:[function(t,e,n){var i;if("function"==typeof t)try{i=t("lodash")}catch(r){}i||(i=window._),e.exports=i},{lodash:void 0}],21:[function(t,e,n){e.exports="1.0.7"},{}]},{},[1]),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.dagre=t()}}(function(){return function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return r(n?n:t)},c,c.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){e.exports={graphlib:t("./lib/graphlib"),layout:t("./lib/layout"),debug:t("./lib/debug"),util:{time:t("./lib/util").time,notime:t("./lib/util").notime},version:t("./lib/version")}},{"./lib/debug":6,"./lib/graphlib":7,"./lib/layout":9,"./lib/util":29,"./lib/version":30}],2:[function(t,e,n){"use strict";function i(t){function e(t){return function(e){return t.edge(e).weight}}var n="greedy"===t.graph().acyclicer?a(t,e(t)):r(t);s.each(n,function(e){var n=t.edge(e);t.removeEdge(e),n.forwardName=e.name,n.reversed=!0,t.setEdge(e.w,e.v,n,s.uniqueId("rev"))})}function r(t){function e(o){s.has(r,o)||(r[o]=!0,i[o]=!0,s.each(t.outEdges(o),function(t){s.has(i,t.w)?n.push(t):e(t.w)}),delete i[o])}var n=[],i={},r={};return s.each(t.nodes(),e),n}function o(t){s.each(t.edges(),function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var i=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,i)}})}var s=t("./lodash"),a=t("./greedy-fas");e.exports={run:i,undo:o}},{"./greedy-fas":8,"./lodash":10}],3:[function(t,e,n){function i(t){function e(n){var i=t.children(n),s=t.node(n);if(i.length&&o.each(i,e),o.has(s,"minRank")){s.borderLeft=[],s.borderRight=[];for(var a=s.minRank,l=s.maxRank+1;l>a;++a)r(t,"borderLeft","_bl",n,s,a),r(t,"borderRight","_br",n,s,a)}}o.each(t.children(),e)}function r(t,e,n,i,r,o){var a={width:0,height:0,rank:o,borderType:e},l=r[e][o-1],u=s.addDummyNode(t,"border",a,n);r[e][o]=u,t.setParent(u,i),l&&t.setEdge(l,u,{weight:1})}var o=t("./lodash"),s=t("./util");e.exports=i},{"./lodash":10,"./util":29}],4:[function(t,e,n){"use strict";function i(t){var e=t.graph().rankdir.toLowerCase();("lr"===e||"rl"===e)&&o(t)}function r(t){var e=t.graph().rankdir.toLowerCase();("bt"===e||"rl"===e)&&a(t),("lr"===e||"rl"===e)&&(u(t),o(t))}function o(t){h.each(t.nodes(),function(e){s(t.node(e))}),h.each(t.edges(),function(e){s(t.edge(e))})}function s(t){var e=t.width;t.width=t.height,t.height=e}function a(t){h.each(t.nodes(),function(e){l(t.node(e))}),h.each(t.edges(),function(e){var n=t.edge(e);h.each(n.points,l),h.has(n,"y")&&l(n)})}function l(t){t.y=-t.y}function u(t){h.each(t.nodes(),function(e){c(t.node(e))}),h.each(t.edges(),function(e){var n=t.edge(e);h.each(n.points,c),h.has(n,"x")&&c(n)})}function c(t){var e=t.x;t.x=t.y,t.y=e}var h=t("./lodash");e.exports={adjust:i,undo:r}},{"./lodash":10}],5:[function(t,e,n){function i(){var t={};t._next=t._prev=t,this._sentinel=t}function r(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function o(t,e){return"_next"!==t&&"_prev"!==t?e:void 0}e.exports=i,i.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;return e!==t?(r(e),e):void 0},i.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&r(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e},i.prototype.toString=function(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,o)),n=n._prev;return"["+t.join(", ")+"]"}},{}],6:[function(t,e,n){function i(t){var e=o.buildLayerMatrix(t),n=new s({compound:!0,multigraph:!0}).setGraph({});return r.each(t.nodes(),function(e){n.setNode(e,{label:e}),n.setParent(e,"layer"+t.node(e).rank)}),r.each(t.edges(),function(t){n.setEdge(t.v,t.w,{},t.name)}),r.each(e,function(t,e){var i="layer"+e;n.setNode(i,{rank:"same"}),r.reduce(t,function(t,e){return n.setEdge(t,e,{style:"invis"}),e})}),n}var r=t("./lodash"),o=t("./util"),s=t("./graphlib").Graph;e.exports={debugOrdering:i}},{"./graphlib":7,"./lodash":10,"./util":29}],7:[function(t,e,n){var i;if("function"==typeof t)try{i=t("graphlib")}catch(r){}i||(i=window.graphlib),e.exports=i},{graphlib:void 0}],8:[function(t,e,n){function i(t,e){if(t.nodeCount()<=1)return[];var n=s(t,e||h),i=r(n.graph,n.buckets,n.zeroIdx);return l.flatten(l.map(i,function(e){return t.outEdges(e.v,e.w)}),!0)}function r(t,e,n){for(var i,r=[],s=e[e.length-1],a=e[0];t.nodeCount();){for(;i=a.dequeue();)o(t,e,n,i);for(;i=s.dequeue();)o(t,e,n,i);if(t.nodeCount())for(var l=e.length-2;l>0;--l)if(i=e[l].dequeue()){r=r.concat(o(t,e,n,i,!0));break}}return r}function o(t,e,n,i,r){var o=r?[]:void 0;return l.each(t.inEdges(i.v),function(i){var s=t.edge(i),l=t.node(i.v);r&&o.push({v:i.v,w:i.w}),l.out-=s,a(e,n,l)}),l.each(t.outEdges(i.v),function(i){var r=t.edge(i),o=i.w,s=t.node(o);s["in"]-=r,a(e,n,s)}),t.removeNode(i.v),o}function s(t,e){var n=new u,i=0,r=0;l.each(t.nodes(),function(t){n.setNode(t,{v:t,"in":0,out:0})}),l.each(t.edges(),function(t){var o=n.edge(t.v,t.w)||0,s=e(t),a=o+s;n.setEdge(t.v,t.w,a),r=Math.max(r,n.node(t.v).out+=s),i=Math.max(i,n.node(t.w)["in"]+=s)});var o=l.range(r+i+3).map(function(){return new c}),s=i+1;return l.each(n.nodes(),function(t){a(o,s,n.node(t))}),{graph:n,buckets:o,zeroIdx:s}}function a(t,e,n){n.out?n["in"]?t[n.out-n["in"]+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}var l=t("./lodash"),u=t("./graphlib").Graph,c=t("./data/list");e.exports=i;var h=l.constant(1)},{"./data/list":5,"./graphlib":7,"./lodash":10}],9:[function(t,e,n){"use strict";function i(t,e){var n=e&&e.debugTiming?L.time:L.notime;n("layout",function(){var e=n("  buildLayoutGraph",function(){return s(t)});n("  runLayout",function(){r(e,n)}),n("  updateInputGraph",function(){o(t,e)})})}function r(t,e){e("    makeSpaceForEdgeLabels",function(){a(t)}),e("    removeSelfEdges",function(){m(t)}),e("    acyclic",function(){_.run(t)}),e("    nestingGraph.run",function(){k.run(t)}),e("    rank",function(){C(L.asNonCompoundGraph(t))}),e("    injectEdgeLabelProxies",function(){l(t)}),e("    removeEmptyRanks",function(){S(t)}),e("    nestingGraph.cleanup",function(){k.cleanup(t)}),e("    normalizeRanks",function(){A(t)}),e("    assignRankMinMax",function(){u(t)}),e("    removeEdgeLabelProxies",function(){c(t)}),e("    normalize.run",function(){$.run(t)}),e("    parentDummyChains",function(){E(t)}),e("    addBorderSegments",function(){D(t)}),e("    order",function(){F(t)}),e("    insertSelfEdges",function(){v(t)}),e("    adjustCoordinateSystem",function(){T.adjust(t)}),e("    position",function(){M(t)}),e("    positionSelfEdges",function(){y(t)}),e("    removeBorderNodes",function(){g(t)}),e("    normalize.undo",function(){$.undo(t)}),e("    fixupEdgeLabelCoords",function(){f(t)}),e("    undoCoordinateSystem",function(){T.undo(t)}),e("    translateGraph",function(){h(t)}),e("    assignNodeIntersects",function(){d(t)}),e("    reversePoints",function(){p(t)}),e("    acyclic.undo",function(){_.undo(t)})}function o(t,e){x.each(t.nodes(),function(n){var i=t.node(n),r=e.node(n);i&&(i.x=r.x,i.y=r.y,e.children(n).length&&(i.width=r.width,i.height=r.height))}),x.each(t.edges(),function(n){var i=t.edge(n),r=e.edge(n);i.points=r.points,x.has(r,"x")&&(i.x=r.x,i.y=r.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height}function s(t){var e=new O({multigraph:!0,compound:!0}),n=w(t.graph());return e.setGraph(x.merge({},B,b(n,P),x.pick(n,I))),x.each(t.nodes(),function(n){var i=w(t.node(n));e.setNode(n,x.defaults(b(i,R),j)),e.setParent(n,t.parent(n))}),x.each(t.edges(),function(n){var i=w(t.edge(n));e.setEdge(n,x.merge({},z,b(i,N),x.pick(i,U)))}),e}function a(t){var e=t.graph();e.ranksep/=2,x.each(t.edges(),function(n){var i=t.edge(n);i.minlen*=2,"c"!==i.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?i.width+=i.labeloffset:i.height+=i.labeloffset)})}function l(t){x.each(t.edges(),function(e){var n=t.edge(e);if(n.width&&n.height){var i=t.node(e.v),r=t.node(e.w),o={rank:(r.rank-i.rank)/2+i.rank,e:e};L.addDummyNode(t,"edge-proxy",o,"_ep")}})}function u(t){var e=0;x.each(t.nodes(),function(n){var i=t.node(n);i.borderTop&&(i.minRank=t.node(i.borderTop).rank,i.maxRank=t.node(i.borderBottom).rank,e=x.max(e,i.maxRank))}),t.graph().maxRank=e}function c(t){x.each(t.nodes(),function(e){var n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))})}function h(t){function e(t){var e=t.x,s=t.y,a=t.width,l=t.height;n=Math.min(n,e-a/2),i=Math.max(i,e+a/2),r=Math.min(r,s-l/2),o=Math.max(o,s+l/2)}var n=Number.POSITIVE_INFINITY,i=0,r=Number.POSITIVE_INFINITY,o=0,s=t.graph(),a=s.marginx||0,l=s.marginy||0;x.each(t.nodes(),function(n){e(t.node(n))}),x.each(t.edges(),function(n){var i=t.edge(n);x.has(i,"x")&&e(i)}),n-=a,r-=l,x.each(t.nodes(),function(e){var i=t.node(e);i.x-=n,i.y-=r}),x.each(t.edges(),function(e){var i=t.edge(e);x.each(i.points,function(t){t.x-=n,t.y-=r}),x.has(i,"x")&&(i.x-=n),x.has(i,"y")&&(i.y-=r)}),s.width=i-n+a,s.height=o-r+l}function d(t){x.each(t.edges(),function(e){var n,i,r=t.edge(e),o=t.node(e.v),s=t.node(e.w);r.points?(n=r.points[0],i=r.points[r.points.length-1]):(r.points=[],n=s,i=o),r.points.unshift(L.intersectRect(o,n)),r.points.push(L.intersectRect(s,i))})}function f(t){x.each(t.edges(),function(e){var n=t.edge(e);if(x.has(n,"x"))switch(("l"===n.labelpos||"r"===n.labelpos)&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}})}function p(t){x.each(t.edges(),function(e){var n=t.edge(e);n.reversed&&n.points.reverse()})}function g(t){x.each(t.nodes(),function(e){if(t.children(e).length){var n=t.node(e),i=t.node(n.borderTop),r=t.node(n.borderBottom),o=t.node(x.last(n.borderLeft)),s=t.node(x.last(n.borderRight));n.width=Math.abs(s.x-o.x),n.height=Math.abs(r.y-i.y),n.x=o.x+n.width/2,n.y=i.y+n.height/2}}),x.each(t.nodes(),function(e){"border"===t.node(e).dummy&&t.removeNode(e)})}function m(t){x.each(t.edges(),function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdge(e)}})}function v(t){var e=L.buildLayerMatrix(t);x.each(e,function(e){var n=0;x.each(e,function(e,i){var r=t.node(e);r.order=i+n,x.each(r.selfEdges,function(e){L.addDummyNode(t,"selfedge",{width:e.label.width,height:e.label.height,rank:r.rank,order:i+ ++n,e:e.e,label:e.label},"_se")}),delete r.selfEdges})})}function y(t){x.each(t.nodes(),function(e){var n=t.node(e);if("selfedge"===n.dummy){var i=t.node(n.e.v),r=i.x+i.width/2,o=i.y,s=n.x-r,a=i.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:r+2*s/3,y:o-a},{x:r+5*s/6,y:o-a},{x:r+s,y:o},{x:r+5*s/6,y:o+a},{x:r+2*s/3,y:o+a}],n.label.x=n.x,n.label.y=n.y}})}function b(t,e){return x.mapValues(x.pick(t,e),Number)}function w(t){var e={};return x.each(t,function(t,n){e[n.toLowerCase()]=t}),e}var x=t("./lodash"),_=t("./acyclic"),$=t("./normalize"),C=t("./rank"),A=t("./util").normalizeRanks,E=t("./parent-dummy-chains"),S=t("./util").removeEmptyRanks,k=t("./nesting-graph"),D=t("./add-border-segments"),T=t("./coordinate-system"),F=t("./order"),M=t("./position"),L=t("./util"),O=t("./graphlib").Graph;e.exports=i;var P=["nodesep","edgesep","ranksep","marginx","marginy"],B={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},I=["acyclicer","ranker","rankdir","align"],R=["width","height"],j={width:0,height:0},N=["minlen","weight","width","height","labeloffset"],z={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},U=["labelpos"]},{"./acyclic":2,"./add-border-segments":3,"./coordinate-system":4,"./graphlib":7,"./lodash":10,"./nesting-graph":11,"./normalize":12,"./order":17,"./parent-dummy-chains":22,"./position":24,"./rank":26,"./util":29}],10:[function(t,e,n){var i;if("function"==typeof t)try{i=t("lodash")}catch(r){}i||(i=window._),e.exports=i},{lodash:void 0}],11:[function(t,e,n){function i(t){var e=u.addDummyNode(t,"root",{},"_root"),n=o(t),i=l.max(n)-1,a=2*i+1;t.graph().nestingRoot=e,l.each(t.edges(),function(e){t.edge(e).minlen*=a});var c=s(t)+1;l.each(t.children(),function(o){r(t,e,a,c,i,n,o)}),t.graph().nodeRankFactor=a}function r(t,e,n,i,o,s,a){var c=t.children(a);if(!c.length)return void(a!==e&&t.setEdge(e,a,{weight:0,minlen:n}));var h=u.addBorderNode(t,"_bt"),d=u.addBorderNode(t,"_bb"),f=t.node(a);t.setParent(h,a),f.borderTop=h,t.setParent(d,a),f.borderBottom=d,l.each(c,function(l){r(t,e,n,i,o,s,l);var u=t.node(l),c=u.borderTop?u.borderTop:l,f=u.borderBottom?u.borderBottom:l,p=u.borderTop?i:2*i,g=c!==f?1:o-s[a]+1;t.setEdge(h,c,{weight:p,minlen:g,nestingEdge:!0}),t.setEdge(f,d,{weight:p,minlen:g,nestingEdge:!0})}),t.parent(a)||t.setEdge(e,h,{weight:0,minlen:o+s[a]})}function o(t){function e(i,r){var o=t.children(i);o&&o.length&&l.each(o,function(t){e(t,r+1)}),n[i]=r}var n={};return l.each(t.children(),function(t){e(t,1)}),n}function s(t){return l.reduce(t.edges(),function(e,n){return e+t.edge(n).weight},0)}function a(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,l.each(t.edges(),function(e){var n=t.edge(e);n.nestingEdge&&t.removeEdge(e)})}var l=t("./lodash"),u=t("./util");e.exports={run:i,cleanup:a}},{"./lodash":10,"./util":29}],12:[function(t,e,n){"use strict";function i(t){t.graph().dummyChains=[],s.each(t.edges(),function(e){r(t,e)})}function r(t,e){var n=e.v,i=t.node(n).rank,r=e.w,o=t.node(r).rank,s=e.name,l=t.edge(e),u=l.labelRank;if(o!==i+1){t.removeEdge(e);var c,h,d;for(d=0,++i;o>i;++d,++i)l.points=[],h={width:0,height:0,edgeLabel:l,edgeObj:e,rank:i},c=a.addDummyNode(t,"edge",h,"_d"),i===u&&(h.width=l.width,h.height=l.height,h.dummy="edge-label",h.labelpos=l.labelpos),t.setEdge(n,c,{weight:l.weight},s),0===d&&t.graph().dummyChains.push(c),n=c;t.setEdge(n,r,{weight:l.weight},s)}}function o(t){s.each(t.graph().dummyChains,function(e){var n,i=t.node(e),r=i.edgeLabel;for(t.setEdge(i.edgeObj,r);i.dummy;)n=t.successors(e)[0],t.removeNode(e),r.points.push({x:i.x,y:i.y}),"edge-label"===i.dummy&&(r.x=i.x,r.y=i.y,r.width=i.width,r.height=i.height),e=n,i=t.node(e)})}var s=t("./lodash"),a=t("./util");e.exports={run:i,undo:o}},{"./lodash":10,"./util":29}],13:[function(t,e,n){function i(t,e,n){var i,o={};r.each(n,function(n){for(var r,s,a=t.parent(n);a;){if(r=t.parent(a),r?(s=o[r],o[r]=a):(s=i,i=a),s&&s!==a)return void e.setEdge(s,a);a=r}})}var r=t("../lodash");e.exports=i},{"../lodash":10}],14:[function(t,e,n){function i(t,e){return r.map(e,function(e){var n=t.inEdges(e);if(n.length){var i=r.reduce(n,function(e,n){var i=t.edge(n),r=t.node(n.v);return{sum:e.sum+i.weight*r.order,weight:e.weight+i.weight}},{sum:0,weight:0});return{v:e,barycenter:i.sum/i.weight,weight:i.weight}}return{v:e}})}var r=t("../lodash");e.exports=i},{"../lodash":10}],15:[function(t,e,n){function i(t,e,n){var i=r(t),a=new s({compound:!0}).setGraph({root:i}).setDefaultNodeLabel(function(e){return t.node(e)});return o.each(t.nodes(),function(r){var s=t.node(r),l=t.parent(r);(s.rank===e||s.minRank<=e&&e<=s.maxRank)&&(a.setNode(r),a.setParent(r,l||i),o.each(t[n](r),function(e){var n=e.v===r?e.w:e.v,i=a.edge(n,r),s=o.isUndefined(i)?0:i.weight;a.setEdge(n,r,{weight:t.edge(e).weight+s})}),o.has(s,"minRank")&&a.setNode(r,{borderLeft:s.borderLeft[e],borderRight:s.borderRight[e]}))}),a}function r(t){for(var e;t.hasNode(e=o.uniqueId("_root")););return e}var o=t("../lodash"),s=t("../graphlib").Graph;e.exports=i},{"../graphlib":7,"../lodash":10}],16:[function(t,e,n){"use strict";function i(t,e){for(var n=0,i=1;i<e.length;++i)n+=r(t,e[i-1],e[i]);return n}function r(t,e,n){for(var i=o.zipObject(n,o.map(n,function(t,e){return e})),r=o.flatten(o.map(e,function(e){return o.chain(t.outEdges(e)).map(function(e){return{pos:i[e.w],weight:t.edge(e).weight}}).sortBy("pos").value()}),!0),s=1;s<n.length;)s<<=1;var a=2*s-1;s-=1;var l=o.map(new Array(a),function(){return 0}),u=0;return o.each(r.forEach(function(t){var e=t.pos+s;l[e]+=t.weight;for(var n=0;e>0;)e%2&&(n+=l[e+1]),e=e-1>>1,l[e]+=t.weight;u+=t.weight*n})),u}var o=t("../lodash");e.exports=i},{"../lodash":10}],17:[function(t,e,n){"use strict";function i(t){var e=p.maxRank(t),n=r(t,a.range(1,e+1),"inEdges"),i=r(t,a.range(e-1,-1,-1),"outEdges"),c=l(t);s(t,c);for(var h,d=Number.POSITIVE_INFINITY,f=0,g=0;4>g;++f,++g){o(f%2?n:i,f%4>=2),c=p.buildLayerMatrix(t);var m=u(t,c);d>m&&(g=0,h=a.cloneDeep(c),d=m)}s(t,h)}function r(t,e,n){return a.map(e,function(e){return h(t,e,n)})}function o(t,e){var n=new f;a.each(t,function(t){var i=t.graph().root,r=c(t,i,n,e);a.each(r.vs,function(e,n){t.node(e).order=n}),d(t,n,r.vs)})}function s(t,e){a.each(e,function(e){a.each(e,function(e,n){t.node(e).order=n})})}var a=t("../lodash"),l=t("./init-order"),u=t("./cross-count"),c=t("./sort-subgraph"),h=t("./build-layer-graph"),d=t("./add-subgraph-constraints"),f=t("../graphlib").Graph,p=t("../util");e.exports=i},{"../graphlib":7,"../lodash":10,"../util":29,"./add-subgraph-constraints":13,"./build-layer-graph":15,"./cross-count":16,"./init-order":18,"./sort-subgraph":20}],18:[function(t,e,n){"use strict";function i(t){function e(i){if(!r.has(n,i)){n[i]=!0;var o=t.node(i);s[o.rank].push(i),r.each(t.successors(i),e)}}var n={},i=r.filter(t.nodes(),function(e){return!t.children(e).length}),o=r.max(r.map(i,function(e){return t.node(e).rank})),s=r.map(r.range(o+1),function(){return[]}),a=r.sortBy(i,function(e){return t.node(e).rank});return r.each(a,e),s}var r=t("../lodash");e.exports=i},{"../lodash":10}],19:[function(t,e,n){"use strict";function i(t,e){var n={};s.each(t,function(t,e){var i=n[t.v]={indegree:0,"in":[],out:[],vs:[t.v],i:e};s.isUndefined(t.barycenter)||(i.barycenter=t.barycenter,i.weight=t.weight)}),s.each(e.edges(),function(t){var e=n[t.v],i=n[t.w];s.isUndefined(e)||s.isUndefined(i)||(i.indegree++,e.out.push(n[t.w]))});var i=s.filter(n,function(t){return!t.indegree});return r(i)}function r(t){function e(t){return function(e){e.merged||(s.isUndefined(e.barycenter)||s.isUndefined(t.barycenter)||e.barycenter>=t.barycenter)&&o(t,e)}}function n(e){return function(n){n["in"].push(e),0===--n.indegree&&t.push(n)}}for(var i=[];t.length;){var r=t.pop();i.push(r),s.each(r["in"].reverse(),e(r)),s.each(r.out,n(r))}return s.chain(i).filter(function(t){return!t.merged}).map(function(t){return s.pick(t,["vs","i","barycenter","weight"])}).value()}function o(t,e){var n=0,i=0;t.weight&&(n+=t.barycenter*t.weight,i+=t.weight),e.weight&&(n+=e.barycenter*e.weight,i+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=n/i,t.weight=i,t.i=Math.min(e.i,t.i),e.merged=!0}var s=t("../lodash");e.exports=i},{"../lodash":10}],20:[function(t,e,n){function i(t,e,n,c){var h=t.children(e),d=t.node(e),f=d?d.borderLeft:void 0,p=d?d.borderRight:void 0,g={};f&&(h=s.filter(h,function(t){return t!==f&&t!==p}));var m=a(t,h);s.each(m,function(e){if(t.children(e.v).length){var r=i(t,e.v,n,c);g[e.v]=r,s.has(r,"barycenter")&&o(e,r)}});var v=l(m,n);r(v,g);var y=u(v,c);if(f&&(y.vs=s.flatten([f,y.vs,p],!0),t.predecessors(f).length)){var b=t.node(t.predecessors(f)[0]),w=t.node(t.predecessors(p)[0]);s.has(y,"barycenter")||(y.barycenter=0,y.weight=0),y.barycenter=(y.barycenter*y.weight+b.order+w.order)/(y.weight+2),y.weight+=2}return y}function r(t,e){s.each(t,function(t){t.vs=s.flatten(t.vs.map(function(t){return e[t]?e[t].vs:t}),!0)})}function o(t,e){s.isUndefined(t.barycenter)?(t.barycenter=e.barycenter,t.weight=e.weight):(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight)}var s=t("../lodash"),a=t("./barycenter"),l=t("./resolve-conflicts"),u=t("./sort");e.exports=i},{"../lodash":10,"./barycenter":14,"./resolve-conflicts":19,"./sort":21}],21:[function(t,e,n){function i(t,e){var n=a.partition(t,function(t){return s.has(t,"barycenter")}),i=n.lhs,l=s.sortBy(n.rhs,function(t){return-t.i}),u=[],c=0,h=0,d=0;i.sort(o(!!e)),d=r(u,l,d),s.each(i,function(t){
d+=t.vs.length,u.push(t.vs),c+=t.barycenter*t.weight,h+=t.weight,d=r(u,l,d)});var f={vs:s.flatten(u,!0)};return h&&(f.barycenter=c/h,f.weight=h),f}function r(t,e,n){for(var i;e.length&&(i=s.last(e)).i<=n;)e.pop(),t.push(i.vs),n++;return n}function o(t){return function(e,n){return e.barycenter<n.barycenter?-1:e.barycenter>n.barycenter?1:t?n.i-e.i:e.i-n.i}}var s=t("../lodash"),a=t("../util");e.exports=i},{"../lodash":10,"../util":29}],22:[function(t,e,n){function i(t){var e=o(t);s.each(t.graph().dummyChains,function(n){for(var i=t.node(n),o=i.edgeObj,s=r(t,e,o.v,o.w),a=s.path,l=s.lca,u=0,c=a[u],h=!0;n!==o.w;){if(i=t.node(n),h){for(;(c=a[u])!==l&&t.node(c).maxRank<i.rank;)u++;c===l&&(h=!1)}if(!h){for(;u<a.length-1&&t.node(c=a[u+1]).minRank<=i.rank;)u++;c=a[u]}t.setParent(n,c),n=t.successors(n)[0]}})}function r(t,e,n,i){var r,o,s=[],a=[],l=Math.min(e[n].low,e[i].low),u=Math.max(e[n].lim,e[i].lim);r=n;do r=t.parent(r),s.push(r);while(r&&(e[r].low>l||u>e[r].lim));for(o=r,r=i;(r=t.parent(r))!==o;)a.push(r);return{path:s.concat(a.reverse()),lca:o}}function o(t){function e(r){var o=i;s.each(t.children(r),e),n[r]={low:o,lim:i++}}var n={},i=0;return s.each(t.children(),e),n}var s=t("./lodash");e.exports=i},{"./lodash":10}],23:[function(t,e,n){"use strict";function i(t,e){function n(e,n){var r=0,a=0,l=e.length,u=v.last(n);return v.each(n,function(e,c){var h=o(t,e),d=h?t.node(h).order:l;(h||e===u)&&(v.each(n.slice(a,c+1),function(e){v.each(t.predecessors(e),function(n){var o=t.node(n),a=o.order;!(r>a||a>d)||o.dummy&&t.node(e).dummy||s(i,n,e)})}),a=c+1,r=d)}),n}var i={};return v.reduce(e,n),i}function r(t,e){function n(e,n,i,o,a){var l;v.each(v.range(n,i),function(n){l=e[n],t.node(l).dummy&&v.each(t.predecessors(l),function(e){var n=t.node(e);n.dummy&&(n.order<o||n.order>a)&&s(r,e,l)})})}function i(e,i){var r,o=-1,s=0;return v.each(i,function(a,l){if("border"===t.node(a).dummy){var u=t.predecessors(a);u.length&&(r=t.node(u[0]).order,n(i,s,l,o,r),s=l,o=r)}n(i,s,i.length,r,e.length)}),i}var r={};return v.reduce(e,i),r}function o(t,e){return t.node(e).dummy?v.find(t.predecessors(e),function(e){return t.node(e).dummy}):void 0}function s(t,e,n){if(e>n){var i=e;e=n,n=i}var r=t[e];r||(t[e]=r={}),r[n]=!0}function a(t,e,n){if(e>n){var i=e;e=n,n=i}return v.has(t[e],n)}function l(t,e,n,i){var r={},o={},s={};return v.each(e,function(t){v.each(t,function(t,e){r[t]=t,o[t]=t,s[t]=e})}),v.each(e,function(t){var e=-1;v.each(t,function(t){var l=i(t);if(l.length){l=v.sortBy(l,function(t){return s[t]});for(var u=(l.length-1)/2,c=Math.floor(u),h=Math.ceil(u);h>=c;++c){var d=l[c];o[t]===t&&e<s[d]&&!a(n,t,d)&&(o[d]=t,o[t]=r[t]=r[d],e=s[d])}}})}),{root:r,align:o}}function u(t,e,n,i,r){function o(t){v.has(u,t)||(u[t]=!0,a[t]=v.reduce(l.inEdges(t),function(t,e){return o(e.v),Math.max(t,a[e.v]+l.edge(e))},0))}function s(e){if(2!==u[e]){u[e]++;var n=t.node(e),i=v.reduce(l.outEdges(e),function(t,e){return s(e.w),Math.min(t,a[e.w]-l.edge(e))},Number.POSITIVE_INFINITY);i!==Number.POSITIVE_INFINITY&&n.borderType!==h&&(a[e]=Math.max(a[e],i))}}var a={},l=c(t,e,n,r),u={};v.each(l.nodes(),o);var h=r?"borderLeft":"borderRight";return v.each(l.nodes(),s),v.each(i,function(t){a[t]=a[n[t]]}),a}function c(t,e,n,i){var r=new y,o=t.graph(),s=g(o.nodesep,o.edgesep,i);return v.each(e,function(e){var i;v.each(e,function(e){var o=n[e];if(r.setNode(o),i){var a=n[i],l=r.edge(a,o);r.setEdge(a,o,Math.max(s(t,e,i),l||0))}i=e})}),r}function h(t,e){return v.min(e,function(e){var n=v.min(e,function(e,n){return e-m(t,n)/2}),i=v.max(e,function(e,n){return e+m(t,n)/2});return i-n})}function d(t,e){var n=v.min(e),i=v.max(e);v.each(["u","d"],function(r){v.each(["l","r"],function(o){var s,a=r+o,l=t[a];l!==e&&(s="l"===o?n-v.min(l):i-v.max(l),s&&(t[a]=v.mapValues(l,function(t){return t+s})))})})}function f(t,e){return v.mapValues(t.ul,function(n,i){if(e)return t[e.toLowerCase()][i];var r=v.sortBy(v.pluck(t,i));return(r[1]+r[2])/2})}function p(t){var e,n=b.buildLayerMatrix(t),o=v.merge(i(t,n),r(t,n)),s={};v.each(["u","d"],function(i){e="u"===i?n:v.values(n).reverse(),v.each(["l","r"],function(n){"r"===n&&(e=v.map(e,function(t){return v.values(t).reverse()}));var r=v.bind("u"===i?t.predecessors:t.successors,t),a=l(t,e,o,r),c=u(t,e,a.root,a.align,"r"===n);"r"===n&&(c=v.mapValues(c,function(t){return-t})),s[i+n]=c})});var a=h(t,s);return d(s,a),f(s,t.graph().align)}function g(t,e,n){return function(i,r,o){var s,a=i.node(r),l=i.node(o),u=0;if(u+=a.width/2,v.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":s=-a.width/2;break;case"r":s=a.width/2}if(s&&(u+=n?s:-s),s=0,u+=(a.dummy?e:t)/2,u+=(l.dummy?e:t)/2,u+=l.width/2,v.has(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":s=l.width/2;break;case"r":s=-l.width/2}return s&&(u+=n?s:-s),s=0,u}}function m(t,e){return t.node(e).width}var v=t("../lodash"),y=t("../graphlib").Graph,b=t("../util");e.exports={positionX:p,findType1Conflicts:i,findType2Conflicts:r,addConflict:s,hasConflict:a,verticalAlignment:l,horizontalCompaction:u,alignCoordinates:d,findSmallestWidthAlignment:h,balance:f}},{"../graphlib":7,"../lodash":10,"../util":29}],24:[function(t,e,n){"use strict";function i(t){t=s.asNonCompoundGraph(t),r(t),o.each(a(t),function(e,n){t.node(n).x=e})}function r(t){var e=s.buildLayerMatrix(t),n=t.graph().ranksep,i=0;o.each(e,function(e){var r=o.max(o.map(e,function(e){return t.node(e).height}));o.each(e,function(e){t.node(e).y=i+r/2}),i+=r+n})}var o=t("../lodash"),s=t("../util"),a=t("./bk").positionX;e.exports=i},{"../lodash":10,"../util":29,"./bk":23}],25:[function(t,e,n){"use strict";function i(t){var e=new l({directed:!1}),n=t.nodes()[0],i=t.nodeCount();e.setNode(n,{});for(var a,c;r(e,t)<i;)a=o(e,t),c=e.hasNode(a.v)?u(t,a):-u(t,a),s(e,t,c);return e}function r(t,e){function n(i){a.each(e.nodeEdges(i),function(r){var o=r.v,s=i===o?r.w:o;t.hasNode(s)||u(e,r)||(t.setNode(s,{}),t.setEdge(i,s,{}),n(s))})}return a.each(t.nodes(),n),t.nodeCount()}function o(t,e){return a.min(e.edges(),function(n){return t.hasNode(n.v)!==t.hasNode(n.w)?u(e,n):void 0})}function s(t,e,n){a.each(t.nodes(),function(t){e.node(t).rank+=n})}var a=t("../lodash"),l=t("../graphlib").Graph,u=t("./util").slack;e.exports=i},{"../graphlib":7,"../lodash":10,"./util":28}],26:[function(t,e,n){"use strict";function i(t){switch(t.graph().ranker){case"network-simplex":o(t);break;case"tight-tree":r(t);break;case"longest-path":c(t);break;default:o(t)}}function r(t){a(t),l(t)}function o(t){u(t)}var s=t("./util"),a=s.longestPath,l=t("./feasible-tree"),u=t("./network-simplex");e.exports=i;var c=a},{"./feasible-tree":25,"./network-simplex":27,"./util":28}],27:[function(t,e,n){"use strict";function i(t){t=x(t),y(t);var e=m(t);a(e),r(e,t);for(var n,i;n=u(e);)i=c(e,t,n),h(e,t,n,i)}function r(t,e){var n=w(t,t.nodes());n=n.slice(0,n.length-1),g.each(n,function(n){o(t,e,n)})}function o(t,e,n){var i=t.node(n),r=i.parent;t.edge(n,r).cutvalue=s(t,e,n)}function s(t,e,n){var i=t.node(n),r=i.parent,o=!0,s=e.edge(n,r),a=0;return s||(o=!1,s=e.edge(r,n)),a=s.weight,g.each(e.nodeEdges(n),function(i){var s=i.v===n,l=s?i.w:i.v;if(l!==r){var u=s===o,c=e.edge(i).weight;if(a+=u?c:-c,f(t,n,l)){var h=t.edge(n,l).cutvalue;a+=u?-h:h}}}),a}function a(t,e){arguments.length<2&&(e=t.nodes()[0]),l(t,{},1,e)}function l(t,e,n,i,r){var o=n,s=t.node(i);return e[i]=!0,g.each(t.neighbors(i),function(r){g.has(e,r)||(n=l(t,e,n,r,i))}),s.low=o,s.lim=n++,r?s.parent=r:delete s.parent,n}function u(t){return g.find(t.edges(),function(e){return t.edge(e).cutvalue<0})}function c(t,e,n){var i=n.v,r=n.w;e.hasEdge(i,r)||(i=n.w,r=n.v);var o=t.node(i),s=t.node(r),a=o,l=!1;o.lim>s.lim&&(a=s,l=!0);var u=g.filter(e.edges(),function(e){return l===p(t,t.node(e.v),a)&&l!==p(t,t.node(e.w),a)});return g.min(u,function(t){return v(e,t)})}function h(t,e,n,i){var o=n.v,s=n.w;t.removeEdge(o,s),t.setEdge(i.v,i.w,{}),a(t),r(t,e),d(t,e)}function d(t,e){var n=g.find(t.nodes(),function(t){return!e.node(t).parent}),i=b(t,n);i=i.slice(1),g.each(i,function(n){var i=t.node(n).parent,r=e.edge(n,i),o=!1;r||(r=e.edge(i,n),o=!0),e.node(n).rank=e.node(i).rank+(o?r.minlen:-r.minlen)})}function f(t,e,n){return t.hasEdge(e,n)}function p(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}var g=t("../lodash"),m=t("./feasible-tree"),v=t("./util").slack,y=t("./util").longestPath,b=t("../graphlib").alg.preorder,w=t("../graphlib").alg.postorder,x=t("../util").simplify;e.exports=i,i.initLowLimValues=a,i.initCutValues=r,i.calcCutValue=s,i.leaveEdge=u,i.enterEdge=c,i.exchangeEdges=h},{"../graphlib":7,"../lodash":10,"../util":29,"./feasible-tree":25,"./util":28}],28:[function(t,e,n){"use strict";function i(t){function e(i){var r=t.node(i);if(o.has(n,i))return r.rank;n[i]=!0;var s=o.min(o.map(t.outEdges(i),function(n){return e(n.w)-t.edge(n).minlen}));return s===Number.POSITIVE_INFINITY&&(s=0),r.rank=s}var n={};o.each(t.sources(),e)}function r(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}var o=t("../lodash");e.exports={longestPath:i,slack:r}},{"../lodash":10}],29:[function(t,e,n){"use strict";function i(t,e,n,i){var r;do r=v.uniqueId(i);while(t.hasNode(r));return n.dummy=e,t.setNode(r,n),r}function r(t){var e=(new y).setGraph(t.graph());return v.each(t.nodes(),function(n){e.setNode(n,t.node(n))}),v.each(t.edges(),function(n){var i=e.edge(n.v,n.w)||{weight:0,minlen:1},r=t.edge(n);e.setEdge(n.v,n.w,{weight:i.weight+r.weight,minlen:Math.max(i.minlen,r.minlen)})}),e}function o(t){var e=new y({multigraph:t.isMultigraph()}).setGraph(t.graph());return v.each(t.nodes(),function(n){t.children(n).length||e.setNode(n,t.node(n))}),v.each(t.edges(),function(n){e.setEdge(n,t.edge(n))}),e}function s(t){var e=v.map(t.nodes(),function(e){var n={};return v.each(t.outEdges(e),function(e){n[e.w]=(n[e.w]||0)+t.edge(e).weight}),n});return v.zipObject(t.nodes(),e)}function a(t){var e=v.map(t.nodes(),function(e){var n={};return v.each(t.inEdges(e),function(e){n[e.v]=(n[e.v]||0)+t.edge(e).weight}),n});return v.zipObject(t.nodes(),e)}function l(t,e){var n=t.x,i=t.y,r=e.x-n,o=e.y-i,s=t.width/2,a=t.height/2;if(!r&&!o)throw new Error("Not possible to find intersection inside of the rectangle");var l,u;return Math.abs(o)*s>Math.abs(r)*a?(0>o&&(a=-a),l=a*r/o,u=a):(0>r&&(s=-s),l=s,u=s*o/r),{x:n+l,y:i+u}}function u(t){var e=v.map(v.range(f(t)+1),function(){return[]});return v.each(t.nodes(),function(n){var i=t.node(n),r=i.rank;v.isUndefined(r)||(e[r][i.order]=n)}),e}function c(t){var e=v.min(v.map(t.nodes(),function(e){return t.node(e).rank}));v.each(t.nodes(),function(n){var i=t.node(n);v.has(i,"rank")&&(i.rank-=e)})}function h(t){var e=v.min(v.map(t.nodes(),function(e){return t.node(e).rank})),n=[];v.each(t.nodes(),function(i){var r=t.node(i).rank-e;n[r]||(n[r]=[]),n[r].push(i)});var i=0,r=t.graph().nodeRankFactor;v.each(n,function(e,n){v.isUndefined(e)&&n%r!==0?--i:i&&v.each(e,function(e){t.node(e).rank+=i})})}function d(t,e,n,r){var o={width:0,height:0};return arguments.length>=4&&(o.rank=n,o.order=r),i(t,"border",o,e)}function f(t){return v.max(v.map(t.nodes(),function(e){var n=t.node(e).rank;return v.isUndefined(n)?void 0:n}))}function p(t,e){var n={lhs:[],rhs:[]};return v.each(t,function(t){e(t)?n.lhs.push(t):n.rhs.push(t)}),n}function g(t,e){var n=v.now();try{return e()}finally{console.log(t+" time: "+(v.now()-n)+"ms")}}function m(t,e){return e()}var v=t("./lodash"),y=t("./graphlib").Graph;e.exports={addDummyNode:i,simplify:r,asNonCompoundGraph:o,successorWeights:s,predecessorWeights:a,intersectRect:l,buildLayerMatrix:u,normalizeRanks:c,removeEmptyRanks:h,addBorderNode:d,maxRank:f,partition:p,time:g,notime:m}},{"./graphlib":7,"./lodash":10}],30:[function(t,e,n){e.exports="0.7.4"},{}]},{},[1])(1)}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.dagreD3=t()}}(function(){return function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return r(n?n:t)},c,c.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){e.exports={graphlib:t("./lib/graphlib"),dagre:t("./lib/dagre"),intersect:t("./lib/intersect"),render:t("./lib/render"),util:t("./lib/util"),version:t("./lib/version")}},{"./lib/dagre":8,"./lib/graphlib":9,"./lib/intersect":10,"./lib/render":25,"./lib/util":27,"./lib/version":28}],2:[function(t,e,n){function i(t,e,n,i){var r=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),o=r.append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");s.applyStyle(o,n[i+"Style"])}function r(t,e,n,i){var r=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),o=r.append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");s.applyStyle(o,n[i+"Style"])}function o(t,e,n,i){var r=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),o=r.append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");s.applyStyle(o,n[i+"Style"])}var s=t("./util");e.exports={"default":i,normal:i,vee:r,undirected:o}},{"./util":27}],3:[function(t,e,n){function i(t,e){var n=e.nodes().filter(function(t){return r.isSubgraph(e,t)}),i=t.selectAll("g.cluster").data(n,function(t){return t});return i.selectAll("*").remove(),i.enter().append("g").attr("class","cluster").attr("id",function(t){var n=e.node(t);return n.id}).style("opacity",0),r.applyTransition(i,e).style("opacity",1),i.each(function(t){var n=e.node(t),i=d3.select(this);d3.select(this).append("rect");var r=i.append("g").attr("class","label");o(r,n,n.clusterLabelPos)}),i.selectAll("rect").each(function(t){var n=e.node(t),i=d3.select(this);r.applyStyle(i,n.style)}),r.applyTransition(i.exit(),e).style("opacity",0).remove(),i}var r=t("./util"),o=t("./label/add-label");e.exports=i},{"./label/add-label":18,"./util":27}],4:[function(t,e,n){"use strict";function i(t,e){var n=t.selectAll("g.edgeLabel").data(e.edges(),function(t){return s.edgeToId(t)}).classed("update",!0);return n.selectAll("*").remove(),n.enter().append("g").classed("edgeLabel",!0).style("opacity",0),n.each(function(t){var n=e.edge(t),i=o(a.select(this),e.edge(t),0,0).classed("label",!0),s=i.node().getBBox();n.labelId&&i.attr("id",n.labelId),r.has(n,"width")||(n.width=s.width),r.has(n,"height")||(n.height=s.height)}),s.applyTransition(n.exit(),e).style("opacity",0).remove(),n}var r=t("./lodash"),o=t("./label/add-label"),s=t("./util"),a=t("./d3");e.exports=i},{"./d3":7,"./label/add-label":18,"./lodash":21,"./util":27}],5:[function(t,e,n){"use strict";function i(t,e,n){var i=t.selectAll("g.edgePath").data(e.edges(),function(t){return h.edgeToId(t)}).classed("update",!0);return a(i,e),l(i,e),h.applyTransition(i,e).style("opacity",1),i.each(function(t){var n=d.select(this),i=e.edge(t);i.elem=this,i.id&&n.attr("id",i.id),h.applyClass(n,i["class"],(n.classed("update")?"update ":"")+"edgePath")}),i.selectAll("path.path").each(function(t){var n=e.edge(t);n.arrowheadId=u.uniqueId("arrowhead");var i=d.select(this).attr("marker-end",function(){return"url(#"+n.arrowheadId+")"}).style("fill","none");h.applyTransition(i,e).attr("d",function(t){return r(e,t)}),h.applyStyle(i,n.style)}),i.selectAll("defs *").remove(),i.selectAll("defs").each(function(t){var i=e.edge(t),r=n[i.arrowhead];r(d.select(this),i.arrowheadId,i,"arrowhead")}),i}function r(t,e){var n=t.edge(e),i=t.node(e.v),r=t.node(e.w),s=n.points.slice(1,n.points.length-1);return s.unshift(c(i,s[0])),s.push(c(r,s[s.length-1])),o(n,s)}function o(t,e){var n=d.svg.line().x(function(t){return t.x}).y(function(t){return t.y});return u.has(t,"lineInterpolate")&&n.interpolate(t.lineInterpolate),u.has(t,"lineTension")&&n.tension(Number(t.lineTension)),n(e)}function s(t){var e=t.getBBox(),n=t.getTransformToElement(t.ownerSVGElement).translate(e.width/2,e.height/2);return{x:n.e,y:n.f}}function a(t,e){var n=t.enter().append("g").attr("class","edgePath").style("opacity",0);n.append("path").attr("class","path").attr("d",function(t){var n=e.edge(t),i=e.node(t.v).elem,r=u.range(n.points.length).map(function(){return s(i)});return o(n,r)}),n.append("defs")}function l(t,e){var n=t.exit();h.applyTransition(n,e).style("opacity",0).remove(),h.applyTransition(n.select("path.path"),e).attr("d",function(t){var n=e.node(t.v);if(n){var i=u.range(this.pathSegList.length).map(function(){return n});return o({},i)}return d.select(this).attr("d")})}var u=t("./lodash"),c=t("./intersect/intersect-node"),h=t("./util"),d=t("./d3");e.exports=i},{"./d3":7,"./intersect/intersect-node":14,"./lodash":21,"./util":27}],6:[function(t,e,n){"use strict";function i(t,e,n){var i=e.nodes().filter(function(t){return!s.isSubgraph(e,t)}),l=t.selectAll("g.node").data(i,function(t){return t}).classed("update",!0);return l.selectAll("*").remove(),l.enter().append("g").attr("class","node").style("opacity",0),l.each(function(t){var i=e.node(t),l=a.select(this),u=l.append("g").attr("class","label"),c=o(u,i),h=n[i.shape],d=r.pick(c.node().getBBox(),"width","height");i.elem=this,i.id&&l.attr("id",i.id),i.labelId&&u.attr("id",i.labelId),s.applyClass(l,i["class"],(l.classed("update")?"update ":"")+"node"),r.has(i,"width")&&(d.width=i.width),r.has(i,"height")&&(d.height=i.height),d.width+=i.paddingLeft+i.paddingRight,d.height+=i.paddingTop+i.paddingBottom,u.attr("transform","translate("+(i.paddingLeft-i.paddingRight)/2+","+(i.paddingTop-i.paddingBottom)/2+")");var f=h(a.select(this),d,i);s.applyStyle(f,i.style);var p=f.node().getBBox();i.width=p.width,i.height=p.height}),s.applyTransition(l.exit(),e).style("opacity",0).remove(),l}var r=t("./lodash"),o=t("./label/add-label"),s=t("./util"),a=t("./d3");e.exports=i},{"./d3":7,"./label/add-label":18,"./lodash":21,"./util":27}],7:[function(t,e,n){e.exports=window.d3},{}],8:[function(t,e,n){var i;if(t)try{i=t("dagre")}catch(r){}i||(i=window.dagre),e.exports=i},{dagre:void 0}],9:[function(t,e,n){var i;if(t)try{i=t("graphlib")}catch(r){}i||(i=window.graphlib),e.exports=i},{graphlib:void 0}],10:[function(t,e,n){e.exports={node:t("./intersect-node"),circle:t("./intersect-circle"),ellipse:t("./intersect-ellipse"),polygon:t("./intersect-polygon"),rect:t("./intersect-rect")}},{"./intersect-circle":11,"./intersect-ellipse":12,"./intersect-node":14,"./intersect-polygon":15,"./intersect-rect":16}],11:[function(t,e,n){function i(t,e,n){return r(t,e,e,n)}var r=t("./intersect-ellipse");e.exports=i},{"./intersect-ellipse":12}],12:[function(t,e,n){function i(t,e,n,i){var r=t.x,o=t.y,s=r-i.x,a=o-i.y,l=Math.sqrt(e*e*a*a+n*n*s*s),u=Math.abs(e*n*s/l);i.x<r&&(u=-u);var c=Math.abs(e*n*a/l);return i.y<o&&(c=-c),{x:r+u,y:o+c}}e.exports=i},{}],13:[function(t,e,n){function i(t,e,n,i){var o,s,a,l,u,c,h,d,f,p,g,m,v,y,b;return o=e.y-t.y,a=t.x-e.x,u=e.x*t.y-t.x*e.y,f=o*n.x+a*n.y+u,p=o*i.x+a*i.y+u,0!==f&&0!==p&&r(f,p)||(s=i.y-n.y,l=n.x-i.x,c=i.x*n.y-n.x*i.y,h=s*t.x+l*t.yy+c,d=s*e.x+l*e.y+c,0!==h&&0!==d&&r(h,d)||(g=o*l-s*a,0===g))?void 0:(m=Math.abs(g/2),v=a*c-l*u,y=0>v?(v-m)/g:(v+m)/g,v=s*u-o*c,b=0>v?(v-m)/g:(v+m)/g,{x:y,y:b})}function r(t,e){return t*e>0}e.exports=i},{}],14:[function(t,e,n){function i(t,e){return t.intersect(e)}e.exports=i},{}],15:[function(t,e,n){function i(t,e,n){var i=t.x,o=t.y,s=[],a=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY;e.forEach(function(t){a=Math.min(a,t.x),l=Math.min(l,t.y)});for(var u=i-t.width/2-a,c=o-t.height/2-l,h=0;h<e.length;h++){var d=e[h],f=e[h<e.length-1?h+1:0],p=r(t,n,{x:u+d.x,y:c+d.y},{x:u+f.x,y:c+f.y});p&&s.push(p)}return s.length?(s.length>1&&s.sort(function(t,e){var i=t.x-n.x,r=t.y-n.y,o=Math.sqrt(i*i+r*r),s=e.x-n.x,a=e.y-n.y,l=Math.sqrt(s*s+a*a);return l>o?-1:o===l?0:1}),s[0]):(console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",t),t)}var r=t("./intersect-line");e.exports=i},{"./intersect-line":13}],16:[function(t,e,n){function i(t,e){var n,i,r=t.x,o=t.y,s=e.x-r,a=e.y-o,l=t.width/2,u=t.height/2;return Math.abs(a)*l>Math.abs(s)*u?(0>a&&(u=-u),n=0===a?0:u*s/a,i=u):(0>s&&(l=-l),n=l,i=0===s?0:l*a/s),{x:r+n,y:o+i}}e.exports=i},{}],17:[function(t,e,n){function i(t,e){var n=t.append("foreignObject").attr("width","100000"),i=n.append("xhtml:div"),o=e.label;switch(typeof o){case"function":i.insert(o);break;case"object":i.insert(function(){return o});break;default:i.html(o)}r.applyStyle(i,e.labelStyle),i.style("display","inline-block"),i.style("white-space","nowrap");var s,a;return i.each(function(){s=this.clientWidth,a=this.clientHeight}),n.attr("width",s).attr("height",a),n}var r=t("../util");e.exports=i},{"../util":27}],18:[function(t,e,n){function i(t,e,n){var i=e.label,a=t.append("g");"svg"===e.labelType?s(a,e):"string"!=typeof i||"html"===e.labelType?o(a,e):r(a,e);var l,u=a.node().getBBox();switch(n){case"top":l=-e.height/2;break;case"bottom":l=e.height/2-u.height;break;default:l=-u.height/2}return a.attr("transform","translate("+-u.width/2+","+l+")"),a}var r=t("./add-text-label"),o=t("./add-html-label"),s=t("./add-svg-label");e.exports=i},{"./add-html-label":17,"./add-svg-label":19,"./add-text-label":20}],19:[function(t,e,n){function i(t,e){var n=t;return n.node().appendChild(e.label),r.applyStyle(n,e.labelStyle),n}var r=t("../util");e.exports=i},{"../util":27}],20:[function(t,e,n){function i(t,e){for(var n=t.append("text"),i=r(e.label).split("\n"),s=0;s<i.length;s++)n.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(i[s]);return o.applyStyle(n,e.labelStyle),n}function r(t){for(var e,n="",i=!1,r=0;r<t.length;++r)if(e=t[r],i){switch(e){case"n":n+="\n";break;default:n+=e}i=!1}else"\\"===e?i=!0:n+=e;return n}var o=t("../util");e.exports=i},{"../util":27}],21:[function(t,e,n){var i;if(t)try{i=t("lodash")}catch(r){}i||(i=window._),e.exports=i},{lodash:void 0}],22:[function(t,e,n){"use strict";function i(t,e){function n(t){var n=e.node(t);return"translate("+n.x+","+n.y+")"}var i=t.filter(function(){return!o.select(this).classed("update")});i.attr("transform",n),r.applyTransition(t,e).style("opacity",1).attr("transform",n),r.applyTransition(i.selectAll("rect"),e).attr("width",function(t){return e.node(t).width}).attr("height",function(t){return e.node(t).height}).attr("x",function(t){var n=e.node(t);return-n.width/2}).attr("y",function(t){var n=e.node(t);return-n.height/2})}var r=t("./util"),o=t("./d3");e.exports=i},{"./d3":7,"./util":27}],23:[function(t,e,n){"use strict";function i(t,e){function n(t){var n=e.edge(t);return s.has(n,"x")?"translate("+n.x+","+n.y+")":""}var i=t.filter(function(){return!o.select(this).classed("update")});i.attr("transform",n),r.applyTransition(t,e).style("opacity",1).attr("transform",n)}var r=t("./util"),o=t("./d3"),s=t("./lodash");e.exports=i},{"./d3":7,"./lodash":21,"./util":27}],24:[function(t,e,n){"use strict";function i(t,e){function n(t){var n=e.node(t);return"translate("+n.x+","+n.y+")"}var i=t.filter(function(){return!o.select(this).classed("update")});i.attr("transform",n),r.applyTransition(t,e).style("opacity",1).attr("transform",n)}var r=t("./util"),o=t("./d3");e.exports=i},{"./d3":7,"./util":27}],25:[function(t,e,n){function i(){var e=t("./create-nodes"),n=t("./create-clusters"),i=t("./create-edge-labels"),a=t("./create-edge-paths"),u=t("./position-nodes"),c=t("./position-edge-labels"),h=t("./position-clusters"),d=t("./shapes"),f=t("./arrows"),p=function(t,p){r(p);var g=s(t,"output"),m=s(g,"clusters"),v=s(g,"edgePaths"),y=i(s(g,"edgeLabels"),p),b=e(s(g,"nodes"),p,d);l(p),u(b,p),c(y,p),a(v,p,f);var w=n(m,p);h(w,p),o(p)};return p.createNodes=function(t){return arguments.length?(e=t,p):e},p.createClusters=function(t){return arguments.length?(n=t,p):n},p.createEdgeLabels=function(t){return arguments.length?(i=t,p):i},p.createEdgePaths=function(t){return arguments.length?(a=t,p):a},p.shapes=function(t){return arguments.length?(d=t,p):d},p.arrows=function(t){return arguments.length?(f=t,p):f},p}function r(t){t.nodes().forEach(function(e){var n=t.node(e);a.has(n,"label")||t.children(e).length||(n.label=e),a.has(n,"paddingX")&&a.defaults(n,{paddingLeft:n.paddingX,paddingRight:n.paddingX}),a.has(n,"paddingY")&&a.defaults(n,{paddingTop:n.paddingY,paddingBottom:n.paddingY}),a.has(n,"padding")&&a.defaults(n,{paddingLeft:n.padding,paddingRight:n.padding,paddingTop:n.padding,paddingBottom:n.padding}),a.defaults(n,u),a.each(["paddingLeft","paddingRight","paddingTop","paddingBottom"],function(t){n[t]=Number(n[t])}),a.has(n,"width")&&(n._prevWidth=n.width),a.has(n,"height")&&(n._prevHeight=n.height)}),t.edges().forEach(function(e){var n=t.edge(e);a.has(n,"label")||(n.label=""),a.defaults(n,c)})}function o(t){a.each(t.nodes(),function(e){var n=t.node(e);a.has(n,"_prevWidth")?n.width=n._prevWidth:delete n.width,a.has(n,"_prevHeight")?n.height=n._prevHeight:delete n.height,delete n._prevWidth,delete n._prevHeight})}function s(t,e){var n=t.select("g."+e);return n.empty()&&(n=t.append("g").attr("class",e)),n}var a=t("./lodash"),l=t("./dagre").layout;e.exports=i;var u={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},c={arrowhead:"normal",lineInterpolate:"linear"}},{"./arrows":2,"./create-clusters":3,"./create-edge-labels":4,"./create-edge-paths":5,"./create-nodes":6,"./dagre":8,"./lodash":21,"./position-clusters":22,"./position-edge-labels":23,"./position-nodes":24,"./shapes":26}],26:[function(t,e,n){"use strict";function i(t,e,n){var i=t.insert("rect",":first-child").attr("rx",n.rx).attr("ry",n.ry).attr("x",-e.width/2).attr("y",-e.height/2).attr("width",e.width).attr("height",e.height);return n.intersect=function(t){return a(n,t)},i}function r(t,e,n){var i=e.width/2,r=e.height/2,o=t.insert("ellipse",":first-child").attr("x",-e.width/2).attr("y",-e.height/2).attr("rx",i).attr("ry",r);return n.intersect=function(t){return l(n,i,r,t)},o}function o(t,e,n){var i=Math.max(e.width,e.height)/2,r=t.insert("circle",":first-child").attr("x",-e.width/2).attr("y",-e.height/2).attr("r",i);return n.intersect=function(t){return u(n,i,t)},r}function s(t,e,n){var i=e.width*Math.SQRT2/2,r=e.height*Math.SQRT2/2,o=[{x:0,y:-r},{x:-i,y:0},{x:0,y:r},{x:i,y:0}],s=t.insert("polygon",":first-child").attr("points",o.map(function(t){return t.x+","+t.y}).join(" "));return n.intersect=function(t){return c(n,o,t)},s}var a=t("./intersect/intersect-rect"),l=t("./intersect/intersect-ellipse"),u=t("./intersect/intersect-circle"),c=t("./intersect/intersect-polygon");e.exports={rect:i,ellipse:r,circle:o,diamond:s}},{"./intersect/intersect-circle":11,"./intersect/intersect-ellipse":12,"./intersect/intersect-polygon":15,"./intersect/intersect-rect":16}],27:[function(t,e,n){function i(t,e){return!!t.children(e).length}function r(t){return o(t.v)+":"+o(t.w)+":"+o(t.name)}function o(t){return t?String(t).replace(c,"\\:"):""}function s(t,e){e&&t.attr("style",e)}function a(t,e,n){e&&t.attr("class",e).attr("class",n+" "+t.attr("class"))}function l(t,e){var n=e.graph();if(u.isPlainObject(n)){var i=n.transition;if(u.isFunction(i))return i(t)}return t}var u=t("./lodash");e.exports={isSubgraph:i,edgeToId:r,applyStyle:s,applyClass:a,applyTransition:l};var c=/:/g},{"./lodash":21}],28:[function(t,e,n){e.exports="0.4.10"},{}]},{},[1])(1)}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return On.apply(null,arguments)}function e(t){On=t}function n(t){return"[object Array]"===Object.prototype.toString.call(t)}function i(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function r(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function s(t,e){for(var n in e)o(e,n)&&(t[n]=e[n]);return o(e,"toString")&&(t.toString=e.toString),o(e,"valueOf")&&(t.valueOf=e.valueOf),t}function a(t,e,n,i){return kt(t,e,n,i,!0).utc()}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function u(t){return null==t._pf&&(t._pf=l()),t._pf}function c(t){if(null==t._isValid){var e=u(t);t._isValid=!(isNaN(t._d.getTime())||!(e.overflow<0)||e.empty||e.invalidMonth||e.invalidWeekday||e.nullInput||e.invalidFormat||e.userInvalidated),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function h(t){var e=a(NaN);return null!=t?s(u(e),t):u(e).userInvalidated=!0,e}function d(t,e){var n,i,r;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=u(e)),"undefined"!=typeof e._locale&&(t._locale=e._locale),Bn.length>0)for(n in Bn)i=Bn[n],r=e[i],"undefined"!=typeof r&&(t[i]=r);return t}function f(e){d(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),In===!1&&(In=!0,t.updateOffset(this),In=!1)}function p(t){return t instanceof f||null!=t&&null!=t._isAMomentObject}function g(t){return 0>t?Math.ceil(t):Math.floor(t)}function m(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=g(e)),n}function v(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),s=0;for(i=0;r>i;i++)(n&&t[i]!==e[i]||!n&&m(t[i])!==m(e[i]))&&s++;return s+o}function y(){}function b(t){return t?t.toLowerCase().replace("_","-"):t}function w(t){for(var e,n,i,r,o=0;o<t.length;){for(r=b(t[o]).split("-"),e=r.length,n=b(t[o+1]),n=n?n.split("-"):null;e>0;){if(i=x(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&v(r,n,!0)>=e-1)break;e--}o++}return null}function x(t){var e=null;if(!Rn[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=Pn._abbr,require("./locale/"+t),_(e)}catch(n){}return Rn[t]}function _(t,e){var n;return t&&(n="undefined"==typeof e?C(t):$(t,e),n&&(Pn=n)),Pn._abbr}function $(t,e){return null!==e?(e.abbr=t,Rn[t]=Rn[t]||new y,Rn[t].set(e),_(t),Rn[t]):(delete Rn[t],null)}function C(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Pn;if(!n(t)){if(e=x(t))return e;t=[t]}return w(t)}function A(t,e){var n=t.toLowerCase();jn[n]=jn[n+"s"]=jn[e]=t}function E(t){return"string"==typeof t?jn[t]||jn[t.toLowerCase()]:void 0}function S(t){var e,n,i={};for(n in t)o(t,n)&&(e=E(n),e&&(i[e]=t[n]));return i}function k(e,n){return function(i){return null!=i?(T(this,e,i),t.updateOffset(this,n),this):D(this,e)}}function D(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function T(t,e,n){return t._d["set"+(t._isUTC?"UTC":"")+e](n)}function F(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else if(t=E(t),"function"==typeof this[t])return this[t](e);return this}function M(t,e,n){var i=""+Math.abs(t),r=e-i.length,o=t>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function L(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(Vn[t]=r),e&&(Vn[e[0]]=function(){return M(r.apply(this,arguments),e[1],e[2])}),n&&(Vn[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function O(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"");
}function P(t){var e,n,i=t.match(Nn);for(e=0,n=i.length;n>e;e++)Vn[i[e]]?i[e]=Vn[i[e]]:i[e]=O(i[e]);return function(r){var o="";for(e=0;n>e;e++)o+=i[e]instanceof Function?i[e].call(r,t):i[e];return o}}function B(t,e){return t.isValid()?(e=I(e,t.localeData()),Un[e]=Un[e]||P(e),Un[e](t)):t.localeData().invalidDate()}function I(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(zn.lastIndex=0;i>=0&&zn.test(t);)t=t.replace(zn,n),zn.lastIndex=0,i-=1;return t}function R(t){return"function"==typeof t&&"[object Function]"===Object.prototype.toString.call(t)}function j(t,e,n){ri[t]=R(e)?e:function(t){return t&&n?n:e}}function N(t,e){return o(ri,t)?ri[t](e._strict,e._locale):new RegExp(z(t))}function z(t){return t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function U(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(i=function(t,n){n[e]=m(t)}),n=0;n<t.length;n++)oi[t[n]]=i}function V(t,e){U(t,function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)})}function H(t,e,n){null!=e&&o(oi,t)&&oi[t](e,n._a,n,t)}function W(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function Y(t){return this._months[t.month()]}function q(t){return this._monthsShort[t.month()]}function K(t,e,n){var i,r,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=a([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function X(t,e){var n;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(n=Math.min(t.date(),W(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t)}function G(e){return null!=e?(X(this,e),t.updateOffset(this,!0),this):D(this,"Month")}function J(){return W(this.year(),this.month())}function Z(t){var e,n=t._a;return n&&-2===u(t).overflow&&(e=n[ai]<0||n[ai]>11?ai:n[li]<1||n[li]>W(n[si],n[ai])?li:n[ui]<0||n[ui]>24||24===n[ui]&&(0!==n[ci]||0!==n[hi]||0!==n[di])?ui:n[ci]<0||n[ci]>59?ci:n[hi]<0||n[hi]>59?hi:n[di]<0||n[di]>999?di:-1,u(t)._overflowDayOfYear&&(si>e||e>li)&&(e=li),u(t).overflow=e),t}function Q(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function tt(t,e){var n=!0;return s(function(){return n&&(Q(t+"\n"+(new Error).stack),n=!1),e.apply(this,arguments)},e)}function et(t,e){gi[t]||(Q(e),gi[t]=!0)}function nt(t){var e,n,i=t._i,r=mi.exec(i);if(r){for(u(t).iso=!0,e=0,n=vi.length;n>e;e++)if(vi[e][1].exec(i)){t._f=vi[e][0];break}for(e=0,n=yi.length;n>e;e++)if(yi[e][1].exec(i)){t._f+=(r[6]||" ")+yi[e][0];break}i.match(ei)&&(t._f+="Z"),xt(t)}else t._isValid=!1}function it(e){var n=bi.exec(e._i);return null!==n?void(e._d=new Date(+n[1])):(nt(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function rt(t,e,n,i,r,o,s){var a=new Date(t,e,n,i,r,o,s);return 1970>t&&a.setFullYear(t),a}function ot(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function st(t){return at(t)?366:365}function at(t){return t%4===0&&t%100!==0||t%400===0}function lt(){return at(this.year())}function ut(t,e,n){var i,r=n-e,o=n-t.day();return o>r&&(o-=7),r-7>o&&(o+=7),i=Dt(t).add(o,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function ct(t){return ut(t,this._week.dow,this._week.doy).week}function ht(){return this._week.dow}function dt(){return this._week.doy}function ft(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function pt(t){var e=ut(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function gt(t,e,n,i,r){var o,s=6+r-i,a=ot(t,0,1+s),l=a.getUTCDay();return r>l&&(l+=7),n=null!=n?1*n:r,o=1+s+7*(e-1)-l+n,{year:o>0?t:t-1,dayOfYear:o>0?o:st(t-1)+o}}function mt(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function vt(t,e,n){return null!=t?t:null!=e?e:n}function yt(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function bt(t){var e,n,i,r,o=[];if(!t._d){for(i=yt(t),t._w&&null==t._a[li]&&null==t._a[ai]&&wt(t),t._dayOfYear&&(r=vt(t._a[si],i[si]),t._dayOfYear>st(r)&&(u(t)._overflowDayOfYear=!0),n=ot(r,0,t._dayOfYear),t._a[ai]=n.getUTCMonth(),t._a[li]=n.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=o[e]=i[e];for(;7>e;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[ui]&&0===t._a[ci]&&0===t._a[hi]&&0===t._a[di]&&(t._nextDay=!0,t._a[ui]=0),t._d=(t._useUTC?ot:rt).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[ui]=24)}}function wt(t){var e,n,i,r,o,s,a;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(o=1,s=4,n=vt(e.GG,t._a[si],ut(Dt(),1,4).year),i=vt(e.W,1),r=vt(e.E,1)):(o=t._locale._week.dow,s=t._locale._week.doy,n=vt(e.gg,t._a[si],ut(Dt(),o,s).year),i=vt(e.w,1),null!=e.d?(r=e.d,o>r&&++i):r=null!=e.e?e.e+o:o),a=gt(n,i,r,s,o),t._a[si]=a.year,t._dayOfYear=a.dayOfYear}function xt(e){if(e._f===t.ISO_8601)return void nt(e);e._a=[],u(e).empty=!0;var n,i,r,o,s,a=""+e._i,l=a.length,c=0;for(r=I(e._f,e._locale).match(Nn)||[],n=0;n<r.length;n++)o=r[n],i=(a.match(N(o,e))||[])[0],i&&(s=a.substr(0,a.indexOf(i)),s.length>0&&u(e).unusedInput.push(s),a=a.slice(a.indexOf(i)+i.length),c+=i.length),Vn[o]?(i?u(e).empty=!1:u(e).unusedTokens.push(o),H(o,i,e)):e._strict&&!i&&u(e).unusedTokens.push(o);u(e).charsLeftOver=l-c,a.length>0&&u(e).unusedInput.push(a),u(e).bigHour===!0&&e._a[ui]<=12&&e._a[ui]>0&&(u(e).bigHour=void 0),e._a[ui]=_t(e._locale,e._a[ui],e._meridiem),bt(e),Z(e)}function _t(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&12>e&&(e+=12),i||12!==e||(e=0),e):e}function $t(t){var e,n,i,r,o;if(0===t._f.length)return u(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)o=0,e=d({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],xt(e),c(e)&&(o+=u(e).charsLeftOver,o+=10*u(e).unusedTokens.length,u(e).score=o,(null==i||i>o)&&(i=o,n=e));s(t,n||e)}function Ct(t){if(!t._d){var e=S(t._i);t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],bt(t)}}function At(t){var e=new f(Z(Et(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Et(t){var e=t._i,r=t._f;return t._locale=t._locale||C(t._l),null===e||void 0===r&&""===e?h({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),p(e)?new f(Z(e)):(n(r)?$t(t):r?xt(t):i(e)?t._d=e:St(t),t))}function St(e){var o=e._i;void 0===o?e._d=new Date:i(o)?e._d=new Date(+o):"string"==typeof o?it(e):n(o)?(e._a=r(o.slice(0),function(t){return parseInt(t,10)}),bt(e)):"object"==typeof o?Ct(e):"number"==typeof o?e._d=new Date(o):t.createFromInputFallback(e)}function kt(t,e,n,i,r){var o={};return"boolean"==typeof n&&(i=n,n=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=r,o._l=n,o._i=t,o._f=e,o._strict=i,At(o)}function Dt(t,e,n,i){return kt(t,e,n,i,!1)}function Tt(t,e){var i,r;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return Dt();for(i=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](i))&&(i=e[r]);return i}function Ft(){var t=[].slice.call(arguments,0);return Tt("isBefore",t)}function Mt(){var t=[].slice.call(arguments,0);return Tt("isAfter",t)}function Lt(t){var e=S(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,s=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+36e5*a,this._days=+s+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=C(),this._bubble()}function Ot(t){return t instanceof Lt}function Pt(t,e){L(t,0,0,function(){var t=this.utcOffset(),n="+";return 0>t&&(t=-t,n="-"),n+M(~~(t/60),2)+e+M(~~t%60,2)})}function Bt(t){var e=(t||"").match(ei)||[],n=e[e.length-1]||[],i=(n+"").match(Ci)||["-",0,0],r=+(60*i[1])+m(i[2]);return"+"===i[0]?r:-r}function It(e,n){var r,o;return n._isUTC?(r=n.clone(),o=(p(e)||i(e)?+e:+Dt(e))-+r,r._d.setTime(+r._d+o),t.updateOffset(r,!1),r):Dt(e).local()}function Rt(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function jt(e,n){var i,r=this._offset||0;return null!=e?("string"==typeof e&&(e=Bt(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&n&&(i=Rt(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==e&&(!n||this._changeInProgress?ee(this,Gt(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:Rt(this)}function Nt(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function zt(t){return this.utcOffset(0,t)}function Ut(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Rt(this),"m")),this}function Vt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Bt(this._i)),this}function Ht(t){return t=t?Dt(t).utcOffset():0,(this.utcOffset()-t)%60===0}function Wt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Yt(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var t={};if(d(t,this),t=Et(t),t._a){var e=t._isUTC?a(t._a):Dt(t._a);this._isDSTShifted=this.isValid()&&v(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function qt(){return!this._isUTC}function Kt(){return this._isUTC}function Xt(){return this._isUTC&&0===this._offset}function Gt(t,e){var n,i,r,s=t,a=null;return Ot(t)?s={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(s={},e?s[e]=t:s.milliseconds=t):(a=Ai.exec(t))?(n="-"===a[1]?-1:1,s={y:0,d:m(a[li])*n,h:m(a[ui])*n,m:m(a[ci])*n,s:m(a[hi])*n,ms:m(a[di])*n}):(a=Ei.exec(t))?(n="-"===a[1]?-1:1,s={y:Jt(a[2],n),M:Jt(a[3],n),d:Jt(a[4],n),h:Jt(a[5],n),m:Jt(a[6],n),s:Jt(a[7],n),w:Jt(a[8],n)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(r=Qt(Dt(s.from),Dt(s.to)),s={},s.ms=r.milliseconds,s.M=r.months),i=new Lt(s),Ot(t)&&o(t,"_locale")&&(i._locale=t._locale),i}function Jt(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Zt(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Qt(t,e){var n;return e=It(e,t),t.isBefore(e)?n=Zt(t,e):(n=Zt(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function te(t,e){return function(n,i){var r,o;return null===i||isNaN(+i)||(et(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=Gt(n,i),ee(this,r,t),this}}function ee(e,n,i,r){var o=n._milliseconds,s=n._days,a=n._months;r=null==r?!0:r,o&&e._d.setTime(+e._d+o*i),s&&T(e,"Date",D(e,"Date")+s*i),a&&X(e,D(e,"Month")+a*i),r&&t.updateOffset(e,s||a)}function ne(t,e){var n=t||Dt(),i=It(n,this).startOf("day"),r=this.diff(i,"days",!0),o=-6>r?"sameElse":-1>r?"lastWeek":0>r?"lastDay":1>r?"sameDay":2>r?"nextDay":7>r?"nextWeek":"sameElse";return this.format(e&&e[o]||this.localeData().calendar(o,this,Dt(n)))}function ie(){return new f(this)}function re(t,e){var n;return e=E("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=p(t)?t:Dt(t),+this>+t):(n=p(t)?+t:+Dt(t),n<+this.clone().startOf(e))}function oe(t,e){var n;return e=E("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=p(t)?t:Dt(t),+t>+this):(n=p(t)?+t:+Dt(t),+this.clone().endOf(e)<n)}function se(t,e,n){return this.isAfter(t,n)&&this.isBefore(e,n)}function ae(t,e){var n;return e=E(e||"millisecond"),"millisecond"===e?(t=p(t)?t:Dt(t),+this===+t):(n=+Dt(t),+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e))}function le(t,e,n){var i,r,o=It(t,this),s=6e4*(o.utcOffset()-this.utcOffset());return e=E(e),"year"===e||"month"===e||"quarter"===e?(r=ue(this,o),"quarter"===e?r/=3:"year"===e&&(r/=12)):(i=this-o,r="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-s)/864e5:"week"===e?(i-s)/6048e5:i),n?r:g(r)}function ue(t,e){var n,i,r=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(r,"months");return 0>e-o?(n=t.clone().add(r-1,"months"),i=(e-o)/(o-n)):(n=t.clone().add(r+1,"months"),i=(e-o)/(n-o)),-(r+i)}function ce(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function he(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():B(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):B(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function de(e){var n=B(this,e||t.defaultFormat);return this.localeData().postformat(n)}function fe(t,e){return this.isValid()?Gt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function pe(t){return this.from(Dt(),t)}function ge(t,e){return this.isValid()?Gt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function me(t){return this.to(Dt(),t)}function ve(t){var e;return void 0===t?this._locale._abbr:(e=C(t),null!=e&&(this._locale=e),this)}function ye(){return this._locale}function be(t){switch(t=E(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function we(t){return t=E(t),void 0===t||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function xe(){return+this._d-6e4*(this._offset||0)}function _e(){return Math.floor(+this/1e3)}function $e(){return this._offset?new Date(+this):this._d}function Ce(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Ae(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Ee(){return c(this)}function Se(){return s({},u(this))}function ke(){return u(this).overflow}function De(t,e){L(0,[t,t.length],0,e)}function Te(t,e,n){return ut(Dt([t,11,31+e-n]),e,n).week}function Fe(t){var e=ut(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")}function Me(t){var e=ut(this,1,4).year;return null==t?e:this.add(t-e,"y")}function Le(){return Te(this.year(),1,4)}function Oe(){var t=this.localeData()._week;return Te(this.year(),t.dow,t.doy)}function Pe(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Be(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function Ie(t){return this._weekdays[t.day()]}function Re(t){return this._weekdaysShort[t.day()]}function je(t){return this._weekdaysMin[t.day()]}function Ne(t){var e,n,i;for(this._weekdaysParse=this._weekdaysParse||[],e=0;7>e;e++)if(this._weekdaysParse[e]||(n=Dt([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e}function ze(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Be(t,this.localeData()),this.add(t-e,"d")):e}function Ue(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ve(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)}function He(t,e){L(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function We(t,e){return e._meridiemParse}function Ye(t){return"p"===(t+"").toLowerCase().charAt(0)}function qe(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function Ke(t,e){e[di]=m(1e3*("0."+t))}function Xe(){return this._isUTC?"UTC":""}function Ge(){return this._isUTC?"Coordinated Universal Time":""}function Je(t){return Dt(1e3*t)}function Ze(){return Dt.apply(null,arguments).parseZone()}function Qe(t,e,n){var i=this._calendar[t];return"function"==typeof i?i.call(e,n):i}function tn(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function en(){return this._invalidDate}function nn(t){return this._ordinal.replace("%d",t)}function rn(t){return t}function on(t,e,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(t,e,n,i):r.replace(/%d/i,t)}function sn(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)}function an(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function ln(t,e,n,i){var r=C(),o=a().set(i,e);return r[n](o,t)}function un(t,e,n,i,r){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return ln(t,e,n,r);var o,s=[];for(o=0;i>o;o++)s[o]=ln(t,o,n,r);return s}function cn(t,e){return un(t,e,"months",12,"month")}function hn(t,e){return un(t,e,"monthsShort",12,"month")}function dn(t,e){return un(t,e,"weekdays",7,"day")}function fn(t,e){return un(t,e,"weekdaysShort",7,"day")}function pn(t,e){return un(t,e,"weekdaysMin",7,"day")}function gn(){var t=this._data;return this._milliseconds=Xi(this._milliseconds),this._days=Xi(this._days),this._months=Xi(this._months),t.milliseconds=Xi(t.milliseconds),t.seconds=Xi(t.seconds),t.minutes=Xi(t.minutes),t.hours=Xi(t.hours),t.months=Xi(t.months),t.years=Xi(t.years),this}function mn(t,e,n,i){var r=Gt(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function vn(t,e){return mn(this,t,e,1)}function yn(t,e){return mn(this,t,e,-1)}function bn(t){return 0>t?Math.floor(t):Math.ceil(t)}function wn(){var t,e,n,i,r,o=this._milliseconds,s=this._days,a=this._months,l=this._data;return o>=0&&s>=0&&a>=0||0>=o&&0>=s&&0>=a||(o+=864e5*bn(_n(a)+s),s=0,a=0),l.milliseconds=o%1e3,t=g(o/1e3),l.seconds=t%60,e=g(t/60),l.minutes=e%60,n=g(e/60),l.hours=n%24,s+=g(n/24),r=g(xn(s)),a+=r,s-=bn(_n(r)),i=g(a/12),a%=12,l.days=s,l.months=a,l.years=i,this}function xn(t){return 4800*t/146097}function _n(t){return 146097*t/4800}function $n(t){var e,n,i=this._milliseconds;if(t=E(t),"month"===t||"year"===t)return e=this._days+i/864e5,n=this._months+xn(e),"month"===t?n:n/12;switch(e=this._days+Math.round(_n(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function Cn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*m(this._months/12)}function An(t){return function(){return this.as(t)}}function En(t){return t=E(t),this[t+"s"]()}function Sn(t){return function(){return this._data[t]}}function kn(){return g(this.days()/7)}function Dn(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function Tn(t,e,n){var i=Gt(t).abs(),r=hr(i.as("s")),o=hr(i.as("m")),s=hr(i.as("h")),a=hr(i.as("d")),l=hr(i.as("M")),u=hr(i.as("y")),c=r<dr.s&&["s",r]||1===o&&["m"]||o<dr.m&&["mm",o]||1===s&&["h"]||s<dr.h&&["hh",s]||1===a&&["d"]||a<dr.d&&["dd",a]||1===l&&["M"]||l<dr.M&&["MM",l]||1===u&&["y"]||["yy",u];return c[2]=e,c[3]=+t>0,c[4]=n,Dn.apply(null,c)}function Fn(t,e){return void 0===dr[t]?!1:void 0===e?dr[t]:(dr[t]=e,!0)}function Mn(t){var e=this.localeData(),n=Tn(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function Ln(){var t,e,n,i=fr(this._milliseconds)/1e3,r=fr(this._days),o=fr(this._months);t=g(i/60),e=g(t/60),i%=60,t%=60,n=g(o/12),o%=12;var s=n,a=o,l=r,u=e,c=t,h=i,d=this.asSeconds();return d?(0>d?"-":"")+"P"+(s?s+"Y":"")+(a?a+"M":"")+(l?l+"D":"")+(u||c||h?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(h?h+"S":""):"P0D"}var On,Pn,Bn=t.momentProperties=[],In=!1,Rn={},jn={},Nn=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,zn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Un={},Vn={},Hn=/\d/,Wn=/\d\d/,Yn=/\d{3}/,qn=/\d{4}/,Kn=/[+-]?\d{6}/,Xn=/\d\d?/,Gn=/\d{1,3}/,Jn=/\d{1,4}/,Zn=/[+-]?\d{1,6}/,Qn=/\d+/,ti=/[+-]?\d+/,ei=/Z|[+-]\d\d:?\d\d/gi,ni=/[+-]?\d+(\.\d{1,3})?/,ii=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ri={},oi={},si=0,ai=1,li=2,ui=3,ci=4,hi=5,di=6;L("M",["MM",2],"Mo",function(){return this.month()+1}),L("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),L("MMMM",0,0,function(t){return this.localeData().months(this,t)}),A("month","M"),j("M",Xn),j("MM",Xn,Wn),j("MMM",ii),j("MMMM",ii),U(["M","MM"],function(t,e){e[ai]=m(t)-1}),U(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[ai]=r:u(n).invalidMonth=t});var fi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),pi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),gi={};t.suppressDeprecationWarnings=!1;var mi=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],yi=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],bi=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=tt("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),L(0,["YY",2],0,function(){return this.year()%100}),L(0,["YYYY",4],0,"year"),L(0,["YYYYY",5],0,"year"),L(0,["YYYYYY",6,!0],0,"year"),A("year","y"),j("Y",ti),j("YY",Xn,Wn),j("YYYY",Jn,qn),j("YYYYY",Zn,Kn),j("YYYYYY",Zn,Kn),U(["YYYYY","YYYYYY"],si),U("YYYY",function(e,n){n[si]=2===e.length?t.parseTwoDigitYear(e):m(e)}),U("YY",function(e,n){n[si]=t.parseTwoDigitYear(e)}),t.parseTwoDigitYear=function(t){return m(t)+(m(t)>68?1900:2e3)};var wi=k("FullYear",!1);L("w",["ww",2],"wo","week"),L("W",["WW",2],"Wo","isoWeek"),A("week","w"),A("isoWeek","W"),j("w",Xn),j("ww",Xn,Wn),j("W",Xn),j("WW",Xn,Wn),V(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=m(t)});var xi={dow:0,doy:6};L("DDD",["DDDD",3],"DDDo","dayOfYear"),A("dayOfYear","DDD"),j("DDD",Gn),j("DDDD",Yn),U(["DDD","DDDD"],function(t,e,n){n._dayOfYear=m(t)}),t.ISO_8601=function(){};var _i=tt("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=Dt.apply(null,arguments);return this>t?this:t}),$i=tt("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=Dt.apply(null,arguments);return t>this?this:t});Pt("Z",":"),Pt("ZZ",""),j("Z",ei),j("ZZ",ei),U(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Bt(t)});var Ci=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Ai=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ei=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Gt.fn=Lt.prototype;var Si=te(1,"add"),ki=te(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Di=tt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});L(0,["gg",2],0,function(){return this.weekYear()%100}),L(0,["GG",2],0,function(){return this.isoWeekYear()%100}),De("gggg","weekYear"),De("ggggg","weekYear"),De("GGGG","isoWeekYear"),De("GGGGG","isoWeekYear"),A("weekYear","gg"),A("isoWeekYear","GG"),j("G",ti),j("g",ti),j("GG",Xn,Wn),j("gg",Xn,Wn),j("GGGG",Jn,qn),j("gggg",Jn,qn),j("GGGGG",Zn,Kn),j("ggggg",Zn,Kn),V(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=m(t)}),V(["gg","GG"],function(e,n,i,r){n[r]=t.parseTwoDigitYear(e)}),L("Q",0,0,"quarter"),A("quarter","Q"),j("Q",Hn),U("Q",function(t,e){e[ai]=3*(m(t)-1)}),L("D",["DD",2],"Do","date"),A("date","D"),j("D",Xn),j("DD",Xn,Wn),j("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),U(["D","DD"],li),U("Do",function(t,e){e[li]=m(t.match(Xn)[0],10)});var Ti=k("Date",!0);L("d",0,"do","day"),L("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),L("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),L("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),L("e",0,0,"weekday"),L("E",0,0,"isoWeekday"),A("day","d"),A("weekday","e"),A("isoWeekday","E"),j("d",Xn),j("e",Xn),j("E",Xn),j("dd",ii),j("ddd",ii),j("dddd",ii),V(["dd","ddd","dddd"],function(t,e,n){var i=n._locale.weekdaysParse(t);null!=i?e.d=i:u(n).invalidWeekday=t}),V(["d","e","E"],function(t,e,n,i){e[i]=m(t)});var Fi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Mi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Li="Su_Mo_Tu_We_Th_Fr_Sa".split("_");L("H",["HH",2],0,"hour"),L("h",["hh",2],0,function(){return this.hours()%12||12}),He("a",!0),He("A",!1),A("hour","h"),j("a",We),j("A",We),j("H",Xn),j("h",Xn),j("HH",Xn,Wn),j("hh",Xn,Wn),U(["H","HH"],ui),U(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),U(["h","hh"],function(t,e,n){e[ui]=m(t),u(n).bigHour=!0});var Oi=/[ap]\.?m?\.?/i,Pi=k("Hours",!0);L("m",["mm",2],0,"minute"),A("minute","m"),j("m",Xn),j("mm",Xn,Wn),U(["m","mm"],ci);var Bi=k("Minutes",!1);L("s",["ss",2],0,"second"),A("second","s"),j("s",Xn),j("ss",Xn,Wn),U(["s","ss"],hi);var Ii=k("Seconds",!1);L("S",0,0,function(){return~~(this.millisecond()/100)}),L(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),L(0,["SSS",3],0,"millisecond"),L(0,["SSSS",4],0,function(){return 10*this.millisecond()}),L(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),L(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),L(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),L(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),L(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),A("millisecond","ms"),j("S",Gn,Hn),j("SS",Gn,Wn),j("SSS",Gn,Yn);var Ri;for(Ri="SSSS";Ri.length<=9;Ri+="S")j(Ri,Qn);for(Ri="S";Ri.length<=9;Ri+="S")U(Ri,Ke);var ji=k("Milliseconds",!1);L("z",0,0,"zoneAbbr"),L("zz",0,0,"zoneName");var Ni=f.prototype;Ni.add=Si,Ni.calendar=ne,Ni.clone=ie,Ni.diff=le,Ni.endOf=we,Ni.format=de,Ni.from=fe,Ni.fromNow=pe,Ni.to=ge,Ni.toNow=me,Ni.get=F,Ni.invalidAt=ke,Ni.isAfter=re,Ni.isBefore=oe,Ni.isBetween=se,Ni.isSame=ae,Ni.isValid=Ee,Ni.lang=Di,Ni.locale=ve,Ni.localeData=ye,Ni.max=$i,Ni.min=_i,Ni.parsingFlags=Se,Ni.set=F,Ni.startOf=be,Ni.subtract=ki,Ni.toArray=Ce,Ni.toObject=Ae,Ni.toDate=$e,Ni.toISOString=he,Ni.toJSON=he,Ni.toString=ce,Ni.unix=_e,Ni.valueOf=xe,Ni.year=wi,Ni.isLeapYear=lt,Ni.weekYear=Fe,Ni.isoWeekYear=Me,Ni.quarter=Ni.quarters=Pe,Ni.month=G,Ni.daysInMonth=J,Ni.week=Ni.weeks=ft,Ni.isoWeek=Ni.isoWeeks=pt,Ni.weeksInYear=Oe,Ni.isoWeeksInYear=Le,Ni.date=Ti,Ni.day=Ni.days=ze,Ni.weekday=Ue,Ni.isoWeekday=Ve,Ni.dayOfYear=mt,Ni.hour=Ni.hours=Pi,Ni.minute=Ni.minutes=Bi,Ni.second=Ni.seconds=Ii,Ni.millisecond=Ni.milliseconds=ji,Ni.utcOffset=jt,Ni.utc=zt,Ni.local=Ut,Ni.parseZone=Vt,Ni.hasAlignedHourOffset=Ht,Ni.isDST=Wt,Ni.isDSTShifted=Yt,Ni.isLocal=qt,Ni.isUtcOffset=Kt,Ni.isUtc=Xt,Ni.isUTC=Xt,Ni.zoneAbbr=Xe,Ni.zoneName=Ge,Ni.dates=tt("dates accessor is deprecated. Use date instead.",Ti),Ni.months=tt("months accessor is deprecated. Use month instead",G),Ni.years=tt("years accessor is deprecated. Use year instead",wi),Ni.zone=tt("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Nt);var zi=Ni,Ui={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Vi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Hi="Invalid date",Wi="%d",Yi=/\d{1,2}/,qi={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Ki=y.prototype;Ki._calendar=Ui,Ki.calendar=Qe,Ki._longDateFormat=Vi,Ki.longDateFormat=tn,Ki._invalidDate=Hi,Ki.invalidDate=en,Ki._ordinal=Wi,Ki.ordinal=nn,Ki._ordinalParse=Yi,Ki.preparse=rn,Ki.postformat=rn,Ki._relativeTime=qi,Ki.relativeTime=on,Ki.pastFuture=sn,Ki.set=an,Ki.months=Y,Ki._months=fi,Ki.monthsShort=q,Ki._monthsShort=pi,Ki.monthsParse=K,Ki.week=ct,Ki._week=xi,Ki.firstDayOfYear=dt,Ki.firstDayOfWeek=ht,Ki.weekdays=Ie,Ki._weekdays=Fi,Ki.weekdaysMin=je,Ki._weekdaysMin=Li,Ki.weekdaysShort=Re,Ki._weekdaysShort=Mi,Ki.weekdaysParse=Ne,Ki.isPM=Ye,Ki._meridiemParse=Oi,Ki.meridiem=qe,_("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===m(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),t.lang=tt("moment.lang is deprecated. Use moment.locale instead.",_),t.langData=tt("moment.langData is deprecated. Use moment.localeData instead.",C);var Xi=Math.abs,Gi=An("ms"),Ji=An("s"),Zi=An("m"),Qi=An("h"),tr=An("d"),er=An("w"),nr=An("M"),ir=An("y"),rr=Sn("milliseconds"),or=Sn("seconds"),sr=Sn("minutes"),ar=Sn("hours"),lr=Sn("days"),ur=Sn("months"),cr=Sn("years"),hr=Math.round,dr={s:45,m:45,h:22,d:26,M:11},fr=Math.abs,pr=Lt.prototype;pr.abs=gn,pr.add=vn,pr.subtract=yn,pr.as=$n,pr.asMilliseconds=Gi,pr.asSeconds=Ji,pr.asMinutes=Zi,pr.asHours=Qi,pr.asDays=tr,pr.asWeeks=er,pr.asMonths=nr,pr.asYears=ir,pr.valueOf=Cn,pr._bubble=wn,pr.get=En,pr.milliseconds=rr,pr.seconds=or,pr.minutes=sr,pr.hours=ar,pr.days=lr,pr.weeks=kn,pr.months=ur,pr.years=cr,pr.humanize=Mn,pr.toISOString=Ln,pr.toString=Ln,pr.toJSON=Ln,pr.locale=ve,pr.localeData=ye,pr.toIsoString=tt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ln),pr.lang=Di,L("X",0,0,"unix"),L("x",0,0,"valueOf"),j("x",ti),j("X",ni),U("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),U("x",function(t,e,n){n._d=new Date(m(t))}),t.version="2.10.6",e(Dt),t.fn=zi,t.min=Ft,t.max=Mt,t.utc=a,t.unix=Je,t.months=cn,t.isDate=i,t.locale=_,t.invalid=h,t.duration=Gt,t.isMoment=p,t.weekdays=dn,t.parseZone=Ze,t.localeData=C,t.isDuration=Ot,t.monthsShort=hn,t.weekdaysMin=pn,t.defineLocale=$,t.weekdaysShort=fn,t.normalizeUnits=E,t.relativeTimeThreshold=Fn;var gr=t;return gr}),function(){"use strict";function t(t,e){return t.module("angularMoment",[]).constant("angularMomentConfig",{preprocess:null,timezone:"",format:null,statefulFilters:!0}).constant("moment",e).constant("amTimeAgoConfig",{withoutSuffix:!1,serverTime:null,titleFormat:null,fullDateThreshold:null,fullDateFormat:null}).directive("amTimeAgo",["$window","moment","amMoment","amTimeAgoConfig","angularMomentConfig",function(e,n,i,r,o){return function(s,a,l){function u(){var t;if(g)t=g;else if(r.serverTime){var e=(new Date).getTime(),i=e-_+r.serverTime;t=n(i)}else t=n();return t}function c(){m&&(e.clearTimeout(m),m=null)}function h(t){var n=u().diff(t,"day"),i=w&&n>=w;if(i?a.text(t.format(x)):a.text(t.from(u(),y)),b&&!a.attr("title")&&a.attr("title",t.local().format(b)),!i){var r=Math.abs(u().diff(t,"minute")),o=3600;1>r?o=1:60>r?o=30:180>r&&(o=300),m=e.setTimeout(function(){h(t)},1e3*o)}}function d(t){A&&a.attr("datetime",t)}function f(){if(c(),
p){var t=i.preprocessDate(p,$,v);h(t),d(t.toISOString())}}var p,g,m=null,v=o.format,y=r.withoutSuffix,b=r.titleFormat,w=r.fullDateThreshold,x=r.fullDateFormat,_=(new Date).getTime(),$=o.preprocess,C=l.amTimeAgo,A="TIME"===a[0].nodeName.toUpperCase();s.$watch(C,function(t){return"undefined"==typeof t||null===t||""===t?(c(),void(p&&(a.text(""),d(""),p=null))):(p=t,void f())}),t.isDefined(l.amFrom)&&s.$watch(l.amFrom,function(t){g="undefined"==typeof t||null===t||""===t?null:n(t),f()}),t.isDefined(l.amWithoutSuffix)&&s.$watch(l.amWithoutSuffix,function(t){"boolean"==typeof t?(y=t,f()):y=r.withoutSuffix}),l.$observe("amFormat",function(t){"undefined"!=typeof t&&(v=t,f())}),l.$observe("amPreprocess",function(t){$=t,f()}),l.$observe("amFullDateThreshold",function(t){w=t,f()}),l.$observe("amFullDateFormat",function(t){x=t,f()}),s.$on("$destroy",function(){c()}),s.$on("amMoment:localeChanged",function(){f()})}}]).service("amMoment",["moment","$rootScope","$log","angularMomentConfig",function(e,n,i,r){this.preprocessors={utc:e.utc,unix:e.unix},this.changeLocale=function(i,r){var o=e.locale(i,r);return t.isDefined(i)&&n.$broadcast("amMoment:localeChanged"),o},this.changeTimezone=function(t){r.timezone=t,n.$broadcast("amMoment:timezoneChanged")},this.preprocessDate=function(n,o,s){return t.isUndefined(o)&&(o=r.preprocess),this.preprocessors[o]?this.preprocessors[o](n,s):(o&&i.warn("angular-moment: Ignoring unsupported value for preprocess: "+o),!isNaN(parseFloat(n))&&isFinite(n)?e(parseInt(n,10)):e(n,s))},this.applyTimezone=function(t,e){return(e=e||r.timezone)?(e.match(/^Z|[+-]\d\d:?\d\d$/i)?t=t.utcOffset(e):t.tz?t=t.tz(e):i.warn("angular-moment: named timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js?"),t):t}}]).filter("amCalendar",["moment","amMoment","angularMomentConfig",function(t,e,n){function i(n,i,r){if("undefined"==typeof n||null===n)return"";n=e.preprocessDate(n,i);var o=t(n);return o.isValid()?e.applyTimezone(o,r).calendar():""}return i.$stateful=n.statefulFilters,i}]).filter("amDifference",["moment","amMoment","angularMomentConfig",function(t,e,n){function i(n,i,r,o,s,a){if("undefined"==typeof n||null===n)return"";n=e.preprocessDate(n,s);var l=t(n);if(!l.isValid())return"";var u;if("undefined"==typeof i||null===i)u=t();else if(i=e.preprocessDate(i,a),u=t(i),!u.isValid())return"";return e.applyTimezone(l).diff(e.applyTimezone(u),r,o)}return i.$stateful=n.statefulFilters,i}]).filter("amDateFormat",["moment","amMoment","angularMomentConfig",function(t,e,n){function i(i,r,o,s,a){var l=a||n.format;if("undefined"==typeof i||null===i)return"";i=e.preprocessDate(i,o,l);var u=t(i);return u.isValid()?e.applyTimezone(u,s).format(r):""}return i.$stateful=n.statefulFilters,i}]).filter("amDurationFormat",["moment","angularMomentConfig",function(t,e){function n(e,n,i){return"undefined"==typeof e||null===e?"":t.duration(e,n).humanize(i)}return n.$stateful=e.statefulFilters,n}]).filter("amTimeAgo",["moment","amMoment","angularMomentConfig",function(t,e,n){function i(n,i,r,o){var s,a;return"undefined"==typeof n||null===n?"":(n=e.preprocessDate(n,i),s=t(n),s.isValid()?(a=t(o),"undefined"!=typeof o&&a.isValid()?e.applyTimezone(s).from(a,r):e.applyTimezone(s).fromNow(r)):"")}return i.$stateful=n.statefulFilters,i}]).filter("amSubtract",["moment","angularMomentConfig",function(t,e){function n(e,n,i){return"undefined"==typeof e||null===e?"":t(e).subtract(parseInt(n,10),i)}return n.$stateful=e.statefulFilters,n}]).filter("amAdd",["moment","angularMomentConfig",function(t,e){function n(e,n,i){return"undefined"==typeof e||null===e?"":t(e).add(parseInt(n,10),i)}return n.$stateful=e.statefulFilters,n}])}"function"==typeof define&&define.amd?define(["angular","moment"],t):"undefined"!=typeof module&&module&&module.exports?(t(angular,require("moment")),module.exports="angularMoment"):t(angular,("undefined"!=typeof global?global:window).moment)}(),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.debounce","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/popup.html","uib/template/datepicker/year.html","uib/template/modal/backdrop.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(t,e,n,i){var r=i.has("$animateCss")?i.get("$animateCss"):null;return{link:function(i,o,s){function a(){o.hasClass("collapse")&&o.hasClass("in")||e.resolve(h(i)).then(function(){o.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),r?r(o,{addClass:"in",easing:"ease",to:{height:o[0].scrollHeight+"px"}}).start()["finally"](l):t.addClass(o,"in",{to:{height:o[0].scrollHeight+"px"}}).then(l)})}function l(){o.removeClass("collapsing").addClass("collapse").css({height:"auto"}),d(i)}function u(){return o.hasClass("collapse")||o.hasClass("in")?void e.resolve(f(i)).then(function(){o.css({height:o[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),r?r(o,{removeClass:"in",to:{height:"0"}}).start()["finally"](c):t.removeClass(o,"in",{to:{height:"0"}}).then(c)}):c()}function c(){o.css({height:"0"}),o.removeClass("collapsing").addClass("collapse"),p(i)}var h=n(s.expanding),d=n(s.expanded),f=n(s.collapsing),p=n(s.collapsed);i.$eval(s.uibCollapse)||o.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css({height:"auto"}),i.$watch(s.uibCollapse,function(t){t?u():a()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(t,e,n){this.groups=[],this.closeOthers=function(i){var r=angular.isDefined(e.closeOthers)?t.$eval(e.closeOthers):n.closeOthers;r&&angular.forEach(this.groups,function(t){t!==i&&(t.isOpen=!1)})},this.addGroup=function(t){var e=this;this.groups.push(t),t.$on("$destroy",function(n){e.removeGroup(t)})},this.removeGroup=function(t){var e=this.groups.indexOf(t);-1!==e&&this.groups.splice(e,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,replace:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(t){this.heading=t}},link:function(t,e,n,i){i.addGroup(t),t.openClass=n.openClass||"panel-open",t.panelClass=n.panelClass||"panel-default",t.$watch("isOpen",function(n){e.toggleClass(t.openClass,!!n),n&&i.closeOthers(t)}),t.toggleOpen=function(e){t.isDisabled||e&&32!==e.which||(t.isOpen=!t.isOpen)};var r="accordiongroup-"+t.$id+"-"+Math.floor(1e4*Math.random());t.headingId=r+"-tab",t.panelId=r+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(t,e,n,i,r){i.setHeading(r(t,angular.noop))}}}).directive("uibAccordionTransclude",function(){return{require:"^uibAccordionGroup",link:function(t,e,n,i){t.$watch(function(){return i[n.uibAccordionTransclude]},function(t){t&&(e.find("span").html(""),e.find("span").append(t))})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$attrs","$interpolate","$timeout",function(t,e,n,i){t.closeable=!!e.close;var r=angular.isDefined(e.dismissOnTimeout)?n(e.dismissOnTimeout)(t.$parent):null;r&&i(function(){t.close()},parseInt(r,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",templateUrl:function(t,e){return e.templateUrl||"uib/template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(t){this.activeClass=t.activeClass||"active",this.toggleEvent=t.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(t){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(e,n,i,r){var o=r[0],s=r[1],a=t(i.uibUncheckable);n.find("input").css({display:"none"}),s.$render=function(){n.toggleClass(o.activeClass,angular.equals(s.$modelValue,e.$eval(i.uibBtnRadio)))},n.on(o.toggleEvent,function(){if(!i.disabled){var t=n.hasClass(o.activeClass);(!t||angular.isDefined(i.uncheckable))&&e.$apply(function(){s.$setViewValue(t?null:e.$eval(i.uibBtnRadio)),s.$render()})}}),i.uibUncheckable&&e.$watch(a,function(t){i.$set("uncheckable",t?"":null)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(t,e,n,i){function r(){return s(n.btnCheckboxTrue,!0)}function o(){return s(n.btnCheckboxFalse,!1)}function s(e,n){return angular.isDefined(e)?t.$eval(e):n}var a=i[0],l=i[1];e.find("input").css({display:"none"}),l.$render=function(){e.toggleClass(a.activeClass,angular.equals(l.$modelValue,r()))},e.on(a.toggleEvent,function(){n.disabled||t.$apply(function(){l.$setViewValue(e.hasClass(a.activeClass)?o():r()),l.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(t,e,n,i,r){function o(){for(;y.length;)y.shift()}function s(t){if(angular.isUndefined(g[t].index))return g[t];for(var e=0,n=g.length;n>e;++e)if(g[e].index===t)return g[e]}function a(n,i,s){b||(angular.extend(n,{direction:s,active:!0}),angular.extend(p.currentSlide||{},{direction:s,active:!1}),r.enabled(e)&&!t.$currentTransition&&n.$element&&p.slides.length>1&&(n.$element.data(m,n.direction),p.currentSlide&&p.currentSlide.$element&&p.currentSlide.$element.data(m,n.direction),t.$currentTransition=!0,r.on("addClass",n.$element,function(e,n){if("close"===n&&(t.$currentTransition=null,r.off("addClass",e),y.length)){var i=y.pop(),s=t.indexOfSlide(i),l=s>p.getCurrentIndex()?"next":"prev";o(),a(i,s,l)}})),p.currentSlide=n,v=i,c())}function l(){d&&(n.cancel(d),d=null)}function u(e){e.length||(t.$currentTransition=null,o())}function c(){l();var e=+t.interval;!isNaN(e)&&e>0&&(d=n(h,e))}function h(){var e=+t.interval;f&&!isNaN(e)&&e>0&&g.length?t.next():t.pause()}var d,f,p=this,g=p.slides=t.slides=[],m="uib-slideDirection",v=-1,y=[];p.currentSlide=null;var b=!1;p.addSlide=function(e,n){e.$element=n,g.push(e),1===g.length||e.active?(t.$currentTransition&&(t.$currentTransition=null),p.select(g[g.length-1]),1===g.length&&t.play()):e.active=!1},p.getCurrentIndex=function(){return p.currentSlide&&angular.isDefined(p.currentSlide.index)?+p.currentSlide.index:v},p.next=t.next=function(){var e=(p.getCurrentIndex()+1)%g.length;return 0===e&&t.noWrap()?void t.pause():p.select(s(e),"next")},p.prev=t.prev=function(){var e=p.getCurrentIndex()-1<0?g.length-1:p.getCurrentIndex()-1;return t.noWrap()&&e===g.length-1?void t.pause():p.select(s(e),"prev")},p.removeSlide=function(t){angular.isDefined(t.index)&&g.sort(function(t,e){return+t.index>+e.index});var e=y.indexOf(t);-1!==e&&y.splice(e,1);var n=g.indexOf(t);g.splice(n,1),i(function(){g.length>0&&t.active?n>=g.length?p.select(g[n-1]):p.select(g[n]):v>n&&v--}),0===g.length&&(p.currentSlide=null,o())},p.select=t.select=function(e,n){var i=t.indexOfSlide(e);void 0===n&&(n=i>p.getCurrentIndex()?"next":"prev"),e&&e!==p.currentSlide&&!t.$currentTransition?a(e,i,n):e&&e!==p.currentSlide&&t.$currentTransition&&(y.push(e),e.active=!1)},t.indexOfSlide=function(t){return angular.isDefined(t.index)?+t.index:g.indexOf(t)},t.isActive=function(t){return p.currentSlide===t},t.pause=function(){t.noPause||(f=!1,l())},t.play=function(){f||(f=!0,c())},t.$on("$destroy",function(){b=!0,l()}),t.$watch("noTransition",function(t){r.enabled(e,!t)}),t.$watch("interval",c),t.$watchCollection("slides",u)}]).directive("uibCarousel",function(){return{transclude:!0,replace:!0,controller:"UibCarouselController",controllerAs:"carousel",templateUrl:function(t,e){return e.templateUrl||"uib/template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",function(){return{require:"^uibCarousel",transclude:!0,replace:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(t,e,n,i){i.addSlide(t,e),t.$on("$destroy",function(){i.removeSlide(t)}),t.$watch("active",function(e){e&&i.select(t)})}}}).animation(".item",["$animateCss",function(t){function e(t,e,n){t.removeClass(e),n&&n()}var n="uib-slideDirection";return{beforeAddClass:function(i,r,o){if("active"===r){var s=!1,a=i.data(n),l="next"===a?"left":"right",u=e.bind(this,i,l+" "+a,o);return i.addClass(a),t(i,{addClass:l}).start().done(u),function(){s=!0}}o()},beforeRemoveClass:function(i,r,o){if("active"===r){var s=!1,a=i.data(n),l="next"===a?"left":"right",u=e.bind(this,i,l,o);return t(i,{addClass:l}).start().done(u),function(){s=!0}}o()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter",function(t,e,n,i){function r(t,e){var n=[],r=t.split(""),o=t.indexOf("'");if(o>-1){var s=!1;t=t.split("");for(var a=o;a<t.length;a++)s?("'"===t[a]&&(a+1<t.length&&"'"===t[a+1]?(t[a+1]="$",r[a+1]=""):(r[a]="",s=!1)),t[a]="$"):"'"===t[a]&&(t[a]="$",r[a]="",s=!0);t=t.join("")}return angular.forEach(f,function(i){var o=t.indexOf(i.key);if(o>-1){t=t.split(""),r[o]="("+i.regex+")",t[o]="$";for(var s=o+1,a=o+i.key.length;a>s;s++)r[s]="",t[s]="$";t=t.join(""),n.push({index:o,key:i.key,apply:i[e],matcher:i.regex})}}),{regex:new RegExp("^"+r.join("")+"$"),map:i(n,"index")}}function o(t,e,n){return 1>n?!1:1===e&&n>28?29===n&&(t%4===0&&t%100!==0||t%400===0):3===e||5===e||8===e||10===e?31>n:!0}function s(t){return parseInt(t,10)}function a(t,e){return t&&e?h(t,e):t}function l(t,e){return t&&e?h(t,e,!0):t}function u(t,e){var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function c(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function h(t,e,n){n=n?-1:1;var i=u(e,t.getTimezoneOffset());return c(t,n*(i-t.getTimezoneOffset()))}var d,f,p=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){d=e.id,this.parsers={},this.formatters={},f=[{key:"yyyy",regex:"\\d{4}",apply:function(t){this.year=+t},formatter:function(t){var e=new Date;return e.setFullYear(Math.abs(t.getFullYear())),n(e,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(t){this.year=+t+2e3},formatter:function(t){var e=new Date;return e.setFullYear(Math.abs(t.getFullYear())),n(e,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(t){this.year=+t},formatter:function(t){var e=new Date;return e.setFullYear(Math.abs(t.getFullYear())),n(e,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(t){this.month=t-1},formatter:function(t){var e=t.getMonth();return/^[0-9]$/.test(e)?n(t,"MM"):n(t,"M")}},{key:"MMMM",regex:e.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.MONTH.indexOf(t)},formatter:function(t){return n(t,"MMMM")}},{key:"MMM",regex:e.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.SHORTMONTH.indexOf(t)},formatter:function(t){return n(t,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(t){this.month=t-1},formatter:function(t){return n(t,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(t){this.month=t-1},formatter:function(t){return n(t,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t},formatter:function(t){var e=t.getDate();return/^[1-9]$/.test(e)?n(t,"dd"):n(t,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t},formatter:function(t){return n(t,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t},formatter:function(t){return n(t,"d")}},{key:"EEEE",regex:e.DATETIME_FORMATS.DAY.join("|"),formatter:function(t){return n(t,"EEEE")}},{key:"EEE",regex:e.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(t){return n(t,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(t){this.minutes=+t},formatter:function(t){return n(t,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(t){this.minutes=+t},formatter:function(t){return n(t,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(t){this.milliseconds=+t},formatter:function(t){return n(t,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(t){this.seconds=+t},formatter:function(t){return n(t,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(t){this.seconds=+t},formatter:function(t){return n(t,"s")}},{key:"a",regex:e.DATETIME_FORMATS.AMPMS.join("|"),apply:function(t){12===this.hours&&(this.hours=0),"PM"===t&&(this.hours+=12)},formatter:function(t){return n(t,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(t){var e=t.match(/([+-])(\d{2})(\d{2})/),n=e[1],i=e[2],r=e[3];this.hours+=s(n+i),this.minutes+=s(n+r)},formatter:function(t){return n(t,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(t){return n(t,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(t){return n(t,"w")}},{key:"GGGG",regex:e.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(t){return n(t,"GGGG")}},{key:"GGG",regex:e.DATETIME_FORMATS.ERAS.join("|"),formatter:function(t){return n(t,"GGG")}},{key:"GG",regex:e.DATETIME_FORMATS.ERAS.join("|"),formatter:function(t){return n(t,"GG")}},{key:"G",regex:e.DATETIME_FORMATS.ERAS.join("|"),formatter:function(t){return n(t,"G")}}]},this.init(),this.filter=function(t,n){if(!angular.isDate(t)||isNaN(t)||!n)return"";n=e.DATETIME_FORMATS[n]||n,e.id!==d&&this.init(),this.formatters[n]||(this.formatters[n]=r(n,"formatter"));var i=this.formatters[n],o=i.map,s=n;return o.reduce(function(e,n,i){var r=s.match(new RegExp("(.*)"+n.key));return r&&angular.isString(r[1])&&(e+=r[1],s=s.replace(r[1]+n.key,"")),n.apply?e+n.apply.call(null,t):e},"")},this.parse=function(n,i,s){if(!angular.isString(n)||!i)return n;i=e.DATETIME_FORMATS[i]||i,i=i.replace(p,"\\$&"),e.id!==d&&this.init(),this.parsers[i]||(this.parsers[i]=r(i,"apply"));var a=this.parsers[i],l=a.regex,u=a.map,c=n.match(l),h=!1;if(c&&c.length){var f,g;angular.isDate(s)&&!isNaN(s.getTime())?f={year:s.getFullYear(),month:s.getMonth(),date:s.getDate(),hours:s.getHours(),minutes:s.getMinutes(),seconds:s.getSeconds(),milliseconds:s.getMilliseconds()}:(s&&t.warn("dateparser:","baseDate is not a valid date"),f={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var m=1,v=c.length;v>m;m++){var y=u[m-1];"Z"===y.matcher&&(h=!0),y.apply&&y.apply.call(f,c[m])}var b=h?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,w=h?Date.prototype.setUTCHours:Date.prototype.setHours;return o(f.year,f.month,f.date)&&(!angular.isDate(s)||isNaN(s.getTime())||h?(g=new Date(0),b.call(g,f.year,f.month,f.date),w.call(g,f.hours||0,f.minutes||0,f.seconds||0,f.milliseconds||0)):(g=new Date(s),b.call(g,f.year,f.month,f.date),w.call(g,f.hours,f.minutes,f.seconds,f.milliseconds))),g}},this.toTimezone=a,this.fromTimezone=l,this.timezoneToOffset=u,this.addDateMinutes=c,this.convertTimezoneToLocal=h}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(t){var e=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,n=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(i,r){function o(t,e,n){l.push(t),u.push({scope:t,element:e}),p.forEach(function(e,n){s(e,t)}),t.$on("$destroy",a)}function s(e,i){var r=e.match(n),o=i.$eval(r[1]),s=r[2],a=c[e];if(!a){var l=function(e){var n=null;u.some(function(t){var i=t.scope.$eval(d);return i===e?(n=t,!0):void 0}),a.lastActivated!==n&&(a.lastActivated&&t.removeClass(a.lastActivated.element,o),n&&t.addClass(n.element,o),a.lastActivated=n)};c[e]=a={lastActivated:null,scope:i,watchFn:l,compareWithExp:s,watcher:i.$watch(s,l)}}a.watchFn(i.$eval(s))}function a(t){var e=t.targetScope,n=l.indexOf(e);if(l.splice(n,1),u.splice(n,1),l.length){var i=l[0];angular.forEach(c,function(t){t.scope===e&&(t.watcher=i.$watch(t.compareWithExp,t.watchFn),t.scope=i)})}else c={}}var l=[],u=[],c={},h=r.uibIsClass.match(e),d=h[2],f=h[1],p=f.split(",");return o}}}]),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(t,e){var n,i={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},r={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/};return{getRawNode:function(t){return t[0]||t},parseStyle:function(t){return t=parseFloat(t),isFinite(t)?t:0},offsetParent:function(n){function i(t){return"static"===(e.getComputedStyle(t).position||"static")}n=this.getRawNode(n);for(var r=n.offsetParent||t[0].documentElement;r&&r!==t[0].documentElement&&i(r);)r=r.offsetParent;return r||t[0].documentElement},scrollbarWidth:function(){if(angular.isUndefined(n)){var e=angular.element('<div style="position: absolute; top: -9999px; width: 50px; height: 50px; overflow: scroll;"></div>');t.find("body").append(e),n=e[0].offsetWidth-e[0].clientWidth,n=isFinite(n)?n:0,e.remove()}return n},scrollParent:function(n,r){n=this.getRawNode(n);var o=r?i.hidden:i.normal,s=t[0].documentElement,a=e.getComputedStyle(n),l="absolute"===a.position,u=n.parentElement||s;if(u===s||"fixed"===a.position)return s;for(;u.parentElement&&u!==s;){var c=e.getComputedStyle(u);if(l&&"static"!==c.position&&(l=!1),!l&&o.test(c.overflow+c.overflowY+c.overflowX))break;u=u.parentElement}return u},position:function(n,i){n=this.getRawNode(n);var r=this.offset(n);if(i){var o=e.getComputedStyle(n);r.top-=this.parseStyle(o.marginTop),r.left-=this.parseStyle(o.marginLeft)}var s=this.offsetParent(n),a={top:0,left:0};return s!==t[0].documentElement&&(a=this.offset(s),a.top+=s.clientTop-s.scrollTop,a.left+=s.clientLeft-s.scrollLeft),{width:Math.round(angular.isNumber(r.width)?r.width:n.offsetWidth),height:Math.round(angular.isNumber(r.height)?r.height:n.offsetHeight),top:Math.round(r.top-a.top),left:Math.round(r.left-a.left)}},offset:function(n){n=this.getRawNode(n);var i=n.getBoundingClientRect();return{width:Math.round(angular.isNumber(i.width)?i.width:n.offsetWidth),height:Math.round(angular.isNumber(i.height)?i.height:n.offsetHeight),top:Math.round(i.top+(e.pageYOffset||t[0].documentElement.scrollTop)),left:Math.round(i.left+(e.pageXOffset||t[0].documentElement.scrollLeft))}},viewportOffset:function(n,i,r){n=this.getRawNode(n),r=r!==!1?!0:!1;var o=n.getBoundingClientRect(),s={top:0,left:0,bottom:0,right:0},a=i?t[0].documentElement:this.scrollParent(n),l=a.getBoundingClientRect();if(s.top=l.top+a.clientTop,s.left=l.left+a.clientLeft,a===t[0].documentElement&&(s.top+=e.pageYOffset,s.left+=e.pageXOffset),s.bottom=s.top+a.clientHeight,s.right=s.left+a.clientWidth,r){var u=e.getComputedStyle(a);s.top+=this.parseStyle(u.paddingTop),s.bottom-=this.parseStyle(u.paddingBottom),s.left+=this.parseStyle(u.paddingLeft),s.right-=this.parseStyle(u.paddingRight)}return{top:Math.round(o.top-s.top),bottom:Math.round(s.bottom-o.bottom),left:Math.round(o.left-s.left),right:Math.round(s.right-o.right)}},parsePlacement:function(t){var e=r.auto.test(t);return e&&(t=t.replace(r.auto,"")),t=t.split("-"),t[0]=t[0]||"top",r.primary.test(t[0])||(t[0]="top"),t[1]=t[1]||"center",r.secondary.test(t[1])||(t[1]="center"),e?t[2]=!0:t[2]=!1,t},positionElements:function(t,n,i,o){t=this.getRawNode(t),n=this.getRawNode(n);var s=angular.isDefined(n.offsetWidth)?n.offsetWidth:n.prop("offsetWidth"),a=angular.isDefined(n.offsetHeight)?n.offsetHeight:n.prop("offsetHeight");i=this.parsePlacement(i);var l=o?this.offset(t):this.position(t),u={top:0,left:0,placement:""};if(i[2]){var c=this.viewportOffset(t),h=e.getComputedStyle(n),d={width:s+Math.round(Math.abs(this.parseStyle(h.marginLeft)+this.parseStyle(h.marginRight))),height:a+Math.round(Math.abs(this.parseStyle(h.marginTop)+this.parseStyle(h.marginBottom)))};if(i[0]="top"===i[0]&&d.height>c.top&&d.height<=c.bottom?"bottom":"bottom"===i[0]&&d.height>c.bottom&&d.height<=c.top?"top":"left"===i[0]&&d.width>c.left&&d.width<=c.right?"right":"right"===i[0]&&d.width>c.right&&d.width<=c.left?"left":i[0],i[1]="top"===i[1]&&d.height-l.height>c.bottom&&d.height-l.height<=c.top?"bottom":"bottom"===i[1]&&d.height-l.height>c.top&&d.height-l.height<=c.bottom?"top":"left"===i[1]&&d.width-l.width>c.right&&d.width-l.width<=c.left?"right":"right"===i[1]&&d.width-l.width>c.left&&d.width-l.width<=c.right?"left":i[1],"center"===i[1])if(r.vertical.test(i[0])){var f=l.width/2-s/2;c.left+f<0&&d.width-l.width<=c.right?i[1]="left":c.right+f<0&&d.width-l.width<=c.left&&(i[1]="right")}else{var p=l.height/2-d.height/2;c.top+p<0&&d.height-l.height<=c.bottom?i[1]="top":c.bottom+p<0&&d.height-l.height<=c.top&&(i[1]="bottom")}}switch(i[0]){case"top":u.top=l.top-a;break;case"bottom":u.top=l.top+l.height;break;case"left":u.left=l.left-s;break;case"right":u.left=l.left+l.width}switch(i[1]){case"top":u.top=l.top;break;case"bottom":u.top=l.top+l.height-a;break;case"left":u.left=l.left;break;case"right":u.left=l.left+l.width-s;break;case"center":r.vertical.test(i[0])?u.left=l.left+l.width/2-s/2:u.top=l.top+l.height/2-a/2}return u.top=Math.round(u.top),u.left=Math.round(u.left),u.placement="center"===i[1]?i[0]:i[0]+"-"+i[1],u},positionArrow:function(t,n){t=this.getRawNode(t);var i=t.querySelector(".tooltip-inner, .popover-inner");if(i){var o=angular.element(i).hasClass("tooltip-inner"),s=o?t.querySelector(".tooltip-arrow"):t.querySelector(".arrow");if(s){if(n=this.parsePlacement(n),"center"===n[1])return void angular.element(s).css({top:"",bottom:"",right:"",left:"",margin:""});var a="border-"+n[0]+"-width",l=e.getComputedStyle(s)[a],u="border-";u+=r.vertical.test(n[0])?n[0]+"-"+n[1]:n[1]+"-"+n[0],u+="-radius";var c=e.getComputedStyle(o?i:t)[u],h={top:"auto",bottom:"auto",left:"auto",right:"auto",margin:0};switch(n[0]){case"top":h.bottom=o?"0":"-"+l;break;case"bottom":h.top=o?"0":"-"+l;break;case"left":h.right=o?"0":"-"+l;break;case"right":h.left=o?"0":"-"+l}h[n[1]]=c,angular.element(s).css(h)}}}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.position"]).value("$datepickerSuppressError",!1).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerSuppressError","uibDateParser",function(t,e,n,i,r,o,s,a,l,u){var c=this,h={$setViewValue:angular.noop},d={},f=[];this.modes=["day","month","year"],e.datepickerOptions?angular.forEach(["formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","initDate","maxDate","maxMode","minDate","minMode","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"],function(e){switch(e){case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":c[e]=angular.isDefined(t.datepickerOptions[e])?i(t.datepickerOptions[e])(t.$parent):a[e];break;case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":c[e]=angular.isDefined(t.datepickerOptions[e])?t.datepickerOptions[e]:a[e];break;case"startingDay":angular.isDefined(t.datepickerOptions.startingDay)?c.startingDay=t.datepickerOptions.startingDay:angular.isNumber(a.startingDay)?c.startingDay=a.startingDay:c.startingDay=(r.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":t.datepickerOptions[e]?t.$watch(function(){return t.datepickerOptions[e]},function(t){t?angular.isDate(t)?c[e]=u.fromTimezone(new Date(t),d.timezone):c[e]=new Date(s(t,"medium")):c[e]=null,c.refreshView()}):c[e]=a[e]?u.fromTimezone(new Date(a[e]),d.timezone):null;break;case"maxMode":case"minMode":t.datepickerOptions[e]?t.$watch(function(){return t.datepickerOptions[e]},function(n){c[e]=t[e]=angular.isDefined(n)?n:datepickerOptions[e],("minMode"===e&&c.modes.indexOf(t.datepickerMode)<c.modes.indexOf(c[e])||"maxMode"===e&&c.modes.indexOf(t.datepickerMode)>c.modes.indexOf(c[e]))&&(t.datepickerMode=c[e])}):c[e]=t[e]=a[e]||null;break;case"initDate":t.datepickerOptions.initDate?(this.activeDate=u.fromTimezone(t.datepickerOptions.initDate,d.timezone)||new Date,t.$watch(function(){return t.datepickerOptions.initDate},function(t){t&&(h.$isEmpty(h.$modelValue)||h.$invalid)&&(c.activeDate=u.fromTimezone(t,d.timezone),c.refreshView())})):this.activeDate=new Date}}):(angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle"],function(n){c[n]=angular.isDefined(e[n])?i(e[n])(t.$parent):a[n]}),angular.forEach(["showWeeks","yearRows","yearColumns","shortcutPropagation"],function(n){c[n]=angular.isDefined(e[n])?t.$parent.$eval(e[n]):a[n]}),angular.isDefined(e.startingDay)?c.startingDay=t.$parent.$eval(e.startingDay):angular.isNumber(a.startingDay)?c.startingDay=a.startingDay:c.startingDay=(r.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7,angular.forEach(["minDate","maxDate"],function(n){e[n]?f.push(t.$parent.$watch(e[n],function(t){t?angular.isDate(t)?c[n]=u.fromTimezone(new Date(t),d.timezone):c[n]=new Date(s(t,"medium")):c[n]=null,c.refreshView()})):c[n]=a[n]?u.fromTimezone(new Date(a[n]),d.timezone):null}),angular.forEach(["minMode","maxMode"],function(n){e[n]?f.push(t.$parent.$watch(e[n],function(i){c[n]=t[n]=angular.isDefined(i)?i:e[n],("minMode"===n&&c.modes.indexOf(t.datepickerMode)<c.modes.indexOf(c[n])||"maxMode"===n&&c.modes.indexOf(t.datepickerMode)>c.modes.indexOf(c[n]))&&(t.datepickerMode=c[n])})):c[n]=t[n]=a[n]||null}),angular.isDefined(e.initDate)?(this.activeDate=u.fromTimezone(t.$parent.$eval(e.initDate),d.timezone)||new Date,
f.push(t.$parent.$watch(e.initDate,function(t){t&&(h.$isEmpty(h.$modelValue)||h.$invalid)&&(c.activeDate=u.fromTimezone(t,d.timezone),c.refreshView())}))):this.activeDate=new Date),t.datepickerMode=t.datepickerMode||a.datepickerMode,t.uniqueId="datepicker-"+t.$id+"-"+Math.floor(1e4*Math.random()),t.disabled=angular.isDefined(e.disabled)||!1,angular.isDefined(e.ngDisabled)&&f.push(t.$parent.$watch(e.ngDisabled,function(e){t.disabled=e,c.refreshView()})),t.isActive=function(e){return 0===c.compare(e.date,c.activeDate)?(t.activeDateId=e.uid,!0):!1},this.init=function(t){h=t,d=t.$options||a.ngModelOptions,h.$modelValue&&(this.activeDate=h.$modelValue),h.$render=function(){c.render()}},this.render=function(){if(h.$viewValue){var t=new Date(h.$viewValue),e=!isNaN(t);e?this.activeDate=u.fromTimezone(t,d.timezone):l||o.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){t.selectedDt=null,this._refreshView(),t.activeDt&&(t.activeDateId=t.activeDt.uid);var e=h.$viewValue?new Date(h.$viewValue):null;e=u.fromTimezone(e,d.timezone),h.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,n){var i=h.$viewValue?new Date(h.$viewValue):null;i=u.fromTimezone(i,d.timezone);var r={date:e,label:u.filter(e,n),selected:i&&0===this.compare(e,i),disabled:this.isDisabled(e),current:0===this.compare(e,new Date),customClass:this.customClass(e)||null};return i&&0===this.compare(e,i)&&(t.selectedDt=r),c.activeDate&&0===this.compare(r.date,c.activeDate)&&(t.activeDt=r),r},this.isDisabled=function(n){return t.disabled||this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||e.dateDisabled&&t.dateDisabled({date:n,mode:t.datepickerMode})},this.customClass=function(e){return t.customClass({date:e,mode:t.datepickerMode})},this.split=function(t,e){for(var n=[];t.length>0;)n.push(t.splice(0,e));return n},t.select=function(e){if(t.datepickerMode===c.minMode){var n=h.$viewValue?u.fromTimezone(new Date(h.$viewValue),d.timezone):new Date(0,0,0,0,0,0,0);n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n=u.toTimezone(n,d.timezone),h.$setViewValue(n),h.$render()}else c.activeDate=e,t.datepickerMode=c.modes[c.modes.indexOf(t.datepickerMode)-1]},t.move=function(t){var e=c.activeDate.getFullYear()+t*(c.step.years||0),n=c.activeDate.getMonth()+t*(c.step.months||0);c.activeDate.setFullYear(e,n,1),c.refreshView()},t.toggleMode=function(e){e=e||1,t.datepickerMode===c.maxMode&&1===e||t.datepickerMode===c.minMode&&-1===e||(t.datepickerMode=c.modes[c.modes.indexOf(t.datepickerMode)+e])},t.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var p=function(){c.element[0].focus()};t.$on("uib:datepicker.focus",p),t.keydown=function(e){var n=t.keys[e.which];if(n&&!e.shiftKey&&!e.altKey&&!t.disabled)if(e.preventDefault(),c.shortcutPropagation||e.stopPropagation(),"enter"===n||"space"===n){if(c.isDisabled(c.activeDate))return;t.select(c.activeDate)}else!e.ctrlKey||"up"!==n&&"down"!==n?(c.handleKeyDown(n,e),c.refreshView()):t.toggleMode("up"===n?1:-1)},t.$on("$destroy",function(){for(;f.length;)f.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(t,e,n){function i(t,e){return 1!==e||t%4!==0||t%100===0&&t%400!==0?o[e]:29}function r(t){var e=new Date(t);e.setDate(e.getDate()+4-(e.getDay()||7));var n=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((n-e)/864e5)/7)+1}var o=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=e,this.init=function(e){angular.extend(e,this),t.showWeeks=e.showWeeks,e.refreshView()},this.getDates=function(t,e){for(var n,i=new Array(e),r=new Date(t),o=0;e>o;)n=new Date(r),i[o++]=n,r.setDate(r.getDate()+1);return i},this._refreshView=function(){var e=this.activeDate.getFullYear(),i=this.activeDate.getMonth(),o=new Date(this.activeDate);o.setFullYear(e,i,1);var s=this.startingDay-o.getDay(),a=s>0?7-s:-s,l=new Date(o);a>0&&l.setDate(-a+1);for(var u=this.getDates(l,42),c=0;42>c;c++)u[c]=angular.extend(this.createDateObject(u[c],this.formatDay),{secondary:u[c].getMonth()!==i,uid:t.uniqueId+"-"+c});t.labels=new Array(7);for(var h=0;7>h;h++)t.labels[h]={abbr:n(u[h].date,this.formatDayHeader),full:n(u[h].date,"EEEE")};if(t.title=n(this.activeDate,this.formatDayTitle),t.rows=this.split(u,7),t.showWeeks){t.weekNumbers=[];for(var d=(11-this.startingDay)%7,f=t.rows.length,p=0;f>p;p++)t.weekNumbers.push(r(t.rows[p][d].date))}},this.compare=function(t,e){var n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),i=new Date(e.getFullYear(),e.getMonth(),e.getDate());return n.setFullYear(t.getFullYear()),i.setFullYear(e.getFullYear()),n-i},this.handleKeyDown=function(t,e){var n=this.activeDate.getDate();if("left"===t)n-=1;else if("up"===t)n-=7;else if("right"===t)n+=1;else if("down"===t)n+=7;else if("pageup"===t||"pagedown"===t){var r=this.activeDate.getMonth()+("pageup"===t?-1:1);this.activeDate.setMonth(r,1),n=Math.min(i(this.activeDate.getFullYear(),this.activeDate.getMonth()),n)}else"home"===t?n=1:"end"===t&&(n=i(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(n)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(t,e,n){this.step={years:1},this.element=e,this.init=function(t){angular.extend(t,this),t.refreshView()},this._refreshView=function(){for(var e,i=new Array(12),r=this.activeDate.getFullYear(),o=0;12>o;o++)e=new Date(this.activeDate),e.setFullYear(r,o,1),i[o]=angular.extend(this.createDateObject(e,this.formatMonth),{uid:t.uniqueId+"-"+o});t.title=n(this.activeDate,this.formatMonthTitle),t.rows=this.split(i,3)},this.compare=function(t,e){var n=new Date(t.getFullYear(),t.getMonth()),i=new Date(e.getFullYear(),e.getMonth());return n.setFullYear(t.getFullYear()),i.setFullYear(e.getFullYear()),n-i},this.handleKeyDown=function(t,e){var n=this.activeDate.getMonth();if("left"===t)n-=1;else if("up"===t)n-=3;else if("right"===t)n+=1;else if("down"===t)n+=3;else if("pageup"===t||"pagedown"===t){var i=this.activeDate.getFullYear()+("pageup"===t?-1:1);this.activeDate.setFullYear(i)}else"home"===t?n=0:"end"===t&&(n=11);this.activeDate.setMonth(n)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(t,e,n){function i(t){return parseInt((t-1)/o,10)*o+1}var r,o;this.element=e,this.yearpickerInit=function(){r=this.yearColumns,o=this.yearRows*r,this.step={years:o}},this._refreshView=function(){for(var e,n=new Array(o),s=0,a=i(this.activeDate.getFullYear());o>s;s++)e=new Date(this.activeDate),e.setFullYear(a+s,0,1),n[s]=angular.extend(this.createDateObject(e,this.formatYear),{uid:t.uniqueId+"-"+s});t.title=[n[0].label,n[o-1].label].join(" - "),t.rows=this.split(n,r),t.columns=r},this.compare=function(t,e){return t.getFullYear()-e.getFullYear()},this.handleKeyDown=function(t,e){var n=this.activeDate.getFullYear();"left"===t?n-=1:"up"===t?n-=r:"right"===t?n+=1:"down"===t?n+=r:"pageup"===t||"pagedown"===t?n+=("pageup"===t?-1:1)*o:"home"===t?n=i(this.activeDate.getFullYear()):"end"===t&&(n=i(this.activeDate.getFullYear())+o-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",function(){return{replace:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",datepickerOptions:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["uibDatepicker","^ngModel"],controller:"UibDatepickerController",controllerAs:"datepicker",link:function(t,e,n,i){var r=i[0],o=i[1];r.init(o)}}}).directive("uibDaypicker",function(){return{replace:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],controller:"UibDaypickerController",link:function(t,e,n,i){var r=i[0],o=i[1];o.init(r)}}}).directive("uibMonthpicker",function(){return{replace:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],controller:"UibMonthpickerController",link:function(t,e,n,i){var r=i[0],o=i[1];o.init(r)}}}).directive("uibYearpicker",function(){return{replace:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],controller:"UibYearpickerController",link:function(t,e,n,i){var r=i[0];angular.extend(r,i[1]),r.yearpickerInit(),r.refreshView()}}}).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepicker/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$parse","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig",function(t,e,n,i,r,o,s,a,l,u,c,h,d){function f(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function p(e){var n=u.parse(e,b,t.date);if(isNaN(n))for(var i=0;i<T.length;i++)if(n=u.parse(e,T[i],t.date),!isNaN(n))return n;return n}function g(t){if(angular.isNumber(t)&&(t=new Date(t)),!t)return null;if(angular.isDate(t)&&!isNaN(t))return t;if(angular.isString(t)){var e=p(t);if(!isNaN(e))return u.toTimezone(e,k.timezone)}return S.$options&&S.$options.allowInvalid?t:void 0}function m(t,e){var i=t||e;return n.ngRequired||i?(angular.isNumber(i)&&(i=new Date(i)),i?angular.isDate(i)&&!isNaN(i)?!0:angular.isString(i)?!isNaN(p(e)):!1:!0):!0}function v(n){if(t.isOpen||!t.disabled){var i=D[0],r=e[0].contains(n.target),o=void 0!==i.contains&&i.contains(n.target);!t.isOpen||r||o||t.$apply(function(){t.isOpen=!1})}}function y(n){27===n.which&&t.isOpen?(n.preventDefault(),n.stopPropagation(),t.$apply(function(){t.isOpen=!1}),e[0].focus()):40!==n.which||t.isOpen||(n.preventDefault(),n.stopPropagation(),t.$apply(function(){t.isOpen=!0}))}var b,w,x,_,$,C,A,E,S,k,D,T,F={},M=!1,L=[];t.watchData={},this.init=function(a){if(S=a,k=a.$options||d.ngModelOptions,w=angular.isDefined(n.closeOnDateSelection)?t.$parent.$eval(n.closeOnDateSelection):c.closeOnDateSelection,x=angular.isDefined(n.datepickerAppendToBody)?t.$parent.$eval(n.datepickerAppendToBody):c.appendToBody,_=angular.isDefined(n.onOpenFocus)?t.$parent.$eval(n.onOpenFocus):c.onOpenFocus,$=angular.isDefined(n.datepickerPopupTemplateUrl)?n.datepickerPopupTemplateUrl:c.datepickerPopupTemplateUrl,C=angular.isDefined(n.datepickerTemplateUrl)?n.datepickerTemplateUrl:c.datepickerTemplateUrl,T=angular.isDefined(n.altInputFormats)?t.$parent.$eval(n.altInputFormats):c.altInputFormats,t.showButtonBar=angular.isDefined(n.showButtonBar)?t.$parent.$eval(n.showButtonBar):c.showButtonBar,c.html5Types[n.type]?(b=c.html5Types[n.type],M=!0):(b=n.uibDatepickerPopup||c.datepickerPopup,n.$observe("uibDatepickerPopup",function(t,e){var n=t||c.datepickerPopup;if(n!==b&&(b=n,S.$modelValue=null,!b))throw new Error("uibDatepickerPopup must have a date format specified.")})),!b)throw new Error("uibDatepickerPopup must have a date format specified.");if(M&&n.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");A=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),t.ngModelOptions=angular.copy(k),t.ngModelOptions.timezone=null,A.attr({"ng-model":"date","ng-model-options":"ngModelOptions","ng-change":"dateSelection(date)","template-url":$}),E=angular.element(A.children()[0]),E.attr("template-url",C),M&&"month"===n.type&&(E.attr("datepicker-mode",'"month"'),E.attr("min-mode","month")),t.datepickerOptions&&angular.forEach(t.datepickerOptions,function(t,e){-1===["minDate","maxDate","minMode","maxMode","initDate","datepickerMode"].indexOf(e)?E.attr(f(e),t):E.attr(f(e),"datepickerOptions."+e)}),angular.forEach(["minMode","maxMode","datepickerMode","shortcutPropagation"],function(e){if(n[e]){var i=r(n[e]),o={get:function(){return i(t.$parent)}};if(E.attr(f(e),"watchData."+e),"datepickerMode"===e){var s=i.assign;o.set=function(e){s(t.$parent,e)}}Object.defineProperty(t.watchData,e,o)}}),angular.forEach(["minDate","maxDate","initDate"],function(e){if(n[e]){var i=r(n[e]);L.push(t.$parent.$watch(i,function(n){"minDate"===e||"maxDate"===e?(null===n?F[e]=null:angular.isDate(n)?F[e]=u.fromTimezone(new Date(n),k.timezone):F[e]=new Date(l(n,"medium")),t.watchData[e]=null===n?null:F[e]):t.watchData[e]=u.fromTimezone(new Date(n),k.timezone)})),E.attr(f(e),"watchData."+e)}}),n.dateDisabled&&E.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRows","yearColumns"],function(t){angular.isDefined(n[t])&&E.attr(f(t),n[t])}),n.customClass&&E.attr("custom-class","customClass({ date: date, mode: mode })"),M?S.$formatters.push(function(e){return t.date=u.fromTimezone(e,k.timezone),e}):(S.$$parserName="date",S.$validators.date=m,S.$parsers.unshift(g),S.$formatters.push(function(e){return S.$isEmpty(e)?(t.date=e,e):(t.date=u.fromTimezone(e,k.timezone),angular.isNumber(t.date)&&(t.date=new Date(t.date)),u.filter(t.date,b))})),S.$viewChangeListeners.push(function(){t.date=p(S.$viewValue)}),e.on("keydown",y),D=i(A)(t),A.remove(),x?o.find("body").append(D):e.after(D),t.$on("$destroy",function(){for(t.isOpen===!0&&(s.$$phase||t.$apply(function(){t.isOpen=!1})),D.remove(),e.off("keydown",y),o.off("click",v);L.length;)L.shift()()})},t.getText=function(e){return t[e+"Text"]||c[e+"Text"]},t.isDisabled=function(e){return"today"===e&&(e=new Date),t.watchData.minDate&&t.compare(e,F.minDate)<0||t.watchData.maxDate&&t.compare(e,F.maxDate)>0},t.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate())},t.dateSelection=function(n){angular.isDefined(n)&&(t.date=n);var i=t.date?u.filter(t.date,b):null;e.val(i),S.$setViewValue(i),w&&(t.isOpen=!1,e[0].focus())},t.keydown=function(n){27===n.which&&(n.stopPropagation(),t.isOpen=!1,e[0].focus())},t.select=function(e){if("today"===e){var n=new Date;angular.isDate(t.date)?(e=new Date(t.date),e.setFullYear(n.getFullYear(),n.getMonth(),n.getDate())):e=new Date(n.setHours(0,0,0,0))}t.dateSelection(e)},t.close=function(){t.isOpen=!1,e[0].focus()},t.disabled=angular.isDefined(n.disabled)||!1,n.ngDisabled&&L.push(t.$parent.$watch(r(n.ngDisabled),function(e){t.disabled=e})),t.$watch("isOpen",function(n){n?t.disabled?t.isOpen=!1:(t.position=x?a.offset(e):a.position(e),t.position.top=t.position.top+e.prop("offsetHeight"),h(function(){_&&t.$broadcast("uib:datepicker.focus"),o.on("click",v)},0,!1)):o.off("click",v)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(t,e,n,i){var r=i[0],o=i[1];o.init(r)}}}).directive("uibDatepickerPopupWrap",function(){return{replace:!0,transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(t){return function(e,n){var i;return function(){var r=this,o=Array.prototype.slice.call(arguments);i&&t.cancel(i),i=t(function(){e.apply(r,o)},n)}}}]),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(t,e){var n=null;this.open=function(e){n||(t.on("click",i),t.on("keydown",r)),n&&n!==e&&(n.isOpen=!1),n=e},this.close=function(e){n===e&&(n=null,t.off("click",i),t.off("keydown",r))};var i=function(t){if(n&&!(t&&"disabled"===n.getAutoClose()||t&&3===t.which)){var i=n.getToggleElement();if(!(t&&i&&i[0].contains(t.target))){var r=n.getDropdownElement();t&&"outsideClick"===n.getAutoClose()&&r&&r[0].contains(t.target)||(n.isOpen=!1,e.$$phase||n.$apply())}}},r=function(t){27===t.which?(n.focusToggleElement(),i()):n.isKeynavEnabled()&&-1!==[38,40].indexOf(t.which)&&n.isOpen&&(t.preventDefault(),t.stopPropagation(),n.focusDropdownEntry(t.which))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(t,e,n,i,r,o,s,a,l,u,c){var h,d,f=this,p=t.$new(),g=r.appendToOpenClass,m=r.openClass,v=angular.noop,y=n.onToggle?i(n.onToggle):angular.noop,b=!1,w=null,x=!1,_=l.find("body");e.addClass("dropdown"),this.init=function(){if(n.isOpen&&(d=i(n.isOpen),v=d.assign,t.$watch(d,function(t){p.isOpen=!!t})),angular.isDefined(n.dropdownAppendTo)){var r=i(n.dropdownAppendTo)(p);r&&(w=angular.element(r))}b=angular.isDefined(n.dropdownAppendToBody),x=angular.isDefined(n.keyboardNav),b&&!w&&(w=_),w&&f.dropdownMenu&&(w.append(f.dropdownMenu),e.on("$destroy",function(){f.dropdownMenu.remove()}))},this.toggle=function(t){return p.isOpen=arguments.length?!!t:!p.isOpen},this.isOpen=function(){return p.isOpen},p.getToggleElement=function(){return f.toggleElement},p.getAutoClose=function(){return n.autoClose||"always"},p.getElement=function(){return e},p.isKeynavEnabled=function(){return x},p.focusDropdownEntry=function(t){var n=f.dropdownMenu?angular.element(f.dropdownMenu).find("a"):e.find("ul").eq(0).find("a");switch(t){case 40:angular.isNumber(f.selectedOption)?f.selectedOption=f.selectedOption===n.length-1?f.selectedOption:f.selectedOption+1:f.selectedOption=0;break;case 38:angular.isNumber(f.selectedOption)?f.selectedOption=0===f.selectedOption?0:f.selectedOption-1:f.selectedOption=n.length-1}n[f.selectedOption].focus()},p.getDropdownElement=function(){return f.dropdownMenu},p.focusToggleElement=function(){f.toggleElement&&f.toggleElement[0].focus()},p.$watch("isOpen",function(n,i){if(w&&f.dropdownMenu){var r,l,d=a.positionElements(e,f.dropdownMenu,"bottom-left",!0);if(r={top:d.top+"px",display:n?"block":"none"},l=f.dropdownMenu.hasClass("dropdown-menu-right"),l?(r.left="auto",r.right=window.innerWidth-(d.left+e.prop("offsetWidth"))+"px"):(r.left=d.left+"px",r.right="auto"),!b){var x=a.offset(w);r.top=d.top-x.top+"px",l?r.right=window.innerWidth-(d.left-x.left+e.prop("offsetWidth"))+"px":r.left=d.left-x.left+"px"}f.dropdownMenu.css(r)}var _=w?w:e;if(s[n?"addClass":"removeClass"](_,w?g:m).then(function(){angular.isDefined(n)&&n!==i&&y(t,{open:!!n})}),n)f.dropdownMenuTemplateUrl&&c(f.dropdownMenuTemplateUrl).then(function(t){h=p.$new(),u(t.trim())(h,function(t){var e=t;f.dropdownMenu.replaceWith(e),f.dropdownMenu=e})}),p.focusToggleElement(),o.open(p);else{if(f.dropdownMenuTemplateUrl){h&&h.$destroy();var $=angular.element('<ul class="dropdown-menu"></ul>');f.dropdownMenu.replaceWith($),f.dropdownMenu=$}o.close(p),f.selectedOption=null}angular.isFunction(v)&&v(t,n)}),t.$on("$locationChangeSuccess",function(){"disabled"!==p.getAutoClose()&&(p.isOpen=!1)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(t,e,n,i){i.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(t,e,n,i){if(i&&!angular.isDefined(n.dropdownNested)){e.addClass("dropdown-menu");var r=n.templateUrl;r&&(i.dropdownMenuTemplateUrl=r),i.dropdownMenu||(i.dropdownMenu=e)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(t,e,n,i){if(i){e.addClass("dropdown-toggle"),i.toggleElement=e;var r=function(r){r.preventDefault(),e.hasClass("disabled")||n.disabled||t.$apply(function(){i.toggle()})};e.bind("click",r),e.attr({"aria-haspopup":!0,"aria-expanded":!1}),t.$watch(i.isOpen,function(t){e.attr("aria-expanded",!!t)}),t.$on("$destroy",function(){e.unbind("click",r)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var t=[];return{add:function(e,n){t.push({key:e,value:n})},get:function(e){for(var n=0;n<t.length;n++)if(e===t[n].key)return t[n]},keys:function(){for(var e=[],n=0;n<t.length;n++)e.push(t[n].key);return e},top:function(){return t[t.length-1]},remove:function(e){for(var n=-1,i=0;i<t.length;i++)if(e===t[i].key){n=i;break}return t.splice(n,1)[0]},removeTop:function(){return t.splice(t.length-1,1)[0]},length:function(){return t.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap"]).factory("$$multiMap",function(){return{createNew:function(){var t={};return{entries:function(){return Object.keys(t).map(function(e){return{key:e,value:t[e]}})},get:function(e){return t[e]},hasKey:function(e){return!!t[e]},keys:function(){return Object.keys(t)},put:function(e,n){t[e]||(t[e]=[]),t[e].push(n)},remove:function(e,n){var i=t[e];if(i){var r=i.indexOf(n);-1!==r&&i.splice(r,1),i.length||delete t[e]}}}}}}).provider("$uibResolve",function(){var t=this;this.resolver=null,this.setResolver=function(t){this.resolver=t},this.$get=["$injector","$q",function(e,n){var i=t.resolver?e.get(t.resolver):null;return{resolve:function(t,r,o,s){if(i)return i.resolve(t,r,o,s);var a=[];return angular.forEach(t,function(t){angular.isFunction(t)||angular.isArray(t)?a.push(n.resolve(e.invoke(t))):angular.isString(t)?a.push(n.resolve(e.get(t))):a.push(n.resolve(t))}),n.all(a).then(function(e){var n={},i=0;return angular.forEach(t,function(t,r){n[r]=e[i++]}),n})}}}]}).directive("uibModalBackdrop",["$animateCss","$injector","$uibModalStack",function(t,e,n){function i(e,i,r){r.modalInClass&&(t(i,{addClass:r.modalInClass}).start(),e.$on(n.NOW_CLOSING_EVENT,function(n,o){var s=o();e.modalOptions.animation?t(i,{removeClass:r.modalInClass}).start().then(s):s()}))}return{replace:!0,templateUrl:"uib/template/modal/backdrop.html",compile:function(t,e){return t.addClass(e.backdropClass),i}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animate","$animateCss","$document",function(t,e,n,i,r){return{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/modal/window.html"},link:function(o,s,a){s.addClass(a.windowClass||""),s.addClass(a.windowTopClass||""),o.size=a.size,o.close=function(e){var n=t.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),t.dismiss(n.key,"backdrop click"))},s.on("click",o.close),o.$isRendered=!0;var l=e.defer();a.$observe("modalRender",function(t){"true"===t&&l.resolve()}),l.promise.then(function(){var l=null;a.modalInClass&&(l=i(s,{addClass:a.modalInClass}).start(),o.$on(t.NOW_CLOSING_EVENT,function(t,e){var r=e();i?i(s,{removeClass:a.modalInClass}).start().then(r):n.removeClass(s,a.modalInClass).then(r)})),e.when(l).then(function(){if(!r[0].activeElement||!s[0].contains(r[0].activeElement)){var t=s[0].querySelector("[autofocus]");t?t.focus():s[0].focus()}});var u=t.getTop();u&&t.modalRendered(u.key)})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(t,e){e.modalAnimation&&t.addClass(e.uibModalAnimationClass)}}}).directive("uibModalTransclude",function(){return{link:function(t,e,n,i,r){r(t.$parent,function(t){e.empty(),e.append(t)})}}}).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap",function(t,e,n,i,r,o,s,a){function l(){for(var t=-1,e=b.keys(),n=0;n<e.length;n++)b.get(e[n]).value.backdrop&&(t=n);return t}function u(t,e){var n=b.get(t).value,i=n.appendTo;b.remove(t),d(n.modalDomEl,n.modalScope,function(){var e=n.openedClass||y;w.remove(e,t),i.toggleClass(e,w.hasKey(e)),c(!0)},n.closedDeferred),h(),e&&e.focus?e.focus():i.focus&&i.focus()}function c(t){var e;b.length()>0&&(e=b.top().value,e.modalDomEl.toggleClass(e.windowTopClass||"",t))}function h(){if(g&&-1===l()){var t=m;d(g,m,function(){t=null}),g=void 0,m=void 0}}function d(t,n,i,r){function s(){s.done||(s.done=!0,e(t,{event:"leave"}).start().then(function(){t.remove(),r&&r.resolve()}),n.$destroy(),i&&i())}var a,l=null,u=function(){return a||(a=o.defer(),l=a.promise),function(){a.resolve()}};return n.$broadcast(x.NOW_CLOSING_EVENT,u),o.when(l).then(s)}function f(t){if(t.isDefaultPrevented())return t;var e=b.top();if(e)switch(t.which){case 27:e.value.keyboard&&(t.preventDefault(),r.$apply(function(){x.dismiss(e.key,"escape key press")}));break;case 9:x.loadFocusElementList(e);var n=!1;t.shiftKey?(x.isFocusInFirstItem(t)||x.isModalFocused(t,e))&&(n=x.focusLastFocusableElement()):x.isFocusInLastItem(t)&&(n=x.focusFirstFocusableElement()),n&&(t.preventDefault(),t.stopPropagation())}}function p(t,e,n){return!t.value.modalScope.$broadcast("modal.closing",e,n).defaultPrevented}var g,m,v,y="modal-open",b=a.createNew(),w=s.createNew(),x={NOW_CLOSING_EVENT:"modal.stack.now-closing"},_=0,$="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return r.$watch(l,function(t){m&&(m.index=t)}),n.on("keydown",f),r.$on("$destroy",function(){n.off("keydown",f)}),x.open=function(e,o){var s=n[0].activeElement,a=o.openedClass||y;c(!1),b.add(e,{deferred:o.deferred,renderDeferred:o.renderDeferred,closedDeferred:o.closedDeferred,modalScope:o.scope,backdrop:o.backdrop,keyboard:o.keyboard,openedClass:o.openedClass,windowTopClass:o.windowTopClass,animation:o.animation,appendTo:o.appendTo}),w.put(a,e);var u=o.appendTo,h=l();if(!u.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");h>=0&&!g&&(m=r.$new(!0),m.modalOptions=o,m.index=h,g=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),g.attr("backdrop-class",o.backdropClass),o.animation&&g.attr("modal-animation","true"),i(g)(m),t.enter(g,u));var d=angular.element('<div uib-modal-window="modal-window"></div>');d.attr({"template-url":o.windowTemplateUrl,"window-class":o.windowClass,"window-top-class":o.windowTopClass,size:o.size,index:b.length()-1,animate:"animate"}).html(o.content),o.animation&&d.attr("modal-animation","true"),t.enter(i(d)(o.scope),u).then(function(){t.addClass(u,a)}),b.top().value.modalDomEl=d,b.top().value.modalOpener=s,x.clearFocusListCache()},x.close=function(t,e){var n=b.get(t);return n&&p(n,e,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(e),u(t,n.value.modalOpener),!0):!n},x.dismiss=function(t,e){var n=b.get(t);return n&&p(n,e,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(e),u(t,n.value.modalOpener),!0):!n},x.dismissAll=function(t){for(var e=this.getTop();e&&this.dismiss(e.key,t);)e=this.getTop()},x.getTop=function(){return b.top()},x.modalRendered=function(t){var e=b.get(t);e&&e.value.renderDeferred.resolve()},x.focusFirstFocusableElement=function(){return v.length>0?(v[0].focus(),!0):!1},x.focusLastFocusableElement=function(){return v.length>0?(v[v.length-1].focus(),!0):!1},x.isModalFocused=function(t,e){if(t&&e){var n=e.value.modalDomEl;if(n&&n.length)return(t.target||t.srcElement)===n[0]}return!1},x.isFocusInFirstItem=function(t){return v.length>0?(t.target||t.srcElement)===v[0]:!1},x.isFocusInLastItem=function(t){return v.length>0?(t.target||t.srcElement)===v[v.length-1]:!1},x.clearFocusListCache=function(){v=[],_=0},x.loadFocusElementList=function(t){if((void 0===v||!v.length)&&t){var e=t.value.modalDomEl;e&&e.length&&(v=e[0].querySelectorAll($))}},x}]).provider("$uibModal",function(){var t={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(e,n,i,r,o,s,a){function l(t){return t.template?n.when(t.template):r(angular.isFunction(t.templateUrl)?t.templateUrl():t.templateUrl)}var u={},c=null;return u.getPromiseChain=function(){return c},u.open=function(r){function u(){return v}var h=n.defer(),d=n.defer(),f=n.defer(),p=n.defer(),g={result:h.promise,opened:d.promise,closed:f.promise,rendered:p.promise,close:function(t){return a.close(g,t)},dismiss:function(t){return a.dismiss(g,t)}};if(r=angular.extend({},t.options,r),r.resolve=r.resolve||{},r.appendTo=r.appendTo||i.find("body").eq(0),!r.template&&!r.templateUrl)throw new Error("One of template or templateUrl options is required.");var m,v=n.all([l(r),s.resolve(r.resolve,{},null,null)]);return m=c=n.all([c]).then(u,u).then(function(t){var n=r.scope||e,i=n.$new();i.$close=g.close,i.$dismiss=g.dismiss,i.$on("$destroy",function(){i.$$uibDestructionScheduled||i.$dismiss("$uibUnscheduledDestruction")});var s,l={};r.controller&&(l.$scope=i,l.$uibModalInstance=g,angular.forEach(t[1],function(t,e){l[e]=t}),s=o(r.controller,l),r.controllerAs&&(r.bindToController&&(s.$close=i.$close,s.$dismiss=i.$dismiss,angular.extend(s,n)),i[r.controllerAs]=s)),a.open(g,{scope:i,deferred:h,renderDeferred:p,closedDeferred:f,content:t[0],animation:r.animation,backdrop:r.backdrop,keyboard:r.keyboard,backdropClass:r.backdropClass,windowTopClass:r.windowTopClass,windowClass:r.windowClass,windowTemplateUrl:r.windowTemplateUrl,size:r.size,openedClass:r.openedClass,appendTo:r.appendTo}),d.resolve(!0)},function(t){d.reject(t),h.reject(t)})["finally"](function(){c===m&&(c=null)}),g},u}]};return t}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(t){return{create:function(e,n,i){e.setNumPages=i.numPages?t(i.numPages).assign:angular.noop,e.ngModelCtrl={$setViewValue:angular.noop},e._watchers=[],e.init=function(r,o){e.ngModelCtrl=r,e.config=o,r.$render=function(){e.render()},i.itemsPerPage?e._watchers.push(n.$parent.$watch(t(i.itemsPerPage),function(t){e.itemsPerPage=parseInt(t,10),n.totalPages=e.calculateTotalPages(),e.updatePage()})):e.itemsPerPage=o.itemsPerPage,n.$watch("totalItems",function(t,i){(angular.isDefined(t)||t!==i)&&(n.totalPages=e.calculateTotalPages(),e.updatePage())})},e.calculateTotalPages=function(){var t=e.itemsPerPage<1?1:Math.ceil(n.totalItems/e.itemsPerPage);return Math.max(t||0,1)},e.render=function(){n.page=parseInt(e.ngModelCtrl.$viewValue,10)||1},n.selectPage=function(t,i){i&&i.preventDefault();var r=!n.ngDisabled||!i;r&&n.page!==t&&t>0&&t<=n.totalPages&&(i&&i.target&&i.target.blur(),e.ngModelCtrl.$setViewValue(t),e.ngModelCtrl.$render())},n.getText=function(t){return n[t+"Text"]||e.config[t+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages},e.updatePage=function(){e.setNumPages(n.$parent,n.totalPages),n.page>n.totalPages?n.selectPage(n.totalPages):e.ngModelCtrl.$render()},n.$on("$destroy",function(){for(;e._watchers.length;)e._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(t,e,n,i){t.align=angular.isDefined(e.align)?t.$parent.$eval(e.align):i.align,n.create(this,t,e)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("uibPager",["uibPagerConfig",function(t){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],controller:"UibPagerController",controllerAs:"pager",templateUrl:function(t,e){return e.templateUrl||"uib/template/pager/pager.html"},replace:!0,link:function(e,n,i,r){var o=r[0],s=r[1];s&&o.init(s,t)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(t,e,n,i,r){function o(t,e,n){return{number:t,text:e,active:n}}function s(t,e){var n=[],i=1,r=e,s=angular.isDefined(l)&&e>l;s&&(u?(i=Math.max(t-Math.floor(l/2),1),r=i+l-1,r>e&&(r=e,i=r-l+1)):(i=(Math.ceil(t/l)-1)*l+1,
r=Math.min(i+l-1,e)));for(var a=i;r>=a;a++){var d=o(a,a,a===t);n.push(d)}if(s&&l>0&&(!u||c||h)){if(i>1){if(!h||i>3){var f=o(i-1,"...",!1);n.unshift(f)}if(h){if(3===i){var p=o(2,"2",!1);n.unshift(p)}var g=o(1,"1",!1);n.unshift(g)}}if(e>r){if(!h||e-2>r){var m=o(r+1,"...",!1);n.push(m)}if(h){if(r===e-2){var v=o(e-1,e-1,!1);n.push(v)}var y=o(e,e,!1);n.push(y)}}}return n}var a=this,l=angular.isDefined(e.maxSize)?t.$parent.$eval(e.maxSize):r.maxSize,u=angular.isDefined(e.rotate)?t.$parent.$eval(e.rotate):r.rotate,c=angular.isDefined(e.forceEllipses)?t.$parent.$eval(e.forceEllipses):r.forceEllipses,h=angular.isDefined(e.boundaryLinkNumbers)?t.$parent.$eval(e.boundaryLinkNumbers):r.boundaryLinkNumbers;t.boundaryLinks=angular.isDefined(e.boundaryLinks)?t.$parent.$eval(e.boundaryLinks):r.boundaryLinks,t.directionLinks=angular.isDefined(e.directionLinks)?t.$parent.$eval(e.directionLinks):r.directionLinks,i.create(this,t,e),e.maxSize&&a._watchers.push(t.$parent.$watch(n(e.maxSize),function(t){l=parseInt(t,10),a.render()}));var d=this.render;this.render=function(){d(),t.page>0&&t.page<=t.totalPages&&(t.pages=s(t.page,t.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(t,e){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(t,e){return e.templateUrl||"uib/template/pagination/pagination.html"},replace:!0,link:function(t,n,i,r){var o=r[0],s=r[1];s&&o.init(s,e)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function t(t){var e=/[A-Z]/g,n="-";return t.replace(e,function(t,e){return(e?n:"")+t.toLowerCase()})}var e={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},i={};this.options=function(t){angular.extend(i,t)},this.setTriggers=function(t){angular.extend(n,t)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(r,o,s,a,l,u,c,h,d){function f(t){if(27===t.which){var e=p.top();e&&(e.value.close(),p.removeTop(),e=null)}}var p=d.createNew();return a.on("keypress",f),c.$on("$destroy",function(){a.off("keypress",f)}),function(r,c,d,f){function g(t){var e=(t||f.trigger||d).split(" "),i=e.map(function(t){return n[t]||t});return{show:e,hide:i}}f=angular.extend({},e,i,f);var m=t(r),v=u.startSymbol(),y=u.endSymbol(),b="<div "+m+'-popup title="'+v+"title"+y+'" '+(f.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+y+'" ')+'placement="'+v+"placement"+y+'" popup-class="'+v+"popupClass"+y+'" animation="animation" is-open="isOpen"origin-scope="origScope" style="visibility: hidden; display: block; top: -9999px; left: -9999px;"></div>';return{compile:function(t,e){var n=o(b);return function(t,e,i,o){function u(){R.isOpen?m():d()}function d(){(!I||t.$eval(i[c+"Enable"]))&&(w(),$(),R.popupDelay?M||(M=s(v,R.popupDelay,!1)):v())}function m(){y(),R.popupCloseDelay?L||(L=s(b,R.popupCloseDelay,!1)):b()}function v(){return y(),w(),R.content?(x(),void R.$evalAsync(function(){R.isOpen=!0,C(!0),V()})):angular.noop}function y(){M&&(s.cancel(M),M=null),O&&(s.cancel(O),O=null)}function b(){R&&R.$evalAsync(function(){R&&(R.isOpen=!1,C(!1),R.animation?F||(F=s(_,150,!1)):_())})}function w(){L&&(s.cancel(L),L=null),F&&(s.cancel(F),F=null)}function x(){D||(T=R.$new(),D=n(T,function(t){P?a.find("body").append(t):e.after(t)}),A())}function _(){y(),w(),E(),D&&(D.remove(),D=null),T&&(T.$destroy(),T=null)}function $(){R.title=i[c+"Title"],z?R.content=z(t):R.content=i[r],R.popupClass=i[c+"Class"],R.placement=angular.isDefined(i[c+"Placement"])?i[c+"Placement"]:f.placement;var e=parseInt(i[c+"PopupDelay"],10),n=parseInt(i[c+"PopupCloseDelay"],10);R.popupDelay=isNaN(e)?f.popupDelay:e,R.popupCloseDelay=isNaN(n)?f.popupCloseDelay:n}function C(e){N&&angular.isFunction(N.assign)&&N.assign(t,e)}function A(){U.length=0,z?(U.push(t.$watch(z,function(t){R.content=t,!t&&R.isOpen&&b()})),U.push(T.$watch(function(){j||(j=!0,T.$$postDigest(function(){j=!1,R&&R.isOpen&&V()}))}))):U.push(i.$observe(r,function(t){R.content=t,!t&&R.isOpen?b():V()})),U.push(i.$observe(c+"Title",function(t){R.title=t,R.isOpen&&V()})),U.push(i.$observe(c+"Placement",function(t){R.placement=t?t:f.placement,R.isOpen&&V()}))}function E(){U.length&&(angular.forEach(U,function(t){t()}),U.length=0)}function S(t){R&&R.isOpen&&D&&(e[0].contains(t.target)||D[0].contains(t.target)||m())}function k(){var t=i[c+"Trigger"];H(),B=g(t),"none"!==B.show&&B.show.forEach(function(t,n){"outsideClick"===t?(e.on("click",u),a.on("click",S)):t===B.hide[n]?e.on(t,u):t&&(e.on(t,d),e.on(B.hide[n],m)),e.on("keypress",function(t){27===t.which&&m()})})}var D,T,F,M,L,O,P=angular.isDefined(f.appendToBody)?f.appendToBody:!1,B=g(void 0),I=angular.isDefined(i[c+"Enable"]),R=t.$new(!0),j=!1,N=angular.isDefined(i[c+"IsOpen"])?h(i[c+"IsOpen"]):!1,z=f.useContentExp?h(i[r]):!1,U=[],V=function(){D&&D.html()&&(O||(O=s(function(){D.css({top:0,left:0});var t=l.positionElements(e,D,R.placement,P);D.css({top:t.top+"px",left:t.left+"px",visibility:"visible"}),f.placementClassPrefix&&D.removeClass("top bottom left right"),D.removeClass(f.placementClassPrefix+"top "+f.placementClassPrefix+"top-left "+f.placementClassPrefix+"top-right "+f.placementClassPrefix+"bottom "+f.placementClassPrefix+"bottom-left "+f.placementClassPrefix+"bottom-right "+f.placementClassPrefix+"left "+f.placementClassPrefix+"left-top "+f.placementClassPrefix+"left-bottom "+f.placementClassPrefix+"right "+f.placementClassPrefix+"right-top "+f.placementClassPrefix+"right-bottom");var n=t.placement.split("-");D.addClass(n[0]+" "+f.placementClassPrefix+t.placement),l.positionArrow(D,t.placement),O=null},0,!1)))};R.origScope=t,R.isOpen=!1,p.add(R,{close:b}),R.contentExp=function(){return R.content},i.$observe("disabled",function(t){t&&y(),t&&R.isOpen&&b()}),N&&t.$watch(N,function(t){R&&!t===R.isOpen&&u()});var H=function(){B.show.forEach(function(t){"outsideClick"===t?e.off("click",u):(e.off(t,d),e.off(t,u))}),B.hide.forEach(function(t){"outsideClick"===t?a.off("click",S):e.off(t,m)})};k();var W=t.$eval(i[c+"Animation"]);R.animation=angular.isDefined(W)?!!W:f.animation;var Y,q=c+"AppendToBody";Y=q in i&&void 0===i[q]?!0:t.$eval(i[q]),P=angular.isDefined(Y)?Y:P,t.$on("$destroy",function(){H(),_(),p.remove(R),R=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(t,e,n,i){return{link:function(r,o,s){var a,l,u,c=r.$eval(s.tooltipTemplateTranscludeScope),h=0,d=function(){l&&(l.remove(),l=null),a&&(a.$destroy(),a=null),u&&(t.leave(u).then(function(){l=null}),l=u,u=null)};r.$watch(e.parseAsResourceUrl(s.uibTooltipTemplateTransclude),function(e){var s=++h;e?(i(e,!0).then(function(i){if(s===h){var r=c.$new(),l=i,f=n(l)(r,function(e){d(),t.enter(e,o)});a=r,u=f,a.$emit("$includeContentLoaded",e)}},function(){s===h&&(d(),r.$emit("$includeContentError",e))}),r.$emit("$includeContentRequested",e)):d()}),r.$on("$destroy",d)}}}]).directive("uibTooltipClasses",["$uibPosition",function(t){return{restrict:"A",link:function(e,n,i){if(e.placement){var r=t.parsePlacement(e.placement);n.addClass(r[0])}else n.addClass("top");e.popupClass&&n.addClass(e.popupClass),e.animation()&&n.addClass(i.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(t){return t("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(t){return t("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(t){return t("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(t){return t("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(t){return t("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(t){return t("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(t,e,n){var i=this,r=angular.isDefined(e.animate)?t.$parent.$eval(e.animate):n.animate;this.bars=[],t.max=angular.isDefined(t.max)?t.max:n.max,this.addBar=function(e,n,o){r||n.css({transition:"none"}),this.bars.push(e),e.max=t.max,e.title=o&&angular.isDefined(o.title)?o.title:"progressbar",e.$watch("value",function(t){e.recalculatePercentage()}),e.recalculatePercentage=function(){var t=i.bars.reduce(function(t,e){return e.percent=+(100*e.value/e.max).toFixed(2),t+e.percent},0);t>100&&(e.percent-=t-100)},e.$on("$destroy",function(){n=null,i.removeBar(e)})},this.removeBar=function(t){this.bars.splice(this.bars.indexOf(t),1),this.bars.forEach(function(t){t.recalculatePercentage()})},t.$watch("max",function(e){i.bars.forEach(function(e){e.max=t.max,e.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{max:"=?"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(t,e,n,i){i.addBar(t,e,n)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(t,e,n,i){i.addBar(t,angular.element(e.children()[0]),{title:n.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(t,e,n){var i={$setViewValue:angular.noop};this.init=function(r){i=r,i.$render=this.render,i.$formatters.push(function(t){return angular.isNumber(t)&&t<<0!==t&&(t=Math.round(t)),t}),this.stateOn=angular.isDefined(e.stateOn)?t.$parent.$eval(e.stateOn):n.stateOn,this.stateOff=angular.isDefined(e.stateOff)?t.$parent.$eval(e.stateOff):n.stateOff;var o=angular.isDefined(e.titles)?t.$parent.$eval(e.titles):n.titles;this.titles=angular.isArray(o)&&o.length>0?o:n.titles;var s=angular.isDefined(e.ratingStates)?t.$parent.$eval(e.ratingStates):new Array(angular.isDefined(e.max)?t.$parent.$eval(e.max):n.max);t.range=this.buildTemplateObjects(s)},this.buildTemplateObjects=function(t){for(var e=0,n=t.length;n>e;e++)t[e]=angular.extend({index:e},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(e)},t[e]);return t},this.getTitle=function(t){return t>=this.titles.length?t+1:this.titles[t]},t.rate=function(e){!t.readonly&&e>=0&&e<=t.range.length&&(i.$setViewValue(i.$viewValue===e?0:e),i.$render())},t.enter=function(e){t.readonly||(t.value=e),t.onHover({value:e})},t.reset=function(){t.value=i.$viewValue,t.onLeave()},t.onKeydown=function(e){/(37|38|39|40)/.test(e.which)&&(e.preventDefault(),e.stopPropagation(),t.rate(t.value+(38===e.which||39===e.which?1:-1)))},this.render=function(){t.value=i.$viewValue}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",replace:!0,link:function(t,e,n,i){var r=i[0],o=i[1];r.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(t){var e=this,n=e.tabs=t.tabs=[];e.select=function(t){angular.forEach(n,function(e){e.active&&e!==t&&(e.active=!1,e.onDeselect(),t.selectCalled=!1)}),t.active=!0,t.selectCalled||(t.onSelect(),t.selectCalled=!0)},e.addTab=function(t){n.push(t),1===n.length&&t.active!==!1?t.active=!0:t.active?e.select(t):t.active=!1},e.removeTab=function(t){var r=n.indexOf(t);if(t.active&&n.length>1&&!i){var o=r===n.length-1?r-1:r+1;e.select(n[o])}n.splice(r,1)};var i;t.$on("$destroy",function(){i=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{type:"@"},controller:"UibTabsetController",templateUrl:"uib/template/tabs/tabset.html",link:function(t,e,n){t.vertical=angular.isDefined(n.vertical)?t.$parent.$eval(n.vertical):!1,t.justified=angular.isDefined(n.justified)?t.$parent.$eval(n.justified):!1}}}).directive("uibTab",["$parse",function(t){return{require:"^uibTabset",replace:!0,templateUrl:"uib/template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(e,n,i,r,o){e.$watch("active",function(t){t&&r.select(e)}),e.disabled=!1,i.disable&&e.$parent.$watch(t(i.disable),function(t){e.disabled=!!t}),e.select=function(){e.disabled||(e.active=!0)},r.addTab(e),e.$on("$destroy",function(){r.removeTab(e)}),e.$transcludeFn=o}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(t,e){t.$watch("headingElement",function(t){t&&(e.html(""),e.append(t))})}}}).directive("uibTabContentTransclude",function(){function t(t){return t.tagName&&(t.hasAttribute("uib-tab-heading")||t.hasAttribute("data-uib-tab-heading")||t.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===t.tagName.toLowerCase()||"data-uib-tab-heading"===t.tagName.toLowerCase()||"x-uib-tab-heading"===t.tagName.toLowerCase())}return{restrict:"A",require:"^uibTabset",link:function(e,n,i){var r=e.$eval(i.uibTabContentTransclude);r.$transcludeFn(r.$parent,function(e){angular.forEach(e,function(e){t(e)?r.headingElement=e:n.append(e)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(t,e,n,i,r,o,s){function a(){var e=+t.hours,n=t.showMeridian?e>0&&13>e:e>=0&&24>e;return n?(t.showMeridian&&(12===e&&(e=0),t.meridian===w[1]&&(e+=12)),e):void 0}function l(){var e=+t.minutes;return e>=0&&60>e?e:void 0}function u(){var e=+t.seconds;return e>=0&&60>e?e:void 0}function c(t){return null===t?"":angular.isDefined(t)&&t.toString().length<2?"0"+t:t.toString()}function h(t){d(),b.$setViewValue(new Date(v)),f(t)}function d(){b.$setValidity("time",!0),t.invalidHours=!1,t.invalidMinutes=!1,t.invalidSeconds=!1}function f(e){if(b.$modelValue){var n=v.getHours(),i=v.getMinutes(),r=v.getSeconds();t.showMeridian&&(n=0===n||12===n?12:n%12),t.hours="h"===e?n:c(n),"m"!==e&&(t.minutes=c(i)),t.meridian=v.getHours()<12?w[0]:w[1],"s"!==e&&(t.seconds=c(r)),t.meridian=v.getHours()<12?w[0]:w[1]}else t.hours=null,t.minutes=null,t.seconds=null,t.meridian=w[0]}function p(t){v=m(v,t),h()}function g(t,e){return m(t,60*e)}function m(t,e){var n=new Date(t.getTime()+1e3*e),i=new Date(t);return i.setHours(n.getHours(),n.getMinutes(),n.getSeconds()),i}var v=new Date,y=[],b={$setViewValue:angular.noop},w=angular.isDefined(n.meridians)?t.$parent.$eval(n.meridians):s.meridians||o.DATETIME_FORMATS.AMPMS;t.tabindex=angular.isDefined(n.tabindex)?n.tabindex:0,e.removeAttr("tabindex"),this.init=function(e,i){b=e,b.$render=this.render,b.$formatters.unshift(function(t){return t?new Date(t):null});var r=i.eq(0),o=i.eq(1),a=i.eq(2),l=angular.isDefined(n.mousewheel)?t.$parent.$eval(n.mousewheel):s.mousewheel;l&&this.setupMousewheelEvents(r,o,a);var u=angular.isDefined(n.arrowkeys)?t.$parent.$eval(n.arrowkeys):s.arrowkeys;u&&this.setupArrowkeyEvents(r,o,a),t.readonlyInput=angular.isDefined(n.readonlyInput)?t.$parent.$eval(n.readonlyInput):s.readonlyInput,this.setupInputEvents(r,o,a)};var x=s.hourStep;n.hourStep&&y.push(t.$parent.$watch(i(n.hourStep),function(t){x=+t}));var _=s.minuteStep;n.minuteStep&&y.push(t.$parent.$watch(i(n.minuteStep),function(t){_=+t}));var $;y.push(t.$parent.$watch(i(n.min),function(t){var e=new Date(t);$=isNaN(e)?void 0:e}));var C;y.push(t.$parent.$watch(i(n.max),function(t){var e=new Date(t);C=isNaN(e)?void 0:e}));var A=!1;n.ngDisabled&&y.push(t.$parent.$watch(i(n.ngDisabled),function(t){A=t})),t.noIncrementHours=function(){var t=g(v,60*x);return A||t>C||v>t&&$>t},t.noDecrementHours=function(){var t=g(v,60*-x);return A||$>t||t>v&&t>C},t.noIncrementMinutes=function(){var t=g(v,_);return A||t>C||v>t&&$>t},t.noDecrementMinutes=function(){var t=g(v,-_);return A||$>t||t>v&&t>C},t.noIncrementSeconds=function(){var t=m(v,E);return A||t>C||v>t&&$>t},t.noDecrementSeconds=function(){var t=m(v,-E);return A||$>t||t>v&&t>C},t.noToggleMeridian=function(){return v.getHours()<12?A||g(v,720)>C:A||g(v,-720)<$};var E=s.secondStep;n.secondStep&&y.push(t.$parent.$watch(i(n.secondStep),function(t){E=+t})),t.showSeconds=s.showSeconds,n.showSeconds&&y.push(t.$parent.$watch(i(n.showSeconds),function(e){t.showSeconds=!!e})),t.showMeridian=s.showMeridian,n.showMeridian&&y.push(t.$parent.$watch(i(n.showMeridian),function(e){if(t.showMeridian=!!e,b.$error.time){var n=a(),i=l();angular.isDefined(n)&&angular.isDefined(i)&&(v.setHours(n),h())}else f()})),this.setupMousewheelEvents=function(e,n,i){var r=function(t){t.originalEvent&&(t=t.originalEvent);var e=t.wheelDelta?t.wheelDelta:-t.deltaY;return t.detail||e>0};e.bind("mousewheel wheel",function(e){A||t.$apply(r(e)?t.incrementHours():t.decrementHours()),e.preventDefault()}),n.bind("mousewheel wheel",function(e){A||t.$apply(r(e)?t.incrementMinutes():t.decrementMinutes()),e.preventDefault()}),i.bind("mousewheel wheel",function(e){A||t.$apply(r(e)?t.incrementSeconds():t.decrementSeconds()),e.preventDefault()})},this.setupArrowkeyEvents=function(e,n,i){e.bind("keydown",function(e){A||(38===e.which?(e.preventDefault(),t.incrementHours(),t.$apply()):40===e.which&&(e.preventDefault(),t.decrementHours(),t.$apply()))}),n.bind("keydown",function(e){A||(38===e.which?(e.preventDefault(),t.incrementMinutes(),t.$apply()):40===e.which&&(e.preventDefault(),t.decrementMinutes(),t.$apply()))}),i.bind("keydown",function(e){A||(38===e.which?(e.preventDefault(),t.incrementSeconds(),t.$apply()):40===e.which&&(e.preventDefault(),t.decrementSeconds(),t.$apply()))})},this.setupInputEvents=function(e,n,i){if(t.readonlyInput)return t.updateHours=angular.noop,t.updateMinutes=angular.noop,void(t.updateSeconds=angular.noop);var r=function(e,n,i){b.$setViewValue(null),b.$setValidity("time",!1),angular.isDefined(e)&&(t.invalidHours=e),angular.isDefined(n)&&(t.invalidMinutes=n),angular.isDefined(i)&&(t.invalidSeconds=i)};t.updateHours=function(){var t=a(),e=l();b.$setDirty(),angular.isDefined(t)&&angular.isDefined(e)?(v.setHours(t),v.setMinutes(e),$>v||v>C?r(!0):h("h")):r(!0)},e.bind("blur",function(e){b.$setTouched(),null===t.hours||""===t.hours?r(!0):!t.invalidHours&&t.hours<10&&t.$apply(function(){t.hours=c(t.hours)})}),t.updateMinutes=function(){var t=l(),e=a();b.$setDirty(),angular.isDefined(t)&&angular.isDefined(e)?(v.setHours(e),v.setMinutes(t),$>v||v>C?r(void 0,!0):h("m")):r(void 0,!0)},n.bind("blur",function(e){b.$setTouched(),null===t.minutes?r(void 0,!0):!t.invalidMinutes&&t.minutes<10&&t.$apply(function(){t.minutes=c(t.minutes)})}),t.updateSeconds=function(){var t=u();b.$setDirty(),angular.isDefined(t)?(v.setSeconds(t),h("s")):r(void 0,void 0,!0)},i.bind("blur",function(e){!t.invalidSeconds&&t.seconds<10&&t.$apply(function(){t.seconds=c(t.seconds)})})},this.render=function(){var e=b.$viewValue;isNaN(e)?(b.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(v=e),$>v||v>C?(b.$setValidity("time",!1),t.invalidHours=!0,t.invalidMinutes=!0):d(),f())},t.showSpinners=angular.isDefined(n.showSpinners)?t.$parent.$eval(n.showSpinners):s.showSpinners,t.incrementHours=function(){t.noIncrementHours()||p(60*x*60)},t.decrementHours=function(){t.noDecrementHours()||p(60*-x*60)},t.incrementMinutes=function(){t.noIncrementMinutes()||p(60*_)},t.decrementMinutes=function(){t.noDecrementMinutes()||p(60*-_)},t.incrementSeconds=function(){t.noIncrementSeconds()||p(E)},t.decrementSeconds=function(){t.noDecrementSeconds()||p(-E)},t.toggleMeridian=function(){var e=l(),n=a();t.noToggleMeridian()||(angular.isDefined(e)&&angular.isDefined(n)?p(720*(v.getHours()<12?60:-60)):t.meridian=t.meridian===w[0]?w[1]:w[0])},t.blur=function(){b.$setTouched()},t.$on("$destroy",function(){for(;y.length;)y.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(t){return{require:["uibTimepicker","?^ngModel"],controller:"UibTimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(e,n){return n.templateUrl||t.templateUrl},link:function(t,e,n,i){var r=i[0],o=i[1];o&&r.init(o,e.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(t){var e=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var i=n.match(e);if(!i)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:i[3],source:t(i[4]),viewMapper:t(i[2]||i[1]),modelMapper:t(i[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(t,e,n,i,r,o,s,a,l,u,c,h,d){function f(){j.moveInProgress||(j.moveInProgress=!0,j.$digest()),G()}function p(){j.position=D?h.offset(e):h.position(e),j.position.top+=e.prop("offsetHeight")}var g,m,v=[9,13,27,38,40],y=200,b=t.$eval(n.typeaheadMinLength);b||0===b||(b=1);var w=t.$eval(n.typeaheadWaitMs)||0,x=t.$eval(n.typeaheadEditable)!==!1;t.$watch(n.typeaheadEditable,function(t){x=t!==!1});var _,$,C=r(n.typeaheadLoading).assign||angular.noop,A=r(n.typeaheadOnSelect),E=angular.isDefined(n.typeaheadSelectOnBlur)?t.$eval(n.typeaheadSelectOnBlur):!1,S=r(n.typeaheadNoResults).assign||angular.noop,k=n.typeaheadInputFormatter?r(n.typeaheadInputFormatter):void 0,D=n.typeaheadAppendToBody?t.$eval(n.typeaheadAppendToBody):!1,T=n.typeaheadAppendTo?t.$eval(n.typeaheadAppendTo):null,F=t.$eval(n.typeaheadFocusFirst)!==!1,M=n.typeaheadSelectOnExact?t.$eval(n.typeaheadSelectOnExact):!1,L=r(n.typeaheadIsOpen).assign||angular.noop,O=t.$eval(n.typeaheadShowHint)||!1,P=r(n.ngModel),B=r(n.ngModel+"($$$p)"),I=function(e,n){return angular.isFunction(P(t))&&m&&m.$options&&m.$options.getterSetter?B(e,{$$$p:n}):P.assign(e,n)},R=d.parse(n.uibTypeahead),j=t.$new(),N=t.$on("$destroy",function(){j.$destroy()});j.$on("$destroy",N);var z="typeahead-"+j.$id+"-"+Math.floor(1e4*Math.random());e.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":z});var U,V;O&&(U=angular.element("<div></div>"),U.css("position","relative"),e.after(U),V=e.clone(),V.attr("placeholder",""),V.val(""),V.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),e.css({position:"relative","vertical-align":"top","background-color":"transparent"}),U.append(V),V.after(e));var H=angular.element("<div uib-typeahead-popup></div>");H.attr({id:z,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(n.typeaheadTemplateUrl)&&H.attr("template-url",n.typeaheadTemplateUrl),angular.isDefined(n.typeaheadPopupTemplateUrl)&&H.attr("popup-template-url",n.typeaheadPopupTemplateUrl);var W=function(){O&&V.val("")},Y=function(){j.matches=[],j.activeIdx=-1,e.attr("aria-expanded",!1),W()},q=function(t){return z+"-option-"+t};j.$watch("activeIdx",function(t){0>t?e.removeAttr("aria-activedescendant"):e.attr("aria-activedescendant",q(t))});var K=function(t,e){return j.matches.length>e&&t?t.toUpperCase()===j.matches[e].label.toUpperCase():!1},X=function(n,i){var r={$viewValue:n};C(t,!0),S(t,!1),o.when(R.source(t,r)).then(function(o){var s=n===g.$viewValue;if(s&&_)if(o&&o.length>0){j.activeIdx=F?0:-1,S(t,!1),j.matches.length=0;for(var a=0;a<o.length;a++)r[R.itemName]=o[a],j.matches.push({id:q(a),label:R.viewMapper(j,r),model:o[a]});if(j.query=n,p(),e.attr("aria-expanded",!0),M&&1===j.matches.length&&K(n,0)&&(angular.isNumber(j.debounceUpdate)||angular.isObject(j.debounceUpdate)?c(function(){j.select(0,i)},angular.isNumber(j.debounceUpdate)?j.debounceUpdate:j.debounceUpdate["default"]):j.select(0,i)),O){var l=j.matches[0].label;angular.isString(n)&&n.length>0&&l.slice(0,n.length).toUpperCase()===n.toUpperCase()?V.val(n+l.slice(n.length)):V.val("")}}else Y(),S(t,!0);s&&C(t,!1)},function(){Y(),C(t,!1),S(t,!0)})};D&&(angular.element(l).on("resize",f),a.find("body").on("scroll",f));var G=c(function(){j.matches.length&&p(),j.moveInProgress=!1},y);j.moveInProgress=!1,j.query=void 0;var J,Z=function(t){J=s(function(){X(t)},w)},Q=function(){J&&s.cancel(J)};Y(),j.assignIsOpen=function(e){L(t,e)},j.select=function(i,r){var o,a,l={};$=!0,l[R.itemName]=a=j.matches[i].model,o=R.modelMapper(t,l),I(t,o),g.$setValidity("editable",!0),g.$setValidity("parse",!0),A(t,{$item:a,$model:o,$label:R.viewMapper(t,l),$event:r}),Y(),j.$eval(n.typeaheadFocusOnSelect)!==!1&&s(function(){e[0].focus()},0,!1)},e.on("keydown",function(t){if(0!==j.matches.length&&-1!==v.indexOf(t.which)){if(-1===j.activeIdx&&(9===t.which||13===t.which))return Y(),void j.$digest();t.preventDefault();var e;switch(t.which){case 9:case 13:j.$apply(function(){angular.isNumber(j.debounceUpdate)||angular.isObject(j.debounceUpdate)?c(function(){j.select(j.activeIdx,t)},angular.isNumber(j.debounceUpdate)?j.debounceUpdate:j.debounceUpdate["default"]):j.select(j.activeIdx,t)});break;case 27:t.stopPropagation(),Y(),j.$digest();break;case 38:j.activeIdx=(j.activeIdx>0?j.activeIdx:j.matches.length)-1,j.$digest(),e=H.find("li")[j.activeIdx],e.parentNode.scrollTop=e.offsetTop;break;case 40:j.activeIdx=(j.activeIdx+1)%j.matches.length,j.$digest(),e=H.find("li")[j.activeIdx],e.parentNode.scrollTop=e.offsetTop}}}),e.bind("focus",function(t){_=!0,0!==b||g.$viewValue||s(function(){X(g.$viewValue,t)},0)}),e.bind("blur",function(t){E&&j.matches.length&&-1!==j.activeIdx&&!$&&($=!0,j.$apply(function(){angular.isObject(j.debounceUpdate)&&angular.isNumber(j.debounceUpdate.blur)?c(function(){j.select(j.activeIdx,t)},j.debounceUpdate.blur):j.select(j.activeIdx,t)})),!x&&g.$error.editable&&(g.$viewValue="",e.val("")),_=!1,$=!1});var tt=function(t){e[0]!==t.target&&3!==t.which&&0!==j.matches.length&&(Y(),u.$$phase||j.$digest())};a.on("click",tt),t.$on("$destroy",function(){a.off("click",tt),(D||T)&&et.remove(),D&&(angular.element(l).off("resize",f),a.find("body").off("scroll",f)),H.remove(),O&&U.remove()});var et=i(H)(j);D?a.find("body").append(et):T?angular.element(T).eq(0).append(et):e.after(et),this.init=function(e,n){g=e,m=n,j.debounceUpdate=g.$options&&r(g.$options.debounce)(t),g.$parsers.unshift(function(e){return _=!0,0===b||e&&e.length>=b?w>0?(Q(),Z(e)):X(e):(C(t,!1),Q(),Y()),x?e:e?void g.$setValidity("editable",!1):(g.$setValidity("editable",!0),null)}),g.$formatters.push(function(e){var n,i,r={};return x||g.$setValidity("editable",!0),k?(r.$model=e,k(t,r)):(r[R.itemName]=e,n=R.viewMapper(t,r),r[R.itemName]=void 0,i=R.viewMapper(t,r),n!==i?n:e)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(t,e,n,i){i[2].init(i[0],i[1])}}}).directive("uibTypeaheadPopup",["$$debounce",function(t){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(t,e){return e.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(e,n,i){e.templateUrl=i.templateUrl,e.isOpen=function(){var t=e.matches.length>0;return e.assignIsOpen({isOpen:t}),t},e.isActive=function(t){return e.active===t},e.selectActive=function(t){e.active=t},e.selectMatch=function(n,i){var r=e.debounce();angular.isNumber(r)||angular.isObject(r)?t(function(){e.select({activeIdx:n,evt:i})},angular.isNumber(r)?r:r["default"]):e.select({activeIdx:n,evt:i})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(t,e,n){return{scope:{index:"=",match:"=",query:"="},link:function(i,r,o){var s=n(o.templateUrl)(i.$parent)||"uib/template/typeahead/typeahead-match.html";t(s).then(function(t){var n=angular.element(t.trim());r.replaceWith(n),e(n)(i)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(t,e,n){function i(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function r(t){return/<.*>/g.test(t)}var o;return o=e.has("$sanitize"),function(e,s){return!o&&r(e)&&n.warn("Unsafe use of typeahead please use ngSanitize"),e=s?(""+e).replace(new RegExp(i(s),"gi"),"<strong>$&</strong>"):e,o||(e=t.trustAsHtml(e)),e}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(t){t.put("uib/template/accordion/accordion-group.html",'<div class="panel" ng-class="panelClass || \'panel-default\'">\n  <div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n    <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(t){t.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>');
}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(t){t.put("uib/template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(t){t.put("uib/template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n  <div class="carousel-inner" ng-transclude></div>\n  <a role="button" href class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="fa fa-chevron-left"></span>\n    <span class="sr-only">previous</span>\n  </a>\n  <a role="button" href class="right carousel-control" ng-click="next()" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="fa fa-chevron-right"></span>\n    <span class="sr-only">next</span>\n  </a>\n  <ol class="carousel-indicators" ng-show="slides.length > 1">\n    <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n      <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n    </li>\n  </ol>\n</div>')}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(t){t.put("uib/template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/datepicker.html",'<div class="uib-datepicker" ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <uib-daypicker ng-switch-when="day" tabindex="0"></uib-daypicker>\n  <uib-monthpicker ng-switch-when="month" tabindex="0"></uib-monthpicker>\n  <uib-yearpicker ng-switch-when="year" tabindex="0"></uib-yearpicker>\n</div>')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/day.html",'<table class="uib-daypicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="fa fa-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="fa fa-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/month.html",'<table class="uib-monthpicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="fa fa-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="fa fa-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/popup.html",'<div>\n  <ul class="uib-datepicker-popup dropdown-menu" dropdown-nested ng-if="isOpen" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n    <li ng-transclude></li>\n    <li ng-if="showButtonBar" class="uib-button-bar">\n    <span class="btn-group pull-left">\n      <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\')" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n      <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n    </span>\n      <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close()">{{ getText(\'close\') }}</button>\n    </li>\n  </ul>\n</div>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/year.html",'<table class="uib-yearpicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="fa fa-chevron-left"></i></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="fa fa-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/modal/backdrop.html",[]).run(["$templateCache",function(t){t.put("uib/template/modal/backdrop.html",'<div class="modal-backdrop"\n     uib-modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(t){t.put("uib/template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    uib-modal-animation-class="fade"\n    modal-in-class="in"\n    ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}">\n    <div class="modal-dialog {{size ? \'modal-\' + size : \'\'}}"><div class="modal-content" uib-modal-transclude></div></div>\n</div>\n')}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(t){t.put("uib/template/pager/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(t){t.put("uib/template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    uib-tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(t){t.put("uib/template/popover/popover-html.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(t){t.put("uib/template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        uib-tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(t){t.put("uib/template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(t){t.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(t){t.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(t){t.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(t){t.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="fa" ng-class="$index < value && (r.stateOn || \'fa-star\') || (r.stateOff || \'fa-star-empty\')" ng-attr-title="{{r.title}}" aria-valuetext="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(t){t.put("uib/template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}" class="uib-tab">\n  <a href ng-click="select()" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(t){t.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(t){t.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="{{::tabindex}}"><span class="fa fa-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="{{::tabindex}}"><span class="fa fa-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="{{::tabindex}}"><span class="fa fa-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input style="width:50px;" type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="{{::tabindex}}"><span class="fa fa-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="{{::tabindex}}"><span class="fa fa-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="{{::tabindex}}"><span class="fa fa-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(t){t.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>')}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-datepicker-popup.dropdown-menu{display:block;}.uib-button-bar{padding:10px 9px 2px;}</style>')}),angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>')}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>')}),function(){function t(t,e,n){var i=e&&n||0,r=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){16>r&&(e[i+r++]=d[t])});16>r;)e[i+r++]=0;return e}function e(t,e){var n=e||0,i=h;return i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]}function n(t,n,i){var r=n&&i||0,o=n||[];t=t||{};var s=null!=t.clockseq?t.clockseq:m,a=null!=t.msecs?t.msecs:(new Date).getTime(),l=null!=t.nsecs?t.nsecs:y+1,u=a-v+(l-y)/1e4;if(0>u&&null==t.clockseq&&(s=s+1&16383),(0>u||a>v)&&null==t.nsecs&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");v=a,y=l,m=s,a+=122192928e5;var c=(1e4*(268435455&a)+l)%4294967296;o[r++]=c>>>24&255,o[r++]=c>>>16&255,o[r++]=c>>>8&255,o[r++]=255&c;var h=a/4294967296*1e4&268435455;o[r++]=h>>>8&255,o[r++]=255&h,o[r++]=h>>>24&15|16,o[r++]=h>>>16&255,o[r++]=s>>>8|128,o[r++]=255&s;for(var d=t.node||g,f=0;6>f;f++)o[r+f]=d[f];return n?n:e(o)}function i(t,n,i){var o=n&&i||0;"string"==typeof t&&(n="binary"==t?new c(16):null,t=null),t=t||{};var s=t.random||(t.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,n)for(var a=0;16>a;a++)n[o+a]=s[a];return n||e(s)}var r,o=this;if("function"==typeof o.require)try{var s=o.require("crypto").randomBytes;r=s&&function(){return s(16)}}catch(a){}if(!r&&o.crypto&&crypto.getRandomValues){var l=new Uint8Array(16);r=function(){return crypto.getRandomValues(l),l}}if(!r){var u=new Array(16);r=function(){for(var t,e=0;16>e;e++)0===(3&e)&&(t=4294967296*Math.random()),u[e]=t>>>((3&e)<<3)&255;return u}}for(var c="function"==typeof o.Buffer?o.Buffer:Array,h=[],d={},f=0;256>f;f++)h[f]=(f+256).toString(16).substr(1),d[h[f]]=f;var p=r(),g=[1|p[0],p[1],p[2],p[3],p[4],p[5]],m=16383&(p[6]<<8|p[7]),v=0,y=0,b=i;if(b.v1=n,b.v4=i,b.parse=t,b.unparse=e,b.BufferClass=c,"undefined"!=typeof module&&module.exports)module.exports=b;else if("function"==typeof define&&define.amd)define(function(){return b});else{var w=o.uuid;b.noConflict=function(){return o.uuid=w,b},o.uuid=b}}.call(this),function(t,e,n){"use strict";function i(t,i,r){var o=r.baseHref(),s=t[0];return function(t,r,a){var l,u;a=a||{},u=a.expires,l=e.isDefined(a.path)?a.path:o,r===n&&(u="Thu, 01 Jan 1970 00:00:00 GMT",r=""),e.isString(u)&&(u=new Date(u)),r=encodeURIComponent(t)+"="+encodeURIComponent(r),r=r+(l?";path="+l:"")+(a.domain?";domain="+a.domain:""),r+=u?";expires="+u.toUTCString():"",r+=a.secure?";secure":"",a=r.length+1,a>4096&&i.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+a+" > 4096 bytes)!"),s.cookie=r}}e.module("ngCookies",["ng"]).provider("$cookies",[function(){var t=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(i,r){return{get:function(t){return i()[t]},getObject:function(t){return(t=this.get(t))?e.fromJson(t):t},getAll:function(){return i()},put:function(n,i,o){r(n,i,o?e.extend({},t,o):t)},putObject:function(t,n,i){this.put(t,e.toJson(n),i)},remove:function(i,o){r(i,n,o?e.extend({},t,o):t)}}}]}]),e.module("ngCookies").factory("$cookieStore",["$cookies",function(t){return{get:function(e){return t.getObject(e)},put:function(e,n){t.putObject(e,n)},remove:function(e){t.remove(e)}}}]),i.$inject=["$document","$log","$browser"],e.module("ngCookies").provider("$$cookieWriter",function(){this.$get=i})}(window,window.angular),function(t){"use strict";function e(t){this.owner=t}function n(t,e){if(Object.create)e.prototype=Object.create(t.prototype);else{var n=function(){};n.prototype=t.prototype,e.prototype=new n}return e.prototype.constructor=e,e}function i(t){var e=this.internal=new r(this);e.loadConfig(t),e.init(),function n(t,e,i){Object.keys(t).forEach(function(r){e[r]=t[r].bind(i),Object.keys(t[r]).length>0&&n(t[r],e[r],i)})}(a,this,this)}function r(e){var n=this;n.d3=t.d3?t.d3:"undefined"!=typeof require?require("d3"):void 0,n.api=e,n.config=n.getDefaultConfig(),n.data={},n.cache={},n.axes={}}function o(t){e.call(this,t)}function s(t,e){function n(t,e){t.attr("transform",function(t){return"translate("+Math.ceil(e(t)+w)+", 0)"})}function i(t,e){t.attr("transform",function(t){return"translate(0,"+Math.ceil(e(t))+")"})}function r(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function o(t){var e,n,i=[];if(t.ticks)return t.ticks.apply(t,f);for(n=t.domain(),e=Math.ceil(n[0]);e<n[1];e++)i.push(e);return i.length>0&&i[0]>0&&i.unshift(i[0]-(i[1]-i[0])),i}function s(){var t,n=g.copy();return e.isCategory&&(t=g.domain(),n.domain([t[0],t[1]-1])),n}function a(t){var e=d?d(t):t;return"undefined"!=typeof e?e:""}function l(t){if(A)return A;var e={h:11.5,w:5.5};return t.select("text").text(a).each(function(t){var n=this.getBoundingClientRect(),i=a(t),r=n.height,o=i?n.width/i.length:void 0;r&&o&&(e.h=r,e.w=o)}).text(""),A=e,e}function u(n){return e.withoutTransition?n:t.transition(n)}function c(d){d.each(function(){function d(t,n){function i(t,e){o=void 0;for(var a=1;a<e.length;a++)if(" "===e.charAt(a)&&(o=a),r=e.substr(0,a+1),s=Y.w*r.length,s>n)return i(t.concat(e.substr(0,o?o:a)),e.slice(o?o+1:a));return t.concat(e)}var r,o,s,l=a(t),u=[];return"[object Array]"===Object.prototype.toString.call(l)?l:((!n||0>=n)&&(n=X?95:e.isCategory?Math.ceil(F(M[1])-F(M[0]))-12:110),i(u,l+""))}function f(t,e){var n=Y.h;return 0===e&&(n="left"===m||"right"===m?-((q[t.index]-1)*(Y.h/2)-3):".71em"),n}function x(t){var e=g(t)+(p?0:w);return I[0]<e&&e<I[1]?v:0}function _(t){return t?t>0?"start":"end":"middle"}function $(t){return t?"rotate("+t+")":""}function C(t){return t?8*Math.sin(Math.PI*(t/180)):0}function A(t){return t?11.5-2.5*(t/15)*(t>0?1:-1):K}var E,S,k,D=c.g=t.select(this),T=this.__chart__||g,F=this.__chart__=s(),M=b?b:o(F),L=D.selectAll(".tick").data(M,F),O=L.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),P=L.exit().remove(),B=u(L).style("opacity",1),I=g.rangeExtent?g.rangeExtent():r(g.range()),R=D.selectAll(".domain").data([0]),j=(R.enter().append("path").attr("class","domain"),u(R));O.append("line"),O.append("text");var N=O.select("line"),z=B.select("line"),U=O.select("text"),V=B.select("text");e.isCategory?(w=Math.ceil((F(1)-F(0))/2),S=p?0:w,k=p?w:0):w=S=0;var H,W,Y=l(D.select(".tick")),q=[],K=Math.max(v,0)+y,X="left"===m||"right"===m;H=L.select("text"),W=H.selectAll("tspan").data(function(t,n){var i=e.tickMultiline?d(t,e.tickWidth):[].concat(a(t));return q[n]=i.length,i.map(function(t){return{index:n,splitted:t}})}),W.enter().append("tspan"),W.exit().remove(),W.text(function(t){return t.splitted});var G=e.tickTextRotate;switch(m){case"bottom":E=n,N.attr("y2",v),U.attr("y",K),z.attr("x1",S).attr("x2",S).attr("y2",x),V.attr("x",0).attr("y",A(G)).style("text-anchor",_(G)).attr("transform",$(G)),W.attr("x",0).attr("dy",f).attr("dx",C(G)),j.attr("d","M"+I[0]+","+h+"V0H"+I[1]+"V"+h);break;case"top":E=n,N.attr("y2",-v),U.attr("y",-K),z.attr("x2",0).attr("y2",-v),V.attr("x",0).attr("y",-K),H.style("text-anchor","middle"),W.attr("x",0).attr("dy","0em"),j.attr("d","M"+I[0]+","+-h+"V0H"+I[1]+"V"+-h);break;case"left":E=i,N.attr("x2",-v),U.attr("x",-K),z.attr("x2",-v).attr("y1",k).attr("y2",k),V.attr("x",-K).attr("y",w),H.style("text-anchor","end"),W.attr("x",-K).attr("dy",f),j.attr("d","M"+-h+","+I[0]+"H0V"+I[1]+"H"+-h);break;case"right":E=i,N.attr("x2",v),U.attr("x",K),z.attr("x2",v).attr("y2",0),V.attr("x",K).attr("y",0),H.style("text-anchor","start"),W.attr("x",K).attr("dy",f),j.attr("d","M"+h+","+I[0]+"H0V"+I[1]+"H"+h)}if(F.rangeBand){var J=F,Z=J.rangeBand()/2;T=F=function(t){return J(t)+Z}}else T.rangeBand?T=F:P.call(E,F);O.call(E,T),B.call(E,F)})}var h,d,f,p,g=t.scale.linear(),m="bottom",v=6,y=3,b=null,w=0,x=!0;return e=e||{},h=e.withOuterTick?6:0,c.scale=function(t){return arguments.length?(g=t,c):g},c.orient=function(t){return arguments.length?(m=t in{top:1,right:1,bottom:1,left:1}?t+"":"bottom",c):m},c.tickFormat=function(t){return arguments.length?(d=t,c):d},c.tickCentered=function(t){return arguments.length?(p=t,c):p},c.tickOffset=function(){return w},c.tickInterval=function(){var t,n;return e.isCategory?t=2*w:(n=c.g.select("path.domain").node().getTotalLength()-2*h,t=n/c.g.selectAll("line").size()),t===1/0?0:t},c.ticks=function(){return arguments.length?(f=arguments,c):f},c.tickCulling=function(t){return arguments.length?(x=t,c):x},c.tickValues=function(t){if("function"==typeof t)b=function(){return t(g.domain())};else{if(!arguments.length)return b;b=t}return c},c}var a,l,u,c={version:"0.4.10"};c.generate=function(t){return new i(t)},c.chart={fn:i.prototype,internal:{fn:r.prototype,axis:{fn:o.prototype}}},a=c.chart.fn,l=c.chart.internal.fn,u=c.chart.internal.axis.fn,l.init=function(){var t=this,e=t.config;if(t.initParams(),e.data_url)t.convertUrlToData(e.data_url,e.data_mimeType,e.data_keys,t.initWithData);else if(e.data_json)t.initWithData(t.convertJsonToData(e.data_json,e.data_keys));else if(e.data_rows)t.initWithData(t.convertRowsToData(e.data_rows));else{if(!e.data_columns)throw Error("url or json or rows or columns is required.");t.initWithData(t.convertColumnsToData(e.data_columns))}},l.initParams=function(){var t=this,e=t.d3,n=t.config;t.clipId="c3-"+ +new Date+"-clip",t.clipIdForXAxis=t.clipId+"-xaxis",t.clipIdForYAxis=t.clipId+"-yaxis",t.clipIdForGrid=t.clipId+"-grid",t.clipIdForSubchart=t.clipId+"-subchart",t.clipPath=t.getClipPath(t.clipId),t.clipPathForXAxis=t.getClipPath(t.clipIdForXAxis),t.clipPathForYAxis=t.getClipPath(t.clipIdForYAxis),t.clipPathForGrid=t.getClipPath(t.clipIdForGrid),t.clipPathForSubchart=t.getClipPath(t.clipIdForSubchart),t.dragStart=null,t.dragging=!1,t.flowing=!1,t.cancelClick=!1,t.mouseover=!1,t.transiting=!1,t.color=t.generateColor(),t.levelColor=t.generateLevelColor(),t.dataTimeFormat=n.data_xLocaltime?e.time.format:e.time.format.utc,t.axisTimeFormat=n.axis_x_localtime?e.time.format:e.time.format.utc,t.defaultAxisTimeFormat=t.axisTimeFormat.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%-m/%-d",function(t){return t.getDay()&&1!==t.getDate()}],["%-m/%-d",function(t){return 1!==t.getDate()}],["%-m/%-d",function(t){return t.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]),t.hiddenTargetIds=[],t.hiddenLegendIds=[],t.focusedTargetIds=[],t.defocusedTargetIds=[],t.xOrient=n.axis_rotated?"left":"bottom",
t.yOrient=n.axis_rotated?n.axis_y_inner?"top":"bottom":n.axis_y_inner?"right":"left",t.y2Orient=n.axis_rotated?n.axis_y2_inner?"bottom":"top":n.axis_y2_inner?"left":"right",t.subXOrient=n.axis_rotated?"left":"bottom",t.isLegendRight="right"===n.legend_position,t.isLegendInset="inset"===n.legend_position,t.isLegendTop="top-left"===n.legend_inset_anchor||"top-right"===n.legend_inset_anchor,t.isLegendLeft="top-left"===n.legend_inset_anchor||"bottom-left"===n.legend_inset_anchor,t.legendStep=0,t.legendItemWidth=0,t.legendItemHeight=0,t.currentMaxTickWidths={x:0,y:0,y2:0},t.rotated_padding_left=30,t.rotated_padding_right=n.axis_rotated&&!n.axis_x_show?0:30,t.rotated_padding_top=5,t.withoutFadeIn={},t.intervalForObserveInserted=void 0,t.axes.subx=e.selectAll([])},l.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},l.initWithData=function(t){var e,n,i=this,r=i.d3,s=i.config,a=!0;i.axis=new o(i),i.initPie&&i.initPie(),i.initBrush&&i.initBrush(),i.initZoom&&i.initZoom(),s.bindto?"function"==typeof s.bindto.node?i.selectChart=s.bindto:i.selectChart=r.select(s.bindto):i.selectChart=r.selectAll([]),i.selectChart.empty()&&(i.selectChart=r.select(document.createElement("div")).style("opacity",0),i.observeInserted(i.selectChart),a=!1),i.selectChart.html("").classed("c3",!0),i.data.xs={},i.data.targets=i.convertDataToTargets(t),s.data_filter&&(i.data.targets=i.data.targets.filter(s.data_filter)),s.data_hide&&i.addHiddenTargetIds(s.data_hide===!0?i.mapToIds(i.data.targets):s.data_hide),s.legend_hide&&i.addHiddenLegendIds(s.legend_hide===!0?i.mapToIds(i.data.targets):s.legend_hide),i.hasType("gauge")&&(s.legend_show=!1),i.updateSizes(),i.updateScales(),i.x.domain(r.extent(i.getXDomain(i.data.targets))),i.y.domain(i.getYDomain(i.data.targets,"y")),i.y2.domain(i.getYDomain(i.data.targets,"y2")),i.subX.domain(i.x.domain()),i.subY.domain(i.y.domain()),i.subY2.domain(i.y2.domain()),i.orgXDomain=i.x.domain(),i.brush&&i.brush.scale(i.subX),s.zoom_enabled&&i.zoom.scale(i.x),i.svg=i.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return s.onmouseover.call(i)}).on("mouseleave",function(){return s.onmouseout.call(i)}),e=i.svg.append("defs"),i.clipChart=i.appendClip(e,i.clipId),i.clipXAxis=i.appendClip(e,i.clipIdForXAxis),i.clipYAxis=i.appendClip(e,i.clipIdForYAxis),i.clipGrid=i.appendClip(e,i.clipIdForGrid),i.clipSubchart=i.appendClip(e,i.clipIdForSubchart),i.updateSvgSize(),n=i.main=i.svg.append("g").attr("transform",i.getTranslate("main")),i.initSubchart&&i.initSubchart(),i.initTooltip&&i.initTooltip(),i.initLegend&&i.initLegend(),n.append("text").attr("class",h.text+" "+h.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),i.initRegion(),i.initGrid(),n.append("g").attr("clip-path",i.clipPath).attr("class",h.chart),s.grid_lines_front&&i.initGridLines(),i.initEventRect(),i.initChartElements(),n.insert("rect",s.zoom_privileged?null:"g."+h.regions).attr("class",h.zoomRect).attr("width",i.width).attr("height",i.height).style("opacity",0).on("dblclick.zoom",null),s.axis_x_extent&&i.brush.extent(i.getDefaultExtent()),i.axis.init(),i.updateTargets(i.data.targets),a&&(i.updateDimension(),i.config.oninit.call(i),i.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),i.api.element=i.selectChart.node()},l.smoothLines=function(t,e){var n=this;"grid"===e&&t.each(function(){var t=n.d3.select(this),e=t.attr("x1"),i=t.attr("x2"),r=t.attr("y1"),o=t.attr("y2");t.attr({x1:Math.ceil(e),x2:Math.ceil(i),y1:Math.ceil(r),y2:Math.ceil(o)})})},l.updateSizes=function(){var t=this,e=t.config,n=t.legend?t.getLegendHeight():0,i=t.legend?t.getLegendWidth():0,r=t.isLegendRight||t.isLegendInset?0:n,o=t.hasArcType(),s=e.axis_rotated||o?0:t.getHorizontalAxisHeight("x"),a=e.subchart_show&&!o?e.subchart_size_height+s:0;t.currentWidth=t.getCurrentWidth(),t.currentHeight=t.getCurrentHeight(),t.margin=e.axis_rotated?{top:t.getHorizontalAxisHeight("y2")+t.getCurrentPaddingTop(),right:o?0:t.getCurrentPaddingRight(),bottom:t.getHorizontalAxisHeight("y")+r+t.getCurrentPaddingBottom(),left:a+(o?0:t.getCurrentPaddingLeft())}:{top:4+t.getCurrentPaddingTop(),right:o?0:t.getCurrentPaddingRight(),bottom:s+a+r+t.getCurrentPaddingBottom(),left:o?0:t.getCurrentPaddingLeft()},t.margin2=e.axis_rotated?{top:t.margin.top,right:NaN,bottom:20+r,left:t.rotated_padding_left}:{top:t.currentHeight-a-r,right:NaN,bottom:s+r,left:t.margin.left},t.margin3={top:0,right:NaN,bottom:0,left:0},t.updateSizeForLegend&&t.updateSizeForLegend(n,i),t.width=t.currentWidth-t.margin.left-t.margin.right,t.height=t.currentHeight-t.margin.top-t.margin.bottom,t.width<0&&(t.width=0),t.height<0&&(t.height=0),t.width2=e.axis_rotated?t.margin.left-t.rotated_padding_left-t.rotated_padding_right:t.width,t.height2=e.axis_rotated?t.height:t.currentHeight-t.margin2.top-t.margin2.bottom,t.width2<0&&(t.width2=0),t.height2<0&&(t.height2=0),t.arcWidth=t.width-(t.isLegendRight?i+10:0),t.arcHeight=t.height-(t.isLegendRight?0:10),t.hasType("gauge")&&(t.arcHeight+=t.height-t.getGaugeLabelHeight()),t.updateRadius&&t.updateRadius(),t.isLegendRight&&o&&(t.margin3.left=t.arcWidth/2+1.1*t.radiusExpanded)},l.updateTargets=function(t){var e=this;e.updateTargetsForText(t),e.updateTargetsForBar(t),e.updateTargetsForLine(t),e.hasArcType()&&e.updateTargetsForArc&&e.updateTargetsForArc(t),e.updateTargetsForSubchart&&e.updateTargetsForSubchart(t),e.showTargets()},l.showTargets=function(){var t=this;t.svg.selectAll("."+h.target).filter(function(e){return t.isTargetToShow(e.id)}).transition().duration(t.config.transition_duration).style("opacity",1)},l.redraw=function(t,e){var n,i,r,o,s,a,l,u,c,d,f,p,g,m,v,y,b,w,x,$,C,A,E,S,k,D,T,F,M,L=this,O=L.main,P=L.d3,B=L.config,I=L.getShapeIndices(L.isAreaType),R=L.getShapeIndices(L.isBarType),j=L.getShapeIndices(L.isLineType),N=L.hasArcType(),z=L.filterTargetsToShow(L.data.targets),U=L.xv.bind(L);if(t=t||{},n=_(t,"withY",!0),i=_(t,"withSubchart",!0),r=_(t,"withTransition",!0),a=_(t,"withTransform",!1),l=_(t,"withUpdateXDomain",!1),u=_(t,"withUpdateOrgXDomain",!1),c=_(t,"withTrimXDomain",!0),g=_(t,"withUpdateXAxis",l),d=_(t,"withLegend",!1),f=_(t,"withEventRect",!0),p=_(t,"withDimension",!0),o=_(t,"withTransitionForExit",r),s=_(t,"withTransitionForAxis",r),x=r?B.transition_duration:0,$=o?x:0,C=s?x:0,e=e||L.axis.generateTransitions(C),d&&B.legend_show?L.updateLegend(L.mapToIds(L.data.targets),t,e):p&&L.updateDimension(!0),L.isCategorized()&&0===z.length&&L.x.domain([0,L.axes.x.selectAll(".tick").size()]),z.length?(L.updateXDomain(z,l,u,c),B.axis_x_tick_values||(S=L.axis.updateXAxisTickValues(z))):(L.xAxis.tickValues([]),L.subXAxis.tickValues([])),B.zoom_rescale&&!t.flow&&(T=L.x.orgDomain()),L.y.domain(L.getYDomain(z,"y",T)),L.y2.domain(L.getYDomain(z,"y2",T)),!B.axis_y_tick_values&&B.axis_y_tick_count&&L.yAxis.tickValues(L.axis.generateTickValues(L.y.domain(),B.axis_y_tick_count)),!B.axis_y2_tick_values&&B.axis_y2_tick_count&&L.y2Axis.tickValues(L.axis.generateTickValues(L.y2.domain(),B.axis_y2_tick_count)),L.axis.redraw(e,N),L.axis.updateLabels(r),(l||g)&&z.length)if(B.axis_x_tick_culling&&S){for(k=1;k<S.length;k++)if(S.length/k<B.axis_x_tick_culling_max){D=k;break}L.svg.selectAll("."+h.axisX+" .tick text").each(function(t){var e=S.indexOf(t);e>=0&&P.select(this).style("display",e%D?"none":"block")})}else L.svg.selectAll("."+h.axisX+" .tick text").style("display","block");m=L.generateDrawArea?L.generateDrawArea(I,!1):void 0,v=L.generateDrawBar?L.generateDrawBar(R):void 0,y=L.generateDrawLine?L.generateDrawLine(j,!1):void 0,b=L.generateXYForText(I,R,j,!0),w=L.generateXYForText(I,R,j,!1),n&&(L.subY.domain(L.getYDomain(z,"y")),L.subY2.domain(L.getYDomain(z,"y2"))),L.tooltip.style("display","none"),L.updateXgridFocus(),O.select("text."+h.text+"."+h.empty).attr("x",L.width/2).attr("y",L.height/2).text(B.data_empty_label_text).transition().style("opacity",z.length?0:1),L.updateGrid(x),L.updateRegion(x),L.updateBar($),L.updateLine($),L.updateArea($),L.updateCircle(),L.hasDataLabel()&&L.updateText($),L.redrawArc&&L.redrawArc(x,$,a),L.redrawSubchart&&L.redrawSubchart(i,e,x,$,I,R,j),O.selectAll("."+h.selectedCircles).filter(L.isBarType.bind(L)).selectAll("circle").remove(),B.interaction_enabled&&!t.flow&&f&&(L.redrawEventRect(),L.updateZoom&&L.updateZoom()),L.updateCircleY(),F=(L.config.axis_rotated?L.circleY:L.circleX).bind(L),M=(L.config.axis_rotated?L.circleX:L.circleY).bind(L),t.flow&&(E=L.generateFlow({targets:z,flow:t.flow,duration:t.flow.duration,drawBar:v,drawLine:y,drawArea:m,cx:F,cy:M,xv:U,xForText:b,yForText:w})),(x||E)&&L.isTabVisible()?P.transition().duration(x).each(function(){var e=[];[L.redrawBar(v,!0),L.redrawLine(y,!0),L.redrawArea(m,!0),L.redrawCircle(F,M,!0),L.redrawText(b,w,t.flow,!0),L.redrawRegion(!0),L.redrawGrid(!0)].forEach(function(t){t.forEach(function(t){e.push(t)})}),A=L.generateWait(),e.forEach(function(t){A.add(t)})}).call(A,function(){E&&E(),B.onrendered&&B.onrendered.call(L)}):(L.redrawBar(v),L.redrawLine(y),L.redrawArea(m),L.redrawCircle(F,M),L.redrawText(b,w,t.flow),L.redrawRegion(),L.redrawGrid(),B.onrendered&&B.onrendered.call(L)),L.mapToIds(L.data.targets).forEach(function(t){L.withoutFadeIn[t]=!0})},l.updateAndRedraw=function(t){var e,n=this,i=n.config;t=t||{},t.withTransition=_(t,"withTransition",!0),t.withTransform=_(t,"withTransform",!1),t.withLegend=_(t,"withLegend",!1),t.withUpdateXDomain=!0,t.withUpdateOrgXDomain=!0,t.withTransitionForExit=!1,t.withTransitionForTransform=_(t,"withTransitionForTransform",t.withTransition),n.updateSizes(),t.withLegend&&i.legend_show||(e=n.axis.generateTransitions(t.withTransitionForAxis?i.transition_duration:0),n.updateScales(),n.updateSvgSize(),n.transformAll(t.withTransitionForTransform,e)),n.redraw(t,e)},l.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},l.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},l.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},l.isCustomX=function(){var t=this,e=t.config;return!t.isTimeSeries()&&(e.data_x||x(e.data_xs))},l.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},l.getTranslate=function(t){var e,n,i=this,r=i.config;return"main"===t?(e=y(i.margin.left),n=y(i.margin.top)):"context"===t?(e=y(i.margin2.left),n=y(i.margin2.top)):"legend"===t?(e=i.margin3.left,n=i.margin3.top):"x"===t?(e=0,n=r.axis_rotated?0:i.height):"y"===t?(e=0,n=r.axis_rotated?i.height:0):"y2"===t?(e=r.axis_rotated?0:i.width,n=r.axis_rotated?1:0):"subx"===t?(e=0,n=r.axis_rotated?0:i.height2):"arc"===t&&(e=i.arcWidth/2,n=i.arcHeight/2),"translate("+e+","+n+")"},l.initialOpacity=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?1:0},l.initialOpacityForCircle=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?this.opacityForCircle(t):0},l.opacityForCircle=function(t){var e=this.config.point_show?1:0;return d(t.value)?this.isScatterType(t)?.5:e:0},l.opacityForText=function(){return this.hasDataLabel()?1:0},l.xx=function(t){return t?this.x(t.x):null},l.xv=function(t){var e=this,n=t.value;return e.isTimeSeries()?n=e.parseDate(t.value):e.isCategorized()&&"string"==typeof t.value&&(n=e.config.axis_x_categories.indexOf(t.value)),Math.ceil(e.x(n))},l.yv=function(t){var e=this,n=t.axis&&"y2"===t.axis?e.y2:e.y;return Math.ceil(n(t.value))},l.subxx=function(t){return t?this.subX(t.x):null},l.transformMain=function(t,e){var n,i,r,o=this;e&&e.axisX?n=e.axisX:(n=o.main.select("."+h.axisX),t&&(n=n.transition())),e&&e.axisY?i=e.axisY:(i=o.main.select("."+h.axisY),t&&(i=i.transition())),e&&e.axisY2?r=e.axisY2:(r=o.main.select("."+h.axisY2),t&&(r=r.transition())),(t?o.main.transition():o.main).attr("transform",o.getTranslate("main")),n.attr("transform",o.getTranslate("x")),i.attr("transform",o.getTranslate("y")),r.attr("transform",o.getTranslate("y2")),o.main.select("."+h.chartArcs).attr("transform",o.getTranslate("arc"))},l.transformAll=function(t,e){var n=this;n.transformMain(t,e),n.config.subchart_show&&n.transformContext(t,e),n.legend&&n.transformLegend(t)},l.updateSvgSize=function(){var t=this,e=t.svg.select(".c3-brush .background");t.svg.attr("width",t.currentWidth).attr("height",t.currentHeight),t.svg.selectAll(["#"+t.clipId,"#"+t.clipIdForGrid]).select("rect").attr("width",t.width).attr("height",t.height),t.svg.select("#"+t.clipIdForXAxis).select("rect").attr("x",t.getXAxisClipX.bind(t)).attr("y",t.getXAxisClipY.bind(t)).attr("width",t.getXAxisClipWidth.bind(t)).attr("height",t.getXAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForYAxis).select("rect").attr("x",t.getYAxisClipX.bind(t)).attr("y",t.getYAxisClipY.bind(t)).attr("width",t.getYAxisClipWidth.bind(t)).attr("height",t.getYAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForSubchart).select("rect").attr("width",t.width).attr("height",e.size()?e.attr("height"):0),t.svg.select("."+h.zoomRect).attr("width",t.width).attr("height",t.height),t.selectChart.style("max-height",t.currentHeight+"px")},l.updateDimension=function(t){var e=this;t||(e.config.axis_rotated?(e.axes.x.call(e.xAxis),e.axes.subx.call(e.subXAxis)):(e.axes.y.call(e.yAxis),e.axes.y2.call(e.y2Axis))),e.updateSizes(),e.updateScales(),e.updateSvgSize(),e.transformAll(!1)},l.observeInserted=function(e){var n,i=this;return"undefined"==typeof MutationObserver?void t.console.error("MutationObserver not defined."):(n=new MutationObserver(function(r){r.forEach(function(r){"childList"===r.type&&r.previousSibling&&(n.disconnect(),i.intervalForObserveInserted=t.setInterval(function(){e.node().parentNode&&(t.clearInterval(i.intervalForObserveInserted),i.updateDimension(),i.config.oninit.call(i),i.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),e.transition().style("opacity",1))},10))})}),void n.observe(e.node(),{attributes:!0,childList:!0,characterData:!0}))},l.generateResize=function(){function t(){e.forEach(function(t){t()})}var e=[];return t.add=function(t){e.push(t)},t},l.endall=function(t,e){var n=0;t.each(function(){++n}).each("end",function(){--n||e.apply(this,arguments)})},l.generateWait=function(){var t=[],e=function(e,n){var i=setInterval(function(){var e=0;t.forEach(function(t){if(t.empty())return void(e+=1);try{t.transition()}catch(n){e+=1}}),e===t.length&&(clearInterval(i),n&&n())},10)};return e.add=function(e){t.push(e)},e},l.parseDate=function(e){var n,i=this;return e instanceof Date?n=e:"string"==typeof e?n=i.dataTimeFormat(i.config.data_xFormat).parse(e):"number"!=typeof e&&isNaN(e)||(n=new Date(+e)),(!n||isNaN(+n))&&t.console.error("Failed to parse x '"+e+"' to Date object"),n},l.isTabVisible=function(){var t;return"undefined"!=typeof document.hidden?t="hidden":"undefined"!=typeof document.mozHidden?t="mozHidden":"undefined"!=typeof document.msHidden?t="msHidden":"undefined"!=typeof document.webkitHidden&&(t="webkitHidden"),document[t]?!1:!0},l.getDefaultConfig=function(){var t={bindto:"#chart",size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,zoom_enabled:!1,zoom_extent:void 0,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(t){return t},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_extent:void 0,axis_x_label:{},axis_y_show:!0,axis_y_type:void 0,axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_count:void 0,axis_y_tick_time_value:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,area_zerobased:!0,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_expand:!0,gauge_label_show:!0,gauge_label_format:void 0,gauge_expand:!0,gauge_min:0,gauge_max:100,gauge_units:void 0,gauge_width:void 0,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_width:void 0,donut_expand:!0,donut_title:"",spline_interpolation_type:"cardinal",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_position:void 0,tooltip_contents:function(t,e,n,i){return this.getTooltipContent?this.getTooltipContent(t,e,n,i):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"}};return Object.keys(this.additionalConfig).forEach(function(e){t[e]=this.additionalConfig[e]},this),t},l.additionalConfig={},l.loadConfig=function(t){function e(){var t=i.shift();return t&&n&&"object"==typeof n&&t in n?(n=n[t],e()):t?void 0:n}var n,i,r,o=this.config;Object.keys(o).forEach(function(s){n=t,i=s.split("_"),r=e(),m(r)&&(o[s]=r)})},l.getScale=function(t,e,n){return(n?this.d3.time.scale():this.d3.scale.linear()).range([t,e])},l.getX=function(t,e,n,i){var r,o=this,s=o.getScale(t,e,o.isTimeSeries()),a=n?s.domain(n):s;o.isCategorized()?(i=i||function(){return 0},s=function(t,e){var n=a(t)+i(t);return e?n:Math.ceil(n)}):s=function(t,e){var n=a(t);return e?n:Math.ceil(n)};for(r in a)s[r]=a[r];return s.orgDomain=function(){return a.domain()},o.isCategorized()&&(s.domain=function(t){return arguments.length?(a.domain(t),s):(t=this.orgDomain(),[t[0],t[1]+1])}),s},l.getY=function(t,e,n){var i=this.getScale(t,e,this.isTimeSeriesY());return n&&i.domain(n),i},l.getYScale=function(t){return"y2"===this.axis.getId(t)?this.y2:this.y},l.getSubYScale=function(t){return"y2"===this.axis.getId(t)?this.subY2:this.subY},l.updateScales=function(){var t=this,e=t.config,n=!t.x;t.xMin=e.axis_rotated?1:0,t.xMax=e.axis_rotated?t.height:t.width,t.yMin=e.axis_rotated?0:t.height,t.yMax=e.axis_rotated?t.width:1,t.subXMin=t.xMin,t.subXMax=t.xMax,t.subYMin=e.axis_rotated?0:t.height2,t.subYMax=e.axis_rotated?t.width2:1,t.x=t.getX(t.xMin,t.xMax,n?void 0:t.x.orgDomain(),function(){return t.xAxis.tickOffset()}),t.y=t.getY(t.yMin,t.yMax,n?e.axis_y_default:t.y.domain()),t.y2=t.getY(t.yMin,t.yMax,n?e.axis_y2_default:t.y2.domain()),t.subX=t.getX(t.xMin,t.xMax,t.orgXDomain,function(e){return e%1?0:t.subXAxis.tickOffset()}),t.subY=t.getY(t.subYMin,t.subYMax,n?e.axis_y_default:t.subY.domain()),t.subY2=t.getY(t.subYMin,t.subYMax,n?e.axis_y2_default:t.subY2.domain()),t.xAxisTickFormat=t.axis.getXAxisTickFormat(),t.xAxisTickValues=t.axis.getXAxisTickValues(),t.yAxisTickValues=t.axis.getYAxisTickValues(),t.y2AxisTickValues=t.axis.getY2AxisTickValues(),t.xAxis=t.axis.getXAxis(t.x,t.xOrient,t.xAxisTickFormat,t.xAxisTickValues,e.axis_x_tick_outer),t.subXAxis=t.axis.getXAxis(t.subX,t.subXOrient,t.xAxisTickFormat,t.xAxisTickValues,e.axis_x_tick_outer),t.yAxis=t.axis.getYAxis(t.y,t.yOrient,e.axis_y_tick_format,t.yAxisTickValues,e.axis_y_tick_outer),t.y2Axis=t.axis.getYAxis(t.y2,t.y2Orient,e.axis_y2_tick_format,t.y2AxisTickValues,e.axis_y2_tick_outer),n||(t.brush&&t.brush.scale(t.subX),e.zoom_enabled&&t.zoom.scale(t.x)),t.updateArc&&t.updateArc()},l.getYDomainMin=function(t){var e,n,i,r,o,s,a=this,l=a.config,u=a.mapToIds(t),c=a.getValuesAsIdKeyed(t);if(l.data_groups.length>0)for(s=a.hasNegativeValueInTargets(t),e=0;e<l.data_groups.length;e++)if(r=l.data_groups[e].filter(function(t){return u.indexOf(t)>=0}),0!==r.length)for(i=r[0],s&&c[i]&&c[i].forEach(function(t,e){c[i][e]=0>t?t:0}),n=1;n<r.length;n++)o=r[n],c[o]&&c[o].forEach(function(t,e){a.axis.getId(o)!==a.axis.getId(i)||!c[i]||s&&+t>0||(c[i][e]+=+t)});return a.d3.min(Object.keys(c).map(function(t){return a.d3.min(c[t])}))},l.getYDomainMax=function(t){var e,n,i,r,o,s,a=this,l=a.config,u=a.mapToIds(t),c=a.getValuesAsIdKeyed(t);if(l.data_groups.length>0)for(s=a.hasPositiveValueInTargets(t),e=0;e<l.data_groups.length;e++)if(r=l.data_groups[e].filter(function(t){return u.indexOf(t)>=0}),0!==r.length)for(i=r[0],s&&c[i]&&c[i].forEach(function(t,e){c[i][e]=t>0?t:0}),n=1;n<r.length;n++)o=r[n],c[o]&&c[o].forEach(function(t,e){a.axis.getId(o)!==a.axis.getId(i)||!c[i]||s&&0>+t||(c[i][e]+=+t)});return a.d3.max(Object.keys(c).map(function(t){return a.d3.max(c[t])}))},l.getYDomain=function(t,e,n){var i,r,o,s,a,l,u,c,h,f,p,g=this,m=g.config,v=t.filter(function(t){return g.axis.getId(t.id)===e}),y=n?g.filterByXDomain(v,n):v,w="y2"===e?m.axis_y2_min:m.axis_y_min,_="y2"===e?m.axis_y2_max:m.axis_y_max,$=g.getYDomainMin(y),C=g.getYDomainMax(y),A="y2"===e?m.axis_y2_center:m.axis_y_center,E=g.hasType("bar",y)&&m.bar_zerobased||g.hasType("area",y)&&m.area_zerobased,S="y2"===e?m.axis_y2_inverted:m.axis_y_inverted,k=g.hasDataLabel()&&m.axis_rotated,D=g.hasDataLabel()&&!m.axis_rotated;return $=d(w)?w:d(_)?_>$?$:_-10:$,C=d(_)?_:d(w)?C>w?C:w+10:C,0===y.length?"y2"===e?g.y2.domain():g.y.domain():(isNaN($)&&($=0),isNaN(C)&&(C=$),$===C&&(0>$?C=0:$=0),f=$>=0&&C>=0,p=0>=$&&0>=C,(d(w)&&f||d(_)&&p)&&(E=!1),E&&(f&&($=0),p&&(C=0)),r=Math.abs(C-$),o=s=a=.1*r,"undefined"!=typeof A&&(l=Math.max(Math.abs($),Math.abs(C)),C=A+l,$=A-l),k?(u=g.getDataLabelLength($,C,"width"),c=b(g.y.range()),h=[u[0]/c,u[1]/c],s+=r*(h[1]/(1-h[0]-h[1])),a+=r*(h[0]/(1-h[0]-h[1]))):D&&(u=g.getDataLabelLength($,C,"height"),s+=g.axis.convertPixelsToAxisPadding(u[1],r),a+=g.axis.convertPixelsToAxisPadding(u[0],r)),"y"===e&&x(m.axis_y_padding)&&(s=g.axis.getPadding(m.axis_y_padding,"top",s,r),a=g.axis.getPadding(m.axis_y_padding,"bottom",a,r)),"y2"===e&&x(m.axis_y2_padding)&&(s=g.axis.getPadding(m.axis_y2_padding,"top",s,r),a=g.axis.getPadding(m.axis_y2_padding,"bottom",a,r)),E&&(f&&(a=$),p&&(s=-C)),i=[$-a,C+s],S?i.reverse():i)},l.getXDomainMin=function(t){var e=this,n=e.config;return m(n.axis_x_min)?e.isTimeSeries()?this.parseDate(n.axis_x_min):n.axis_x_min:e.d3.min(t,function(t){return e.d3.min(t.values,function(t){return t.x})})},l.getXDomainMax=function(t){var e=this,n=e.config;return m(n.axis_x_max)?e.isTimeSeries()?this.parseDate(n.axis_x_max):n.axis_x_max:e.d3.max(t,function(t){return e.d3.max(t.values,function(t){return t.x})})},l.getXDomainPadding=function(t){var e,n,i,r,o=this,s=o.config,a=t[1]-t[0];return o.isCategorized()?n=0:o.hasType("bar")?(e=o.getMaxDataCount(),n=e>1?a/(e-1)/2:.5):n=.01*a,"object"==typeof s.axis_x_padding&&x(s.axis_x_padding)?(i=d(s.axis_x_padding.left)?s.axis_x_padding.left:n,r=d(s.axis_x_padding.right)?s.axis_x_padding.right:n):i=r="number"==typeof s.axis_x_padding?s.axis_x_padding:n,{left:i,right:r}},l.getXDomain=function(t){var e=this,n=[e.getXDomainMin(t),e.getXDomainMax(t)],i=n[0],r=n[1],o=e.getXDomainPadding(n),s=0,a=0;return i-r!==0||e.isCategorized()||(e.isTimeSeries()?(i=new Date(.5*i.getTime()),r=new Date(1.5*r.getTime())):(i=0===i?1:.5*i,r=0===r?-1:1.5*r)),(i||0===i)&&(s=e.isTimeSeries()?new Date(i.getTime()-o.left):i-o.left),(r||0===r)&&(a=e.isTimeSeries()?new Date(r.getTime()+o.right):r+o.right),[s,a]},l.updateXDomain=function(t,e,n,i,r){var o=this,s=o.config;return n&&(o.x.domain(r?r:o.d3.extent(o.getXDomain(t))),o.orgXDomain=o.x.domain(),s.zoom_enabled&&o.zoom.scale(o.x).updateScaleExtent(),o.subX.domain(o.x.domain()),o.brush&&o.brush.scale(o.subX)),e&&(o.x.domain(r?r:!o.brush||o.brush.empty()?o.orgXDomain:o.brush.extent()),s.zoom_enabled&&o.zoom.scale(o.x).updateScaleExtent()),i&&o.x.domain(o.trimXDomain(o.x.orgDomain())),o.x.domain()},l.trimXDomain=function(t){var e=this;return t[0]<=e.orgXDomain[0]&&(t[1]=+t[1]+(e.orgXDomain[0]-t[0]),t[0]=e.orgXDomain[0]),e.orgXDomain[1]<=t[1]&&(t[0]=+t[0]-(t[1]-e.orgXDomain[1]),t[1]=e.orgXDomain[1]),t},l.isX=function(t){var e=this,n=e.config;return n.data_x&&t===n.data_x||x(n.data_xs)&&$(n.data_xs,t)},l.isNotX=function(t){return!this.isX(t)},l.getXKey=function(t){var e=this,n=e.config;return n.data_x?n.data_x:x(n.data_xs)?n.data_xs[t]:null},l.getXValuesOfXKey=function(t,e){var n,i=this,r=e&&x(e)?i.mapToIds(e):[];return r.forEach(function(e){i.getXKey(e)===t&&(n=i.data.xs[e])}),n},l.getIndexByX=function(t){var e=this,n=e.filterByX(e.data.targets,t);return n.length?n[0].index:null},l.getXValue=function(t,e){var n=this;return t in n.data.xs&&n.data.xs[t]&&d(n.data.xs[t][e])?n.data.xs[t][e]:e},l.getOtherTargetXs=function(){var t=this,e=Object.keys(t.data.xs);return e.length?t.data.xs[e[0]]:null},l.getOtherTargetX=function(t){var e=this.getOtherTargetXs();return e&&t<e.length?e[t]:null},l.addXs=function(t){var e=this;Object.keys(t).forEach(function(n){e.config.data_xs[n]=t[n]})},l.hasMultipleX=function(t){return this.d3.set(Object.keys(t).map(function(e){return t[e]})).size()>1},l.isMultipleX=function(){return x(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")},l.addName=function(t){var e,n=this;return t&&(e=n.config.data_names[t.id],t.name=e?e:t.id),t},l.getValueOnIndex=function(t,e){var n=t.filter(function(t){return t.index===e});return n.length?n[0]:null},l.updateTargetX=function(t,e){var n=this;t.forEach(function(t){t.values.forEach(function(i,r){i.x=n.generateTargetX(e[r],t.id,r)}),n.data.xs[t.id]=e})},l.updateTargetXs=function(t,e){var n=this;t.forEach(function(t){e[t.id]&&n.updateTargetX([t],e[t.id])})},l.generateTargetX=function(t,e,n){var i,r=this;return i=r.isTimeSeries()?t?r.parseDate(t):r.parseDate(r.getXValue(e,n)):r.isCustomX()&&!r.isCategorized()?d(t)?+t:r.getXValue(e,n):n},l.cloneTarget=function(t){return{id:t.id,id_org:t.id_org,values:t.values.map(function(t){return{x:t.x,value:t.value,id:t.id}})}},l.updateXs=function(){var t=this;t.data.targets.length&&(t.xs=[],t.data.targets[0].values.forEach(function(e){t.xs[e.index]=e.x}))},l.getPrevX=function(t){var e=this.xs[t-1];return"undefined"!=typeof e?e:null},l.getNextX=function(t){var e=this.xs[t+1];return"undefined"!=typeof e?e:null},l.getMaxDataCount=function(){var t=this;return t.d3.max(t.data.targets,function(t){return t.values.length})},l.getMaxDataCountTarget=function(t){var e,n=t.length,i=0;return n>1?t.forEach(function(t){t.values.length>i&&(e=t,i=t.values.length)}):e=n?t[0]:null,e},l.getEdgeX=function(t){var e=this;return t.length?[e.d3.min(t,function(t){return t.values[0].x}),e.d3.max(t,function(t){return t.values[t.values.length-1].x})]:[0,0]},l.mapToIds=function(t){return t.map(function(t){return t.id})},l.mapToTargetIds=function(t){var e=this;return t?p(t)?[t]:t:e.mapToIds(e.data.targets)},l.hasTarget=function(t,e){var n,i=this.mapToIds(t);for(n=0;n<i.length;n++)if(i[n]===e)return!0;return!1},l.isTargetToShow=function(t){return this.hiddenTargetIds.indexOf(t)<0},l.isLegendToShow=function(t){return this.hiddenLegendIds.indexOf(t)<0},l.filterTargetsToShow=function(t){var e=this;return t.filter(function(t){return e.isTargetToShow(t.id)})},l.mapTargetsToUniqueXs=function(t){var e=this,n=e.d3.set(e.d3.merge(t.map(function(t){return t.values.map(function(t){return+t.x})}))).values();return e.isTimeSeries()?n.map(function(t){return new Date(+t)}):n.map(function(t){return+t})},l.addHiddenTargetIds=function(t){this.hiddenTargetIds=this.hiddenTargetIds.concat(t)},l.removeHiddenTargetIds=function(t){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(e){return t.indexOf(e)<0})},l.addHiddenLegendIds=function(t){this.hiddenLegendIds=this.hiddenLegendIds.concat(t)},l.removeHiddenLegendIds=function(t){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(e){return t.indexOf(e)<0})},l.getValuesAsIdKeyed=function(t){var e={};return t.forEach(function(t){e[t.id]=[],t.values.forEach(function(n){e[t.id].push(n.value)})}),e},l.checkValueInTargets=function(t,e){var n,i,r,o=Object.keys(t);for(n=0;n<o.length;n++)for(r=t[o[n]].values,i=0;i<r.length;i++)if(e(r[i].value))return!0;return!1},l.hasNegativeValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return 0>t})},l.hasPositiveValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return t>0})},l.isOrderDesc=function(){var t=this.config;return"string"==typeof t.data_order&&"desc"===t.data_order.toLowerCase()},l.isOrderAsc=function(){var t=this.config;return"string"==typeof t.data_order&&"asc"===t.data_order.toLowerCase()},l.orderTargets=function(t){var e=this,n=e.config,i=e.isOrderAsc(),r=e.isOrderDesc();return i||r?t.sort(function(t,e){var n=function(t,e){return t+Math.abs(e.value)},r=t.values.reduce(n,0),o=e.values.reduce(n,0);return i?o-r:r-o}):f(n.data_order)&&t.sort(n.data_order),t},l.filterByX=function(t,e){return this.d3.merge(t.map(function(t){return t.values})).filter(function(t){return t.x-e===0})},l.filterRemoveNull=function(t){return t.filter(function(t){return d(t.value)})},l.filterByXDomain=function(t,e){return t.map(function(t){return{id:t.id,id_org:t.id_org,values:t.values.filter(function(t){return e[0]<=t.x&&t.x<=e[1]})}})},l.hasDataLabel=function(){var t=this.config;return"boolean"==typeof t.data_labels&&t.data_labels?!0:"object"==typeof t.data_labels&&x(t.data_labels)?!0:!1},l.getDataLabelLength=function(t,e,n){var i=this,r=[0,0],o=1.3;return i.selectChart.select("svg").selectAll(".dummy").data([t,e]).enter().append("text").text(function(t){return i.dataLabelFormat(t.id)(t)}).each(function(t,e){r[e]=this.getBoundingClientRect()[n]*o}).remove(),r},l.isNoneArc=function(t){return this.hasTarget(this.data.targets,t.id)},l.isArc=function(t){return"data"in t&&this.hasTarget(this.data.targets,t.data.id)},l.findSameXOfValues=function(t,e){var n,i=t[e].x,r=[];for(n=e-1;n>=0&&i===t[n].x;n--)r.push(t[n]);for(n=e;n<t.length&&i===t[n].x;n++)r.push(t[n]);return r},l.findClosestFromTargets=function(t,e){var n,i=this;return n=t.map(function(t){return i.findClosest(t.values,e)}),i.findClosest(n,e)},l.findClosest=function(t,e){var n,i=this,r=100;return t.filter(function(t){return t&&i.isBarType(t.id)}).forEach(function(t){var e=i.main.select("."+h.bars+i.getTargetSelectorSuffix(t.id)+" ."+h.bar+"-"+t.index).node();
!n&&i.isWithinBar(e)&&(n=t)}),t.filter(function(t){return t&&!i.isBarType(t.id)}).forEach(function(t){var o=i.dist(t,e);r>o&&(r=o,n=t)}),n},l.dist=function(t,e){var n=this,i=n.config,r=i.axis_rotated?1:0,o=i.axis_rotated?0:1,s=n.circleY(t,t.index),a=n.x(t.x);return Math.pow(a-e[r],2)+Math.pow(s-e[o],2)},l.convertValuesToStep=function(t){var e,n=[].concat(t);if(!this.isCategorized())return t;for(e=t.length+1;e>0;e--)n[e]=n[e-1];return n[0]={x:n[0].x-1,value:n[0].value,id:n[0].id},n[t.length+1]={x:n[t.length].x+1,value:n[t.length].value,id:n[t.length].id},n},l.updateDataAttributes=function(t,e){var n=this,i=n.config,r=i["data_"+t];return"undefined"==typeof e?r:(Object.keys(e).forEach(function(t){r[t]=e[t]}),n.redraw({withLegend:!0}),r)},l.convertUrlToData=function(t,e,n,i){var r=this,o=e?e:"csv";r.d3.xhr(t,function(t,e){var s;if(!e)throw new Error(t.responseURL+" "+t.status+" ("+t.statusText+")");s="json"===o?r.convertJsonToData(JSON.parse(e.response),n):"tsv"===o?r.convertTsvToData(e.response):r.convertCsvToData(e.response),i.call(r,s)})},l.convertXsvToData=function(t,e){var n,i=e.parseRows(t);return 1===i.length?(n=[{}],i[0].forEach(function(t){n[0][t]=null})):n=e.parse(t),n},l.convertCsvToData=function(t){return this.convertXsvToData(t,this.d3.csv)},l.convertTsvToData=function(t){return this.convertXsvToData(t,this.d3.tsv)},l.convertJsonToData=function(t,e){var n,i,r=this,o=[];return e?(e.x?(n=e.value.concat(e.x),r.config.data_x=e.x):n=e.value,o.push(n),t.forEach(function(t){var e=[];n.forEach(function(n){var i=g(t[n])?null:t[n];e.push(i)}),o.push(e)}),i=r.convertRowsToData(o)):(Object.keys(t).forEach(function(e){o.push([e].concat(t[e]))}),i=r.convertColumnsToData(o)),i},l.convertRowsToData=function(t){var e,n,i=t[0],r={},o=[];for(e=1;e<t.length;e++){for(r={},n=0;n<t[e].length;n++){if(g(t[e][n]))throw new Error("Source data is missing a component at ("+e+","+n+")!");r[i[n]]=t[e][n]}o.push(r)}return o},l.convertColumnsToData=function(t){var e,n,i,r=[];for(e=0;e<t.length;e++)for(i=t[e][0],n=1;n<t[e].length;n++){if(g(r[n-1])&&(r[n-1]={}),g(t[e][n]))throw new Error("Source data is missing a component at ("+e+","+n+")!");r[n-1][i]=t[e][n]}return r},l.convertDataToTargets=function(t,e){var n,i=this,r=i.config,o=i.d3.keys(t[0]).filter(i.isNotX,i),s=i.d3.keys(t[0]).filter(i.isX,i);return o.forEach(function(n){var o=i.getXKey(n);i.isCustomX()||i.isTimeSeries()?s.indexOf(o)>=0?i.data.xs[n]=(e&&i.data.xs[n]?i.data.xs[n]:[]).concat(t.map(function(t){return t[o]}).filter(d).map(function(t,e){return i.generateTargetX(t,n,e)})):r.data_x?i.data.xs[n]=i.getOtherTargetXs():x(r.data_xs)&&(i.data.xs[n]=i.getXValuesOfXKey(o,i.data.targets)):i.data.xs[n]=t.map(function(t,e){return e})}),o.forEach(function(t){if(!i.data.xs[t])throw new Error('x is not defined for id = "'+t+'".')}),n=o.map(function(e,n){var o=r.data_idConverter(e);return{id:o,id_org:e,values:t.map(function(t,s){var a=i.getXKey(e),l=t[a],u=i.generateTargetX(l,e,s);return i.isCustomX()&&i.isCategorized()&&0===n&&l&&(0===s&&(r.axis_x_categories=[]),r.axis_x_categories.push(l)),(g(t[e])||i.data.xs[e].length<=s)&&(u=void 0),{x:u,value:null===t[e]||isNaN(t[e])?null:+t[e],id:o}}).filter(function(t){return m(t.x)})}}),n.forEach(function(t){var e;r.data_xSort&&(t.values=t.values.sort(function(t,e){var n=t.x||0===t.x?t.x:1/0,i=e.x||0===e.x?e.x:1/0;return n-i})),e=0,t.values.forEach(function(t){t.index=e++}),i.data.xs[t.id].sort(function(t,e){return t-e})}),r.data_type&&i.setTargetType(i.mapToIds(n).filter(function(t){return!(t in r.data_types)}),r.data_type),n.forEach(function(t){i.addCache(t.id_org,t)}),n},l.load=function(t,e){var n=this;t&&(e.filter&&(t=t.filter(e.filter)),(e.type||e.types)&&t.forEach(function(t){var i=e.types&&e.types[t.id]?e.types[t.id]:e.type;n.setTargetType(t.id,i)}),n.data.targets.forEach(function(e){for(var n=0;n<t.length;n++)if(e.id===t[n].id){e.values=t[n].values,t.splice(n,1);break}}),n.data.targets=n.data.targets.concat(t)),n.updateTargets(n.data.targets),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),e.done&&e.done()},l.loadFromArgs=function(t){var e=this;t.data?e.load(e.convertDataToTargets(t.data),t):t.url?e.convertUrlToData(t.url,t.mimeType,t.keys,function(n){e.load(e.convertDataToTargets(n),t)}):t.json?e.load(e.convertDataToTargets(e.convertJsonToData(t.json,t.keys)),t):t.rows?e.load(e.convertDataToTargets(e.convertRowsToData(t.rows)),t):t.columns?e.load(e.convertDataToTargets(e.convertColumnsToData(t.columns)),t):e.load(null,t)},l.unload=function(t,e){var n=this;return e||(e=function(){}),t=t.filter(function(t){return n.hasTarget(n.data.targets,t)}),t&&0!==t.length?(n.svg.selectAll(t.map(function(t){return n.selectorTarget(t)})).transition().style("opacity",0).remove().call(n.endall,e),void t.forEach(function(t){n.withoutFadeIn[t]=!1,n.legend&&n.legend.selectAll("."+h.legendItem+n.getTargetSelectorSuffix(t)).remove(),n.data.targets=n.data.targets.filter(function(e){return e.id!==t})})):void e()},l.categoryName=function(t){var e=this.config;return t<e.axis_x_categories.length?e.axis_x_categories[t]:t},l.initEventRect=function(){var t=this;t.main.select("."+h.chart).append("g").attr("class",h.eventRects).style("fill-opacity",0)},l.redrawEventRect=function(){var t,e,n=this,i=n.config,r=n.isMultipleX(),o=n.main.select("."+h.eventRects).style("cursor",i.zoom_enabled?i.axis_rotated?"ns-resize":"ew-resize":null).classed(h.eventRectsMultiple,r).classed(h.eventRectsSingle,!r);o.selectAll("."+h.eventRect).remove(),n.eventRect=o.selectAll("."+h.eventRect),r?(t=n.eventRect.data([0]),n.generateEventRectsForMultipleXs(t.enter()),n.updateEventRect(t)):(e=n.getMaxDataCountTarget(n.data.targets),o.datum(e?e.values:[]),n.eventRect=o.selectAll("."+h.eventRect),t=n.eventRect.data(function(t){return t}),n.generateEventRectsForSingleX(t.enter()),n.updateEventRect(t),t.exit().remove())},l.updateEventRect=function(t){var e,n,i,r,o,s,a=this,l=a.config;t=t||a.eventRect.data(function(t){return t}),a.isMultipleX()?(e=0,n=0,i=a.width,r=a.height):(!a.isCustomX()&&!a.isTimeSeries()||a.isCategorized()?(o=a.getEventRectWidth(),s=function(t){return a.x(t.x)-o/2}):(a.updateXs(),o=function(t){var e=a.getPrevX(t.index),n=a.getNextX(t.index);return null===e&&null===n?l.axis_rotated?a.height:a.width:(null===e&&(e=a.x.domain()[0]),null===n&&(n=a.x.domain()[1]),Math.max(0,(a.x(n)-a.x(e))/2))},s=function(t){var e=a.getPrevX(t.index),n=a.getNextX(t.index),i=a.data.xs[t.id][t.index];return null===e&&null===n?0:(null===e&&(e=a.x.domain()[0]),(a.x(i)+a.x(e))/2)}),e=l.axis_rotated?0:s,n=l.axis_rotated?s:0,i=l.axis_rotated?a.width:o,r=l.axis_rotated?o:a.height),t.attr("class",a.classEvent.bind(a)).attr("x",e).attr("y",n).attr("width",i).attr("height",r)},l.generateEventRectsForSingleX=function(t){var e=this,n=e.d3,i=e.config;t.append("rect").attr("class",e.classEvent.bind(e)).style("cursor",i.data_selection_enabled&&i.data_selection_grouped?"pointer":null).on("mouseover",function(t){var n=t.index;e.dragging||e.flowing||e.hasArcType()||(i.point_focus_expand_enabled&&e.expandCircles(n,null,!0),e.expandBars(n,null,!0),e.main.selectAll("."+h.shape+"-"+n).each(function(t){i.data_onmouseover.call(e.api,t)}))}).on("mouseout",function(t){var n=t.index;e.config&&(e.hasArcType()||(e.hideXGridFocus(),e.hideTooltip(),e.unexpandCircles(),e.unexpandBars(),e.main.selectAll("."+h.shape+"-"+n).each(function(t){i.data_onmouseout.call(e.api,t)})))}).on("mousemove",function(t){var r,o=t.index,s=e.svg.select("."+h.eventRect+"-"+o);e.dragging||e.flowing||e.hasArcType()||(e.isStepType(t)&&"step-after"===e.config.line_step_type&&n.mouse(this)[0]<e.x(e.getXValue(t.id,o))&&(o-=1),r=e.filterTargetsToShow(e.data.targets).map(function(t){return e.addName(e.getValueOnIndex(t.values,o))}),i.tooltip_grouped&&(e.showTooltip(r,this),e.showXGridFocus(r)),(!i.tooltip_grouped||i.data_selection_enabled&&!i.data_selection_grouped)&&e.main.selectAll("."+h.shape+"-"+o).each(function(){n.select(this).classed(h.EXPANDED,!0),i.data_selection_enabled&&s.style("cursor",i.data_selection_grouped?"pointer":null),i.tooltip_grouped||(e.hideXGridFocus(),e.hideTooltip(),i.data_selection_grouped||(e.unexpandCircles(o),e.unexpandBars(o)))}).filter(function(t){return e.isWithinShape(this,t)}).each(function(t){i.data_selection_enabled&&(i.data_selection_grouped||i.data_selection_isselectable(t))&&s.style("cursor","pointer"),i.tooltip_grouped||(e.showTooltip([t],this),e.showXGridFocus([t]),i.point_focus_expand_enabled&&e.expandCircles(o,t.id,!0),e.expandBars(o,t.id,!0))}))}).on("click",function(t){var r=t.index;if(!e.hasArcType()&&e.toggleShape){if(e.cancelClick)return void(e.cancelClick=!1);e.isStepType(t)&&"step-after"===i.line_step_type&&n.mouse(this)[0]<e.x(e.getXValue(t.id,r))&&(r-=1),e.main.selectAll("."+h.shape+"-"+r).each(function(t){(i.data_selection_grouped||e.isWithinShape(this,t))&&(e.toggleShape(this,t,r),e.config.data_onclick.call(e.api,t,this))})}}).call(i.data_selection_draggable&&e.drag?n.behavior.drag().origin(Object).on("drag",function(){e.drag(n.mouse(this))}).on("dragstart",function(){e.dragstart(n.mouse(this))}).on("dragend",function(){e.dragend()}):function(){})},l.generateEventRectsForMultipleXs=function(t){function e(){n.svg.select("."+h.eventRect).style("cursor",null),n.hideXGridFocus(),n.hideTooltip(),n.unexpandCircles(),n.unexpandBars()}var n=this,i=n.d3,r=n.config;t.append("rect").attr("x",0).attr("y",0).attr("width",n.width).attr("height",n.height).attr("class",h.eventRect).on("mouseout",function(){n.config&&(n.hasArcType()||e())}).on("mousemove",function(){var t,o,s,a,l=n.filterTargetsToShow(n.data.targets);if(!n.dragging&&!n.hasArcType(l)){if(t=i.mouse(this),o=n.findClosestFromTargets(l,t),!n.mouseover||o&&o.id===n.mouseover.id||(r.data_onmouseout.call(n.api,n.mouseover),n.mouseover=void 0),!o)return void e();s=n.isScatterType(o)||!r.tooltip_grouped?[o]:n.filterByX(l,o.x),a=s.map(function(t){return n.addName(t)}),n.showTooltip(a,this),r.point_focus_expand_enabled&&n.expandCircles(o.index,o.id,!0),n.expandBars(o.index,o.id,!0),n.showXGridFocus(a),(n.isBarType(o.id)||n.dist(o,t)<100)&&(n.svg.select("."+h.eventRect).style("cursor","pointer"),n.mouseover||(r.data_onmouseover.call(n.api,o),n.mouseover=o))}}).on("click",function(){var t,e,o=n.filterTargetsToShow(n.data.targets);n.hasArcType(o)||(t=i.mouse(this),e=n.findClosestFromTargets(o,t),e&&(n.isBarType(e.id)||n.dist(e,t)<100)&&n.main.selectAll("."+h.shapes+n.getTargetSelectorSuffix(e.id)).selectAll("."+h.shape+"-"+e.index).each(function(){(r.data_selection_grouped||n.isWithinShape(this,e))&&(n.toggleShape(this,e,e.index),n.config.data_onclick.call(n.api,e,this))}))}).call(r.data_selection_draggable&&n.drag?i.behavior.drag().origin(Object).on("drag",function(){n.drag(i.mouse(this))}).on("dragstart",function(){n.dragstart(i.mouse(this))}).on("dragend",function(){n.dragend()}):function(){})},l.dispatchEvent=function(e,n,i){var r=this,o="."+h.eventRect+(r.isMultipleX()?"":"-"+n),s=r.main.select(o).node(),a=s.getBoundingClientRect(),l=a.left+(i?i[0]:0),u=a.top+(i?i[1]:0),c=document.createEvent("MouseEvents");c.initMouseEvent(e,!0,!0,t,0,l,u,l,u,!1,!1,!1,!1,0,null),s.dispatchEvent(c)},l.getCurrentWidth=function(){var t=this,e=t.config;return e.size_width?e.size_width:t.getParentWidth()},l.getCurrentHeight=function(){var t=this,e=t.config,n=e.size_height?e.size_height:t.getParentHeight();return n>0?n:320/(t.hasType("gauge")?2:1)},l.getCurrentPaddingTop=function(){var t=this.config;return d(t.padding_top)?t.padding_top:0},l.getCurrentPaddingBottom=function(){var t=this.config;return d(t.padding_bottom)?t.padding_bottom:0},l.getCurrentPaddingLeft=function(t){var e=this,n=e.config;return d(n.padding_left)?n.padding_left:n.axis_rotated?n.axis_x_show?Math.max(v(e.getAxisWidthByAxisId("x",t)),40):1:!n.axis_y_show||n.axis_y_inner?e.axis.getYAxisLabelPosition().isOuter?30:1:v(e.getAxisWidthByAxisId("y",t))},l.getCurrentPaddingRight=function(){var t=this,e=t.config,n=10,i=t.isLegendRight?t.getLegendWidth()+20:0;return d(e.padding_right)?e.padding_right+1:e.axis_rotated?n+i:!e.axis_y2_show||e.axis_y2_inner?2+i+(t.axis.getY2AxisLabelPosition().isOuter?20:0):v(t.getAxisWidthByAxisId("y2"))+i},l.getParentRectValue=function(t){for(var e,n=this.selectChart.node();n&&"BODY"!==n.tagName;){try{e=n.getBoundingClientRect()[t]}catch(i){"width"===t&&(e=n.offsetWidth)}if(e)break;n=n.parentNode}return e},l.getParentWidth=function(){return this.getParentRectValue("width")},l.getParentHeight=function(){var t=this.selectChart.style("height");return t.indexOf("px")>0?+t.replace("px",""):0},l.getSvgLeft=function(t){var e=this,n=e.config,i=n.axis_rotated||!n.axis_rotated&&!n.axis_y_inner,r=n.axis_rotated?h.axisX:h.axisY,o=e.main.select("."+r).node(),s=o&&i?o.getBoundingClientRect():{right:0},a=e.selectChart.node().getBoundingClientRect(),l=e.hasArcType(),u=s.right-a.left-(l?0:e.getCurrentPaddingLeft(t));return u>0?u:0},l.getAxisWidthByAxisId=function(t,e){var n=this,i=n.axis.getLabelPositionById(t);return n.axis.getMaxTickWidth(t,e)+(i.isInner?20:40)},l.getHorizontalAxisHeight=function(t){var e=this,n=e.config,i=30;return"x"!==t||n.axis_x_show?"x"===t&&n.axis_x_height?n.axis_x_height:"y"!==t||n.axis_y_show?"y2"!==t||n.axis_y2_show?("x"===t&&!n.axis_rotated&&n.axis_x_tick_rotate&&(i=30+e.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-n.axis_x_tick_rotate)/180)),i+(e.axis.getLabelPositionById(t).isInner?0:10)+("y2"===t?-10:0)):e.rotated_padding_top:!n.legend_show||e.isLegendRight||e.isLegendInset?1:10:8},l.getEventRectWidth=function(){return Math.max(0,this.xAxis.tickInterval())},l.getShapeIndices=function(t){var e,n,i=this,r=i.config,o={},s=0;return i.filterTargetsToShow(i.data.targets.filter(t,i)).forEach(function(t){for(e=0;e<r.data_groups.length;e++)if(!(r.data_groups[e].indexOf(t.id)<0))for(n=0;n<r.data_groups[e].length;n++)if(r.data_groups[e][n]in o){o[t.id]=o[r.data_groups[e][n]];break}g(o[t.id])&&(o[t.id]=s++)}),o.__max__=s-1,o},l.getShapeX=function(t,e,n,i){var r=this,o=i?r.subX:r.x;return function(i){var r=i.id in n?n[i.id]:0;return i.x||0===i.x?o(i.x)-t*(e/2-r):0}},l.getShapeY=function(t){var e=this;return function(n){var i=t?e.getSubYScale(n.id):e.getYScale(n.id);return i(n.value)}},l.getShapeOffset=function(t,e,n){var i=this,r=i.orderTargets(i.filterTargetsToShow(i.data.targets.filter(t,i))),o=r.map(function(t){return t.id});return function(t,s){var a=n?i.getSubYScale(t.id):i.getYScale(t.id),l=a(0),u=l;return r.forEach(function(n){var r=i.isStepType(t)?i.convertValuesToStep(n.values):n.values;n.id!==t.id&&e[n.id]===e[t.id]&&o.indexOf(n.id)<o.indexOf(t.id)&&r[s].value*t.value>=0&&(u+=a(r[s].value)-l)}),u}},l.isWithinShape=function(t,e){var n,i=this,r=i.d3.select(t);return i.isTargetToShow(e.id)?"circle"===t.nodeName?n=i.isStepType(e)?i.isWithinStep(t,i.getYScale(e.id)(e.value)):i.isWithinCircle(t,1.5*i.pointSelectR(e)):"path"===t.nodeName&&(n=r.classed(h.bar)?i.isWithinBar(t):!0):n=!1,n},l.getInterpolate=function(t){var e=this,n=e.isInterpolationType()?e.config.spline_interpolation_type:"cardinal";return e.isSplineType(t)?n:e.isStepType(t)?e.config.line_step_type:"linear"},l.initLine=function(){var t=this;t.main.select("."+h.chart).append("g").attr("class",h.chartLines)},l.updateTargetsForLine=function(t){var e,n,i=this,r=i.config,o=i.classChartLine.bind(i),s=i.classLines.bind(i),a=i.classAreas.bind(i),l=i.classCircles.bind(i),u=i.classFocus.bind(i);e=i.main.select("."+h.chartLines).selectAll("."+h.chartLine).data(t).attr("class",function(t){return o(t)+u(t)}),n=e.enter().append("g").attr("class",o).style("opacity",0).style("pointer-events","none"),n.append("g").attr("class",s),n.append("g").attr("class",a),n.append("g").attr("class",function(t){return i.generateClass(h.selectedCircles,t.id)}),n.append("g").attr("class",l).style("cursor",function(t){return r.data_selection_isselectable(t)?"pointer":null}),t.forEach(function(t){i.main.selectAll("."+h.selectedCircles+i.getTargetSelectorSuffix(t.id)).selectAll("."+h.selectedCircle).each(function(e){e.value=t.values[e.index].value})})},l.updateLine=function(t){var e=this;e.mainLine=e.main.selectAll("."+h.lines).selectAll("."+h.line).data(e.lineData.bind(e)),e.mainLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color),e.mainLine.style("opacity",e.initialOpacity.bind(e)).style("shape-rendering",function(t){return e.isStepType(t)?"crispEdges":""}).attr("transform",null),e.mainLine.exit().transition().duration(t).style("opacity",0).remove()},l.redrawLine=function(t,e){return[(e?this.mainLine.transition():this.mainLine).attr("d",t).style("stroke",this.color).style("opacity",1)]},l.generateDrawLine=function(t,e){var n=this,i=n.config,r=n.d3.svg.line(),o=n.generateGetLinePoints(t,e),s=e?n.getSubYScale:n.getYScale,a=function(t){return(e?n.subxx:n.xx).call(n,t)},l=function(t,e){return i.data_groups.length>0?o(t,e)[0][1]:s.call(n,t.id)(t.value)};return r=i.axis_rotated?r.x(l).y(a):r.x(a).y(l),i.line_connectNull||(r=r.defined(function(t){return null!=t.value})),function(t){var o,a=i.line_connectNull?n.filterRemoveNull(t.values):t.values,l=e?n.x:n.subX,u=s.call(n,t.id),c=0,h=0;return n.isLineType(t)?i.data_regions[t.id]?o=n.lineWithRegions(a,l,u,i.data_regions[t.id]):(n.isStepType(t)&&(a=n.convertValuesToStep(a)),o=r.interpolate(n.getInterpolate(t))(a)):(a[0]&&(c=l(a[0].x),h=u(a[0].value)),o=i.axis_rotated?"M "+h+" "+c:"M "+c+" "+h),o?o:"M 0 0"}},l.generateGetLinePoints=function(t,e){var n=this,i=n.config,r=t.__max__+1,o=n.getShapeX(0,r,t,!!e),s=n.getShapeY(!!e),a=n.getShapeOffset(n.isLineType,t,!!e),l=e?n.getSubYScale:n.getYScale;return function(t,e){var r=l.call(n,t.id)(0),u=a(t,e)||r,c=o(t),h=s(t);return i.axis_rotated&&(0<t.value&&r>h||t.value<0&&h>r)&&(h=r),[[c,h-(r-u)],[c,h-(r-u)],[c,h-(r-u)],[c,h-(r-u)]]}},l.lineWithRegions=function(t,e,n,i){function r(t,e){var n;for(n=0;n<e.length;n++)if(e[n].start<t&&t<=e[n].end)return!0;return!1}function o(t){return"M"+t[0][0]+" "+t[0][1]+" "+t[1][0]+" "+t[1][1]}var s,a,l,u,c,h,d,f,p,v,y,b,w=this,x=w.config,_=-1,$="M",C=w.isCategorized()?.5:0,A=[];if(m(i))for(s=0;s<i.length;s++)A[s]={},g(i[s].start)?A[s].start=t[0].x:A[s].start=w.isTimeSeries()?w.parseDate(i[s].start):i[s].start,g(i[s].end)?A[s].end=t[t.length-1].x:A[s].end=w.isTimeSeries()?w.parseDate(i[s].end):i[s].end;for(y=x.axis_rotated?function(t){return n(t.value)}:function(t){return e(t.x)},b=x.axis_rotated?function(t){return e(t.x)}:function(t){return n(t.value)},l=w.isTimeSeries()?function(t,i,r,s){var a,l=t.x.getTime(),u=i.x-t.x,h=new Date(l+u*r),d=new Date(l+u*(r+s));return a=x.axis_rotated?[[n(c(r)),e(h)],[n(c(r+s)),e(d)]]:[[e(h),n(c(r))],[e(d),n(c(r+s))]],o(a)}:function(t,i,r,s){var a;return a=x.axis_rotated?[[n(c(r),!0),e(u(r))],[n(c(r+s),!0),e(u(r+s))]]:[[e(u(r),!0),n(c(r))],[e(u(r+s),!0),n(c(r+s))]],o(a)},s=0;s<t.length;s++){if(g(A)||!r(t[s].x,A))$+=" "+y(t[s])+" "+b(t[s]);else for(u=w.getScale(t[s-1].x+C,t[s].x+C,w.isTimeSeries()),c=w.getScale(t[s-1].value,t[s].value),h=e(t[s].x)-e(t[s-1].x),d=n(t[s].value)-n(t[s-1].value),f=Math.sqrt(Math.pow(h,2)+Math.pow(d,2)),p=2/f,v=2*p,a=p;1>=a;a+=v)$+=l(t[s-1],t[s],a,p);_=t[s].x}return $},l.updateArea=function(t){var e=this,n=e.d3;e.mainArea=e.main.selectAll("."+h.areas).selectAll("."+h.area).data(e.lineData.bind(e)),e.mainArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0}),e.mainArea.style("opacity",e.orgAreaOpacity),e.mainArea.exit().transition().duration(t).style("opacity",0).remove()},l.redrawArea=function(t,e){return[(e?this.mainArea.transition():this.mainArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},l.generateDrawArea=function(t,e){var n=this,i=n.config,r=n.d3.svg.area(),o=n.generateGetAreaPoints(t,e),s=e?n.getSubYScale:n.getYScale,a=function(t){return(e?n.subxx:n.xx).call(n,t)},l=function(t,e){return i.data_groups.length>0?o(t,e)[0][1]:s.call(n,t.id)(n.getAreaBaseValue(t.id))},u=function(t,e){return i.data_groups.length>0?o(t,e)[1][1]:s.call(n,t.id)(t.value)};return r=i.axis_rotated?r.x0(l).x1(u).y(a):r.x(a).y0(l).y1(u),i.line_connectNull||(r=r.defined(function(t){return null!==t.value})),function(t){var e,o=i.line_connectNull?n.filterRemoveNull(t.values):t.values,s=0,a=0;return n.isAreaType(t)?(n.isStepType(t)&&(o=n.convertValuesToStep(o)),e=r.interpolate(n.getInterpolate(t))(o)):(o[0]&&(s=n.x(o[0].x),a=n.getYScale(t.id)(o[0].value)),e=i.axis_rotated?"M "+a+" "+s:"M "+s+" "+a),e?e:"M 0 0"}},l.getAreaBaseValue=function(){return 0},l.generateGetAreaPoints=function(t,e){var n=this,i=n.config,r=t.__max__+1,o=n.getShapeX(0,r,t,!!e),s=n.getShapeY(!!e),a=n.getShapeOffset(n.isAreaType,t,!!e),l=e?n.getSubYScale:n.getYScale;return function(t,e){var r=l.call(n,t.id)(0),u=a(t,e)||r,c=o(t),h=s(t);return i.axis_rotated&&(0<t.value&&r>h||t.value<0&&h>r)&&(h=r),[[c,u],[c,h-(r-u)],[c,h-(r-u)],[c,u]]}},l.updateCircle=function(){var t=this;t.mainCircle=t.main.selectAll("."+h.circles).selectAll("."+h.circle).data(t.lineOrScatterData.bind(t)),t.mainCircle.enter().append("circle").attr("class",t.classCircle.bind(t)).attr("r",t.pointR.bind(t)).style("fill",t.color),t.mainCircle.style("opacity",t.initialOpacityForCircle.bind(t)),t.mainCircle.exit().remove()},l.redrawCircle=function(t,e,n){var i=this.main.selectAll("."+h.selectedCircle);return[(n?this.mainCircle.transition():this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",t).attr("cy",e),(n?i.transition():i).attr("cx",t).attr("cy",e)]},l.circleX=function(t){return t.x||0===t.x?this.x(t.x):null},l.updateCircleY=function(){var t,e,n=this;n.config.data_groups.length>0?(t=n.getShapeIndices(n.isLineType),e=n.generateGetLinePoints(t),n.circleY=function(t,n){return e(t,n)[0][1]}):n.circleY=function(t){return n.getYScale(t.id)(t.value)}},l.getCircles=function(t,e){var n=this;return(e?n.main.selectAll("."+h.circles+n.getTargetSelectorSuffix(e)):n.main).selectAll("."+h.circle+(d(t)?"-"+t:""))},l.expandCircles=function(t,e,n){var i=this,r=i.pointExpandedR.bind(i);n&&i.unexpandCircles(),i.getCircles(t,e).classed(h.EXPANDED,!0).attr("r",r)},l.unexpandCircles=function(t){var e=this,n=e.pointR.bind(e);e.getCircles(t).filter(function(){return e.d3.select(this).classed(h.EXPANDED)}).classed(h.EXPANDED,!1).attr("r",n)},l.pointR=function(t){var e=this,n=e.config;return e.isStepType(t)?0:f(n.point_r)?n.point_r(t):n.point_r},l.pointExpandedR=function(t){var e=this,n=e.config;return n.point_focus_expand_enabled?n.point_focus_expand_r?n.point_focus_expand_r:1.75*e.pointR(t):e.pointR(t)},l.pointSelectR=function(t){var e=this,n=e.config;return n.point_select_r?n.point_select_r:4*e.pointR(t)},l.isWithinCircle=function(t,e){var n=this.d3,i=n.mouse(t),r=n.select(t),o=+r.attr("cx"),s=+r.attr("cy");return Math.sqrt(Math.pow(o-i[0],2)+Math.pow(s-i[1],2))<e},l.isWithinStep=function(t,e){return Math.abs(e-this.d3.mouse(t)[1])<30},l.initBar=function(){var t=this;t.main.select("."+h.chart).append("g").attr("class",h.chartBars)},l.updateTargetsForBar=function(t){var e,n,i=this,r=i.config,o=i.classChartBar.bind(i),s=i.classBars.bind(i),a=i.classFocus.bind(i);e=i.main.select("."+h.chartBars).selectAll("."+h.chartBar).data(t).attr("class",function(t){return o(t)+a(t)}),n=e.enter().append("g").attr("class",o).style("opacity",0).style("pointer-events","none"),n.append("g").attr("class",s).style("cursor",function(t){return r.data_selection_isselectable(t)?"pointer":null})},l.updateBar=function(t){var e=this,n=e.barData.bind(e),i=e.classBar.bind(e),r=e.initialOpacity.bind(e),o=function(t){return e.color(t.id)};e.mainBar=e.main.selectAll("."+h.bars).selectAll("."+h.bar).data(n),e.mainBar.enter().append("path").attr("class",i).style("stroke",o).style("fill",o),e.mainBar.style("opacity",r),e.mainBar.exit().transition().duration(t).style("opacity",0).remove()},l.redrawBar=function(t,e){return[(e?this.mainBar.transition():this.mainBar).attr("d",t).style("fill",this.color).style("opacity",1)]},l.getBarW=function(t,e){var n=this,i=n.config,r="number"==typeof i.bar_width?i.bar_width:e?t.tickInterval()*i.bar_width_ratio/e:0;return i.bar_width_max&&r>i.bar_width_max?i.bar_width_max:r},l.getBars=function(t,e){var n=this;return(e?n.main.selectAll("."+h.bars+n.getTargetSelectorSuffix(e)):n.main).selectAll("."+h.bar+(d(t)?"-"+t:""))},l.expandBars=function(t,e,n){var i=this;n&&i.unexpandBars(),i.getBars(t,e).classed(h.EXPANDED,!0)},l.unexpandBars=function(t){var e=this;e.getBars(t).classed(h.EXPANDED,!1)},l.generateDrawBar=function(t,e){var n=this,i=n.config,r=n.generateGetBarPoints(t,e);return function(t,e){var n=r(t,e),o=i.axis_rotated?1:0,s=i.axis_rotated?0:1,a="M "+n[0][o]+","+n[0][s]+" L"+n[1][o]+","+n[1][s]+" L"+n[2][o]+","+n[2][s]+" L"+n[3][o]+","+n[3][s]+" z";return a}},l.generateGetBarPoints=function(t,e){var n=this,i=e?n.subXAxis:n.xAxis,r=t.__max__+1,o=n.getBarW(i,r),s=n.getShapeX(o,r,t,!!e),a=n.getShapeY(!!e),l=n.getShapeOffset(n.isBarType,t,!!e),u=e?n.getSubYScale:n.getYScale;return function(t,e){var i=u.call(n,t.id)(0),r=l(t,e)||i,c=s(t),h=a(t);return n.config.axis_rotated&&(0<t.value&&i>h||t.value<0&&h>i)&&(h=i),[[c,r],[c,h-(i-r)],[c+o,h-(i-r)],[c+o,r]]}},l.isWithinBar=function(t){var e=this.d3.mouse(t),n=t.getBoundingClientRect(),i=t.pathSegList.getItem(0),r=t.pathSegList.getItem(1),o=Math.min(i.x,r.x),s=Math.min(i.y,r.y),a=n.width,l=n.height,u=2,c=o-u,h=o+a+u,d=s+l+u,f=s-u;return c<e[0]&&e[0]<h&&f<e[1]&&e[1]<d},l.initText=function(){var t=this;t.main.select("."+h.chart).append("g").attr("class",h.chartTexts),t.mainText=t.d3.selectAll([])},l.updateTargetsForText=function(t){var e,n,i=this,r=i.classChartText.bind(i),o=i.classTexts.bind(i),s=i.classFocus.bind(i);e=i.main.select("."+h.chartTexts).selectAll("."+h.chartText).data(t).attr("class",function(t){return r(t)+s(t)}),n=e.enter().append("g").attr("class",r).style("opacity",0).style("pointer-events","none"),n.append("g").attr("class",o)},l.updateText=function(t){var e=this,n=e.config,i=e.barOrLineData.bind(e),r=e.classText.bind(e);e.mainText=e.main.selectAll("."+h.texts).selectAll("."+h.text).data(i),e.mainText.enter().append("text").attr("class",r).attr("text-anchor",function(t){return n.axis_rotated?t.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(t){return e.color(t)}).style("fill-opacity",0),e.mainText.text(function(t,n,i){return e.dataLabelFormat(t.id)(t.value,t.id,n,i)}),e.mainText.exit().transition().duration(t).style("fill-opacity",0).remove()},l.redrawText=function(t,e,n,i){return[(i?this.mainText.transition():this.mainText).attr("x",t).attr("y",e).style("fill",this.color).style("fill-opacity",n?0:this.opacityForText.bind(this))]},l.getTextRect=function(t,e){var n,i=this.d3.select("body").append("div").classed("c3",!0),r=i.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0);return r.selectAll(".dummy").data([t]).enter().append("text").classed(e?e:"",!0).text(t).each(function(){n=this.getBoundingClientRect()}),i.remove(),n},l.generateXYForText=function(t,e,n,i){var r=this,o=r.generateGetAreaPoints(t,!1),s=r.generateGetBarPoints(e,!1),a=r.generateGetLinePoints(n,!1),l=i?r.getXForText:r.getYForText;return function(t,e){var n=r.isAreaType(t)?o:r.isBarType(t)?s:a;return l.call(r,n(t,e),t,this)}},l.getXForText=function(t,e,n){var i,r,o=this,s=n.getBoundingClientRect();return o.config.axis_rotated?(r=o.isBarType(e)?4:6,i=t[2][1]+r*(e.value<0?-1:1)):i=o.hasType("bar")?(t[2][0]+t[0][0])/2:t[0][0],null===e.value&&(i>o.width?i=o.width-s.width:0>i&&(i=4)),i},l.getYForText=function(t,e,n){var i,r=this,o=n.getBoundingClientRect();return r.config.axis_rotated?i=(t[0][0]+t[2][0]+.6*o.height)/2:(i=t[2][1],e.value<0?(i+=o.height,r.isBarType(e)&&r.isSafari()?i-=3:!r.isBarType(e)&&r.isChrome()&&(i+=3)):i+=r.isBarType(e)?-3:-6),null!==e.value||r.config.axis_rotated||(i<o.height?i=o.height:i>this.height&&(i=this.height-4)),i},l.setTargetType=function(t,e){var n=this,i=n.config;n.mapToTargetIds(t).forEach(function(t){n.withoutFadeIn[t]=e===i.data_types[t],i.data_types[t]=e}),t||(i.data_type=e)},l.hasType=function(t,e){var n=this,i=n.config.data_types,r=!1;return e=e||n.data.targets,e&&e.length?e.forEach(function(e){var n=i[e.id];(n&&n.indexOf(t)>=0||!n&&"line"===t)&&(r=!0)}):Object.keys(i).length?Object.keys(i).forEach(function(e){i[e]===t&&(r=!0)}):r=n.config.data_type===t,r},l.hasArcType=function(t){return this.hasType("pie",t)||this.hasType("donut",t)||this.hasType("gauge",t)},l.isLineType=function(t){var e=this.config,n=p(t)?t:t.id;return!e.data_types[n]||["line","spline","area","area-spline","step","area-step"].indexOf(e.data_types[n])>=0},l.isStepType=function(t){var e=p(t)?t:t.id;return["step","area-step"].indexOf(this.config.data_types[e])>=0},l.isSplineType=function(t){var e=p(t)?t:t.id;return["spline","area-spline"].indexOf(this.config.data_types[e])>=0},l.isAreaType=function(t){var e=p(t)?t:t.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[e])>=0},l.isBarType=function(t){var e=p(t)?t:t.id;return"bar"===this.config.data_types[e]},l.isScatterType=function(t){var e=p(t)?t:t.id;return"scatter"===this.config.data_types[e]},l.isPieType=function(t){var e=p(t)?t:t.id;return"pie"===this.config.data_types[e]},l.isGaugeType=function(t){var e=p(t)?t:t.id;return"gauge"===this.config.data_types[e]},l.isDonutType=function(t){var e=p(t)?t:t.id;return"donut"===this.config.data_types[e]},l.isArcType=function(t){return this.isPieType(t)||this.isDonutType(t)||this.isGaugeType(t)},l.lineData=function(t){return this.isLineType(t)?[t]:[]},l.arcData=function(t){return this.isArcType(t.data)?[t]:[]},l.barData=function(t){return this.isBarType(t)?t.values:[]},l.lineOrScatterData=function(t){return this.isLineType(t)||this.isScatterType(t)?t.values:[]},l.barOrLineData=function(t){return this.isBarType(t)||this.isLineType(t)?t.values:[]},l.isInterpolationType=function(){return["linear","linear-closed","basis","basis-open","basis-closed","bundle","cardinal","cardinal-open","cardinal-closed","monotone"].indexOf(this.config.spline_interpolation_type)>=0},l.initGrid=function(){var t=this,e=t.config,n=t.d3;t.grid=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",h.grid),e.grid_x_show&&t.grid.append("g").attr("class",h.xgrids),e.grid_y_show&&t.grid.append("g").attr("class",h.ygrids),e.grid_focus_show&&t.grid.append("g").attr("class",h.xgridFocus).append("line").attr("class",h.xgridFocus),t.xgrid=n.selectAll([]),e.grid_lines_front||t.initGridLines()},l.initGridLines=function(){var t=this,e=t.d3;t.gridLines=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",h.grid+" "+h.gridLines),t.gridLines.append("g").attr("class",h.xgridLines),t.gridLines.append("g").attr("class",h.ygridLines),t.xgridLines=e.selectAll([])},l.updateXGrid=function(t){var e=this,n=e.config,i=e.d3,r=e.generateGridData(n.grid_x_type,e.x),o=e.isCategorized()?e.xAxis.tickOffset():0;e.xgridAttr=n.axis_rotated?{x1:0,x2:e.width,y1:function(t){return e.x(t)-o},y2:function(t){return e.x(t)-o}}:{x1:function(t){return e.x(t)+o},x2:function(t){return e.x(t)+o},y1:0,y2:e.height},e.xgrid=e.main.select("."+h.xgrids).selectAll("."+h.xgrid).data(r),e.xgrid.enter().append("line").attr("class",h.xgrid),t||e.xgrid.attr(e.xgridAttr).style("opacity",function(){return+i.select(this).attr(n.axis_rotated?"y1":"x1")===(n.axis_rotated?e.height:0)?0:1}),e.xgrid.exit().remove()},l.updateYGrid=function(){var t=this,e=t.config,n=t.yAxis.tickValues()||t.y.ticks(e.grid_y_ticks);t.ygrid=t.main.select("."+h.ygrids).selectAll("."+h.ygrid).data(n),t.ygrid.enter().append("line").attr("class",h.ygrid),t.ygrid.attr("x1",e.axis_rotated?t.y:0).attr("x2",e.axis_rotated?t.y:t.width).attr("y1",e.axis_rotated?0:t.y).attr("y2",e.axis_rotated?t.height:t.y),t.ygrid.exit().remove(),t.smoothLines(t.ygrid,"grid")},l.gridTextAnchor=function(t){return t.position?t.position:"end"},l.gridTextDx=function(t){return"start"===t.position?4:"middle"===t.position?0:-4;
},l.xGridTextX=function(t){return"start"===t.position?-this.height:"middle"===t.position?-this.height/2:0},l.yGridTextX=function(t){return"start"===t.position?0:"middle"===t.position?this.width/2:this.width},l.updateGrid=function(t){var e,n,i,r=this,o=r.main,s=r.config;r.grid.style("visibility",r.hasArcType()?"hidden":"visible"),o.select("line."+h.xgridFocus).style("visibility","hidden"),s.grid_x_show&&r.updateXGrid(),r.xgridLines=o.select("."+h.xgridLines).selectAll("."+h.xgridLine).data(s.grid_x_lines),e=r.xgridLines.enter().append("g").attr("class",function(t){return h.xgridLine+(t["class"]?" "+t["class"]:"")}),e.append("line").style("opacity",0),e.append("text").attr("text-anchor",r.gridTextAnchor).attr("transform",s.axis_rotated?"":"rotate(-90)").attr("dx",r.gridTextDx).attr("dy",-5).style("opacity",0),r.xgridLines.exit().transition().duration(t).style("opacity",0).remove(),s.grid_y_show&&r.updateYGrid(),r.ygridLines=o.select("."+h.ygridLines).selectAll("."+h.ygridLine).data(s.grid_y_lines),n=r.ygridLines.enter().append("g").attr("class",function(t){return h.ygridLine+(t["class"]?" "+t["class"]:"")}),n.append("line").style("opacity",0),n.append("text").attr("text-anchor",r.gridTextAnchor).attr("transform",s.axis_rotated?"rotate(-90)":"").attr("dx",r.gridTextDx).attr("dy",-5).style("opacity",0),i=r.yv.bind(r),r.ygridLines.select("line").transition().duration(t).attr("x1",s.axis_rotated?i:0).attr("x2",s.axis_rotated?i:r.width).attr("y1",s.axis_rotated?0:i).attr("y2",s.axis_rotated?r.height:i).style("opacity",1),r.ygridLines.select("text").transition().duration(t).attr("x",s.axis_rotated?r.xGridTextX.bind(r):r.yGridTextX.bind(r)).attr("y",i).text(function(t){return t.text}).style("opacity",1),r.ygridLines.exit().transition().duration(t).style("opacity",0).remove()},l.redrawGrid=function(t){var e=this,n=e.config,i=e.xv.bind(e),r=e.xgridLines.select("line"),o=e.xgridLines.select("text");return[(t?r.transition():r).attr("x1",n.axis_rotated?0:i).attr("x2",n.axis_rotated?e.width:i).attr("y1",n.axis_rotated?i:0).attr("y2",n.axis_rotated?i:e.height).style("opacity",1),(t?o.transition():o).attr("x",n.axis_rotated?e.yGridTextX.bind(e):e.xGridTextX.bind(e)).attr("y",i).text(function(t){return t.text}).style("opacity",1)]},l.showXGridFocus=function(t){var e=this,n=e.config,i=t.filter(function(t){return t&&d(t.value)}),r=e.main.selectAll("line."+h.xgridFocus),o=e.xx.bind(e);n.tooltip_show&&(e.hasType("scatter")||e.hasArcType()||(r.style("visibility","visible").data([i[0]]).attr(n.axis_rotated?"y1":"x1",o).attr(n.axis_rotated?"y2":"x2",o),e.smoothLines(r,"grid")))},l.hideXGridFocus=function(){this.main.select("line."+h.xgridFocus).style("visibility","hidden")},l.updateXgridFocus=function(){var t=this,e=t.config;t.main.select("line."+h.xgridFocus).attr("x1",e.axis_rotated?0:-10).attr("x2",e.axis_rotated?t.width:-10).attr("y1",e.axis_rotated?-10:0).attr("y2",e.axis_rotated?-10:t.height)},l.generateGridData=function(t,e){var n,i,r,o,s=this,a=[],l=s.main.select("."+h.axisX).selectAll(".tick").size();if("year"===t)for(n=s.getXDomain(),i=n[0].getFullYear(),r=n[1].getFullYear(),o=i;r>=o;o++)a.push(new Date(o+"-01-01 00:00:00"));else a=e.ticks(10),a.length>l&&(a=a.filter(function(t){return(""+t).indexOf(".")<0}));return a},l.getGridFilterToRemove=function(t){return t?function(e){var n=!1;return[].concat(t).forEach(function(t){("value"in t&&e.value===t.value||"class"in t&&e["class"]===t["class"])&&(n=!0)}),n}:function(){return!0}},l.removeGridLines=function(t,e){var n=this,i=n.config,r=n.getGridFilterToRemove(t),o=function(t){return!r(t)},s=e?h.xgridLines:h.ygridLines,a=e?h.xgridLine:h.ygridLine;n.main.select("."+s).selectAll("."+a).filter(r).transition().duration(i.transition_duration).style("opacity",0).remove(),e?i.grid_x_lines=i.grid_x_lines.filter(o):i.grid_y_lines=i.grid_y_lines.filter(o)},l.initTooltip=function(){var t,e=this,n=e.config;if(e.tooltip=e.selectChart.style("position","relative").append("div").attr("class",h.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),n.tooltip_init_show){if(e.isTimeSeries()&&p(n.tooltip_init_x)){for(n.tooltip_init_x=e.parseDate(n.tooltip_init_x),t=0;t<e.data.targets[0].values.length&&e.data.targets[0].values[t].x-n.tooltip_init_x!==0;t++);n.tooltip_init_x=t}e.tooltip.html(n.tooltip_contents.call(e,e.data.targets.map(function(t){return e.addName(t.values[n.tooltip_init_x])}),e.axis.getXAxisTickFormat(),e.getYFormat(e.hasArcType()),e.color)),e.tooltip.style("top",n.tooltip_init_position.top).style("left",n.tooltip_init_position.left).style("display","block")}},l.getTooltipContent=function(t,e,n,i){var r,o,s,a,l,u,c=this,d=c.config,f=d.tooltip_format_title||e,p=d.tooltip_format_name||function(t){return t},g=d.tooltip_format_value||n;for(o=0;o<t.length;o++)t[o]&&(t[o].value||0===t[o].value)&&(r||(s=f?f(t[o].x):t[o].x,r="<table class='"+h.tooltip+"'>"+(s||0===s?"<tr><th colspan='2'>"+s+"</th></tr>":"")),a=g(t[o].value,t[o].ratio,t[o].id,t[o].index),void 0!==a&&(l=p(t[o].name,t[o].ratio,t[o].id,t[o].index),u=c.levelColor?c.levelColor(t[o].value):i(t[o].id),r+="<tr class='"+h.tooltipName+"-"+t[o].id+"'>",r+="<td class='name'><span style='background-color:"+u+"'></span>"+l+"</td>",r+="<td class='value'>"+a+"</td>",r+="</tr>"));return r+"</table>"},l.tooltipPosition=function(t,e,n,i){var r,o,s,a,l,u=this,c=u.config,h=u.d3,d=u.hasArcType(),f=h.mouse(i);return d?(o=(u.width-(u.isLegendRight?u.getLegendWidth():0))/2+f[0],a=u.height/2+f[1]+20):(r=u.getSvgLeft(!0),c.axis_rotated?(o=r+f[0]+100,s=o+e,l=u.currentWidth-u.getCurrentPaddingRight(),a=u.x(t[0].x)+20):(o=r+u.getCurrentPaddingLeft(!0)+u.x(t[0].x)+20,s=o+e,l=r+u.currentWidth-u.getCurrentPaddingRight(),a=f[1]+15),s>l&&(o-=s-l+20),a+n>u.currentHeight&&(a-=n+30)),0>a&&(a=0),{top:a,left:o}},l.showTooltip=function(t,e){var n,i,r,o=this,s=o.config,a=o.hasArcType(),u=t.filter(function(t){return t&&d(t.value)}),c=s.tooltip_position||l.tooltipPosition;0!==u.length&&s.tooltip_show&&(o.tooltip.html(s.tooltip_contents.call(o,t,o.axis.getXAxisTickFormat(),o.getYFormat(a),o.color)).style("display","block"),n=o.tooltip.property("offsetWidth"),i=o.tooltip.property("offsetHeight"),r=c.call(this,u,n,i,e),o.tooltip.style("top",r.top+"px").style("left",r.left+"px"))},l.hideTooltip=function(){this.tooltip.style("display","none")},l.initLegend=function(){var t=this;return t.legendItemTextBox={},t.legendHasRendered=!1,t.legend=t.svg.append("g").attr("transform",t.getTranslate("legend")),t.config.legend_show?void t.updateLegendWithDefaults():(t.legend.style("visibility","hidden"),void(t.hiddenLegendIds=t.mapToIds(t.data.targets)))},l.updateLegendWithDefaults=function(){var t=this;t.updateLegend(t.mapToIds(t.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},l.updateSizeForLegend=function(t,e){var n=this,i=n.config,r={top:n.isLegendTop?n.getCurrentPaddingTop()+i.legend_inset_y+5.5:n.currentHeight-t-n.getCurrentPaddingBottom()-i.legend_inset_y,left:n.isLegendLeft?n.getCurrentPaddingLeft()+i.legend_inset_x+.5:n.currentWidth-e-n.getCurrentPaddingRight()-i.legend_inset_x+.5};n.margin3={top:n.isLegendRight?0:n.isLegendInset?r.top:n.currentHeight-t,right:NaN,bottom:0,left:n.isLegendRight?n.currentWidth-e:n.isLegendInset?r.left:0}},l.transformLegend=function(t){var e=this;(t?e.legend.transition():e.legend).attr("transform",e.getTranslate("legend"))},l.updateLegendStep=function(t){this.legendStep=t},l.updateLegendItemWidth=function(t){this.legendItemWidth=t},l.updateLegendItemHeight=function(t){this.legendItemHeight=t},l.getLegendWidth=function(){var t=this;return t.config.legend_show?t.isLegendRight||t.isLegendInset?t.legendItemWidth*(t.legendStep+1):t.currentWidth:0},l.getLegendHeight=function(){var t=this,e=0;return t.config.legend_show&&(e=t.isLegendRight?t.currentHeight:Math.max(20,t.legendItemHeight)*(t.legendStep+1)),e},l.opacityForLegend=function(t){return t.classed(h.legendItemHidden)?null:1},l.opacityForUnfocusedLegend=function(t){return t.classed(h.legendItemHidden)?null:.3},l.toggleFocusLegend=function(t,e){var n=this;t=n.mapToTargetIds(t),n.legend.selectAll("."+h.legendItem).filter(function(e){return t.indexOf(e)>=0}).classed(h.legendItemFocused,e).transition().duration(100).style("opacity",function(){var t=e?n.opacityForLegend:n.opacityForUnfocusedLegend;return t.call(n,n.d3.select(this))})},l.revertLegend=function(){var t=this,e=t.d3;t.legend.selectAll("."+h.legendItem).classed(h.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return t.opacityForLegend(e.select(this))})},l.showLegend=function(t){var e=this,n=e.config;n.legend_show||(n.legend_show=!0,e.legend.style("visibility","visible"),e.legendHasRendered||e.updateLegendWithDefaults()),e.removeHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("visibility","visible").transition().style("opacity",function(){return e.opacityForLegend(e.d3.select(this))})},l.hideLegend=function(t){var e=this,n=e.config;n.legend_show&&w(t)&&(n.legend_show=!1,e.legend.style("visibility","hidden")),e.addHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("opacity",0).style("visibility","hidden")},l.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},l.updateLegend=function(t,e,n){function i(t,e){return w.legendItemTextBox[e]||(w.legendItemTextBox[e]=w.getTextRect(t.textContent,h.legendItem)),w.legendItemTextBox[e]}function r(e,n,r){function o(t,e){e||(s=(p-D-f)/2,S>s&&(s=(p-f)/2,D=0,P++)),O[t]=P,L[P]=w.isLegendInset?10:s,T[t]=D,D+=f}var s,a,l=0===r,u=r===t.length-1,c=i(e,n),h=c.width+k+(!u||w.isLegendRight||w.isLegendInset?C:0),d=c.height+$,f=w.isLegendRight||w.isLegendInset?d:h,p=w.isLegendRight||w.isLegendInset?w.getLegendHeight():w.getLegendWidth();return l&&(D=0,P=0,A=0,E=0),x.legend_show&&!w.isLegendToShow(n)?void(F[n]=M[n]=O[n]=T[n]=0):(F[n]=h,M[n]=d,(!A||h>=A)&&(A=h),(!E||d>=E)&&(E=d),a=w.isLegendRight||w.isLegendInset?E:A,void(x.legend_equally?(Object.keys(F).forEach(function(t){F[t]=A}),Object.keys(M).forEach(function(t){M[t]=E}),s=(p-a*t.length)/2,S>s?(D=0,P=0,t.forEach(function(t){o(t)})):o(n,!0)):o(n)))}var o,s,a,l,u,c,d,f,p,g,v,y,b,w=this,x=w.config,$=4,C=10,A=0,E=0,S=10,k=15,D=0,T={},F={},M={},L=[0],O={},P=0;e=e||{},f=_(e,"withTransition",!0),p=_(e,"withTransitionForTransform",!0),w.isLegendInset&&(P=x.legend_inset_step?x.legend_inset_step:t.length,w.updateLegendStep(P)),w.isLegendRight?(o=function(t){return A*O[t]},l=function(t){return L[O[t]]+T[t]}):w.isLegendInset?(o=function(t){return A*O[t]+10},l=function(t){return L[O[t]]+T[t]}):(o=function(t){return L[O[t]]+T[t]},l=function(t){return E*O[t]}),s=function(t,e){return o(t,e)+14},u=function(t,e){return l(t,e)+9},a=function(t,e){return o(t,e)},c=function(t,e){return l(t,e)-5},d=w.legend.selectAll("."+h.legendItem).data(t).enter().append("g").attr("class",function(t){return w.generateClass(h.legendItem,t)}).style("visibility",function(t){return w.isLegendToShow(t)?"visible":"hidden"}).style("cursor","pointer").on("click",function(t){x.legend_item_onclick?x.legend_item_onclick.call(w,t):w.d3.event.altKey?(w.api.hide(),w.api.show(t)):(w.api.toggle(t),w.isTargetToShow(t)?w.api.focus(t):w.api.revert())}).on("mouseover",function(t){w.d3.select(this).classed(h.legendItemFocused,!0),!w.transiting&&w.isTargetToShow(t)&&w.api.focus(t),x.legend_item_onmouseover&&x.legend_item_onmouseover.call(w,t)}).on("mouseout",function(t){w.d3.select(this).classed(h.legendItemFocused,!1),w.api.revert(),x.legend_item_onmouseout&&x.legend_item_onmouseout.call(w,t)}),d.append("text").text(function(t){return m(x.data_names[t])?x.data_names[t]:t}).each(function(t,e){r(this,t,e)}).style("pointer-events","none").attr("x",w.isLegendRight||w.isLegendInset?s:-200).attr("y",w.isLegendRight||w.isLegendInset?-200:u),d.append("rect").attr("class",h.legendItemEvent).style("fill-opacity",0).attr("x",w.isLegendRight||w.isLegendInset?a:-200).attr("y",w.isLegendRight||w.isLegendInset?-200:c),d.append("rect").attr("class",h.legendItemTile).style("pointer-events","none").style("fill",w.color).attr("x",w.isLegendRight||w.isLegendInset?s:-200).attr("y",w.isLegendRight||w.isLegendInset?-200:l).attr("width",10).attr("height",10),b=w.legend.select("."+h.legendBackground+" rect"),w.isLegendInset&&A>0&&0===b.size()&&(b=w.legend.insert("g","."+h.legendItem).attr("class",h.legendBackground).append("rect")),g=w.legend.selectAll("text").data(t).text(function(t){return m(x.data_names[t])?x.data_names[t]:t}).each(function(t,e){r(this,t,e)}),(f?g.transition():g).attr("x",s).attr("y",u),v=w.legend.selectAll("rect."+h.legendItemEvent).data(t),(f?v.transition():v).attr("width",function(t){return F[t]}).attr("height",function(t){return M[t]}).attr("x",a).attr("y",c),y=w.legend.selectAll("rect."+h.legendItemTile).data(t),(f?y.transition():y).style("fill",w.color).attr("x",o).attr("y",l),b&&(f?b.transition():b).attr("height",w.getLegendHeight()-12).attr("width",A*(P+1)+10),w.legend.selectAll("."+h.legendItem).classed(h.legendItemHidden,function(t){return!w.isTargetToShow(t)}),w.updateLegendItemWidth(A),w.updateLegendItemHeight(E),w.updateLegendStep(P),w.updateSizes(),w.updateScales(),w.updateSvgSize(),w.transformAll(p,n),w.legendHasRendered=!0},n(e,o),o.prototype.init=function(){var t=this.owner,e=t.config,n=t.main;t.axes.x=n.append("g").attr("class",h.axis+" "+h.axisX).attr("clip-path",t.clipPathForXAxis).attr("transform",t.getTranslate("x")).style("visibility",e.axis_x_show?"visible":"hidden"),t.axes.x.append("text").attr("class",h.axisXLabel).attr("transform",e.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),t.axes.y=n.append("g").attr("class",h.axis+" "+h.axisY).attr("clip-path",e.axis_y_inner?"":t.clipPathForYAxis).attr("transform",t.getTranslate("y")).style("visibility",e.axis_y_show?"visible":"hidden"),t.axes.y.append("text").attr("class",h.axisYLabel).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),t.axes.y2=n.append("g").attr("class",h.axis+" "+h.axisY2).attr("transform",t.getTranslate("y2")).style("visibility",e.axis_y2_show?"visible":"hidden"),t.axes.y2.append("text").attr("class",h.axisY2Label).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},o.prototype.getXAxis=function(t,e,n,i,r,o,a){var l=this.owner,u=l.config,c={isCategory:l.isCategorized(),withOuterTick:r,tickMultiline:u.axis_x_tick_multiline,tickWidth:u.axis_x_tick_width,tickTextRotate:a?0:u.axis_x_tick_rotate,withoutTransition:o},h=s(l.d3,c).scale(t).orient(e);return l.isTimeSeries()&&i&&(i=i.map(function(t){return l.parseDate(t)})),h.tickFormat(n).tickValues(i),l.isCategorized()&&(h.tickCentered(u.axis_x_tick_centered),w(u.axis_x_tick_culling)&&(u.axis_x_tick_culling=!1)),h},o.prototype.updateXAxisTickValues=function(t,e){var n,i=this.owner,r=i.config;return(r.axis_x_tick_fit||r.axis_x_tick_count)&&(n=this.generateTickValues(i.mapTargetsToUniqueXs(t),r.axis_x_tick_count,i.isTimeSeries())),e?e.tickValues(n):(i.xAxis.tickValues(n),i.subXAxis.tickValues(n)),n},o.prototype.getYAxis=function(t,e,n,i,r,o){var a={withOuterTick:r,withoutTransition:o},l=this.owner,u=l.d3,c=l.config,h=s(u,a).scale(t).orient(e).tickFormat(n);return l.isTimeSeriesY()?h.ticks(u.time[c.axis_y_tick_time_value],c.axis_y_tick_time_interval):h.tickValues(i),h},o.prototype.getId=function(t){var e=this.owner.config;return t in e.data_axes?e.data_axes[t]:"y"},o.prototype.getXAxisTickFormat=function(){var t=this.owner,e=t.config,n=t.isTimeSeries()?t.defaultAxisTimeFormat:t.isCategorized()?t.categoryName:function(t){return 0>t?t.toFixed(0):t};return e.axis_x_tick_format&&(f(e.axis_x_tick_format)?n=e.axis_x_tick_format:t.isTimeSeries()&&(n=function(n){return n?t.axisTimeFormat(e.axis_x_tick_format)(n):""})),f(n)?function(e){return n.call(t,e)}:n},o.prototype.getTickValues=function(t,e){return t?t:e?e.tickValues():void 0},o.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},o.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},o.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},o.prototype.getLabelOptionByAxisId=function(t){var e,n=this.owner,i=n.config;return"y"===t?e=i.axis_y_label:"y2"===t?e=i.axis_y2_label:"x"===t&&(e=i.axis_x_label),e},o.prototype.getLabelText=function(t){var e=this.getLabelOptionByAxisId(t);return p(e)?e:e?e.text:null},o.prototype.setLabelText=function(t,e){var n=this.owner,i=n.config,r=this.getLabelOptionByAxisId(t);p(r)?"y"===t?i.axis_y_label=e:"y2"===t?i.axis_y2_label=e:"x"===t&&(i.axis_x_label=e):r&&(r.text=e)},o.prototype.getLabelPosition=function(t,e){var n=this.getLabelOptionByAxisId(t),i=n&&"object"==typeof n&&n.position?n.position:e;return{isInner:i.indexOf("inner")>=0,isOuter:i.indexOf("outer")>=0,isLeft:i.indexOf("left")>=0,isCenter:i.indexOf("center")>=0,isRight:i.indexOf("right")>=0,isTop:i.indexOf("top")>=0,isMiddle:i.indexOf("middle")>=0,isBottom:i.indexOf("bottom")>=0}},o.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},o.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},o.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},o.prototype.getLabelPositionById=function(t){return"y2"===t?this.getY2AxisLabelPosition():"y"===t?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},o.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},o.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},o.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},o.prototype.xForAxisLabel=function(t,e){var n=this.owner;return t?e.isLeft?0:e.isCenter?n.width/2:n.width:e.isBottom?-n.height:e.isMiddle?-n.height/2:0},o.prototype.dxForAxisLabel=function(t,e){return t?e.isLeft?"0.5em":e.isRight?"-0.5em":"0":e.isTop?"-0.5em":e.isBottom?"0.5em":"0"},o.prototype.textAnchorForAxisLabel=function(t,e){return t?e.isLeft?"start":e.isCenter?"middle":"end":e.isBottom?"start":e.isMiddle?"middle":"end"},o.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},o.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},o.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},o.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},o.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},o.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},o.prototype.dyForXAxisLabel=function(){var t=this.owner,e=t.config,n=this.getXAxisLabelPosition();return e.axis_rotated?n.isInner?"1.2em":-25-this.getMaxTickWidth("x"):n.isInner?"-0.5em":e.axis_x_height?e.axis_x_height-10:"3em"},o.prototype.dyForYAxisLabel=function(){var t=this.owner,e=this.getYAxisLabelPosition();return t.config.axis_rotated?e.isInner?"-0.5em":"3em":e.isInner?"1.2em":-10-(t.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},o.prototype.dyForY2AxisLabel=function(){var t=this.owner,e=this.getY2AxisLabelPosition();return t.config.axis_rotated?e.isInner?"1.2em":"-2.2em":e.isInner?"-0.5em":15+(t.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},o.prototype.textAnchorForXAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(!t.config.axis_rotated,this.getXAxisLabelPosition())},o.prototype.textAnchorForYAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getYAxisLabelPosition())},o.prototype.textAnchorForY2AxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getY2AxisLabelPosition())},o.prototype.getMaxTickWidth=function(t,e){var n,i,r,o,s,a=this.owner,l=a.config,u=0;return e&&a.currentMaxTickWidths[t]?a.currentMaxTickWidths[t]:(a.svg&&(n=a.filterTargetsToShow(a.data.targets),"y"===t?(i=a.y.copy().domain(a.getYDomain(n,"y")),r=this.getYAxis(i,a.yOrient,l.axis_y_tick_format,a.yAxisTickValues,!1,!0)):"y2"===t?(i=a.y2.copy().domain(a.getYDomain(n,"y2")),r=this.getYAxis(i,a.y2Orient,l.axis_y2_tick_format,a.y2AxisTickValues,!1,!0)):(i=a.x.copy().domain(a.getXDomain(n)),r=this.getXAxis(i,a.xOrient,a.xAxisTickFormat,a.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(n,r)),o=a.d3.select("body").append("div").classed("c3",!0),s=o.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),s.append("g").call(r).each(function(){a.d3.select(this).selectAll("text").each(function(){var t=this.getBoundingClientRect();u<t.width&&(u=t.width)}),o.remove()})),a.currentMaxTickWidths[t]=0>=u?a.currentMaxTickWidths[t]:u,a.currentMaxTickWidths[t])},o.prototype.updateLabels=function(t){var e=this.owner,n=e.main.select("."+h.axisX+" ."+h.axisXLabel),i=e.main.select("."+h.axisY+" ."+h.axisYLabel),r=e.main.select("."+h.axisY2+" ."+h.axisY2Label);(t?n.transition():n).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(t?i.transition():i).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(t?r.transition():r).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},o.prototype.getPadding=function(t,e,n,i){return d(t[e])?"ratio"===t.unit?t[e]*i:this.convertPixelsToAxisPadding(t[e],i):n},o.prototype.convertPixelsToAxisPadding=function(t,e){var n=this.owner,i=n.config.axis_rotated?n.width:n.height;return e*(t/i)},o.prototype.generateTickValues=function(t,e,n){var i,r,o,s,a,l,u,c=t;if(e)if(i=f(e)?e():e,1===i)c=[t[0]];else if(2===i)c=[t[0],t[t.length-1]];else if(i>2){for(s=i-2,r=t[0],o=t[t.length-1],a=(o-r)/(s+1),c=[r],l=0;s>l;l++)u=+r+a*(l+1),c.push(n?new Date(u):u);c.push(o)}return n||(c=c.sort(function(t,e){return t-e})),c},o.prototype.generateTransitions=function(t){var e=this.owner,n=e.axes;return{axisX:t?n.x.transition().duration(t):n.x,axisY:t?n.y.transition().duration(t):n.y,axisY2:t?n.y2.transition().duration(t):n.y2,axisSubX:t?n.subx.transition().duration(t):n.subx}},o.prototype.redraw=function(t,e){var n=this.owner;n.axes.x.style("opacity",e?0:1),n.axes.y.style("opacity",e?0:1),n.axes.y2.style("opacity",e?0:1),n.axes.subx.style("opacity",e?0:1),t.axisX.call(n.xAxis),t.axisY.call(n.yAxis),t.axisY2.call(n.y2Axis),t.axisSubX.call(n.subXAxis)},l.getClipPath=function(e){var n=t.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0;return"url("+(n?"":document.URL.split("#")[0])+"#"+e+")"},l.appendClip=function(t,e){return t.append("clipPath").attr("id",e).append("rect")},l.getAxisClipX=function(t){var e=Math.max(30,this.margin.left);return t?-(1+e):-(e-1)},l.getAxisClipY=function(t){return t?-20:-this.margin.top},l.getXAxisClipX=function(){var t=this;return t.getAxisClipX(!t.config.axis_rotated)},l.getXAxisClipY=function(){var t=this;return t.getAxisClipY(!t.config.axis_rotated)},l.getYAxisClipX=function(){var t=this;return t.config.axis_y_inner?-1:t.getAxisClipX(t.config.axis_rotated)},l.getYAxisClipY=function(){var t=this;return t.getAxisClipY(t.config.axis_rotated)},l.getAxisClipWidth=function(t){var e=this,n=Math.max(30,e.margin.left),i=Math.max(30,e.margin.right);return t?e.width+2+n+i:e.margin.left+20},l.getAxisClipHeight=function(t){return(t?this.margin.bottom:this.margin.top+this.height)+20},l.getXAxisClipWidth=function(){var t=this;return t.getAxisClipWidth(!t.config.axis_rotated)},l.getXAxisClipHeight=function(){var t=this;return t.getAxisClipHeight(!t.config.axis_rotated)},l.getYAxisClipWidth=function(){var t=this;return t.getAxisClipWidth(t.config.axis_rotated)+(t.config.axis_y_inner?20:0)},l.getYAxisClipHeight=function(){var t=this;return t.getAxisClipHeight(t.config.axis_rotated)},l.initPie=function(){var t=this,e=t.d3,n=t.config;t.pie=e.layout.pie().value(function(t){return t.values.reduce(function(t,e){return t+e.value},0)}),n.data_order||t.pie.sort(null)},l.updateRadius=function(){var t=this,e=t.config,n=e.gauge_width||e.donut_width;t.radiusExpanded=Math.min(t.arcWidth,t.arcHeight)/2,t.radius=.95*t.radiusExpanded,t.innerRadiusRatio=n?(t.radius-n)/t.radius:.6,t.innerRadius=t.hasType("donut")||t.hasType("gauge")?t.radius*t.innerRadiusRatio:0},l.updateArc=function(){var t=this;t.svgArc=t.getSvgArc(),t.svgArcExpanded=t.getSvgArcExpanded(),t.svgArcExpandedSub=t.getSvgArcExpanded(.98)},l.updateAngle=function(t){var e,n,i=this,r=i.config,o=!1,s=0,a=r.gauge_min,l=r.gauge_max;return i.pie(i.filterTargetsToShow(i.data.targets)).forEach(function(e){o||e.data.id!==t.data.id||(o=!0,t=e,t.index=s),s++}),isNaN(t.startAngle)&&(t.startAngle=0),isNaN(t.endAngle)&&(t.endAngle=t.startAngle),i.isGaugeType(t.data)&&(e=Math.PI/(l-a),n=t.value<a?0:t.value<l?t.value-a:l-a,t.startAngle=-1*(Math.PI/2),t.endAngle=t.startAngle+e*n),o?t:null},l.getSvgArc=function(){var t=this,e=t.d3.svg.arc().outerRadius(t.radius).innerRadius(t.innerRadius),n=function(n,i){var r;return i?e(n):(r=t.updateAngle(n),r?e(r):"M 0 0")};return n.centroid=e.centroid,n},l.getSvgArcExpanded=function(t){var e=this,n=e.d3.svg.arc().outerRadius(e.radiusExpanded*(t?t:1)).innerRadius(e.innerRadius);return function(t){var i=e.updateAngle(t);return i?n(i):"M 0 0"}},l.getArc=function(t,e,n){return n||this.isArcType(t.data)?this.svgArc(t,e):"M 0 0"},l.transformForArcLabel=function(t){var e,n,i,r,o,s=this,a=s.updateAngle(t),l="";return a&&!s.hasType("gauge")&&(e=this.svgArc.centroid(a),n=isNaN(e[0])?0:e[0],i=isNaN(e[1])?0:e[1],r=Math.sqrt(n*n+i*i),o=s.radius&&r?(36/s.radius>.375?1.175-36/s.radius:.8)*s.radius/r:0,l="translate("+n*o+","+i*o+")"),l},l.getArcRatio=function(t){var e=this,n=e.hasType("gauge")?Math.PI:2*Math.PI;return t?(t.endAngle-t.startAngle)/n:null},l.convertToArcData=function(t){return this.addName({id:t.data.id,value:t.value,ratio:this.getArcRatio(t),index:t.index})},l.textForArcLabel=function(t){var e,n,i,r,o,s=this;return s.shouldShowArcLabel()?(e=s.updateAngle(t),n=e?e.value:null,i=s.getArcRatio(e),r=t.data.id,s.hasType("gauge")||s.meetsArcLabelThreshold(i)?(o=s.getArcLabelFormat(),o?o(n,i,r):s.defaultArcValueFormat(n,i)):""):""},l.expandArc=function(e){var n,i=this;return i.transiting?void(n=t.setInterval(function(){i.transiting||(t.clearInterval(n),i.legend.selectAll(".c3-legend-item-focused").size()>0&&i.expandArc(e))},10)):(e=i.mapToTargetIds(e),void i.svg.selectAll(i.selectorTargets(e,"."+h.chartArc)).each(function(t){i.shouldExpand(t.data.id)&&i.d3.select(this).selectAll("path").transition().duration(50).attr("d",i.svgArcExpanded).transition().duration(100).attr("d",i.svgArcExpandedSub).each(function(t){i.isDonutType(t.data)})}))},l.unexpandArc=function(t){var e=this;e.transiting||(t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t,"."+h.chartArc)).selectAll("path").transition().duration(50).attr("d",e.svgArc),e.svg.selectAll("."+h.arc).style("opacity",1))},l.shouldExpand=function(t){var e=this,n=e.config;return e.isDonutType(t)&&n.donut_expand||e.isGaugeType(t)&&n.gauge_expand||e.isPieType(t)&&n.pie_expand},l.shouldShowArcLabel=function(){var t=this,e=t.config,n=!0;return t.hasType("donut")?n=e.donut_label_show:t.hasType("pie")&&(n=e.pie_label_show),n},l.meetsArcLabelThreshold=function(t){var e=this,n=e.config,i=e.hasType("donut")?n.donut_label_threshold:n.pie_label_threshold;return t>=i},l.getArcLabelFormat=function(){var t=this,e=t.config,n=e.pie_label_format;return t.hasType("gauge")?n=e.gauge_label_format:t.hasType("donut")&&(n=e.donut_label_format),n},l.getArcTitle=function(){var t=this;return t.hasType("donut")?t.config.donut_title:""},l.updateTargetsForArc=function(t){var e,n,i=this,r=i.main,o=i.classChartArc.bind(i),s=i.classArcs.bind(i),a=i.classFocus.bind(i);e=r.select("."+h.chartArcs).selectAll("."+h.chartArc).data(i.pie(t)).attr("class",function(t){return o(t)+a(t.data)}),n=e.enter().append("g").attr("class",o),n.append("g").attr("class",s),n.append("text").attr("dy",i.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},l.initArc=function(){var t=this;t.arcs=t.main.select("."+h.chart).append("g").attr("class",h.chartArcs).attr("transform",t.getTranslate("arc")),t.arcs.append("text").attr("class",h.chartArcsTitle).style("text-anchor","middle").text(t.getArcTitle())},l.redrawArc=function(t,e,n){var i,r=this,o=r.d3,s=r.config,a=r.main;i=a.selectAll("."+h.arcs).selectAll("."+h.arc).data(r.arcData.bind(r)),i.enter().append("path").attr("class",r.classArc.bind(r)).style("fill",function(t){return r.color(t.data)}).style("cursor",function(t){return s.interaction_enabled&&s.data_selection_isselectable(t)?"pointer":null}).style("opacity",0).each(function(t){r.isGaugeType(t.data)&&(t.startAngle=t.endAngle=-1*(Math.PI/2)),this._current=t}),i.attr("transform",function(t){return!r.isGaugeType(t.data)&&n?"scale(0)":""}).style("opacity",function(t){return t===this._current?0:1}).on("mouseover",s.interaction_enabled?function(t){var e,n;r.transiting||(e=r.updateAngle(t),n=r.convertToArcData(e),r.expandArc(e.data.id),r.api.focus(e.data.id),r.toggleFocusLegend(e.data.id,!0),r.config.data_onmouseover(n,this))}:null).on("mousemove",s.interaction_enabled?function(t){var e=r.updateAngle(t),n=r.convertToArcData(e),i=[n];r.showTooltip(i,this)}:null).on("mouseout",s.interaction_enabled?function(t){var e,n;r.transiting||(e=r.updateAngle(t),n=r.convertToArcData(e),r.unexpandArc(e.data.id),r.api.revert(),r.revertLegend(),r.hideTooltip(),r.config.data_onmouseout(n,this))}:null).on("click",s.interaction_enabled?function(t,e){var n=r.updateAngle(t),i=r.convertToArcData(n);r.toggleShape&&r.toggleShape(this,i,e),r.config.data_onclick.call(r.api,i,this)}:null).each(function(){r.transiting=!0}).transition().duration(t).attrTween("d",function(t){var e,n=r.updateAngle(t);return n?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),e=o.interpolate(this._current,n),this._current=e(0),function(n){var i=e(n);return i.data=t.data,r.getArc(i,!0)}):function(){return"M 0 0"}}).attr("transform",n?"scale(1)":"").style("fill",function(t){return r.levelColor?r.levelColor(t.data.values[0].value):r.color(t.data.id)}).style("opacity",1).call(r.endall,function(){r.transiting=!1}),i.exit().transition().duration(e).style("opacity",0).remove(),a.selectAll("."+h.chartArc).select("text").style("opacity",0).attr("class",function(t){return r.isGaugeType(t.data)?h.gaugeValue:""}).text(r.textForArcLabel.bind(r)).attr("transform",r.transformForArcLabel.bind(r)).style("font-size",function(t){return r.isGaugeType(t.data)?Math.round(r.radius/5)+"px":""}).transition().duration(t).style("opacity",function(t){return r.isTargetToShow(t.data.id)&&r.isArcType(t.data)?1:0}),a.select("."+h.chartArcsTitle).style("opacity",r.hasType("donut")||r.hasType("gauge")?1:0),r.hasType("gauge")&&(r.arcs.select("."+h.chartArcsBackground).attr("d",function(){var t={data:[{value:s.gauge_max}],startAngle:-1*(Math.PI/2),endAngle:Math.PI/2};return r.getArc(t,!0,!0)}),r.arcs.select("."+h.chartArcsGaugeUnit).attr("dy",".75em").text(s.gauge_label_show?s.gauge_units:""),r.arcs.select("."+h.chartArcsGaugeMin).attr("dx",-1*(r.innerRadius+(r.radius-r.innerRadius)/2)+"px").attr("dy","1.2em").text(s.gauge_label_show?s.gauge_min:""),
r.arcs.select("."+h.chartArcsGaugeMax).attr("dx",r.innerRadius+(r.radius-r.innerRadius)/2+"px").attr("dy","1.2em").text(s.gauge_label_show?s.gauge_max:""))},l.initGauge=function(){var t=this.arcs;this.hasType("gauge")&&(t.append("path").attr("class",h.chartArcsBackground),t.append("text").attr("class",h.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",h.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",h.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},l.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},l.initRegion=function(){var t=this;t.region=t.main.append("g").attr("clip-path",t.clipPath).attr("class",h.regions)},l.updateRegion=function(t){var e=this,n=e.config;e.region.style("visibility",e.hasArcType()?"hidden":"visible"),e.mainRegion=e.main.select("."+h.regions).selectAll("."+h.region).data(n.regions),e.mainRegion.enter().append("g").attr("class",e.classRegion.bind(e)).append("rect").style("fill-opacity",0),e.mainRegion.exit().transition().duration(t).style("opacity",0).remove()},l.redrawRegion=function(t){var e=this,n=e.mainRegion.selectAll("rect"),i=e.regionX.bind(e),r=e.regionY.bind(e),o=e.regionWidth.bind(e),s=e.regionHeight.bind(e);return[(t?n.transition():n).attr("x",i).attr("y",r).attr("width",o).attr("height",s).style("fill-opacity",function(t){return d(t.opacity)?t.opacity:.1})]},l.regionX=function(t){var e,n=this,i=n.config,r="y"===t.axis?n.y:n.y2;return e="y"===t.axis||"y2"===t.axis?i.axis_rotated&&"start"in t?r(t.start):0:i.axis_rotated?0:"start"in t?n.x(n.isTimeSeries()?n.parseDate(t.start):t.start):0},l.regionY=function(t){var e,n=this,i=n.config,r="y"===t.axis?n.y:n.y2;return e="y"===t.axis||"y2"===t.axis?i.axis_rotated?0:"end"in t?r(t.end):0:i.axis_rotated&&"start"in t?n.x(n.isTimeSeries()?n.parseDate(t.start):t.start):0},l.regionWidth=function(t){var e,n=this,i=n.config,r=n.regionX(t),o="y"===t.axis?n.y:n.y2;return e="y"===t.axis||"y2"===t.axis?i.axis_rotated&&"end"in t?o(t.end):n.width:i.axis_rotated?n.width:"end"in t?n.x(n.isTimeSeries()?n.parseDate(t.end):t.end):n.width,r>e?0:e-r},l.regionHeight=function(t){var e,n=this,i=n.config,r=this.regionY(t),o="y"===t.axis?n.y:n.y2;return e="y"===t.axis||"y2"===t.axis?i.axis_rotated?n.height:"start"in t?o(t.start):n.height:i.axis_rotated&&"end"in t?n.x(n.isTimeSeries()?n.parseDate(t.end):t.end):n.height,r>e?0:e-r},l.isRegionOnX=function(t){return!t.axis||"x"===t.axis},l.drag=function(t){var e,n,i,r,o,s,a,l,u=this,c=u.config,d=u.main,f=u.d3;u.hasArcType()||c.data_selection_enabled&&(!c.zoom_enabled||u.zoom.altDomain)&&c.data_selection_multiple&&(e=u.dragStart[0],n=u.dragStart[1],i=t[0],r=t[1],o=Math.min(e,i),s=Math.max(e,i),a=c.data_selection_grouped?u.margin.top:Math.min(n,r),l=c.data_selection_grouped?u.height:Math.max(n,r),d.select("."+h.dragarea).attr("x",o).attr("y",a).attr("width",s-o).attr("height",l-a),d.selectAll("."+h.shapes).selectAll("."+h.shape).filter(function(t){return c.data_selection_isselectable(t)}).each(function(t,e){var n,i,r,c,d,p,g=f.select(this),m=g.classed(h.SELECTED),v=g.classed(h.INCLUDED),y=!1;if(g.classed(h.circle))n=1*g.attr("cx"),i=1*g.attr("cy"),d=u.togglePoint,y=n>o&&s>n&&i>a&&l>i;else{if(!g.classed(h.bar))return;p=C(this),n=p.x,i=p.y,r=p.width,c=p.height,d=u.togglePath,y=!(n>s||o>n+r||i>l||a>i+c)}y^v&&(g.classed(h.INCLUDED,!v),g.classed(h.SELECTED,!m),d.call(u,!m,g,t,e))}))},l.dragstart=function(t){var e=this,n=e.config;e.hasArcType()||n.data_selection_enabled&&(e.dragStart=t,e.main.select("."+h.chart).append("rect").attr("class",h.dragarea).style("opacity",.1),e.dragging=!0)},l.dragend=function(){var t=this,e=t.config;t.hasArcType()||e.data_selection_enabled&&(t.main.select("."+h.dragarea).transition().duration(100).style("opacity",0).remove(),t.main.selectAll("."+h.shape).classed(h.INCLUDED,!1),t.dragging=!1)},l.selectPoint=function(t,e,n){var i=this,r=i.config,o=(r.axis_rotated?i.circleY:i.circleX).bind(i),s=(r.axis_rotated?i.circleX:i.circleY).bind(i),a=i.pointSelectR.bind(i);r.data_onselected.call(i.api,e,t.node()),i.main.select("."+h.selectedCircles+i.getTargetSelectorSuffix(e.id)).selectAll("."+h.selectedCircle+"-"+n).data([e]).enter().append("circle").attr("class",function(){return i.generateClass(h.selectedCircle,n)}).attr("cx",o).attr("cy",s).attr("stroke",function(){return i.color(e)}).attr("r",function(t){return 1.4*i.pointSelectR(t)}).transition().duration(100).attr("r",a)},l.unselectPoint=function(t,e,n){var i=this;i.config.data_onunselected(e,t.node()),i.main.select("."+h.selectedCircles+i.getTargetSelectorSuffix(e.id)).selectAll("."+h.selectedCircle+"-"+n).transition().duration(100).attr("r",0).remove()},l.togglePoint=function(t,e,n,i){t?this.selectPoint(e,n,i):this.unselectPoint(e,n,i)},l.selectPath=function(t,e){var n=this;n.config.data_onselected.call(n,e,t.node()),t.transition().duration(100).style("fill",function(){return n.d3.rgb(n.color(e)).brighter(.75)})},l.unselectPath=function(t,e){var n=this;n.config.data_onunselected.call(n,e,t.node()),t.transition().duration(100).style("fill",function(){return n.color(e)})},l.togglePath=function(t,e,n,i){t?this.selectPath(e,n,i):this.unselectPath(e,n,i)},l.getToggle=function(t,e){var n,i=this;return"circle"===t.nodeName?n=i.isStepType(e)?function(){}:i.togglePoint:"path"===t.nodeName&&(n=i.togglePath),n},l.toggleShape=function(t,e,n){var i=this,r=i.d3,o=i.config,s=r.select(t),a=s.classed(h.SELECTED),l=i.getToggle(t,e).bind(i);o.data_selection_enabled&&o.data_selection_isselectable(e)&&(o.data_selection_multiple||i.main.selectAll("."+h.shapes+(o.data_selection_grouped?i.getTargetSelectorSuffix(e.id):"")).selectAll("."+h.shape).each(function(t,e){var n=r.select(this);n.classed(h.SELECTED)&&l(!1,n.classed(h.SELECTED,!1),t,e)}),s.classed(h.SELECTED,!a),l(!a,s,e,n))},l.initBrush=function(){var t=this,e=t.d3;t.brush=e.svg.brush().on("brush",function(){t.redrawForBrush()}),t.brush.update=function(){return t.context&&t.context.select("."+h.brush).call(this),this},t.brush.scale=function(e){return t.config.axis_rotated?this.y(e):this.x(e)}},l.initSubchart=function(){var t=this,e=t.config,n=t.context=t.svg.append("g").attr("transform",t.getTranslate("context"));n.style("visibility",e.subchart_show?"visible":"hidden"),n.append("g").attr("clip-path",t.clipPathForSubchart).attr("class",h.chart),n.select("."+h.chart).append("g").attr("class",h.chartBars),n.select("."+h.chart).append("g").attr("class",h.chartLines),n.append("g").attr("clip-path",t.clipPath).attr("class",h.brush).call(t.brush),t.axes.subx=n.append("g").attr("class",h.axisX).attr("transform",t.getTranslate("subx")).attr("clip-path",e.axis_rotated?"":t.clipPathForXAxis)},l.updateTargetsForSubchart=function(t){var e,n,i,r,o=this,s=o.context,a=o.config,l=o.classChartBar.bind(o),u=o.classBars.bind(o),c=o.classChartLine.bind(o),d=o.classLines.bind(o),f=o.classAreas.bind(o);a.subchart_show&&(r=s.select("."+h.chartBars).selectAll("."+h.chartBar).data(t).attr("class",l),i=r.enter().append("g").style("opacity",0).attr("class",l),i.append("g").attr("class",u),n=s.select("."+h.chartLines).selectAll("."+h.chartLine).data(t).attr("class",c),e=n.enter().append("g").style("opacity",0).attr("class",c),e.append("g").attr("class",d),e.append("g").attr("class",f),s.selectAll("."+h.brush+" rect").attr(a.axis_rotated?"width":"height",a.axis_rotated?o.width2:o.height2))},l.updateBarForSubchart=function(t){var e=this;e.contextBar=e.context.selectAll("."+h.bars).selectAll("."+h.bar).data(e.barData.bind(e)),e.contextBar.enter().append("path").attr("class",e.classBar.bind(e)).style("stroke","none").style("fill",e.color),e.contextBar.style("opacity",e.initialOpacity.bind(e)),e.contextBar.exit().transition().duration(t).style("opacity",0).remove()},l.redrawBarForSubchart=function(t,e,n){(e?this.contextBar.transition().duration(n):this.contextBar).attr("d",t).style("opacity",1)},l.updateLineForSubchart=function(t){var e=this;e.contextLine=e.context.selectAll("."+h.lines).selectAll("."+h.line).data(e.lineData.bind(e)),e.contextLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color),e.contextLine.style("opacity",e.initialOpacity.bind(e)),e.contextLine.exit().transition().duration(t).style("opacity",0).remove()},l.redrawLineForSubchart=function(t,e,n){(e?this.contextLine.transition().duration(n):this.contextLine).attr("d",t).style("opacity",1)},l.updateAreaForSubchart=function(t){var e=this,n=e.d3;e.contextArea=e.context.selectAll("."+h.areas).selectAll("."+h.area).data(e.lineData.bind(e)),e.contextArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0}),e.contextArea.style("opacity",0),e.contextArea.exit().transition().duration(t).style("opacity",0).remove()},l.redrawAreaForSubchart=function(t,e,n){(e?this.contextArea.transition().duration(n):this.contextArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)},l.redrawSubchart=function(t,e,n,i,r,o,s){var a,l,u,c=this,h=c.d3,d=c.config;c.context.style("visibility",d.subchart_show?"visible":"hidden"),d.subchart_show&&(h.event&&"zoom"===h.event.type&&c.brush.extent(c.x.orgDomain()).update(),t&&(c.brush.empty()||c.brush.extent(c.x.orgDomain()).update(),a=c.generateDrawArea(r,!0),l=c.generateDrawBar(o,!0),u=c.generateDrawLine(s,!0),c.updateBarForSubchart(n),c.updateLineForSubchart(n),c.updateAreaForSubchart(n),c.redrawBarForSubchart(l,n,n),c.redrawLineForSubchart(u,n,n),c.redrawAreaForSubchart(a,n,n)))},l.redrawForBrush=function(){var t=this,e=t.x;t.redraw({withTransition:!1,withY:t.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),t.config.subchart_onbrush.call(t.api,e.orgDomain())},l.transformContext=function(t,e){var n,i=this;e&&e.axisSubX?n=e.axisSubX:(n=i.context.select("."+h.axisX),t&&(n=n.transition())),i.context.attr("transform",i.getTranslate("context")),n.attr("transform",i.getTranslate("subx"))},l.getDefaultExtent=function(){var t=this,e=t.config,n=f(e.axis_x_extent)?e.axis_x_extent(t.getXDomain(t.data.targets)):e.axis_x_extent;return t.isTimeSeries()&&(n=[t.parseDate(n[0]),t.parseDate(n[1])]),n},l.initZoom=function(){var t,e=this,n=e.d3,i=e.config;e.zoom=n.behavior.zoom().on("zoomstart",function(){t=n.event.sourceEvent,e.zoom.altDomain=n.event.sourceEvent.altKey?e.x.orgDomain():null,i.zoom_onzoomstart.call(e.api,n.event.sourceEvent)}).on("zoom",function(){e.redrawForZoom.call(e)}).on("zoomend",function(){var r=n.event.sourceEvent;r&&t.clientX===r.clientX&&t.clientY===r.clientY||(e.redrawEventRect(),e.updateZoom(),i.zoom_onzoomend.call(e.api,e.x.orgDomain()))}),e.zoom.scale=function(t){return i.axis_rotated?this.y(t):this.x(t)},e.zoom.orgScaleExtent=function(){var t=i.zoom_extent?i.zoom_extent:[1,10];return[t[0],Math.max(e.getMaxDataCount()/t[1],t[1])]},e.zoom.updateScaleExtent=function(){var t=b(e.x.orgDomain())/b(e.orgXDomain),n=this.orgScaleExtent();return this.scaleExtent([n[0]*t,n[1]*t]),this}},l.updateZoom=function(){var t=this,e=t.config.zoom_enabled?t.zoom:function(){};t.main.select("."+h.zoomRect).call(e).on("dblclick.zoom",null),t.main.selectAll("."+h.eventRect).call(e).on("dblclick.zoom",null)},l.redrawForZoom=function(){var t=this,e=t.d3,n=t.config,i=t.zoom,r=t.x;if(n.zoom_enabled&&0!==t.filterTargetsToShow(t.data.targets).length){if("mousemove"===e.event.sourceEvent.type&&i.altDomain)return r.domain(i.altDomain),void i.scale(r).updateScaleExtent();t.isCategorized()&&r.orgDomain()[0]===t.orgXDomain[0]&&r.domain([t.orgXDomain[0]-1e-10,r.orgDomain()[1]]),t.redraw({withTransition:!1,withY:n.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),"mousemove"===e.event.sourceEvent.type&&(t.cancelClick=!0),n.zoom_onzoom.call(t.api,r.orgDomain())}},l.generateColor=function(){var t=this,e=t.config,n=t.d3,i=e.data_colors,r=x(e.color_pattern)?e.color_pattern:n.scale.category10().range(),o=e.data_color,s=[];return function(t){var e,n=t.id||t.data&&t.data.id||t;return i[n]instanceof Function?e=i[n](t):i[n]?e=i[n]:(s.indexOf(n)<0&&s.push(n),e=r[s.indexOf(n)%r.length],i[n]=e),o instanceof Function?o(e,t):e}},l.generateLevelColor=function(){var t=this,e=t.config,n=e.color_pattern,i=e.color_threshold,r="value"===i.unit,o=i.values&&i.values.length?i.values:[],s=i.max||100;return x(e.color_threshold)?function(t){var e,i,a=n[n.length-1];for(e=0;e<o.length;e++)if(i=r?t:100*t/s,i<o[e]){a=n[e];break}return a}:null},l.getYFormat=function(t){var e=this,n=t&&!e.hasType("gauge")?e.defaultArcValueFormat:e.yFormat,i=t&&!e.hasType("gauge")?e.defaultArcValueFormat:e.y2Format;return function(t,r,o){var s="y2"===e.axis.getId(o)?i:n;return s.call(e,t,r)}},l.yFormat=function(t){var e=this,n=e.config,i=n.axis_y_tick_format?n.axis_y_tick_format:e.defaultValueFormat;return i(t)},l.y2Format=function(t){var e=this,n=e.config,i=n.axis_y2_tick_format?n.axis_y2_tick_format:e.defaultValueFormat;return i(t)},l.defaultValueFormat=function(t){return d(t)?+t:""},l.defaultArcValueFormat=function(t,e){return(100*e).toFixed(1)+"%"},l.dataLabelFormat=function(t){var e,n=this,i=n.config.data_labels,r=function(t){return d(t)?+t:""};return e="function"==typeof i.format?i.format:"object"==typeof i.format?i.format[t]?i.format[t]===!0?r:i.format[t]:function(){return""}:r},l.hasCaches=function(t){for(var e=0;e<t.length;e++)if(!(t[e]in this.cache))return!1;return!0},l.addCache=function(t,e){this.cache[t]=this.cloneTarget(e)},l.getCaches=function(t){var e,n=[];for(e=0;e<t.length;e++)t[e]in this.cache&&n.push(this.cloneTarget(this.cache[t[e]]));return n};var h=l.CLASS={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"};l.generateClass=function(t,e){return" "+t+" "+t+this.getTargetSelectorSuffix(e)},l.classText=function(t){return this.generateClass(h.text,t.index)},l.classTexts=function(t){return this.generateClass(h.texts,t.id)},l.classShape=function(t){return this.generateClass(h.shape,t.index)},l.classShapes=function(t){return this.generateClass(h.shapes,t.id)},l.classLine=function(t){return this.classShape(t)+this.generateClass(h.line,t.id)},l.classLines=function(t){return this.classShapes(t)+this.generateClass(h.lines,t.id)},l.classCircle=function(t){return this.classShape(t)+this.generateClass(h.circle,t.index)},l.classCircles=function(t){return this.classShapes(t)+this.generateClass(h.circles,t.id)},l.classBar=function(t){return this.classShape(t)+this.generateClass(h.bar,t.index)},l.classBars=function(t){return this.classShapes(t)+this.generateClass(h.bars,t.id)},l.classArc=function(t){return this.classShape(t.data)+this.generateClass(h.arc,t.data.id)},l.classArcs=function(t){return this.classShapes(t.data)+this.generateClass(h.arcs,t.data.id)},l.classArea=function(t){return this.classShape(t)+this.generateClass(h.area,t.id)},l.classAreas=function(t){return this.classShapes(t)+this.generateClass(h.areas,t.id)},l.classRegion=function(t,e){return this.generateClass(h.region,e)+" "+("class"in t?t["class"]:"")},l.classEvent=function(t){return this.generateClass(h.eventRect,t.index)},l.classTarget=function(t){var e=this,n=e.config.data_classes[t],i="";return n&&(i=" "+h.target+"-"+n),e.generateClass(h.target,t)+i},l.classFocus=function(t){return this.classFocused(t)+this.classDefocused(t)},l.classFocused=function(t){return" "+(this.focusedTargetIds.indexOf(t.id)>=0?h.focused:"")},l.classDefocused=function(t){return" "+(this.defocusedTargetIds.indexOf(t.id)>=0?h.defocused:"")},l.classChartText=function(t){return h.chartText+this.classTarget(t.id)},l.classChartLine=function(t){return h.chartLine+this.classTarget(t.id)},l.classChartBar=function(t){return h.chartBar+this.classTarget(t.id)},l.classChartArc=function(t){return h.chartArc+this.classTarget(t.data.id)},l.getTargetSelectorSuffix=function(t){return t||0===t?("-"+t).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},l.selectorTarget=function(t,e){return(e||"")+"."+h.target+this.getTargetSelectorSuffix(t)},l.selectorTargets=function(t,e){var n=this;return t=t||[],t.length?t.map(function(t){return n.selectorTarget(t,e)}):null},l.selectorLegend=function(t){return"."+h.legendItem+this.getTargetSelectorSuffix(t)},l.selectorLegends=function(t){var e=this;return t&&t.length?t.map(function(t){return e.selectorLegend(t)}):null};var d=l.isValue=function(t){return t||0===t},f=l.isFunction=function(t){return"function"==typeof t},p=l.isString=function(t){return"string"==typeof t},g=l.isUndefined=function(t){return"undefined"==typeof t},m=l.isDefined=function(t){return"undefined"!=typeof t},v=l.ceil10=function(t){return 10*Math.ceil(t/10)},y=l.asHalfPixel=function(t){return Math.ceil(t)+.5},b=l.diffDomain=function(t){return t[1]-t[0]},w=l.isEmpty=function(t){return!t||p(t)&&0===t.length||"object"==typeof t&&0===Object.keys(t).length},x=l.notEmpty=function(t){return Object.keys(t).length>0},_=l.getOption=function(t,e,n){return m(t[e])?t[e]:n},$=l.hasValue=function(t,e){var n=!1;return Object.keys(t).forEach(function(i){t[i]===e&&(n=!0)}),n},C=l.getPathBox=function(t){var e=t.getBoundingClientRect(),n=[t.pathSegList.getItem(0),t.pathSegList.getItem(1)],i=n[0].x,r=Math.min(n[0].y,n[1].y);return{x:i,y:r,width:e.width,height:e.height}};a.focus=function(t){var e,n=this.internal;t=n.mapToTargetIds(t),e=n.svg.selectAll(n.selectorTargets(t.filter(n.isTargetToShow,n))),this.revert(),this.defocus(),e.classed(h.focused,!0).classed(h.defocused,!1),n.hasArcType()&&n.expandArc(t),n.toggleFocusLegend(t,!0),n.focusedTargetIds=t,n.defocusedTargetIds=n.defocusedTargetIds.filter(function(e){return t.indexOf(e)<0})},a.defocus=function(t){var e,n=this.internal;t=n.mapToTargetIds(t),e=n.svg.selectAll(n.selectorTargets(t.filter(n.isTargetToShow,n))),e.classed(h.focused,!1).classed(h.defocused,!0),n.hasArcType()&&n.unexpandArc(t),n.toggleFocusLegend(t,!1),n.focusedTargetIds=n.focusedTargetIds.filter(function(e){return t.indexOf(e)<0}),n.defocusedTargetIds=t},a.revert=function(t){var e,n=this.internal;t=n.mapToTargetIds(t),e=n.svg.selectAll(n.selectorTargets(t)),e.classed(h.focused,!1).classed(h.defocused,!1),n.hasArcType()&&n.unexpandArc(t),n.config.legend_show&&(n.showLegend(t.filter(n.isLegendToShow.bind(n))),n.legend.selectAll(n.selectorLegends(t)).filter(function(){return n.d3.select(this).classed(h.legendItemFocused)}).classed(h.legendItemFocused,!1)),n.focusedTargetIds=[],n.defocusedTargetIds=[]},a.show=function(t,e){var n,i=this.internal;t=i.mapToTargetIds(t),e=e||{},i.removeHiddenTargetIds(t),n=i.svg.selectAll(i.selectorTargets(t)),n.transition().style("opacity",1,"important").call(i.endall,function(){n.style("opacity",null).style("opacity",1)}),e.withLegend&&i.showLegend(t),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},a.hide=function(t,e){var n,i=this.internal;t=i.mapToTargetIds(t),e=e||{},i.addHiddenTargetIds(t),n=i.svg.selectAll(i.selectorTargets(t)),n.transition().style("opacity",0,"important").call(i.endall,function(){n.style("opacity",null).style("opacity",0)}),e.withLegend&&i.hideLegend(t),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},a.toggle=function(t,e){var n=this,i=this.internal;i.mapToTargetIds(t).forEach(function(t){i.isTargetToShow(t)?n.hide(t,e):n.show(t,e)})},a.zoom=function(t){var e=this.internal;return t&&(e.isTimeSeries()&&(t=t.map(function(t){return e.parseDate(t)})),e.brush.extent(t),e.redraw({withUpdateXDomain:!0,withY:e.config.zoom_rescale}),e.config.zoom_onzoom.call(this,e.x.orgDomain())),e.brush.extent()},a.zoom.enable=function(t){var e=this.internal;e.config.zoom_enabled=t,e.updateAndRedraw()},a.unzoom=function(){var t=this.internal;t.brush.clear().update(),t.redraw({withUpdateXDomain:!0})},a.load=function(t){var e=this.internal,n=e.config;return t.xs&&e.addXs(t.xs),"classes"in t&&Object.keys(t.classes).forEach(function(e){n.data_classes[e]=t.classes[e]}),"categories"in t&&e.isCategorized()&&(n.axis_x_categories=t.categories),"axes"in t&&Object.keys(t.axes).forEach(function(e){n.data_axes[e]=t.axes[e]}),"colors"in t&&Object.keys(t.colors).forEach(function(e){n.data_colors[e]=t.colors[e]}),"cacheIds"in t&&e.hasCaches(t.cacheIds)?void e.load(e.getCaches(t.cacheIds),t.done):void("unload"in t?e.unload(e.mapToTargetIds("boolean"==typeof t.unload&&t.unload?null:t.unload),function(){e.loadFromArgs(t)}):e.loadFromArgs(t))},a.unload=function(t){var e=this.internal;t=t||{},t instanceof Array?t={ids:t}:"string"==typeof t&&(t={ids:[t]}),e.unload(e.mapToTargetIds(t.ids),function(){e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),t.done&&t.done()})},a.flow=function(t){var e,n,i,r,o,s,a,l,u=this.internal,c=[],h=u.getMaxDataCount(),f=0,p=0;if(t.json)n=u.convertJsonToData(t.json,t.keys);else if(t.rows)n=u.convertRowsToData(t.rows);else{if(!t.columns)return;n=u.convertColumnsToData(t.columns)}e=u.convertDataToTargets(n,!0),u.data.targets.forEach(function(t){var n,i,r=!1;for(n=0;n<e.length;n++)if(t.id===e[n].id){for(r=!0,t.values[t.values.length-1]&&(p=t.values[t.values.length-1].index+1),f=e[n].values.length,i=0;f>i;i++)e[n].values[i].index=p+i,u.isTimeSeries()||(e[n].values[i].x=p+i);t.values=t.values.concat(e[n].values),e.splice(n,1);break}r||c.push(t.id)}),u.data.targets.forEach(function(t){var e,n;for(e=0;e<c.length;e++)if(t.id===c[e])for(p=t.values[t.values.length-1].index+1,n=0;f>n;n++)t.values.push({id:t.id,index:p+n,x:u.isTimeSeries()?u.getOtherTargetX(p+n):p+n,value:null})}),u.data.targets.length&&e.forEach(function(t){var e,n=[];for(e=u.data.targets[0].values[0].index;p>e;e++)n.push({id:t.id,index:e,x:u.isTimeSeries()?u.getOtherTargetX(e):e,value:null});t.values.forEach(function(t){t.index+=p,u.isTimeSeries()||(t.x+=p)}),t.values=n.concat(t.values)}),u.data.targets=u.data.targets.concat(e),i=u.getMaxDataCount(),o=u.data.targets[0],s=o.values[0],m(t.to)?(f=0,l=u.isTimeSeries()?u.parseDate(t.to):t.to,o.values.forEach(function(t){t.x<l&&f++})):m(t.length)&&(f=t.length),h?1===h&&u.isTimeSeries()&&(a=(o.values[o.values.length-1].x-s.x)/2,r=[new Date(+s.x-a),new Date(+s.x+a)],u.updateXDomain(null,!0,!0,!1,r)):(a=u.isTimeSeries()?o.values.length>1?o.values[o.values.length-1].x-s.x:s.x-u.getXDomain(u.data.targets)[0]:1,r=[s.x-a,s.x],u.updateXDomain(null,!0,!0,!1,r)),u.updateTargets(u.data.targets),u.redraw({flow:{index:s.index,length:f,duration:d(t.duration)?t.duration:u.config.transition_duration,done:t.done,orgDataCount:h},withLegend:!0,withTransition:h>1,withTrimXDomain:!1,withUpdateXAxis:!0})},l.generateFlow=function(t){var e=this,n=e.config,i=e.d3;return function(){var r,o,s,a=t.targets,l=t.flow,u=t.drawBar,c=t.drawLine,d=t.drawArea,f=t.cx,p=t.cy,g=t.xv,m=t.xForText,v=t.yForText,y=t.duration,w=1,x=l.index,_=l.length,$=e.getValueOnIndex(e.data.targets[0].values,x),C=e.getValueOnIndex(e.data.targets[0].values,x+_),A=e.x.domain(),E=l.duration||y,S=l.done||function(){},k=e.generateWait(),D=e.xgrid||i.selectAll([]),T=e.xgridLines||i.selectAll([]),F=e.mainRegion||i.selectAll([]),M=e.mainText||i.selectAll([]),L=e.mainBar||i.selectAll([]),O=e.mainLine||i.selectAll([]),P=e.mainArea||i.selectAll([]),B=e.mainCircle||i.selectAll([]);e.flowing=!0,e.data.targets.forEach(function(t){t.values.splice(0,_)}),s=e.updateXDomain(a,!0,!0),e.updateXGrid&&e.updateXGrid(!0),l.orgDataCount?r=1===l.orgDataCount||$.x===C.x?e.x(A[0])-e.x(s[0]):e.isTimeSeries()?e.x(A[0])-e.x(s[0]):e.x($.x)-e.x(C.x):1!==e.data.targets[0].values.length?r=e.x(A[0])-e.x(s[0]):e.isTimeSeries()?($=e.getValueOnIndex(e.data.targets[0].values,0),C=e.getValueOnIndex(e.data.targets[0].values,e.data.targets[0].values.length-1),r=e.x($.x)-e.x(C.x)):r=b(s)/2,w=b(A)/b(s),o="translate("+r+",0) scale("+w+",1)",e.hideXGridFocus(),e.hideTooltip(),i.transition().ease("linear").duration(E).each(function(){k.add(e.axes.x.transition().call(e.xAxis)),k.add(L.transition().attr("transform",o)),k.add(O.transition().attr("transform",o)),k.add(P.transition().attr("transform",o)),k.add(B.transition().attr("transform",o)),k.add(M.transition().attr("transform",o)),k.add(F.filter(e.isRegionOnX).transition().attr("transform",o)),k.add(D.transition().attr("transform",o)),k.add(T.transition().attr("transform",o))}).call(k,function(){var t,i=[],r=[],o=[];if(_){for(t=0;_>t;t++)i.push("."+h.shape+"-"+(x+t)),r.push("."+h.text+"-"+(x+t)),o.push("."+h.eventRect+"-"+(x+t));e.svg.selectAll("."+h.shapes).selectAll(i).remove(),e.svg.selectAll("."+h.texts).selectAll(r).remove(),e.svg.selectAll("."+h.eventRects).selectAll(o).remove(),e.svg.select("."+h.xgrid).remove()}D.attr("transform",null).attr(e.xgridAttr),T.attr("transform",null),T.select("line").attr("x1",n.axis_rotated?0:g).attr("x2",n.axis_rotated?e.width:g),T.select("text").attr("x",n.axis_rotated?e.width:0).attr("y",g),L.attr("transform",null).attr("d",u),O.attr("transform",null).attr("d",c),P.attr("transform",null).attr("d",d),B.attr("transform",null).attr("cx",f).attr("cy",p),M.attr("transform",null).attr("x",m).attr("y",v).style("fill-opacity",e.opacityForText.bind(e)),F.attr("transform",null),F.select("rect").filter(e.isRegionOnX).attr("x",e.regionX.bind(e)).attr("width",e.regionWidth.bind(e)),n.interaction_enabled&&e.redrawEventRect(),S(),e.flowing=!1})}},a.selected=function(t){var e=this.internal,n=e.d3;return n.merge(e.main.selectAll("."+h.shapes+e.getTargetSelectorSuffix(t)).selectAll("."+h.shape).filter(function(){return n.select(this).classed(h.SELECTED)}).map(function(t){return t.map(function(t){var e=t.__data__;return e.data?e.data:e})}))},a.select=function(t,e,n){var i=this.internal,r=i.d3,o=i.config;o.data_selection_enabled&&i.main.selectAll("."+h.shapes).selectAll("."+h.shape).each(function(s,a){var l=r.select(this),u=s.data?s.data.id:s.id,c=i.getToggle(this,s).bind(i),d=o.data_selection_grouped||!t||t.indexOf(u)>=0,f=!e||e.indexOf(a)>=0,p=l.classed(h.SELECTED);l.classed(h.line)||l.classed(h.area)||(d&&f?o.data_selection_isselectable(s)&&!p&&c(!0,l.classed(h.SELECTED,!0),s,a):m(n)&&n&&p&&c(!1,l.classed(h.SELECTED,!1),s,a))})},a.unselect=function(t,e){var n=this.internal,i=n.d3,r=n.config;r.data_selection_enabled&&n.main.selectAll("."+h.shapes).selectAll("."+h.shape).each(function(o,s){var a=i.select(this),l=o.data?o.data.id:o.id,u=n.getToggle(this,o).bind(n),c=r.data_selection_grouped||!t||t.indexOf(l)>=0,d=!e||e.indexOf(s)>=0,f=a.classed(h.SELECTED);a.classed(h.line)||a.classed(h.area)||c&&d&&r.data_selection_isselectable(o)&&f&&u(!1,a.classed(h.SELECTED,!1),o,s)})},a.transform=function(t,e){var n=this.internal,i=["pie","donut"].indexOf(t)>=0?{withTransform:!0}:null;n.transformTo(e,t,i)},l.transformTo=function(t,e,n){var i=this,r=!i.hasArcType(),o=n||{withTransitionForAxis:r};o.withTransitionForTransform=!1,i.transiting=!1,i.setTargetType(t,e),i.updateTargets(i.data.targets),i.updateAndRedraw(o)},a.groups=function(t){var e=this.internal,n=e.config;return g(t)?n.data_groups:(n.data_groups=t,e.redraw(),n.data_groups)},a.xgrids=function(t){var e=this.internal,n=e.config;return t?(n.grid_x_lines=t,e.redrawWithoutRescale(),n.grid_x_lines):n.grid_x_lines},a.xgrids.add=function(t){var e=this.internal;return this.xgrids(e.config.grid_x_lines.concat(t?t:[]))},a.xgrids.remove=function(t){var e=this.internal;e.removeGridLines(t,!0)},a.ygrids=function(t){var e=this.internal,n=e.config;return t?(n.grid_y_lines=t,e.redrawWithoutRescale(),n.grid_y_lines):n.grid_y_lines},a.ygrids.add=function(t){var e=this.internal;return this.ygrids(e.config.grid_y_lines.concat(t?t:[]))},a.ygrids.remove=function(t){var e=this.internal;e.removeGridLines(t,!1)},a.regions=function(t){var e=this.internal,n=e.config;return t?(n.regions=t,e.redrawWithoutRescale(),n.regions):n.regions},a.regions.add=function(t){var e=this.internal,n=e.config;return t?(n.regions=n.regions.concat(t),e.redrawWithoutRescale(),n.regions):n.regions},a.regions.remove=function(t){var e,n,i,r=this.internal,o=r.config;return t=t||{},e=r.getOption(t,"duration",o.transition_duration),n=r.getOption(t,"classes",[h.region]),i=r.main.select("."+h.regions).selectAll(n.map(function(t){return"."+t})),(e?i.transition().duration(e):i).style("opacity",0).remove(),o.regions=o.regions.filter(function(t){var e=!1;return t["class"]?(t["class"].split(" ").forEach(function(t){n.indexOf(t)>=0&&(e=!0)}),!e):!0}),o.regions},a.data=function(t){var e=this.internal.data.targets;return"undefined"==typeof t?e:e.filter(function(e){return[].concat(t).indexOf(e.id)>=0})},a.data.shown=function(t){return this.internal.filterTargetsToShow(this.data(t))},a.data.values=function(t){var e,n=null;return t&&(e=this.data(t),n=e[0]?e[0].values.map(function(t){return t.value}):null),n},a.data.names=function(t){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",t)},a.data.colors=function(t){return this.internal.updateDataAttributes("colors",t)},a.data.axes=function(t){return this.internal.updateDataAttributes("axes",t)},a.category=function(t,e){var n=this.internal,i=n.config;return arguments.length>1&&(i.axis_x_categories[t]=e,n.redraw()),i.axis_x_categories[t]},a.categories=function(t){var e=this.internal,n=e.config;return arguments.length?(n.axis_x_categories=t,e.redraw(),n.axis_x_categories):n.axis_x_categories},a.color=function(t){var e=this.internal;return e.color(t)},a.x=function(t){var e=this.internal;return arguments.length&&(e.updateTargetX(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},a.xs=function(t){var e=this.internal;return arguments.length&&(e.updateTargetXs(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},a.axis=function(){},a.axis.labels=function(t){var e=this.internal;arguments.length&&(Object.keys(t).forEach(function(n){e.axis.setLabelText(n,t[n])}),e.axis.updateLabels())},a.axis.max=function(t){var e=this.internal,n=e.config;return arguments.length?("object"==typeof t?(d(t.x)&&(n.axis_x_max=t.x),d(t.y)&&(n.axis_y_max=t.y),d(t.y2)&&(n.axis_y2_max=t.y2)):n.axis_y_max=n.axis_y2_max=t,void e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})):{x:n.axis_x_max,y:n.axis_y_max,y2:n.axis_y2_max}},a.axis.min=function(t){var e=this.internal,n=e.config;return arguments.length?("object"==typeof t?(d(t.x)&&(n.axis_x_min=t.x),
d(t.y)&&(n.axis_y_min=t.y),d(t.y2)&&(n.axis_y2_min=t.y2)):n.axis_y_min=n.axis_y2_min=t,void e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})):{x:n.axis_x_min,y:n.axis_y_min,y2:n.axis_y2_min}},a.axis.range=function(t){return arguments.length?(m(t.max)&&this.axis.max(t.max),void(m(t.min)&&this.axis.min(t.min))):{max:this.axis.max(),min:this.axis.min()}},a.legend=function(){},a.legend.show=function(t){var e=this.internal;e.showLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},a.legend.hide=function(t){var e=this.internal;e.hideLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},a.resize=function(t){var e=this.internal,n=e.config;n.size_width=t?t.width:null,n.size_height=t?t.height:null,this.flush()},a.flush=function(){var t=this.internal;t.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},a.destroy=function(){var e=this.internal;return t.clearInterval(e.intervalForObserveInserted),t.onresize=null,e.selectChart.classed("c3",!1).html(""),Object.keys(e).forEach(function(t){e[t]=null}),null},a.tooltip=function(){},a.tooltip.show=function(t){var e,n,i=this.internal;t.mouse&&(n=t.mouse),t.data?i.isMultipleX()?(n=[i.x(t.data.x),i.getYScale(t.data.id)(t.data.value)],e=null):e=d(t.data.index)?t.data.index:i.getIndexByX(t.data.x):"undefined"!=typeof t.x?e=i.getIndexByX(t.x):"undefined"!=typeof t.index&&(e=t.index),i.dispatchEvent("mouseover",e,n),i.dispatchEvent("mousemove",e,n)},a.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0)};var A;l.isSafari=function(){var e=t.navigator.userAgent;return e.indexOf("Safari")>=0&&e.indexOf("Chrome")<0},l.isChrome=function(){var e=t.navigator.userAgent;return e.indexOf("Chrome")>=0},Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,i=function(){},r=function(){return n.apply(this instanceof i?this:t,e.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,r.prototype=new i,r}),"function"==typeof define&&define.amd?define("c3",["d3"],c):"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=c:t.c3=c}(window),!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Redux=e():t.Redux=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0,e.compose=e.applyMiddleware=e.bindActionCreators=e.combineReducers=e.createStore=void 0;var r=n(2),o=i(r),s=n(7),a=i(s),l=n(6),u=i(l),c=n(5),h=i(c),d=n(1),f=i(d),p=n(3);i(p),e.createStore=o["default"],e.combineReducers=a["default"],e.bindActionCreators=u["default"],e.applyMiddleware=h["default"],e.compose=f["default"]},function(t,e){"use strict";function n(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];if(0===e.length)return function(t){return t};var i=function(){var t=e[e.length-1],n=e.slice(0,-1);return{v:function(){return n.reduceRight(function(t,e){return e(t)},t.apply(void 0,arguments))}}}();return"object"==typeof i?i.v:void 0}e.__esModule=!0,e["default"]=n},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){function i(){v===m&&(v=m.slice())}function o(){return g}function a(t){if("function"!=typeof t)throw Error("Expected listener to be a function.");var e=!0;return i(),v.push(t),function(){if(e){e=!1,i();var n=v.indexOf(t);v.splice(n,1)}}}function c(t){if(!(0,s["default"])(t))throw Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(y)throw Error("Reducers may not dispatch actions.");try{y=!0,g=p(g,t)}finally{y=!1}for(var e=m=v,n=0;e.length>n;n++)e[n]();return t}function h(t){if("function"!=typeof t)throw Error("Expected the nextReducer to be a function.");p=t,c({type:u.INIT})}function d(){var t,e=a;return t={subscribe:function(t){function n(){t.next&&t.next(o())}if("object"!=typeof t)throw new TypeError("Expected the observer to be an object.");n();var i=e(n);return{unsubscribe:i}}},t[l["default"]]=function(){return this},t}var f;if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw Error("Expected the enhancer to be a function.");return n(r)(t,e)}if("function"!=typeof t)throw Error("Expected the reducer to be a function.");var p=t,g=e,m=[],v=m,y=!1;return c({type:u.INIT}),f={dispatch:c,subscribe:a,getState:o,replaceReducer:h},f[l["default"]]=d,f}e.__esModule=!0,e.ActionTypes=void 0,e["default"]=r;var o=n(4),s=i(o),a=n(11),l=i(a),u=e.ActionTypes={INIT:"@@redux/INIT"}},function(t,e){"use strict";function n(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw Error(t)}catch(e){}}e.__esModule=!0,e["default"]=n},function(t,e,n){function i(t){if(!s(t)||d.call(t)!=a||o(t))return!1;var e=r(t);if(null===e)return!0;var n=c.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==h}var r=n(8),o=n(9),s=n(10),a="[object Object]",l=Object.prototype,u=Function.prototype.toString,c=l.hasOwnProperty,h=u.call(Object),d=l.toString;t.exports=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return function(t){return function(n,i,r){var s=t(n,i,r),l=s.dispatch,u=[],c={getState:s.getState,dispatch:function(t){return l(t)}};return u=e.map(function(t){return t(c)}),l=a["default"].apply(void 0,u)(s.dispatch),o({},s,{dispatch:l})}}}e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e["default"]=r;var s=n(1),a=i(s)},function(t,e){"use strict";function n(t,e){return function(){return e(t.apply(void 0,arguments))}}function i(t,e){if("function"==typeof t)return n(t,e);if("object"!=typeof t||null===t)throw Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var i=Object.keys(t),r={},o=0;i.length>o;o++){var s=i[o],a=t[s];"function"==typeof a&&(r[s]=n(a,e))}return r}e.__esModule=!0,e["default"]=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){var n=e&&e.type,i=n&&'"'+n+'"'||"an action";return"Given action "+i+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function o(t){Object.keys(t).forEach(function(e){var n=t[e],i=n(void 0,{type:a.ActionTypes.INIT});if(void 0===i)throw Error('Reducer "'+e+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var r="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if(void 0===n(void 0,{type:r}))throw Error('Reducer "'+e+'" returned undefined when probed with a random type. '+("Don't try to handle "+a.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function s(t){for(var e=Object.keys(t),n={},i=0;e.length>i;i++){var s=e[i];"function"==typeof t[s]&&(n[s]=t[s])}var a,l=Object.keys(n);try{o(n)}catch(u){a=u}return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];if(a)throw a;for(var i=!1,o={},s=0;l.length>s;s++){var u=l[s],c=n[u],h=t[u],d=c(h,e);if(void 0===d){var f=r(u,e);throw Error(f)}o[u]=d,i=i||d!==h}return i?o:t}}e.__esModule=!0,e["default"]=s;var a=n(2),l=n(4),u=(i(l),n(3));i(u)},function(t,e){function n(t){return i(Object(t))}var i=Object.getPrototypeOf;t.exports=n},function(t,e){function n(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}t.exports=n},function(t,e){function n(t){return!!t&&"object"==typeof t}t.exports=n},function(t,e,n){(function(e){"use strict";t.exports=n(12)(e||window||this)}).call(e,function(){return this}())},function(t,e){"use strict";t.exports=function(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e="function"==typeof n["for"]?n["for"]("observable"):n("observable"),n.observable=e):e="@@observable",e}}])}),!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ReduxThunk=e():t.ReduxThunk=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e){"use strict";function n(t){var e=t.dispatch,n=t.getState;return function(t){return function(i){return"function"==typeof i?i(e,n):t(i)}}}e.__esModule=!0,e["default"]=n}])}),function(){function t(t){var e=n;t&&(n[t]||(n[t]={}),e=n[t]),e.define&&e.define.packaged||(i.original=e.define,e.define=i,e.define.packaged=!0),e.require&&e.require.packaged||(o.original=e.require,e.require=o,e.require.packaged=!0)}var e="ace",n=function(){return this}();if(!n&&"undefined"!=typeof window&&(n=window),e||"undefined"==typeof requirejs){var i=function(t,e,n){return"string"!=typeof t?void(i.original?i.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())):(2==arguments.length&&(n=e),void(i.modules[t]||(i.payloads[t]=n,i.modules[t]=null)))};i.modules={},i.payloads={};var r=function(t,e,n){if("string"==typeof e){var i=a(t,e);if(void 0!=i)return n&&n(),i}else if("[object Array]"===Object.prototype.toString.call(e)){for(var r=[],s=0,l=e.length;l>s;++s){var u=a(t,e[s]);if(void 0==u&&o.original)return;r.push(u)}return n&&n.apply(null,r)||!0}},o=function(t,e){var n=r("",t,e);return void 0==n&&o.original?o.original.apply(this,arguments):n},s=function(t,e){if(-1!==e.indexOf("!")){var n=e.split("!");return s(t,n[0])+"!"+s(t,n[1])}if("."==e.charAt(0)){var i=t.split("/").slice(0,-1).join("/");for(e=i+"/"+e;-1!==e.indexOf(".")&&r!=e;){var r=e;e=e.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return e},a=function(t,e){e=s(t,e);var n=i.modules[e];if(!n){if(n=i.payloads[e],"function"==typeof n){var o={},a={id:e,uri:"",exports:o,packaged:!0},l=function(t,n){return r(e,t,n)},u=n(l,o,a);o=u||a.exports,i.modules[e]=o,delete i.payloads[e]}n=i.modules[e]=o||n}return n};t(e)}}(),ace.define("ace/lib/regexp",["require","exports","module"],function(t,e,n){"use strict";function i(t){return(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":"")}function r(t,e,n){if(Array.prototype.indexOf)return t.indexOf(e,n);for(var i=n||0;i<t.length;i++)if(t[i]===e)return i;return-1}var o={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},s=void 0===o.exec.call(/()??/,"")[1],a=function(){var t=/^/g;return o.test.call(t,""),!t.lastIndex}();a&&s||(RegExp.prototype.exec=function(t){var e,n,l=o.exec.apply(this,arguments);if("string"==typeof t&&l){if(!s&&l.length>1&&r(l,"")>-1&&(n=RegExp(this.source,o.replace.call(i(this),"g","")),o.replace.call(t.slice(l.index),n,function(){for(var t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(l[t]=void 0)})),this._xregexp&&this._xregexp.captureNames)for(var u=1;u<l.length;u++)e=this._xregexp.captureNames[u-1],e&&(l[e]=l[u]);!a&&this.global&&!l[0].length&&this.lastIndex>l.index&&this.lastIndex--}return l},a||(RegExp.prototype.test=function(t){var e=o.exec.call(this,t);return e&&this.global&&!e[0].length&&this.lastIndex>e.index&&this.lastIndex--,!!e}))}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(t,e,n){function i(){}function r(t){try{return Object.defineProperty(t,"sentinel",{}),"sentinel"in t}catch(e){}}function o(t){return t=+t,t!==t?t=0:0!==t&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError("Function.prototype.bind called on incompatible "+e);var n=p.call(arguments,1),r=function(){if(this instanceof r){var i=e.apply(this,n.concat(p.call(arguments)));return Object(i)===i?i:this}return e.apply(t,n.concat(p.call(arguments)))};return e.prototype&&(i.prototype=e.prototype,r.prototype=new i,i.prototype=null),r});var s,a,l,u,c,h=Function.prototype.call,d=Array.prototype,f=Object.prototype,p=d.slice,g=h.bind(f.toString),m=h.bind(f.hasOwnProperty);if((c=m(f,"__defineGetter__"))&&(s=h.bind(f.__defineGetter__),a=h.bind(f.__defineSetter__),l=h.bind(f.__lookupGetter__),u=h.bind(f.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function t(t){var e=new Array(t+2);return e[0]=e[1]=0,e}var e,n=[];return n.splice.apply(n,t(20)),n.splice.apply(n,t(26)),e=n.length,n.splice(5,0,"XXX"),e+1==n.length,e+1==n.length?!0:void 0}()){var v=Array.prototype.splice;Array.prototype.splice=function(t,e){return arguments.length?v.apply(this,[void 0===t?0:t,void 0===e?this.length-t:e].concat(p.call(arguments,2))):[]}}else Array.prototype.splice=function(t,e){var n=this.length;t>0?t>n&&(t=n):void 0==t?t=0:0>t&&(t=Math.max(n+t,0)),n>t+e||(e=n-t);var i=this.slice(t,t+e),r=p.call(arguments,2),o=r.length;if(t===n)o&&this.push.apply(this,r);else{var s=Math.min(e,n-t),a=t+s,l=a+o-s,u=n-a,c=n-s;if(a>l)for(var h=0;u>h;++h)this[l+h]=this[a+h];else if(l>a)for(h=u;h--;)this[l+h]=this[a+h];if(o&&t===c)this.length=c,this.push.apply(this,r);else for(this.length=c+o,h=0;o>h;++h)this[t+h]=r[h]}return i};Array.isArray||(Array.isArray=function(t){return"[object Array]"==g(t)});var y=Object("a"),b="a"!=y[0]||!(0 in y);if(Array.prototype.forEach||(Array.prototype.forEach=function(t){var e=B(this),n=b&&"[object String]"==g(this)?this.split(""):e,i=arguments[1],r=-1,o=n.length>>>0;if("[object Function]"!=g(t))throw new TypeError;for(;++r<o;)r in n&&t.call(i,n[r],r,e)}),Array.prototype.map||(Array.prototype.map=function(t){var e=B(this),n=b&&"[object String]"==g(this)?this.split(""):e,i=n.length>>>0,r=Array(i),o=arguments[1];if("[object Function]"!=g(t))throw new TypeError(t+" is not a function");for(var s=0;i>s;s++)s in n&&(r[s]=t.call(o,n[s],s,e));return r}),Array.prototype.filter||(Array.prototype.filter=function(t){var e,n=B(this),i=b&&"[object String]"==g(this)?this.split(""):n,r=i.length>>>0,o=[],s=arguments[1];if("[object Function]"!=g(t))throw new TypeError(t+" is not a function");for(var a=0;r>a;a++)a in i&&(e=i[a],t.call(s,e,a,n)&&o.push(e));return o}),Array.prototype.every||(Array.prototype.every=function(t){var e=B(this),n=b&&"[object String]"==g(this)?this.split(""):e,i=n.length>>>0,r=arguments[1];if("[object Function]"!=g(t))throw new TypeError(t+" is not a function");for(var o=0;i>o;o++)if(o in n&&!t.call(r,n[o],o,e))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(t){var e=B(this),n=b&&"[object String]"==g(this)?this.split(""):e,i=n.length>>>0,r=arguments[1];if("[object Function]"!=g(t))throw new TypeError(t+" is not a function");for(var o=0;i>o;o++)if(o in n&&t.call(r,n[o],o,e))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(t){var e=B(this),n=b&&"[object String]"==g(this)?this.split(""):e,i=n.length>>>0;if("[object Function]"!=g(t))throw new TypeError(t+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var r,o=0;if(arguments.length>=2)r=arguments[1];else for(;;){if(o in n){r=n[o++];break}if(++o>=i)throw new TypeError("reduce of empty array with no initial value")}for(;i>o;o++)o in n&&(r=t.call(void 0,r,n[o],o,e));return r}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t){var e=B(this),n=b&&"[object String]"==g(this)?this.split(""):e,i=n.length>>>0;if("[object Function]"!=g(t))throw new TypeError(t+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var r,o=i-1;if(arguments.length>=2)r=arguments[1];else for(;;){if(o in n){r=n[o--];break}if(--o<0)throw new TypeError("reduceRight of empty array with no initial value")}do o in this&&(r=t.call(void 0,r,n[o],o,e));while(o--);return r}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(t){var e=b&&"[object String]"==g(this)?this.split(""):B(this),n=e.length>>>0;if(!n)return-1;var i=0;for(arguments.length>1&&(i=o(arguments[1])),i=i>=0?i:Math.max(0,n+i);n>i;i++)if(i in e&&e[i]===t)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(t){var e=b&&"[object String]"==g(this)?this.split(""):B(this),n=e.length>>>0;if(!n)return-1;var i=n-1;for(arguments.length>1&&(i=Math.min(i,o(arguments[1]))),i=i>=0?i:n-Math.abs(i);i>=0;i--)if(i in e&&t===e[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(t){return t.__proto__||(t.constructor?t.constructor.prototype:f)}),!Object.getOwnPropertyDescriptor){var w="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(t,e){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError(w+t);if(m(t,e)){var n,i,r;if(n={enumerable:!0,configurable:!0},c){var o=t.__proto__;t.__proto__=f;var i=l(t,e),r=u(t,e);if(t.__proto__=o,i||r)return i&&(n.get=i),r&&(n.set=r),n}return n.value=t[e],n}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(t){return Object.keys(t)}),!Object.create){var x;x=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var t={};for(var e in t)t[e]=null;return t.constructor=t.hasOwnProperty=t.propertyIsEnumerable=t.isPrototypeOf=t.toLocaleString=t.toString=t.valueOf=t.__proto__=null,t},Object.create=function(t,e){var n;if(null===t)n=x();else{if("object"!=typeof t)throw new TypeError("typeof prototype["+typeof t+"] != 'object'");var i=function(){};i.prototype=t,n=new i,n.__proto__=t}return void 0!==e&&Object.defineProperties(n,e),n}}if(Object.defineProperty){var _=r({}),$="undefined"==typeof document||r(document.createElement("div"));if(!_||!$)var C=Object.defineProperty}if(!Object.defineProperty||C){var A="Property description must be an object: ",E="Object.defineProperty called on non-object: ",S="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(t,e,n){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError(E+t);if("object"!=typeof n&&"function"!=typeof n||null===n)throw new TypeError(A+n);if(C)try{return C.call(Object,t,e,n)}catch(i){}if(m(n,"value"))if(c&&(l(t,e)||u(t,e))){var r=t.__proto__;t.__proto__=f,delete t[e],t[e]=n.value,t.__proto__=r}else t[e]=n.value;else{if(!c)throw new TypeError(S);m(n,"get")&&s(t,e,n.get),m(n,"set")&&a(t,e,n.set)}return t}}Object.defineProperties||(Object.defineProperties=function(t,e){for(var n in e)m(e,n)&&Object.defineProperty(t,n,e[n]);return t}),Object.seal||(Object.seal=function(t){return t}),Object.freeze||(Object.freeze=function(t){return t});try{Object.freeze(function(){})}catch(k){Object.freeze=function(t){return function(e){return"function"==typeof e?e:t(e)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(t){return t}),Object.isSealed||(Object.isSealed=function(t){return!1}),Object.isFrozen||(Object.isFrozen=function(t){return!1}),Object.isExtensible||(Object.isExtensible=function(t){if(Object(t)===t)throw new TypeError;for(var e="";m(t,e);)e+="?";t[e]=!0;var n=m(t,e);return delete t[e],n}),!Object.keys){var D=!0,T=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],F=T.length;for(var M in{toString:null})D=!1;Object.keys=function I(t){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("Object.keys called on a non-object");var I=[];for(var e in t)m(t,e)&&I.push(e);if(D)for(var n=0,i=F;i>n;n++){var r=T[n];m(t,r)&&I.push(r)}return I}}Date.now||(Date.now=function(){return(new Date).getTime()});var L="	\n\x0B\f\r \u2028\u2029\ufeff";if(!String.prototype.trim||L.trim()){L="["+L+"]";var O=new RegExp("^"+L+L+"*"),P=new RegExp(L+L+"*$");String.prototype.trim=function(){return String(this).replace(O,"").replace(P,"")}}var B=function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return Object(t)}}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(t,e,n){"use strict";t("./regexp"),t("./es5-shim")}),ace.define("ace/lib/dom",["require","exports","module"],function(t,e,n){"use strict";var i="http://www.w3.org/1999/xhtml";return e.getDocumentHead=function(t){return t||(t=document),t.head||t.getElementsByTagName("head")[0]||t.documentElement},e.createElement=function(t,e){return document.createElementNS?document.createElementNS(e||i,t):document.createElement(t)},e.hasCssClass=function(t,e){var n=(t.className+"").split(/\s+/g);return-1!==n.indexOf(e)},e.addCssClass=function(t,n){e.hasCssClass(t,n)||(t.className+=" "+n)},e.removeCssClass=function(t,e){for(var n=t.className.split(/\s+/g);;){var i=n.indexOf(e);if(-1==i)break;n.splice(i,1)}t.className=n.join(" ")},e.toggleCssClass=function(t,e){for(var n=t.className.split(/\s+/g),i=!0;;){var r=n.indexOf(e);if(-1==r)break;i=!1,n.splice(r,1)}return i&&n.push(e),t.className=n.join(" "),i},e.setCssClass=function(t,n,i){i?e.addCssClass(t,n):e.removeCssClass(t,n)},e.hasCssString=function(t,e){var n,i=0;if(e=e||document,e.createStyleSheet&&(n=e.styleSheets)){for(;i<n.length;)if(n[i++].owningElement.id===t)return!0}else if(n=e.getElementsByTagName("style"))for(;i<n.length;)if(n[i++].id===t)return!0;return!1},e.importCssString=function(t,n,i){if(i=i||document,n&&e.hasCssString(n,i))return null;var r;n&&(t+="\n/*# sourceURL=ace/css/"+n+" */"),i.createStyleSheet?(r=i.createStyleSheet(),r.cssText=t,n&&(r.owningElement.id=n)):(r=e.createElement("style"),r.appendChild(i.createTextNode(t)),n&&(r.id=n),e.getDocumentHead(i).appendChild(r))},e.importCssStylsheet=function(t,n){if(n.createStyleSheet)n.createStyleSheet(t);else{var i=e.createElement("link");i.rel="stylesheet",i.href=t,e.getDocumentHead(n).appendChild(i)}},e.getInnerWidth=function(t){return parseInt(e.computedStyle(t,"paddingLeft"),10)+parseInt(e.computedStyle(t,"paddingRight"),10)+t.clientWidth},e.getInnerHeight=function(t){return parseInt(e.computedStyle(t,"paddingTop"),10)+parseInt(e.computedStyle(t,"paddingBottom"),10)+t.clientHeight},e.scrollbarWidth=function(t){var n=e.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var i=e.createElement("ace_outer"),r=i.style;r.position="absolute",r.left="-10000px",r.overflow="hidden",r.width="200px",r.minWidth="0px",r.height="150px",r.display="block",i.appendChild(n);var o=t.documentElement;o.appendChild(i);var s=n.offsetWidth;r.overflow="scroll";var a=n.offsetWidth;return s==a&&(a=i.clientWidth),o.removeChild(i),s-a},"undefined"==typeof document?void(e.importCssString=function(){}):(void 0!==window.pageYOffset?(e.getPageScrollTop=function(){return window.pageYOffset},e.getPageScrollLeft=function(){return window.pageXOffset}):(e.getPageScrollTop=function(){return document.body.scrollTop},e.getPageScrollLeft=function(){return document.body.scrollLeft}),window.getComputedStyle?e.computedStyle=function(t,e){return e?(window.getComputedStyle(t,"")||{})[e]||"":window.getComputedStyle(t,"")||{}}:e.computedStyle=function(t,e){return e?t.currentStyle[e]:t.currentStyle},e.setInnerHtml=function(t,e){var n=t.cloneNode(!1);return n.innerHTML=e,t.parentNode.replaceChild(n,t),n},"textContent"in document.documentElement?(e.setInnerText=function(t,e){t.textContent=e},e.getInnerText=function(t){return t.textContent}):(e.setInnerText=function(t,e){t.innerText=e},e.getInnerText=function(t){return t.innerText}),e.getParentWindow=function(t){return t.defaultView||t.parentWindow},void 0)}),ace.define("ace/lib/oop",["require","exports","module"],function(t,e,n){"use strict";e.inherits=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})},e.mixin=function(t,e){for(var n in e)t[n]=e[n];return t},e.implement=function(t,n){e.mixin(t,n)}}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],function(t,e,n){"use strict";t("./fixoldbrowsers");var i=t("./oop"),r=function(){var t,e,n={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,"super":8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(e in n.FUNCTION_KEYS)t=n.FUNCTION_KEYS[e].toLowerCase(),n[t]=parseInt(e,10);for(e in n.PRINTABLE_KEYS)t=n.PRINTABLE_KEYS[e].toLowerCase(),n[t]=parseInt(e,10);return i.mixin(n,n.MODIFIER_KEYS),i.mixin(n,n.PRINTABLE_KEYS),i.mixin(n,n.FUNCTION_KEYS),n.enter=n["return"],n.escape=n.esc,n.del=n["delete"],n[173]="-",function(){for(var t=["cmd","ctrl","alt","shift"],e=Math.pow(2,t.length);e--;)n.KEY_MODS[e]=t.filter(function(t){return e&n.KEY_MODS[t]}).join("-")+"-"}(),n.KEY_MODS[0]="",n.KEY_MODS[-1]="input-",n}();i.mixin(e,r),e.keyCodeToString=function(t){var e=r[t];return"string"!=typeof e&&(e=String.fromCharCode(t)),e.toLowerCase()}}),ace.define("ace/lib/useragent",["require","exports","module"],function(t,e,n){"use strict";if(e.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},e.getOS=function(){return e.isMac?e.OS.MAC:e.isLinux?e.OS.LINUX:e.OS.WINDOWS},"object"==typeof navigator){var i=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),r=navigator.userAgent;e.isWin="win"==i,e.isMac="mac"==i,e.isLinux="linux"==i,e.isIE="Microsoft Internet Explorer"==navigator.appName||navigator.appName.indexOf("MSAppHost")>=0?parseFloat((r.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((r.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),e.isOldIE=e.isIE&&e.isIE<9,e.isGecko=e.isMozilla=(window.Controllers||window.controllers)&&"Gecko"===window.navigator.product,e.isOldGecko=e.isGecko&&parseInt((r.match(/rv:(\d+)/)||[])[1],10)<4,e.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),e.isWebKit=parseFloat(r.split("WebKit/")[1])||void 0,e.isChrome=parseFloat(r.split(" Chrome/")[1])||void 0,e.isAIR=r.indexOf("AdobeAIR")>=0,e.isIPad=r.indexOf("iPad")>=0,e.isChromeOS=r.indexOf(" CrOS ")>=0,e.isIOS=/iPad|iPhone|iPod/.test(r)&&!window.MSStream,e.isIOS&&(e.isMac=!0)}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(t,e,n){"use strict";function i(t,e,n){var i=u(e);if(!s.isMac&&a){if(e.getModifierState&&(e.getModifierState("OS")||e.getModifierState("Win"))&&(i|=8),a.altGr){if(3==(3&i))return;a.altGr=0}if(18===n||17===n){var r="location"in e?e.location:e.keyLocation;if(17===n&&1===r)1==a[n]&&(l=e.timeStamp);else if(18===n&&3===i&&2===r){var c=e.timeStamp-l;50>c&&(a.altGr=!0)}}}if(n in o.MODIFIER_KEYS&&(n=-1),8&i&&n>=91&&93>=n&&(n=-1),!i&&13===n){var r="location"in e?e.location:e.keyLocation;if(3===r&&(t(e,i,-n),e.defaultPrevented))return}if(s.isChromeOS&&8&i){if(t(e,i,n),e.defaultPrevented)return;i&=-9}return i||n in o.FUNCTION_KEYS||n in o.PRINTABLE_KEYS?t(e,i,n):!1}function r(){a=Object.create(null)}var o=t("./keys"),s=t("./useragent"),a=null,l=0;e.addListener=function(t,e,n){if(t.addEventListener)return t.addEventListener(e,n,!1);if(t.attachEvent){var i=function(){n.call(t,window.event)};n._wrapper=i,t.attachEvent("on"+e,i)}},e.removeListener=function(t,e,n){return t.removeEventListener?t.removeEventListener(e,n,!1):void(t.detachEvent&&t.detachEvent("on"+e,n._wrapper||n))},e.stopEvent=function(t){return e.stopPropagation(t),e.preventDefault(t),!1},e.stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},e.preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},e.getButton=function(t){return"dblclick"==t.type?0:"contextmenu"==t.type||s.isMac&&t.ctrlKey&&!t.altKey&&!t.shiftKey?2:t.preventDefault?t.button:{1:0,2:2,4:1}[t.button]},e.capture=function(t,n,i){function r(t){n&&n(t),i&&i(t),e.removeListener(document,"mousemove",n,!0),e.removeListener(document,"mouseup",r,!0),e.removeListener(document,"dragstart",r,!0)}return e.addListener(document,"mousemove",n,!0),e.addListener(document,"mouseup",r,!0),e.addListener(document,"dragstart",r,!0),r},e.addTouchMoveListener=function(t,n){var i,r;e.addListener(t,"touchstart",function(t){var e=t.touches,n=e[0];i=n.clientX,r=n.clientY}),e.addListener(t,"touchmove",function(t){var e=t.touches;if(!(e.length>1)){var o=e[0];t.wheelX=i-o.clientX,t.wheelY=r-o.clientY,i=o.clientX,r=o.clientY,n(t)}})},e.addMouseWheelListener=function(t,n){"onmousewheel"in t?e.addListener(t,"mousewheel",function(t){var e=8;void 0!==t.wheelDeltaX?(t.wheelX=-t.wheelDeltaX/e,t.wheelY=-t.wheelDeltaY/e):(t.wheelX=0,t.wheelY=-t.wheelDelta/e),n(t)}):"onwheel"in t?e.addListener(t,"wheel",function(t){var e=.35;switch(t.deltaMode){case t.DOM_DELTA_PIXEL:t.wheelX=t.deltaX*e||0,t.wheelY=t.deltaY*e||0;break;case t.DOM_DELTA_LINE:case t.DOM_DELTA_PAGE:t.wheelX=5*(t.deltaX||0),t.wheelY=5*(t.deltaY||0)}n(t)}):e.addListener(t,"DOMMouseScroll",function(t){t.axis&&t.axis==t.HORIZONTAL_AXIS?(t.wheelX=5*(t.detail||0),t.wheelY=0):(t.wheelX=0,t.wheelY=5*(t.detail||0)),n(t)})},e.addMultiMouseDownListener=function(t,n,i,r){function o(t){if(0!==e.getButton(t)?h=0:t.detail>1?(h++,h>4&&(h=1)):h=1,s.isIE){var o=Math.abs(t.clientX-l)>5||Math.abs(t.clientY-u)>5;(!c||o)&&(h=1),c&&clearTimeout(c),c=setTimeout(function(){c=null},n[h-1]||600),1==h&&(l=t.clientX,u=t.clientY)}if(t._clicks=h,i[r]("mousedown",t),h>4)h=0;else if(h>1)return i[r](d[h],t)}function a(t){h=2,c&&clearTimeout(c),c=setTimeout(function(){c=null},n[h-1]||600),i[r]("mousedown",t),i[r](d[h],t)}var l,u,c,h=0,d={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(t)||(t=[t]),t.forEach(function(t){e.addListener(t,"mousedown",o),s.isOldIE&&e.addListener(t,"dblclick",a)})};var u=!s.isMac||!s.isOpera||"KeyboardEvent"in window?function(t){return 0|(t.ctrlKey?1:0)|(t.altKey?2:0)|(t.shiftKey?4:0)|(t.metaKey?8:0)}:function(t){return 0|(t.metaKey?1:0)|(t.altKey?2:0)|(t.shiftKey?4:0)|(t.ctrlKey?8:0)};if(e.getModifierString=function(t){return o.KEY_MODS[u(t)]},e.addCommandKeyListener=function(t,n){
var o=e.addListener;if(s.isOldGecko||s.isOpera&&!("KeyboardEvent"in window)){var l=null;o(t,"keydown",function(t){l=t.keyCode}),o(t,"keypress",function(t){return i(n,t,l)})}else{var u=null;o(t,"keydown",function(t){a[t.keyCode]=(a[t.keyCode]||0)+1;var e=i(n,t,t.keyCode);return u=t.defaultPrevented,e}),o(t,"keypress",function(t){u&&(t.ctrlKey||t.altKey||t.shiftKey||t.metaKey)&&(e.stopEvent(t),u=null)}),o(t,"keyup",function(t){a[t.keyCode]=null}),a||(r(),o(window,"focus",r))}},"object"==typeof window&&window.postMessage&&!s.isOldIE){var c=1;e.nextTick=function(t,n){n=n||window;var i="zero-timeout-message-"+c;e.addListener(n,"message",function r(o){o.data==i&&(e.stopPropagation(o),e.removeListener(n,"message",r),t())}),n.postMessage(i,"*")}}e.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),e.nextFrame?e.nextFrame=e.nextFrame.bind(window):e.nextFrame=function(t){setTimeout(t,17)}}),ace.define("ace/lib/lang",["require","exports","module"],function(t,e,n){"use strict";e.last=function(t){return t[t.length-1]},e.stringReverse=function(t){return t.split("").reverse().join("")},e.stringRepeat=function(t,e){for(var n="";e>0;)1&e&&(n+=t),(e>>=1)&&(t+=t);return n};var i=/^\s\s*/,r=/\s\s*$/;e.stringTrimLeft=function(t){return t.replace(i,"")},e.stringTrimRight=function(t){return t.replace(r,"")},e.copyObject=function(t){var e={};for(var n in t)e[n]=t[n];return e},e.copyArray=function(t){for(var e=[],n=0,i=t.length;i>n;n++)t[n]&&"object"==typeof t[n]?e[n]=this.copyObject(t[n]):e[n]=t[n];return e},e.deepCopy=function o(t){if("object"!=typeof t||!t)return t;var e;if(Array.isArray(t)){e=[];for(var n=0;n<t.length;n++)e[n]=o(t[n]);return e}if("[object Object]"!==Object.prototype.toString.call(t))return t;e={};for(var n in t)e[n]=o(t[n]);return e},e.arrayToMap=function(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=1;return e},e.createMap=function(t){var e=Object.create(null);for(var n in t)e[n]=t[n];return e},e.arrayRemove=function(t,e){for(var n=0;n<=t.length;n++)e===t[n]&&t.splice(n,1)},e.escapeRegExp=function(t){return t.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},e.escapeHTML=function(t){return t.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},e.getMatchOffsets=function(t,e){var n=[];return t.replace(e,function(t){n.push({offset:arguments[arguments.length-2],length:t.length})}),n},e.deferredCall=function(t){var e=null,n=function(){e=null,t()},i=function(t){return i.cancel(),e=setTimeout(n,t||0),i};return i.schedule=i,i.call=function(){return this.cancel(),t(),i},i.cancel=function(){return clearTimeout(e),e=null,i},i.isPending=function(){return e},i},e.delayedCall=function(t,e){var n=null,i=function(){n=null,t()},r=function(t){null==n&&(n=setTimeout(i,t||e))};return r.delay=function(t){n&&clearTimeout(n),n=setTimeout(i,t||e)},r.schedule=r,r.call=function(){this.cancel(),t()},r.cancel=function(){n&&clearTimeout(n),n=null},r.isPending=function(){return n},r}}),ace.define("ace/keyboard/textinput_ios",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/lib/keys"],function(t,e,n){"use strict";var i=t("../lib/event"),r=t("../lib/useragent"),o=t("../lib/dom"),s=t("../lib/lang"),a=t("../lib/keys"),l=a.KEY_MODS,u=r.isChrome<18,c=r.isIE,h=function(t,e){function n(t){if(!y){if(y=!0,S)e=0,n=t?0:f.value.length-1;else var e=4,n=5;try{f.setSelectionRange(e,n)}catch(i){}y=!1}}function h(){y||(f.value=p,r.isWebKit&&C.schedule())}function d(){clearTimeout(N),N=setTimeout(function(){b&&(f.style.cssText=b,b=""),null==e.renderer.$keepTextAreaAtCursor&&(e.renderer.$keepTextAreaAtCursor=!0,e.renderer.$moveTextAreaToCursor())},0)}var f=o.createElement("textarea");f.className=r.isIOS?"ace_text-input ace_text-input-ios":"ace_text-input",r.isTouchPad&&f.setAttribute("x-palm-disable-auto-cap",!0),f.setAttribute("wrap","off"),f.setAttribute("autocorrect","off"),f.setAttribute("autocapitalize","off"),f.setAttribute("spellcheck",!1),f.style.opacity="0",t.insertBefore(f,t.firstChild);var p="\n aaaa a\n",g=!1,m=!1,v=!1,y=!1,b="",w=!0;try{var x=document.activeElement===f}catch(_){}i.addListener(f,"blur",function(t){e.onBlur(t),x=!1}),i.addListener(f,"focus",function(t){x=!0,e.onFocus(t),n()}),this.focus=function(){return b?f.focus():(f.style.position="fixed",void f.focus())},this.blur=function(){f.blur()},this.isFocused=function(){return x};var $=s.delayedCall(function(){x&&n(w)}),C=s.delayedCall(function(){y||(f.value=p,x&&n())});r.isWebKit||e.addEventListener("changeSelection",function(){e.selection.isEmpty()!=w&&(w=!w,$.schedule())}),h(),x&&e.onFocus();var A=function(t){return 0===t.selectionStart&&t.selectionEnd===t.value.length},E=function(t){A(f)?(e.selectAll(),n()):S&&n(e.selection.isEmpty())},S=null;this.setInputHandler=function(t){S=t},this.getInputHandler=function(){return S};var k=!1,D=function(t){(4!==f.selectionStart||5!==f.selectionEnd)&&(S&&(t=S(t),S=null),v?(n(),t&&e.onPaste(t),v=!1):t==p.substr(0)&&4===f.selectionStart?k?e.execCommand("del",{source:"ace"}):e.execCommand("backspace",{source:"ace"}):g||(t.substring(0,9)==p&&t.length>p.length?t=t.substr(9):t.substr(0,4)==p.substr(0,4)?t=t.substr(4,t.length-p.length+1):t.charAt(t.length-1)==p.charAt(0)&&(t=t.slice(0,-1)),t!=p.charAt(0)&&t.charAt(t.length-1)==p.charAt(0)&&(t=t.slice(0,-1)),t&&e.onTextInput(t)),g&&(g=!1),k&&(k=!1))},T=function(t){if(!y){var e=f.value;D(e),h()}},F=function(t,e,n){var i=t.clipboardData||window.clipboardData;if(i&&!u){var r=c||n?"Text":"text/plain";try{return e?i.setData(r,e)!==!1:i.getData(r)}catch(t){if(!n)return F(t,e,!0)}}},M=function(t,o){var s=e.getCopyText();return s?void(F(t,s)?(r.isIOS&&(m=o,f.value="\n aa"+s+"a a\n",f.setSelectionRange(4,4+s.length),g={value:s}),o?e.onCut():e.onCopy(),r.isIOS||i.preventDefault(t)):(g=!0,f.value=s,f.select(),setTimeout(function(){g=!1,h(),n(),o?e.onCut():e.onCopy()}))):i.preventDefault(t)},L=function(t){M(t,!0)},O=function(t){M(t,!1)},P=function(t){var o=F(t);"string"==typeof o?(o&&e.onPaste(o,t),r.isIE&&setTimeout(n),i.preventDefault(t)):(f.value="",v=!0)};i.addCommandKeyListener(f,e.onCommandKey.bind(e)),i.addListener(f,"select",E),i.addListener(f,"input",T),i.addListener(f,"cut",L),i.addListener(f,"copy",O),i.addListener(f,"paste",P);var B=function(t){y||!e.onCompositionStart||e.$readOnly||(y={},y.canUndo=e.session.$undoManager,e.onCompositionStart(),setTimeout(I,0),e.on("mousedown",R),y.canUndo&&!e.selection.isEmpty()&&(e.insert(""),e.session.markUndoGroup(),e.selection.clearSelection()),e.session.markUndoGroup())},I=function(){if(y&&e.onCompositionUpdate&&!e.$readOnly){var t=f.value.replace(/\x01/g,"");if(y.lastValue!==t&&(e.onCompositionUpdate(t),y.lastValue&&e.undo(),y.canUndo&&(y.lastValue=t),y.lastValue)){var n=e.selection.getRange();e.insert(y.lastValue),e.session.markUndoGroup(),y.range=e.selection.getRange(),e.selection.setRange(n),e.selection.clearSelection()}}},R=function(t){if(e.onCompositionEnd&&!e.$readOnly){var n=y;y=!1;var i=setTimeout(function(){i=null;var t=f.value.replace(/\x01/g,"");y||(t==n.lastValue?h():!n.lastValue&&t&&(h(),D(t)))});S=function(t){return i&&clearTimeout(i),t=t.replace(/\x01/g,""),t==n.lastValue?"":(n.lastValue&&i&&e.undo(),t)},e.onCompositionEnd(),e.removeListener("mousedown",R),"compositionend"==t.type&&n.range&&e.selection.setRange(n.range);var o=!!r.isChrome&&r.isChrome>=53||!!r.isWebKit&&r.isWebKit>=603;o&&T()}},j=s.delayedCall(I,50);i.addListener(f,"compositionstart",B),r.isGecko?i.addListener(f,"text",function(){j.schedule()}):(i.addListener(f,"keyup",function(){j.schedule()}),i.addListener(f,"keydown",function(){j.schedule()})),i.addListener(f,"compositionend",R),this.getElement=function(){return f},this.setReadOnly=function(t){f.readOnly=t},this.onContextMenu=function(t){k=!0,n(e.selection.isEmpty()),e._emit("nativecontextmenu",{target:e,domEvent:t}),this.moveToMouse(t,!0)},this.moveToMouse=function(t,n){b||(b=f.style.cssText),f.style.cssText=(n?"z-index:100000;":"")+"height:"+f.style.height+";"+(r.isIE?"opacity:0.1;":"");var s=e.container.getBoundingClientRect(),a=o.computedStyle(e.container),l=s.top+(parseInt(a.borderTopWidth)||0),u=s.left+(parseInt(s.borderLeftWidth)||0),c=s.bottom-l-f.clientHeight-2,h=function(t){f.style.left=t.clientX-u-2+"px",f.style.top=Math.min(t.clientY-l-2,c)+"px"};h(t),"mousedown"==t.type&&(e.renderer.$keepTextAreaAtCursor&&(e.renderer.$keepTextAreaAtCursor=null),clearTimeout(N),r.isWin&&i.capture(e.container,h,d))},this.onContextMenuClose=d;var N,z=function(t){e.textInput.onContextMenu(t),d()};if(i.addListener(f,"mouseup",z),i.addListener(f,"mousedown",function(t){t.preventDefault(),d()}),i.addListener(e.renderer.scroller,"contextmenu",z),i.addListener(f,"contextmenu",z),r.isIOS){var U=null,V=!1;t.addEventListener("keydown",function(t){U&&clearTimeout(U),V=!0}),t.addEventListener("keyup",function(t){U=setTimeout(function(){V=!1},100)});var H=function(t){if(document.activeElement===f&&!V){if(m)return setTimeout(function(){m=!1},100);var n=f.selectionStart,i=f.selectionEnd;if(f.setSelectionRange(4,5),n==i)switch(n){case 0:e.onCommandKey(null,0,a.up);break;case 1:e.onCommandKey(null,0,a.home);break;case 2:e.onCommandKey(null,l.option,a.left);break;case 4:e.onCommandKey(null,0,a.left);break;case 5:e.onCommandKey(null,0,a.right);break;case 7:e.onCommandKey(null,l.option,a.right);break;case 8:e.onCommandKey(null,0,a.end);break;case 9:e.onCommandKey(null,0,a.down)}else{switch(i){case 6:e.onCommandKey(null,l.shift,a.right);break;case 7:e.onCommandKey(null,l.shift|l.option,a.right);break;case 8:e.onCommandKey(null,l.shift,a.end);break;case 9:e.onCommandKey(null,l.shift,a.down)}switch(n){case 0:e.onCommandKey(null,l.shift,a.up);break;case 1:e.onCommandKey(null,l.shift,a.home);break;case 2:e.onCommandKey(null,l.shift|l.option,a.left);break;case 3:e.onCommandKey(null,l.shift,a.left)}}}};document.addEventListener("selectionchange",H),e.on("destroy",function(){document.removeEventListener("selectionchange",H)})}};e.TextInput=h}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/keyboard/textinput_ios"],function(t,e,n){"use strict";var i=t("../lib/event"),r=t("../lib/useragent"),o=t("../lib/dom"),s=t("../lib/lang"),a=r.isChrome<18,l=r.isIE,u=t("./textinput_ios").TextInput,c=function(t,e){function n(t){if(!m){if(m=!0,A)var e=0,n=t?0:d.value.length-1;else var e=t?2:1,n=2;try{d.setSelectionRange(e,n)}catch(i){}m=!1}}function c(){m||(d.value=f,r.isWebKit&&_.schedule())}function h(){clearTimeout(R),R=setTimeout(function(){v&&(d.style.cssText=v,v=""),null==e.renderer.$keepTextAreaAtCursor&&(e.renderer.$keepTextAreaAtCursor=!0,e.renderer.$moveTextAreaToCursor())},0)}if(r.isIOS)return u.call(this,t,e);var d=o.createElement("textarea");d.className="ace_text-input",d.setAttribute("wrap","off"),d.setAttribute("autocorrect","off"),d.setAttribute("autocapitalize","off"),d.setAttribute("spellcheck",!1),d.style.opacity="0",t.insertBefore(d,t.firstChild);var f="\u2028\u2028",p=!1,g=!1,m=!1,v="",y=!0;try{var b=document.activeElement===d}catch(w){}i.addListener(d,"blur",function(t){e.onBlur(t),b=!1}),i.addListener(d,"focus",function(t){b=!0,e.onFocus(t),n()}),this.focus=function(){if(v)return d.focus();var t=d.style.top;d.style.position="fixed",d.style.top="0px",d.focus(),setTimeout(function(){d.style.position="","0px"==d.style.top&&(d.style.top=t)},0)},this.blur=function(){d.blur()},this.isFocused=function(){return b};var x=s.delayedCall(function(){b&&n(y)}),_=s.delayedCall(function(){m||(d.value=f,b&&n())});r.isWebKit||e.addEventListener("changeSelection",function(){e.selection.isEmpty()!=y&&(y=!y,x.schedule())}),c(),b&&e.onFocus();var $=function(t){return 0===t.selectionStart&&t.selectionEnd===t.value.length},C=function(t){p?p=!1:$(d)?(e.selectAll(),n()):A&&n(e.selection.isEmpty())},A=null;this.setInputHandler=function(t){A=t},this.getInputHandler=function(){return A};var E=!1,S=function(t){A&&(t=A(t),A=null),g?(n(),t&&e.onPaste(t),g=!1):t==f.charAt(0)?E?e.execCommand("del",{source:"ace"}):e.execCommand("backspace",{source:"ace"}):(t.substring(0,2)==f?t=t.substr(2):t.charAt(0)==f.charAt(0)?t=t.substr(1):t.charAt(t.length-1)==f.charAt(0)&&(t=t.slice(0,-1)),t.charAt(t.length-1)==f.charAt(0)&&(t=t.slice(0,-1)),t&&e.onTextInput(t)),E&&(E=!1)},k=function(t){if(!m){var e=d.value;S(e),c()}},D=function(t,e,n){var i=t.clipboardData||window.clipboardData;if(i&&!a){var r=l||n?"Text":"text/plain";try{return e?i.setData(r,e)!==!1:i.getData(r)}catch(t){if(!n)return D(t,e,!0)}}},T=function(t,r){var o=e.getCopyText();return o?void(D(t,o)?(r?e.onCut():e.onCopy(),i.preventDefault(t)):(p=!0,d.value=o,d.select(),setTimeout(function(){p=!1,c(),n(),r?e.onCut():e.onCopy()}))):i.preventDefault(t)},F=function(t){T(t,!0)},M=function(t){T(t,!1)},L=function(t){var o=D(t);"string"==typeof o?(o&&e.onPaste(o,t),r.isIE&&setTimeout(n),i.preventDefault(t)):(d.value="",g=!0)};i.addCommandKeyListener(d,e.onCommandKey.bind(e)),i.addListener(d,"select",C),i.addListener(d,"input",k),i.addListener(d,"cut",F),i.addListener(d,"copy",M),i.addListener(d,"paste",L),(!("oncut"in d)||!("oncopy"in d)||!("onpaste"in d))&&i.addListener(t,"keydown",function(t){if((!r.isMac||t.metaKey)&&t.ctrlKey)switch(t.keyCode){case 67:M(t);break;case 86:L(t);break;case 88:F(t)}});var O=function(t){m||!e.onCompositionStart||e.$readOnly||(m={},m.canUndo=e.session.$undoManager,e.onCompositionStart(),setTimeout(P,0),e.on("mousedown",B),m.canUndo&&!e.selection.isEmpty()&&(e.insert(""),e.session.markUndoGroup(),e.selection.clearSelection()),e.session.markUndoGroup())},P=function(){if(m&&e.onCompositionUpdate&&!e.$readOnly){var t=d.value.replace(/\u2028/g,"");if(m.lastValue!==t&&(e.onCompositionUpdate(t),m.lastValue&&e.undo(),m.canUndo&&(m.lastValue=t),m.lastValue)){var n=e.selection.getRange();e.insert(m.lastValue),e.session.markUndoGroup(),m.range=e.selection.getRange(),e.selection.setRange(n),e.selection.clearSelection()}}},B=function(t){if(e.onCompositionEnd&&!e.$readOnly){var n=m;m=!1;var i=setTimeout(function(){i=null;var t=d.value.replace(/\u2028/g,"");m||(t==n.lastValue?c():!n.lastValue&&t&&(c(),S(t)))});A=function(t){return i&&clearTimeout(i),t=t.replace(/\u2028/g,""),t==n.lastValue?"":(n.lastValue&&i&&e.undo(),t)},e.onCompositionEnd(),e.removeListener("mousedown",B),"compositionend"==t.type&&n.range&&e.selection.setRange(n.range);var o=!!r.isChrome&&r.isChrome>=53||!!r.isWebKit&&r.isWebKit>=603;o&&k()}},I=s.delayedCall(P,50);i.addListener(d,"compositionstart",O),r.isGecko?i.addListener(d,"text",function(){I.schedule()}):(i.addListener(d,"keyup",function(){I.schedule()}),i.addListener(d,"keydown",function(){I.schedule()})),i.addListener(d,"compositionend",B),this.getElement=function(){return d},this.setReadOnly=function(t){d.readOnly=t},this.onContextMenu=function(t){E=!0,n(e.selection.isEmpty()),e._emit("nativecontextmenu",{target:e,domEvent:t}),this.moveToMouse(t,!0)},this.moveToMouse=function(t,n){v||(v=d.style.cssText),d.style.cssText=(n?"z-index:100000;":"")+"height:"+d.style.height+";"+(r.isIE?"opacity:0.1;":"");var s=e.container.getBoundingClientRect(),a=o.computedStyle(e.container),l=s.top+(parseInt(a.borderTopWidth)||0),u=s.left+(parseInt(s.borderLeftWidth)||0),c=s.bottom-l-d.clientHeight-2,f=function(t){d.style.left=t.clientX-u-2+"px",d.style.top=Math.min(t.clientY-l-2,c)+"px"};f(t),"mousedown"==t.type&&(e.renderer.$keepTextAreaAtCursor&&(e.renderer.$keepTextAreaAtCursor=null),clearTimeout(R),r.isWin&&i.capture(e.container,f,h))},this.onContextMenuClose=h;var R,j=function(t){e.textInput.onContextMenu(t),h()};i.addListener(d,"mouseup",j),i.addListener(d,"mousedown",function(t){t.preventDefault(),h()}),i.addListener(e.renderer.scroller,"contextmenu",j),i.addListener(d,"contextmenu",j)};e.TextInput=c}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(t,e,n){"use strict";function i(t){t.$clickSelection=null;var e=t.editor;e.setDefaultHandler("mousedown",this.onMouseDown.bind(t)),e.setDefaultHandler("dblclick",this.onDoubleClick.bind(t)),e.setDefaultHandler("tripleclick",this.onTripleClick.bind(t)),e.setDefaultHandler("quadclick",this.onQuadClick.bind(t)),e.setDefaultHandler("mousewheel",this.onMouseWheel.bind(t)),e.setDefaultHandler("touchmove",this.onTouchMove.bind(t));var n=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];n.forEach(function(e){t[e]=this[e]},this),t.selectByLines=this.extendSelectionBy.bind(t,"getLineRange"),t.selectByWords=this.extendSelectionBy.bind(t,"getWordRange")}function r(t,e,n,i){return Math.sqrt(Math.pow(n-t,2)+Math.pow(i-e,2))}function o(t,e){if(t.start.row==t.end.row)var n=2*e.column-t.start.column-t.end.column;else if(t.start.row!=t.end.row-1||t.start.column||t.end.column)var n=2*e.row-t.start.row-t.end.row;else var n=e.column-4;return 0>n?{cursor:t.start,anchor:t.end}:{cursor:t.end,anchor:t.start}}var s=(t("../lib/dom"),t("../lib/event"),t("../lib/useragent")),a=0,l=250;(function(){this.onMouseDown=function(t){var e=t.inSelection(),n=t.getDocumentPosition();this.mousedownEvent=t;var i=this.editor,r=t.getButton();if(0!==r){var o=i.getSelectionRange(),a=o.isEmpty();return i.$blockScrolling++,(a||1==r)&&i.selection.moveToPosition(n),i.$blockScrolling--,2==r&&(i.textInput.onContextMenu(t.domEvent),s.isMozilla||t.preventDefault()),void 0}return this.mousedownEvent.time=Date.now(),!e||i.isFocused()||(i.focus(),!this.$focusTimout||this.$clickSelection||i.inMultiSelectMode)?(this.captureMouse(t),this.startSelect(n,t.domEvent._clicks>1),t.preventDefault()):(this.setState("focusWait"),void this.captureMouse(t))},this.startSelect=function(t,e){t=t||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;n.$blockScrolling++,this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(t):e||n.selection.moveToPosition(t),e||this.select(),n.renderer.scroller.setCapture&&n.renderer.scroller.setCapture(),n.setStyle("ace_selecting"),this.setState("select"),n.$blockScrolling--},this.select=function(){var t,e=this.editor,n=e.renderer.screenToTextCoordinates(this.x,this.y);if(e.$blockScrolling++,this.$clickSelection){var i=this.$clickSelection.comparePoint(n);if(-1==i)t=this.$clickSelection.end;else if(1==i)t=this.$clickSelection.start;else{var r=o(this.$clickSelection,n);n=r.cursor,t=r.anchor}e.selection.setSelectionAnchor(t.row,t.column)}e.selection.selectToPosition(n),e.$blockScrolling--,e.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(t){var e,n=this.editor,i=n.renderer.screenToTextCoordinates(this.x,this.y),r=n.selection[t](i.row,i.column);if(n.$blockScrolling++,this.$clickSelection){var s=this.$clickSelection.comparePoint(r.start),a=this.$clickSelection.comparePoint(r.end);if(-1==s&&0>=a)e=this.$clickSelection.end,(r.end.row!=i.row||r.end.column!=i.column)&&(i=r.start);else if(1==a&&s>=0)e=this.$clickSelection.start,(r.start.row!=i.row||r.start.column!=i.column)&&(i=r.end);else if(-1==s&&1==a)i=r.end,e=r.start;else{var l=o(this.$clickSelection,i);i=l.cursor,e=l.anchor}n.selection.setSelectionAnchor(e.row,e.column)}n.selection.selectToPosition(i),n.$blockScrolling--,n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var t=r(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),e=Date.now();(t>a||e-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(t){var e=t.getDocumentPosition(),n=this.editor,i=n.session,r=i.getBracketRange(e);r?(r.isEmpty()&&(r.start.column--,r.end.column++),this.setState("select")):(r=n.selection.getWordRange(e.row,e.column),this.setState("selectByWords")),this.$clickSelection=r,this.select()},this.onTripleClick=function(t){var e=t.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var i=n.getSelectionRange();i.isMultiLine()&&i.contains(e.row,e.column)?(this.$clickSelection=n.selection.getLineRange(i.start.row),this.$clickSelection.end=n.selection.getLineRange(i.end.row).end):this.$clickSelection=n.selection.getLineRange(e.row),this.select()},this.onQuadClick=function(t){var e=this.editor;e.selectAll(),this.$clickSelection=e.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(t){if(!t.getAccelKey()){t.getShiftKey()&&t.wheelY&&!t.wheelX&&(t.wheelX=t.wheelY,t.wheelY=0);var e=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var n=this.$lastScroll,i=t.domEvent.timeStamp,r=i-n.t,o=t.wheelX/r,s=t.wheelY/r;l>r&&(o=(o+n.vx)/2,s=(s+n.vy)/2);var a=Math.abs(o/s),u=!1;if(a>=1&&e.renderer.isScrollableBy(t.wheelX*t.speed,0)&&(u=!0),1>=a&&e.renderer.isScrollableBy(0,t.wheelY*t.speed)&&(u=!0),u)n.allowed=i;else if(i-n.allowed<l){var c=Math.abs(o)<=1.1*Math.abs(n.vx)&&Math.abs(s)<=1.1*Math.abs(n.vy);c?(u=!0,n.allowed=i):n.allowed=0}return n.t=i,n.vx=o,n.vy=s,u?(e.renderer.scrollBy(t.wheelX*t.speed,t.wheelY*t.speed),t.stop()):void 0}},this.onTouchMove=function(t){this.editor._emit("mousewheel",t)}}).call(i.prototype),e.DefaultHandlers=i}),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(t,e,n){"use strict";function i(t){this.isOpen=!1,this.$element=null,this.$parentNode=t}var r=(t("./lib/oop"),t("./lib/dom"));(function(){this.$init=function(){return this.$element=r.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(t){r.setInnerText(this.getElement(),t)},this.setHtml=function(t){this.getElement().innerHTML=t},this.setPosition=function(t,e){this.getElement().style.left=t+"px",this.getElement().style.top=e+"px"},this.setClassName=function(t){r.addCssClass(this.getElement(),t)},this.show=function(t,e,n){null!=t&&this.setText(t),null!=e&&null!=n&&this.setPosition(e,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(i.prototype),e.Tooltip=i}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(t,e,n){"use strict";function i(t){function e(){var e=h.getDocumentPosition().row,r=l.$annotations[e];if(!r)return n();var o=s.session.getLength();if(e==o){var a=s.renderer.pixelToScreenCoordinates(0,h.y).row,c=h.$pos;if(a>s.session.documentToScreenRow(c.row,c.column))return n()}if(d!=r)if(d=r.text.join("<br/>"),u.setHtml(d),u.show(),s._signal("showGutterTooltip",u),s.on("mousewheel",n),t.$tooltipFollowsMouse)i(h);else{var f=h.domEvent.target,p=f.getBoundingClientRect(),g=u.getElement().style;g.left=p.right+"px",g.top=p.bottom+"px"}}function n(){c&&(c=clearTimeout(c)),d&&(u.hide(),d=null,s._signal("hideGutterTooltip",u),s.removeEventListener("mousewheel",n))}function i(t){u.setPosition(t.x,t.y)}var s=t.editor,l=s.renderer.$gutterLayer,u=new r(s.container);t.editor.setDefaultHandler("guttermousedown",function(e){if(s.isFocused()&&0==e.getButton()){var n=l.getRegion(e);if("foldWidgets"!=n){var i=e.getDocumentPosition().row,r=s.session.selection;if(e.getShiftKey())r.selectTo(i,0);else{if(2==e.domEvent.detail)return s.selectAll(),e.preventDefault();t.$clickSelection=s.selection.getLineRange(i)}return t.setState("selectByLines"),t.captureMouse(e),e.preventDefault()}}});var c,h,d;t.editor.setDefaultHandler("guttermousemove",function(r){var s=r.domEvent.target||r.domEvent.srcElement;return o.hasCssClass(s,"ace_fold-widget")?n():(d&&t.$tooltipFollowsMouse&&i(r),h=r,void(c||(c=setTimeout(function(){c=null,h&&!t.isMousePressed?e():n()},50))))}),a.addListener(s.renderer.$gutter,"mouseout",function(t){h=null,d&&!c&&(c=setTimeout(function(){c=null,n()},50))}),s.on("changeSession",n)}function r(t){l.call(this,t)}var o=t("../lib/dom"),s=t("../lib/oop"),a=t("../lib/event"),l=t("../tooltip").Tooltip;s.inherits(r,l),function(){this.setPosition=function(t,e){var n=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight,r=this.getWidth(),o=this.getHeight();t+=15,e+=15,t+r>n&&(t-=t+r-n),e+o>i&&(e-=20+o),l.prototype.setPosition.call(this,t,e)}}.call(r.prototype),e.GutterHandler=i}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(t,e,n){"use strict";var i=t("../lib/event"),r=t("../lib/useragent"),o=e.MouseEvent=function(t,e){this.domEvent=t,this.editor=e,this.x=this.clientX=t.clientX,this.y=this.clientY=t.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){i.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){i.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var t=this.editor,e=t.getSelectionRange();if(e.isEmpty())this.$inSelection=!1;else{var n=this.getDocumentPosition();this.$inSelection=e.contains(n.row,n.column)}return this.$inSelection},this.getButton=function(){return i.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=r.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(o.prototype)}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(t,e,n){"use strict";function i(t){function e(t,e){var n=Date.now(),i=!e||t.row!=e.row,o=!e||t.column!=e.column;if(!k||i||o)m.$blockScrolling+=1,m.moveCursorToPosition(t),m.$blockScrolling-=1,k=n,D={x:w,y:x};else{var s=r(D.x,D.y,w,x);s>c?k=null:n-k>=u&&(m.renderer.scrollCursorIntoView(),k=null)}}function n(t,e){var n=Date.now(),i=m.renderer.layerConfig.lineHeight,r=m.renderer.layerConfig.characterWidth,o=m.renderer.scroller.getBoundingClientRect(),s={x:{left:w-o.left,right:o.right-w},y:{top:x-o.top,bottom:o.bottom-x}},a=Math.min(s.x.left,s.x.right),u=Math.min(s.y.top,s.y.bottom),c={row:t.row,column:t.column};2>=a/r&&(c.column+=s.x.left<s.x.right?-3:2),1>=u/i&&(c.row+=s.y.top<s.y.bottom?-1:1);var h=t.row!=c.row,d=t.column!=c.column,f=!e||t.row!=e.row;h||d&&!f?S?n-S>=l&&m.renderer.scrollCursorIntoView(c):S=n:S=null}function i(){var t=C;C=m.renderer.screenToTextCoordinates(w,x),e(C,t),n(C,t)}function h(){$=m.selection.toOrientedRange(),b=m.session.addMarker($,"ace_selection",m.getSelectionStyle()),m.clearSelection(),m.isFocused()&&m.renderer.$cursorLayer.setBlinking(!1),clearInterval(_),i(),_=setInterval(i,20),F=0,s.addListener(document,"mousemove",f)}function d(){clearInterval(_),m.session.removeMarker(b),b=null,m.$blockScrolling+=1,m.selection.fromOrientedRange($),m.$blockScrolling-=1,m.isFocused()&&!E&&m.renderer.$cursorLayer.setBlinking(!m.getReadOnly()),$=null,C=null,F=0,S=null,k=null,s.removeListener(document,"mousemove",f)}function f(){null==M&&(M=setTimeout(function(){null!=M&&b&&d()},20))}function p(t){var e=t.types;return!e||Array.prototype.some.call(e,function(t){return"text/plain"==t||"Text"==t})}function g(t){var e=["copy","copymove","all","uninitialized"],n=["move","copymove","linkmove","all","uninitialized"],i=a.isMac?t.altKey:t.ctrlKey,r="uninitialized";try{r=t.dataTransfer.effectAllowed.toLowerCase()}catch(t){}var o="none";return i&&e.indexOf(r)>=0?o="copy":n.indexOf(r)>=0?o="move":e.indexOf(r)>=0&&(o="copy"),o}var m=t.editor,v=o.createElement("img");v.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",a.isOpera&&(v.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");var y=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];y.forEach(function(e){t[e]=this[e]},this),m.addEventListener("mousedown",this.onMouseDown.bind(t));var b,w,x,_,$,C,A,E,S,k,D,T=m.container,F=0;this.onDragStart=function(t){if(this.cancelDrag||!T.draggable){var e=this;return setTimeout(function(){e.startSelect(),e.captureMouse(t)},0),t.preventDefault()}$=m.getSelectionRange();var n=t.dataTransfer;n.effectAllowed=m.getReadOnly()?"copy":"copyMove",a.isOpera&&(m.container.appendChild(v),v.scrollTop=0),n.setDragImage&&n.setDragImage(v,0,0),a.isOpera&&m.container.removeChild(v),n.clearData(),n.setData("Text",m.session.getTextRange()),E=!0,this.setState("drag")},this.onDragEnd=function(t){if(T.draggable=!1,E=!1,this.setState(null),!m.getReadOnly()){var e=t.dataTransfer.dropEffect;!A&&"move"==e&&m.session.remove(m.getSelectionRange()),m.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(t){return!m.getReadOnly()&&p(t.dataTransfer)?(w=t.clientX,x=t.clientY,b||h(),F++,t.dataTransfer.dropEffect=A=g(t),s.preventDefault(t)):void 0},this.onDragOver=function(t){return!m.getReadOnly()&&p(t.dataTransfer)?(w=t.clientX,x=t.clientY,b||(h(),F++),null!==M&&(M=null),t.dataTransfer.dropEffect=A=g(t),s.preventDefault(t)):void 0},this.onDragLeave=function(t){return F--,0>=F&&b?(d(),A=null,s.preventDefault(t)):void 0},this.onDrop=function(t){if(C){var e=t.dataTransfer;if(E)switch(A){case"move":$=$.contains(C.row,C.column)?{start:C,end:C}:m.moveText($,C);break;case"copy":$=m.moveText($,C,!0)}else{var n=e.getData("Text");$={start:C,end:m.session.insert(C,n)},m.focus(),A=null}return d(),s.preventDefault(t)}},s.addListener(T,"dragstart",this.onDragStart.bind(t)),s.addListener(T,"dragend",this.onDragEnd.bind(t)),s.addListener(T,"dragenter",this.onDragEnter.bind(t)),s.addListener(T,"dragover",this.onDragOver.bind(t)),s.addListener(T,"dragleave",this.onDragLeave.bind(t)),s.addListener(T,"drop",this.onDrop.bind(t));var M=null}function r(t,e,n,i){return Math.sqrt(Math.pow(n-t,2)+Math.pow(i-e,2))}var o=t("../lib/dom"),s=t("../lib/event"),a=t("../lib/useragent"),l=200,u=200,c=5;(function(){this.dragWait=function(){var t=Date.now()-this.mousedownEvent.time;t>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var t=this.editor.container;t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(t){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var t=this.editor,e=t.container;e.draggable=!0,t.renderer.$cursorLayer.setBlinking(!1),t.setStyle("ace_dragging");var n=a.isWin?"default":"move";t.renderer.setCursorStyle(n),this.setState("dragReady")},this.onMouseDrag=function(t){var e=this.editor.container;if(a.isIE&&"dragReady"==this.state){var n=r(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);n>3&&e.dragDrop()}if("dragWait"===this.state){var n=r(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);n>0&&(e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(t){if(this.$dragEnabled){this.mousedownEvent=t;var e=this.editor,n=t.inSelection(),i=t.getButton(),r=t.domEvent.detail||1;
if(1===r&&0===i&&n){if(t.editor.inMultiSelectMode&&(t.getAccelKey()||t.getShiftKey()))return;this.mousedownEvent.time=Date.now();var o=t.domEvent.target||t.domEvent.srcElement;if("unselectable"in o&&(o.unselectable="on"),e.getDragDelay()){if(a.isWebKit){this.cancelDrag=!0;var s=e.container;s.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(t,this.onMouseDrag.bind(this)),t.defaultPrevented=!0}}}}).call(i.prototype),e.DragdropHandler=i}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(t,e,n){"use strict";var i=t("./dom");e.get=function(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.onreadystatechange=function(){4===n.readyState&&e(n.responseText)},n.send(null)},e.loadScript=function(t,e){var n=i.getDocumentHead(),r=document.createElement("script");r.src=t,n.appendChild(r),r.onload=r.onreadystatechange=function(t,n){(n||!r.readyState||"loaded"==r.readyState||"complete"==r.readyState)&&(r=r.onload=r.onreadystatechange=null,n||e())}},e.qualifyURL=function(t){var e=document.createElement("a");return e.href=t,e.href}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(t,e,n){"use strict";var i={},r=function(){this.propagationStopped=!0},o=function(){this.defaultPrevented=!0};i._emit=i._dispatchEvent=function(t,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[t]||[],i=this._defaultHandlers[t];if(n.length||i){"object"==typeof e&&e||(e={}),e.type||(e.type=t),e.stopPropagation||(e.stopPropagation=r),e.preventDefault||(e.preventDefault=o),n=n.slice();for(var s=0;s<n.length&&(n[s](e,this),!e.propagationStopped);s++);return i&&!e.defaultPrevented?i(e,this):void 0}},i._signal=function(t,e){var n=(this._eventRegistry||{})[t];if(n){n=n.slice();for(var i=0;i<n.length;i++)n[i](e,this)}},i.once=function(t,e){var n=this;e&&this.addEventListener(t,function i(){n.removeEventListener(t,i),e.apply(null,arguments)})},i.setDefaultHandler=function(t,e){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[t]){var i=n[t],r=n._disabled_[t];r||(n._disabled_[t]=r=[]),r.push(i);var o=r.indexOf(e);-1!=o&&r.splice(o,1)}n[t]=e},i.removeDefaultHandler=function(t,e){var n=this._defaultHandlers;if(n){var i=n._disabled_[t];if(n[t]==e){n[t];i&&this.setDefaultHandler(t,i.pop())}else if(i){var r=i.indexOf(e);-1!=r&&i.splice(r,1)}}},i.on=i.addEventListener=function(t,e,n){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[t];return i||(i=this._eventRegistry[t]=[]),-1==i.indexOf(e)&&i[n?"unshift":"push"](e),e},i.off=i.removeListener=i.removeEventListener=function(t,e){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[t];if(n){var i=n.indexOf(e);-1!==i&&n.splice(i,1)}},i.removeAllListeners=function(t){this._eventRegistry&&(this._eventRegistry[t]=[])},e.EventEmitter=i}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(t,e,n){"no use strict";function i(t){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function r(t,e){var n=new Error(t);n.data=e,"object"==typeof console&&console.error&&console.error(n),setTimeout(function(){throw n})}var o=t("./oop"),s=t("./event_emitter").EventEmitter,a={setOptions:function(t){Object.keys(t).forEach(function(e){this.setOption(e,t[e])},this)},getOptions:function(t){var e={};return t?Array.isArray(t)||(e=t,t=Object.keys(e)):t=Object.keys(this.$options),t.forEach(function(t){e[t]=this.getOption(t)},this),e},setOption:function(t,e){if(this["$"+t]!==e){var n=this.$options[t];return n?n.forwardTo?this[n.forwardTo]&&this[n.forwardTo].setOption(t,e):(n.handlesSet||(this["$"+t]=e),void(n&&n.set&&n.set.call(this,e))):i('misspelled option "'+t+'"')}},getOption:function(t){var e=this.$options[t];return e?e.forwardTo?this[e.forwardTo]&&this[e.forwardTo].getOption(t):e&&e.get?e.get.call(this):this["$"+t]:i('misspelled option "'+t+'"')}},l=function(){this.$defaultOptions={}};(function(){o.implement(this,s),this.defineOptions=function(t,e,n){return t.$options||(this.$defaultOptions[e]=t.$options={}),Object.keys(n).forEach(function(e){var i=n[e];"string"==typeof i&&(i={forwardTo:i}),i.name||(i.name=e),t.$options[i.name]=i,"initialValue"in i&&(t["$"+i.name]=i.initialValue)}),o.implement(t,a),this},this.resetOptions=function(t){Object.keys(t.$options).forEach(function(e){var n=t.$options[e];"value"in n&&t.setOption(e,n.value)})},this.setDefaultValue=function(t,e,n){var i=this.$defaultOptions[t]||(this.$defaultOptions[t]={});i[e]&&(i.forwardTo?this.setDefaultValue(i.forwardTo,e,n):i[e].value=n)},this.setDefaultValues=function(t,e){Object.keys(e).forEach(function(n){this.setDefaultValue(t,n,e[n])},this)},this.warn=i,this.reportError=r}).call(l.prototype),e.AppConfig=l}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],function(t,e,n){"no use strict";function i(i){if(l&&l.document){u.packaged=i||t.packaged||n.packaged||l.define&&define.packaged;for(var o={},s="",a=document.currentScript||document._currentScript,c=a&&a.ownerDocument||document,h=c.getElementsByTagName("script"),d=0;d<h.length;d++){var f=h[d],p=f.src||f.getAttribute("src");if(p){for(var g=f.attributes,m=0,v=g.length;v>m;m++){var y=g[m];0===y.name.indexOf("data-ace-")&&(o[r(y.name.replace(/^data-ace-/,""))]=y.value)}var b=p.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);b&&(s=b[1])}}s&&(o.base=o.base||s,o.packaged=!0),o.basePath=o.base,o.workerPath=o.workerPath||o.base,o.modePath=o.modePath||o.base,o.themePath=o.themePath||o.base,delete o.base;for(var w in o)"undefined"!=typeof o[w]&&e.set(w,o[w])}}function r(t){return t.replace(/-(.)/g,function(t,e){return e.toUpperCase()})}var o=t("./lib/lang"),s=(t("./lib/oop"),t("./lib/net")),a=t("./lib/app_config").AppConfig;n.exports=e=new a;var l=function(){return this||"undefined"!=typeof window&&window}(),u={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};e.get=function(t){if(!u.hasOwnProperty(t))throw new Error("Unknown config key: "+t);return u[t]},e.set=function(t,e){if(!u.hasOwnProperty(t))throw new Error("Unknown config key: "+t);u[t]=e},e.all=function(){return o.copyObject(u)},e.moduleUrl=function(t,e){if(u.$moduleUrls[t])return u.$moduleUrls[t];var n=t.split("/");e=e||n[n.length-2]||"";var i="snippets"==e?"/":"-",r=n[n.length-1];if("worker"==e&&"-"==i){var o=new RegExp("^"+e+"[\\-_]|[\\-_]"+e+"$","g");r=r.replace(o,"")}(!r||r==e)&&n.length>1&&(r=n[n.length-2]);var s=u[e+"Path"];return null==s?s=u.basePath:"/"==i&&(e=i=""),s&&"/"!=s.slice(-1)&&(s+="/"),s+e+i+r+this.get("suffix")},e.setModuleUrl=function(t,e){return u.$moduleUrls[t]=e},e.$loading={},e.loadModule=function(n,i){var r,o;Array.isArray(n)&&(o=n[0],n=n[1]);try{r=t(n)}catch(a){}if(r&&!e.$loading[n])return i&&i(r);if(e.$loading[n]||(e.$loading[n]=[]),e.$loading[n].push(i),!(e.$loading[n].length>1)){var l=function(){t([n],function(t){e._emit("load.module",{name:n,module:t});var i=e.$loading[n];e.$loading[n]=null,i.forEach(function(e){e&&e(t)})})};return e.get("packaged")?void s.loadScript(e.moduleUrl(n,o),l):l()}},e.init=i}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],function(t,e,n){"use strict";var i=t("../lib/event"),r=t("../lib/useragent"),o=t("./default_handlers").DefaultHandlers,s=t("./default_gutter_handler").GutterHandler,a=t("./mouse_event").MouseEvent,l=t("./dragdrop_handler").DragdropHandler,u=t("../config"),c=function(t){var e=this;this.editor=t,new o(this),new s(this),new l(this);var n=function(e){var n=!document.hasFocus||!document.hasFocus()||!t.isFocused()&&document.activeElement==(t.textInput&&t.textInput.getElement());n&&window.focus(),t.focus()},a=t.renderer.getMouseEventTarget();i.addListener(a,"click",this.onMouseEvent.bind(this,"click")),i.addListener(a,"mousemove",this.onMouseMove.bind(this,"mousemove")),i.addMultiMouseDownListener([a,t.renderer.scrollBarV&&t.renderer.scrollBarV.inner,t.renderer.scrollBarH&&t.renderer.scrollBarH.inner,t.textInput&&t.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent"),i.addMouseWheelListener(t.container,this.onMouseWheel.bind(this,"mousewheel")),i.addTouchMoveListener(t.container,this.onTouchMove.bind(this,"touchmove"));var u=t.renderer.$gutter;i.addListener(u,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),i.addListener(u,"click",this.onMouseEvent.bind(this,"gutterclick")),i.addListener(u,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),i.addListener(u,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),i.addListener(a,"mousedown",n),i.addListener(u,"mousedown",n),r.isIE&&t.renderer.scrollBarV&&(i.addListener(t.renderer.scrollBarV.element,"mousedown",n),i.addListener(t.renderer.scrollBarH.element,"mousedown",n)),t.on("mousemove",function(n){if(!e.state&&!e.$dragDelay&&e.$dragEnabled){var i=t.renderer.screenToTextCoordinates(n.x,n.y),r=t.session.selection.getRange(),o=t.renderer;!r.isEmpty()&&r.insideStart(i.row,i.column)?o.setCursorStyle("default"):o.setCursorStyle("")}})};(function(){this.onMouseEvent=function(t,e){this.editor._emit(t,new a(e,this.editor))},this.onMouseMove=function(t,e){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(t,new a(e,this.editor))},this.onMouseWheel=function(t,e){var n=new a(e,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=e.wheelX,n.wheelY=e.wheelY,this.editor._emit(t,n)},this.onTouchMove=function(t,e){var n=new a(e,this.editor);n.speed=1,n.wheelX=e.wheelX,n.wheelY=e.wheelY,this.editor._emit(t,n)},this.setState=function(t){this.state=t},this.captureMouse=function(t,e){this.x=t.x,this.y=t.y,this.isMousePressed=!0;var n=this.editor.renderer;n.$keepTextAreaAtCursor&&(n.$keepTextAreaAtCursor=null);var o=this,s=function(t){return t?r.isWebKit&&!t.which&&o.releaseMouse?o.releaseMouse():(o.x=t.clientX,o.y=t.clientY,e&&e(t),o.mouseEvent=new a(t,o.editor),o.$mouseMoved=!0,void 0):void 0},l=function(t){clearInterval(c),u(),o[o.state+"End"]&&o[o.state+"End"](t),o.state="",null==n.$keepTextAreaAtCursor&&(n.$keepTextAreaAtCursor=!0,n.$moveTextAreaToCursor()),o.isMousePressed=!1,o.$onCaptureMouseMove=o.releaseMouse=null,t&&o.onMouseEvent("mouseup",t)},u=function(){o[o.state]&&o[o.state](),o.$mouseMoved=!1};if(r.isOldIE&&"dblclick"==t.domEvent.type)return setTimeout(function(){l(t)});o.$onCaptureMouseMove=s,o.releaseMouse=i.capture(this.editor.container,s,l);var c=setInterval(u,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var t=function(e){e&&e.domEvent&&"contextmenu"!=e.domEvent.type||(this.editor.off("nativecontextmenu",t),e&&e.domEvent&&i.stopEvent(e.domEvent))}.bind(this);setTimeout(t,10),this.editor.on("nativecontextmenu",t)}}).call(c.prototype),u.defineOptions(c.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:r.isMac?150:0},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),e.MouseHandler=c}),ace.define("ace/mouse/fold_handler",["require","exports","module"],function(t,e,n){"use strict";function i(t){t.on("click",function(e){var n=e.getDocumentPosition(),i=t.session,r=i.getFoldAt(n.row,n.column,1);r&&(e.getAccelKey()?i.removeFold(r):i.expandFold(r),e.stop())}),t.on("gutterclick",function(e){var n=t.renderer.$gutterLayer.getRegion(e);if("foldWidgets"==n){var i=e.getDocumentPosition().row,r=t.session;r.foldWidgets&&r.foldWidgets[i]&&t.session.onFoldWidgetClick(i,e),t.isFocused()||t.focus(),e.stop()}}),t.on("gutterdblclick",function(e){var n=t.renderer.$gutterLayer.getRegion(e);if("foldWidgets"==n){var i=e.getDocumentPosition().row,r=t.session,o=r.getParentFoldRangeData(i,!0),s=o.range||o.firstRange;if(s){i=s.start.row;var a=r.getFoldAt(i,r.getLine(i).length,1);a?r.removeFold(a):(r.addFold("...",s),t.renderer.scrollCursorIntoView({row:s.start.row,column:0}))}e.stop()}})}e.FoldHandler=i}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(t,e,n){"use strict";var i=t("../lib/keys"),r=t("../lib/event"),o=function(t){this.$editor=t,this.$data={editor:t},this.$handlers=[],this.setDefaultHandler(t.commands)};(function(){this.setDefaultHandler=function(t){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=t,this.addKeyboardHandler(t,0)},this.setKeyboardHandler=function(t){var e=this.$handlers;if(e[e.length-1]!=t){for(;e[e.length-1]&&e[e.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(e[e.length-1]);this.addKeyboardHandler(t,1)}},this.addKeyboardHandler=function(t,e){if(t){"function"==typeof t&&!t.handleKeyboard&&(t.handleKeyboard=t);var n=this.$handlers.indexOf(t);-1!=n&&this.$handlers.splice(n,1),void 0==e?this.$handlers.push(t):this.$handlers.splice(e,0,t),-1==n&&t.attach&&t.attach(this.$editor)}},this.removeKeyboardHandler=function(t){var e=this.$handlers.indexOf(t);return-1==e?!1:(this.$handlers.splice(e,1),t.detach&&t.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var t=this.$data,e=t.editor;return this.$handlers.map(function(n){return n.getStatusText&&n.getStatusText(e,t)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(t,e,n,i){for(var o,s=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&(o=this.$handlers[l].handleKeyboard(this.$data,t,e,n,i),!(o&&o.command&&(s="null"==o.command?!0:a.exec(o.command,this.$editor,o.args,i),s&&i&&-1!=t&&1!=o.passEvent&&1!=o.command.passEvent&&r.stopEvent(i),s))););return!s&&-1==t&&(o={command:"insertstring"},s=a.exec("insertstring",this.$editor,e)),s&&this.$editor._signal&&this.$editor._signal("keyboardActivity",o),s},this.onCommandKey=function(t,e,n){var r=i.keyCodeToString(n);this.$callKeyboardHandlers(e,r,n,t)},this.onTextInput=function(t){this.$callKeyboardHandlers(-1,t)}}).call(o.prototype),e.KeyBinding=o}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(t,e,n){"use strict";function i(t,e,n,i){var r=a?p:f,g=null,m=null,v=null,y=0,b=null,w=null,x=-1,C=null,E=null,S=[];if(!i)for(C=0,i=[];n>C;C++)i[C]=s(t[C]);for(l=a,u=!1,c=!1,h=!1,d=!1,E=0;n>E;E++){if(g=y,S[E]=m=o(t,i,S,E),y=r[g][m],b=240&y,y&=15,e[E]=v=r[y][5],b>0)if(16==b){for(C=x;E>C;C++)e[C]=1;x=-1}else x=-1;if(w=r[y][6])-1==x&&(x=E);else if(x>-1){for(C=x;E>C;C++)e[C]=v;x=-1}i[E]==_&&(e[E]=0),l|=v}if(d)for(C=0;n>C;C++)if(i[C]==$){e[C]=a;for(var k=C-1;k>=0&&i[k]==A;k--)e[k]=a}}function r(t,e,n){if(!(t>l)){if(1==t&&a==m&&!h)return void n.reverse();for(var i,r,o,s,u=n.length,c=0;u>c;){if(e[c]>=t){for(i=c+1;u>i&&e[i]>=t;)i++;for(r=c,o=i-1;o>r;r++,o--)s=n[r],n[r]=n[o],n[o]=s;c=i}c++}}}function o(t,e,n,i){var r,o,s,l,f=e[i];switch(f){case v:case y:u=!1;case x:case w:return f;case b:return u?w:b;case C:return u=!0,c=!0,y;case A:return x;case E:return 1>i||i+1>=e.length||(r=n[i-1])!=b&&r!=w||(o=e[i+1])!=b&&o!=w?x:(u&&(o=w),o==r?o:x);case S:return r=i>0?n[i-1]:_,r==b&&i+1<e.length&&e[i+1]==b?b:x;case k:if(i>0&&n[i-1]==b)return b;if(u)return x;for(l=i+1,s=e.length;s>l&&e[l]==k;)l++;return s>l&&e[l]==b?b:x;case D:for(s=e.length,l=i+1;s>l&&e[l]==D;)l++;if(s>l){var p=t[i],g=p>=1425&&2303>=p||64286==p;if(r=e[l],g&&(r==y||r==C))return y}return 1>i||(r=e[i-1])==_?x:n[i-1];case _:return u=!1,h=!0,a;case $:return d=!0,x;case T:case F:case L:case O:case M:u=!1;case P:return x}}function s(t){var e=t.charCodeAt(0),n=e>>8;return 0==n?e>191?v:B[e]:5==n?/[\u0591-\u05f4]/.test(t)?y:v:6==n?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(t)?D:/[\u0660-\u0669\u066b-\u066c]/.test(t)?w:1642==e?k:/[\u06f0-\u06f9]/.test(t)?b:C:32==n&&8287>=e?I[255&e]:254==n&&e>=65136?C:x}var a=0,l=0,u=!1,c=!1,h=!1,d=!1,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g=0,m=1,v=0,y=1,b=2,w=3,x=4,_=5,$=6,C=7,A=8,E=9,S=10,k=11,D=12,T=13,F=14,M=15,L=16,O=17,P=18,B=[P,P,P,P,P,P,P,P,P,$,_,$,A,_,P,P,P,P,P,P,P,P,P,P,P,P,P,P,_,_,_,$,A,x,x,k,k,k,x,x,x,x,x,S,E,S,E,E,b,b,b,b,b,b,b,b,b,b,E,x,x,x,x,x,x,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,x,x,x,x,x,x,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,x,x,x,x,P,P,P,P,P,P,_,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,E,x,k,k,k,k,x,x,x,x,v,x,x,P,x,x,k,k,b,b,x,v,x,x,x,b,v,x,x,x,x,x],I=[A,A,A,A,A,A,A,A,A,A,A,P,P,P,v,y,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,A,_,T,F,M,L,O,E,k,k,k,k,k,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,E,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,A];e.L=v,e.R=y,e.EN=b,e.ON_R=3,e.AN=4,e.R_H=5,e.B=6,e.DOT="",e.doBidiReorder=function(t,n,o){if(t.length<2)return{};var s=t.split(""),l=new Array(s.length),u=new Array(s.length),c=[];a=o?m:g,i(s,c,s.length,n);for(var h=0;h<l.length;l[h]=h,h++);r(2,c,l),r(1,c,l);for(var h=0;h<l.length-1;h++)n[h]===w?c[h]=e.AN:c[h]===y&&(n[h]>C&&n[h]<T||n[h]===x||n[h]===P)?c[h]=e.ON_R:h>0&&""===s[h-1]&&/\u0622|\u0623|\u0625|\u0627/.test(s[h])&&(c[h-1]=c[h]=e.R_H,h++);s[s.length-1]===e.DOT&&(c[s.length-1]=e.B);for(var h=0;h<l.length;h++)u[h]=c[l[h]];return{logicalFromVisual:l,bidiLevels:u}},e.hasBidiCharacters=function(t,e){for(var n=!1,i=0;i<t.length;i++)e[i]=s(t.charAt(i)),!n&&(e[i]==y||e[i]==C)&&(n=!0);return n},e.getVisualFromLogicalIdx=function(t,e){for(var n=0;n<e.logicalFromVisual.length;n++)if(e.logicalFromVisual[n]==t)return n;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang","ace/lib/useragent"],function(t,e,n){"use strict";var i=t("./lib/bidiutil"),r=t("./lib/lang"),o=t("./lib/useragent"),s=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,a=function(t){this.session=t,this.bidiMap={},this.currentRow=null,this.bidiUtil=i,this.charWidths=[],this.EOL="",this.showInvisibles=!0,this.isRtlDir=!1,this.line="",this.wrapIndent=0,this.isLastRow=!1,this.EOF="",this.seenBidi=!1};(function(){this.isBidiRow=function(t,e,n){return this.seenBidi?(t!==this.currentRow&&(this.currentRow=t,this.updateRowLine(e,n),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},this.onChange=function(t){this.seenBidi?this.currentRow=null:"insert"==t.action&&s.test(t.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var t=0,e=this.session.$screenRowCache;if(e.length){var n=this.session.$getRowCacheIndex(e,this.currentRow);n>=0&&(t=this.session.$docRowCache[n])}return t},this.getSplitIndex=function(){var t=0,e=this.session.$screenRowCache;if(e.length)for(var n,i=this.session.$getRowCacheIndex(e,this.currentRow);this.currentRow-t>0&&(n=this.session.$getRowCacheIndex(e,this.currentRow-t-1),n===i);)i=n,t++;return t},this.updateRowLine=function(t,e){if(void 0===t&&(t=this.getDocumentRow()),this.wrapIndent=0,this.isLastRow=t===this.session.getLength()-1,this.line=this.session.getLine(t),this.session.$useWrapMode){var n=this.session.$wrapData[t];n&&(void 0===e&&(e=this.getSplitIndex()),e>0&&n.length?(this.wrapIndent=n.indent,this.line=e<n.length?this.line.substring(n[e-1],n[n.length-1]):this.line.substring(n[n.length-1])):this.line=this.line.substring(0,n[e]))}var o,s=this.session,a=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(t,e){return"	"===t||s.isFullWidth(t.charCodeAt(0))?(o="	"===t?s.getScreenTabSize(e+a):2,a+=o-1,r.stringRepeat(i.DOT,o)):t})},this.updateBidiMap=function(){var t=[],e=this.isLastRow?this.EOF:this.EOL,n=this.line+(this.showInvisibles?e:i.DOT);i.hasBidiCharacters(n,t)?this.bidiMap=i.doBidiReorder(n,t,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(t){if(this.seenBidi&&this.characterWidth!==t.$characterSize.width){var e=this.characterWidth=t.$characterSize.width,n=t.$measureCharWidth("");this.charWidths[i.L]=this.charWidths[i.EN]=this.charWidths[i.ON_R]=e,this.charWidths[i.R]=this.charWidths[i.AN]=n,this.charWidths[i.R_H]=o.isChrome?n:.45*n,this.charWidths[i.B]=0,this.currentRow=null}},this.getShowInvisibles=function(){return this.showInvisibles},this.setShowInvisibles=function(t){this.showInvisibles=t,this.currentRow=null},this.setEolChar=function(t){this.EOL=t},this.setTextDir=function(t){this.isRtlDir=t},this.getPosLeft=function(t){t-=this.wrapIndent;var e=i.getVisualFromLogicalIdx(t>0?t-1:0,this.bidiMap),n=this.bidiMap.bidiLevels,r=0;0===t&&n[e]%2!==0&&e++;for(var o=0;e>o;o++)r+=this.charWidths[n[o]];return 0!==t&&n[e]%2===0&&(r+=this.charWidths[n[e]]),this.wrapIndent&&(r+=this.wrapIndent*this.charWidths[i.L]),r},this.getSelections=function(t,e){for(var n,r,o=this.bidiMap,s=o.bidiLevels,a=this.wrapIndent*this.charWidths[i.L],l=[],u=Math.min(t,e)-this.wrapIndent,c=Math.max(t,e)-this.wrapIndent,h=!1,d=!1,f=0,p=0;p<s.length;p++)r=o.logicalFromVisual[p],n=s[p],h=r>=u&&c>r,h&&!d?f=a:!h&&d&&l.push({left:f,width:a-f}),a+=this.charWidths[n],d=h;return h&&p===s.length&&l.push({left:f,width:a-f}),l},this.offsetToCol=function(t){var e=0,t=Math.max(t,0),n=0,r=0,o=this.bidiMap.bidiLevels,s=this.charWidths[o[r]];for(this.wrapIndent&&(t-=this.wrapIndent*this.charWidths[i.L]);t>n+s/2;){if(n+=s,r===o.length-1){s=0;break}s=this.charWidths[o[++r]]}return r>0&&o[r-1]%2!==0&&o[r]%2===0?(n>t&&r--,e=this.bidiMap.logicalFromVisual[r]):r>0&&o[r-1]%2===0&&o[r]%2!==0?e=1+(t>n?this.bidiMap.logicalFromVisual[r]:this.bidiMap.logicalFromVisual[r-1]):this.isRtlDir&&r===o.length-1&&0===s&&o[r-1]%2===0||!this.isRtlDir&&0===r&&o[r]%2!==0?e=1+this.bidiMap.logicalFromVisual[r]:(r>0&&o[r-1]%2!==0&&0!==s&&r--,e=this.bidiMap.logicalFromVisual[r]),e+this.wrapIndent}}).call(a.prototype),e.BidiHandler=a}),ace.define("ace/range",["require","exports","module"],function(t,e,n){"use strict";var i=function(t,e){return t.row-e.row||t.column-e.column},r=function(t,e,n,i){this.start={row:t,column:e},this.end={row:n,column:i}};(function(){this.isEqual=function(t){return this.start.row===t.start.row&&this.end.row===t.end.row&&this.start.column===t.start.column&&this.end.column===t.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(t,e){return 0==this.compare(t,e)},this.compareRange=function(t){var e,n=t.end,i=t.start;return e=this.compare(n.row,n.column),1==e?(e=this.compare(i.row,i.column),1==e?2:0==e?1:0):-1==e?-2:(e=this.compare(i.row,i.column),-1==e?-1:1==e?42:0)},this.comparePoint=function(t){return this.compare(t.row,t.column)},this.containsRange=function(t){return 0==this.comparePoint(t.start)&&0==this.comparePoint(t.end)},this.intersects=function(t){var e=this.compareRange(t);return-1==e||0==e||1==e},this.isEnd=function(t,e){return this.end.row==t&&this.end.column==e},this.isStart=function(t,e){return this.start.row==t&&this.start.column==e},this.setStart=function(t,e){"object"==typeof t?(this.start.column=t.column,this.start.row=t.row):(this.start.row=t,this.start.column=e)},this.setEnd=function(t,e){"object"==typeof t?(this.end.column=t.column,this.end.row=t.row):(this.end.row=t,this.end.column=e)},this.inside=function(t,e){return 0==this.compare(t,e)?this.isEnd(t,e)||this.isStart(t,e)?!1:!0:!1},this.insideStart=function(t,e){return 0==this.compare(t,e)?this.isEnd(t,e)?!1:!0:!1},this.insideEnd=function(t,e){return 0==this.compare(t,e)?this.isStart(t,e)?!1:!0:!1},this.compare=function(t,e){return this.isMultiLine()||t!==this.start.row?t<this.start.row?-1:t>this.end.row?1:this.start.row===t?e>=this.start.column?0:-1:this.end.row===t?e<=this.end.column?0:1:0:e<this.start.column?-1:e>this.end.column?1:0},this.compareStart=function(t,e){return this.start.row==t&&this.start.column==e?-1:this.compare(t,e)},this.compareEnd=function(t,e){return this.end.row==t&&this.end.column==e?1:this.compare(t,e)},this.compareInside=function(t,e){return this.end.row==t&&this.end.column==e?1:this.start.row==t&&this.start.column==e?-1:this.compare(t,e)},this.clipRows=function(t,e){if(this.end.row>e)var n={row:e+1,column:0};else if(this.end.row<t)var n={row:t,column:0};if(this.start.row>e)var i={row:e+1,column:0};else if(this.start.row<t)var i={row:t,column:0};return r.fromPoints(i||this.start,n||this.end)},this.extend=function(t,e){var n=this.compare(t,e);if(0==n)return this;if(-1==n)var i={row:t,column:e};else var o={row:t,column:e};return r.fromPoints(i||this.start,o||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return r.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new r(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new r(this.start.row,0,this.end.row,0)},this.toScreenRange=function(t){var e=t.documentToScreenPosition(this.start),n=t.documentToScreenPosition(this.end);return new r(e.row,e.column,n.row,n.column)},this.moveBy=function(t,e){this.start.row+=t,this.start.column+=e,this.end.row+=t,this.end.column+=e}}).call(r.prototype),r.fromPoints=function(t,e){return new r(t.row,t.column,e.row,e.column)},r.comparePoints=i,r.comparePoints=function(t,e){return t.row-e.row||t.column-e.column},e.Range=r}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(t,e,n){"use strict";var i=t("./lib/oop"),r=t("./lib/lang"),o=t("./lib/event_emitter").EventEmitter,s=t("./range").Range,a=function(t){this.session=t,this.doc=t.getDocument(),this.clearSelection(),this.lead=this.selectionLead=this.doc.createAnchor(0,0),this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var e=this;this.lead.on("change",function(t){e._emit("changeCursor"),e.$isEmpty||e._emit("changeSelection"),!e.$keepDesiredColumnOnChange&&t.old.column!=t.value.column&&(e.$desiredColumn=null)}),this.selectionAnchor.on("change",function(){e.$isEmpty||e._emit("changeSelection")})};(function(){i.implement(this,o),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return this.isEmpty()?!1:this.getRange().isMultiLine()},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(t,e){this.anchor.setPosition(t,e),this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))},this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.shiftSelection=function(t){if(this.$isEmpty)return void this.moveCursorTo(this.lead.row,this.lead.column+t);var e=this.getSelectionAnchor(),n=this.getSelectionLead(),i=this.isBackwards();(!i||0!==e.column)&&this.setSelectionAnchor(e.row,e.column+t),(i||0!==n.column)&&this.$moveSelection(function(){this.moveCursorTo(n.row,n.column+t)})},this.isBackwards=function(){var t=this.anchor,e=this.lead;return t.row>e.row||t.row==e.row&&t.column>e.column},this.getRange=function(){var t=this.anchor,e=this.lead;return this.isEmpty()?s.fromPoints(e,e):this.isBackwards()?s.fromPoints(e,t):s.fromPoints(t,e)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){var t=this.doc.getLength()-1;this.setSelectionAnchor(0,0),this.moveCursorTo(t,this.doc.getLine(t).length)},this.setRange=this.setSelectionRange=function(t,e){e?(this.setSelectionAnchor(t.end.row,t.end.column),this.selectTo(t.start.row,t.start.column)):(this.setSelectionAnchor(t.start.row,t.start.column),this.selectTo(t.end.row,t.end.column)),this.getRange().isEmpty()&&(this.$isEmpty=!0),this.$desiredColumn=null},this.$moveSelection=function(t){var e=this.lead;this.$isEmpty&&this.setSelectionAnchor(e.row,e.column),t.call(this)},this.selectTo=function(t,e){this.$moveSelection(function(){this.moveCursorTo(t,e)})},this.selectToPosition=function(t){this.$moveSelection(function(){this.moveCursorToPosition(t)})},this.moveTo=function(t,e){this.clearSelection(),this.moveCursorTo(t,e)},this.moveToPosition=function(t){this.clearSelection(),this.moveCursorToPosition(t)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(t,e){if("undefined"==typeof e){var n=t||this.lead;t=n.row,e=n.column}return this.session.getWordRange(t,e)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var t=this.getCursor(),e=this.session.getAWordRange(t.row,t.column);this.setSelectionRange(e)},this.getLineRange=function(t,e){var n,i="number"==typeof t?t:this.lead.row,r=this.session.getFoldLine(i);return r?(i=r.start.row,n=r.end.row):n=i,e===!0?new s(i,0,n,this.session.getLine(n).length):new s(i,0,n+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(t,e,n){var i=t.column,r=t.column+e;return 0>n&&(i=t.column-e,r=t.column),this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(i,r).split(" ").length-1==e},this.moveCursorLeft=function(){var t,e=this.lead.getPosition();if(t=this.session.getFoldAt(e.row,e.column,-1))this.moveCursorTo(t.start.row,t.start.column);else if(0===e.column)e.row>0&&this.moveCursorTo(e.row-1,this.doc.getLine(e.row-1).length);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(e,n,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var t,e=this.lead.getPosition();if(t=this.session.getFoldAt(e.row,e.column,1))this.moveCursorTo(t.end.row,t.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize(),e=this.lead;this.wouldMoveIntoSoftTab(e,n,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var t=this.lead.row,e=this.lead.column,n=this.session.documentToScreenRow(t,e),i=this.session.screenToDocumentPosition(n,0),r=this.session.getDisplayLine(t,null,i.row,i.column),o=r.match(/^\s*/);o[0].length!=e&&!this.session.$useEmacsStyleLineStart&&(i.column+=o[0].length),this.moveCursorToPosition(i)},this.moveCursorLineEnd=function(){var t=this.lead,e=this.session.getDocumentLastRowColumnPosition(t.row,t.column);if(this.lead.column==e.column){var n=this.session.getLine(e.row);if(e.column==n.length){var i=n.search(/\s+$/);i>0&&(e.column=i)}}this.moveCursorTo(e.row,e.column)},this.moveCursorFileEnd=function(){var t=this.doc.getLength()-1,e=this.doc.getLine(t).length;this.moveCursorTo(t,e)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var t,e=this.lead.row,n=this.lead.column,i=this.doc.getLine(e),r=i.substring(n);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var o=this.session.getFoldAt(e,n,1);return o?void this.moveCursorTo(o.end.row,o.end.column):((t=this.session.nonTokenRe.exec(r))&&(n+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,r=i.substring(n)),
n>=i.length?(this.moveCursorTo(e,i.length),this.moveCursorRight(),e<this.doc.getLength()-1&&this.moveCursorWordRight(),void 0):((t=this.session.tokenRe.exec(r))&&(n+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(e,n)))},this.moveCursorLongWordLeft=function(){var t,e=this.lead.row,n=this.lead.column;if(t=this.session.getFoldAt(e,n,-1))return void this.moveCursorTo(t.start.row,t.start.column);var i=this.session.getFoldStringAt(e,n,-1);null==i&&(i=this.doc.getLine(e).substring(0,n));var o,s=r.stringReverse(i);return this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,(o=this.session.nonTokenRe.exec(s))&&(n-=this.session.nonTokenRe.lastIndex,s=s.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),0>=n?(this.moveCursorTo(e,0),this.moveCursorLeft(),e>0&&this.moveCursorWordLeft(),void 0):((o=this.session.tokenRe.exec(s))&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(e,n))},this.$shortWordEndIndex=function(t){var e,n,i=0,r=/\s/,o=this.session.tokenRe;if(o.lastIndex=0,e=this.session.tokenRe.exec(t))i=this.session.tokenRe.lastIndex;else{for(;(n=t[i])&&r.test(n);)i++;if(1>i)for(o.lastIndex=0;(n=t[i])&&!o.test(n);)if(o.lastIndex=0,i++,r.test(n)){if(i>2){i--;break}for(;(n=t[i])&&r.test(n);)i++;if(i>2)break}}return o.lastIndex=0,i},this.moveCursorShortWordRight=function(){var t=this.lead.row,e=this.lead.column,n=this.doc.getLine(t),i=n.substring(e),r=this.session.getFoldAt(t,e,1);if(r)return this.moveCursorTo(r.end.row,r.end.column);if(e==n.length){var o=this.doc.getLength();do t++,i=this.doc.getLine(t);while(o>t&&/^\s*$/.test(i));/^\s+/.test(i)||(i=""),e=0}var s=this.$shortWordEndIndex(i);this.moveCursorTo(t,e+s)},this.moveCursorShortWordLeft=function(){var t,e=this.lead.row,n=this.lead.column;if(t=this.session.getFoldAt(e,n,-1))return this.moveCursorTo(t.start.row,t.start.column);var i=this.session.getLine(e).substring(0,n);if(0===n){do e--,i=this.doc.getLine(e);while(e>0&&/^\s*$/.test(i));n=i.length,/\s+$/.test(i)||(i="")}var o=r.stringReverse(i),s=this.$shortWordEndIndex(o);return this.moveCursorTo(e,n-s)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(t,e){var n,i=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===e&&(0!==t&&(this.session.$bidiHandler.isBidiRow(i.row,this.lead.row)?(n=this.session.$bidiHandler.getPosLeft(i.column),i.column=Math.round(n/this.session.$bidiHandler.charWidths[0])):n=i.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?i.column=this.$desiredColumn:this.$desiredColumn=i.column);var r=this.session.screenToDocumentPosition(i.row+t,i.column,n);0!==t&&0===e&&r.row===this.lead.row&&r.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[r.row]&&(r.row>0||t>0)&&r.row++,this.moveCursorTo(r.row,r.column+e,0===e)},this.moveCursorToPosition=function(t){this.moveCursorTo(t.row,t.column)},this.moveCursorTo=function(t,e,n){var i=this.session.getFoldAt(t,e,1);i&&(t=i.start.row,e=i.start.column),this.$keepDesiredColumnOnChange=!0;var r=this.session.getLine(t);/[\uDC00-\uDFFF]/.test(r.charAt(e))&&r.charAt(e-1)&&(this.lead.row==t&&this.lead.column==e+1?e-=1:e+=1),this.lead.setPosition(t,e),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(t,e,n){var i=this.session.screenToDocumentPosition(t,e);this.moveCursorTo(i.row,i.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(t){this.setSelectionRange(t,t.cursor==t.start),this.$desiredColumn=t.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(t){var e=this.getRange();return t?(t.start.column=e.start.column,t.start.row=e.start.row,t.end.column=e.end.column,t.end.row=e.end.row):t=e,t.cursor=this.isBackwards()?t.start:t.end,t.desiredColumn=this.$desiredColumn,t},this.getRangeOfMovements=function(t){var e=this.getCursor();try{t(this);var n=this.getCursor();return s.fromPoints(e,n)}catch(i){return s.fromPoints(e,e)}finally{this.moveCursorToPosition(e)}},this.toJSON=function(){if(this.rangeCount)var t=this.ranges.map(function(t){var e=t.clone();return e.isBackwards=t.cursor==t.start,e});else{var t=this.getRange();t.isBackwards=this.isBackwards()}return t},this.fromJSON=function(t){if(void 0==t.start){if(this.rangeList){this.toSingleRange(t[0]);for(var e=t.length;e--;){var n=s.fromPoints(t[e].start,t[e].end);t[e].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}t=t[0]}this.rangeList&&this.toSingleRange(t),this.setSelectionRange(t,t.isBackwards)},this.isEqual=function(t){if((t.length||this.rangeCount)&&t.length!=this.rangeCount)return!1;if(!t.length||!this.ranges)return this.getRange().isEqual(t);for(var e=this.ranges.length;e--;)if(!this.ranges[e].isEqual(t[e]))return!1;return!0}}).call(a.prototype),e.Selection=a}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(t,e,n){"use strict";var i=t("./config"),r=2e3,o=function(t){this.states=t,this.regExps={},this.matchMappings={};for(var e in this.states){for(var n=this.states[e],i=[],r=0,o=this.matchMappings[e]={defaultToken:"text"},s="g",a=[],l=0;l<n.length;l++){var u=n[l];if(u.defaultToken&&(o.defaultToken=u.defaultToken),u.caseInsensitive&&(s="gi"),null!=u.regex){u.regex instanceof RegExp&&(u.regex=u.regex.toString().slice(1,-1));var c=u.regex,h=new RegExp("(?:("+c+")|(.))").exec("a").length-2;Array.isArray(u.token)?1==u.token.length||1==h?u.token=u.token[0]:h-1!=u.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:u,groupCount:h-1}),u.token=u.token[0]):(u.tokenArray=u.token,u.token=null,u.onMatch=this.$arrayTokens):"function"==typeof u.token&&!u.onMatch&&(h>1?u.onMatch=this.$applyToken:u.onMatch=u.token),h>1&&(/\\\d/.test(u.regex)?c=u.regex.replace(/\\([0-9]+)/g,function(t,e){return"\\"+(parseInt(e,10)+r+1)}):(h=1,c=this.removeCapturingGroups(u.regex)),!u.splitRegex&&"string"!=typeof u.token&&a.push(u)),o[r]=l,r+=h,i.push(c),u.onMatch||(u.onMatch=null)}}i.length||(o[0]=0,i.push("$")),a.forEach(function(t){t.splitRegex=this.createSplitterRegexp(t.regex,s)},this),this.regExps[e]=new RegExp("("+i.join(")|(")+")|($)",s)}};(function(){this.$setMaxTokenCount=function(t){r=0|t},this.$applyToken=function(t){var e=this.splitRegex.exec(t).slice(1),n=this.token.apply(this,e);if("string"==typeof n)return[{type:n,value:t}];for(var i=[],r=0,o=n.length;o>r;r++)e[r]&&(i[i.length]={type:n[r],value:e[r]});return i},this.$arrayTokens=function(t){if(!t)return[];var e=this.splitRegex.exec(t);if(!e)return"text";for(var n=[],i=this.tokenArray,r=0,o=i.length;o>r;r++)e[r+1]&&(n[n.length]={type:i[r],value:e[r+1]});return n},this.removeCapturingGroups=function(t){var e=t.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,function(t,e){return e?"(?:":t});return e},this.createSplitterRegexp=function(t,e){if(-1!=t.indexOf("(?=")){var n=0,i=!1,r={};t.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(t,e,o,s,a,l){return i?i="]"!=a:a?i=!0:s?(n==r.stack&&(r.end=l+1,r.stack=-1),n--):o&&(n++,1!=o.length&&(r.stack=n,r.start=l)),t}),null!=r.end&&/^\)*$/.test(t.substr(r.end))&&(t=t.substring(0,r.start)+t.substr(r.end))}return"^"!=t.charAt(0)&&(t="^"+t),"$"!=t.charAt(t.length-1)&&(t+="$"),new RegExp(t,(e||"").replace("g",""))},this.getLineTokens=function(t,e){if(e&&"string"!=typeof e){var n=e.slice(0);e=n[0],"#tmp"===e&&(n.shift(),e=n.shift())}else var n=[];var i=e||"start",o=this.states[i];o||(i="start",o=this.states[i]);var s=this.matchMappings[i],a=this.regExps[i];a.lastIndex=0;for(var l,u=[],c=0,h=0,d={type:null,value:""};l=a.exec(t);){var f=s.defaultToken,p=null,g=l[0],m=a.lastIndex;if(m-g.length>c){var v=t.substring(c,m-g.length);d.type==f?d.value+=v:(d.type&&u.push(d),d={type:f,value:v})}for(var y=0;y<l.length-2;y++)if(void 0!==l[y+1]){p=o[s[y]],f=p.onMatch?p.onMatch(g,i,n,t):p.token,p.next&&(i="string"==typeof p.next?p.next:p.next(i,n),o=this.states[i],o||(this.reportError("state doesn't exist",i),i="start",o=this.states[i]),s=this.matchMappings[i],c=m,a=this.regExps[i],a.lastIndex=m),p.consumeLineEnd&&(c=m);break}if(g)if("string"==typeof f)p&&p.merge===!1||d.type!==f?(d.type&&u.push(d),d={type:f,value:g}):d.value+=g;else if(f){d.type&&u.push(d),d={type:null,value:""};for(var y=0;y<f.length;y++)u.push(f[y])}if(c==t.length)break;if(c=m,h++>r){for(h>2*t.length&&this.reportError("infinite loop with in ace tokenizer",{startState:e,line:t});c<t.length;)d.type&&u.push(d),d={value:t.substring(c,c+=2e3),type:"overflow"};i="start",n=[];break}}return d.type&&u.push(d),n.length>1&&n[0]!==i&&n.unshift("#tmp",i),{tokens:u,state:n.length?n:i}},this.reportError=i.reportError}).call(o.prototype),e.Tokenizer=o}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(t,e,n){"use strict";var i=t("../lib/lang"),r=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(t,e){if(e)for(var n in t){for(var i=t[n],r=0;r<i.length;r++){var o=i[r];(o.next||o.onMatch)&&("string"==typeof o.next&&0!==o.next.indexOf(e)&&(o.next=e+o.next),o.nextState&&0!==o.nextState.indexOf(e)&&(o.nextState=e+o.nextState))}this.$rules[e+n]=i}else for(var n in t)this.$rules[n]=t[n]},this.getRules=function(){return this.$rules},this.embedRules=function(t,e,n,r,o){var s="function"==typeof t?(new t).getRules():t;if(r)for(var a=0;a<r.length;a++)r[a]=e+r[a];else{r=[];for(var l in s)r.push(e+l)}if(this.addRules(s,e),n)for(var u=Array.prototype[o?"push":"unshift"],a=0;a<r.length;a++)u.apply(this.$rules[r[a]],i.deepCopy(n));this.$embeds||(this.$embeds=[]),this.$embeds.push(e)},this.getEmbeds=function(){return this.$embeds};var t=function(t,e){return("start"!=t||e.length)&&e.unshift(this.nextState,t),this.nextState},e=function(t,e){return e.shift(),e.shift()||"start"};this.normalizeRules=function(){function n(o){var s=r[o];s.processed=!0;for(var a=0;a<s.length;a++){var l=s[a],u=null;Array.isArray(l)&&(u=l,l={}),!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var c=l.next||l.push;if(c&&Array.isArray(c)){var h=l.stateName;h||(h=l.token,"string"!=typeof h&&(h=h[0]||""),r[h]&&(h+=i++)),r[h]=c,l.next=h,n(h)}else"pop"==c&&(l.next=e);if(l.push&&(l.nextState=l.next||l.push,l.next=t,delete l.push),l.rules)for(var d in l.rules)r[d]?r[d].push&&r[d].push.apply(r[d],l.rules[d]):r[d]=l.rules[d];var f="string"==typeof l?l:l.include;if(f&&(u=Array.isArray(f)?f.map(function(t){return r[t]}):r[f]),u){var p=[a,1].concat(u);l.noEscape&&(p=p.filter(function(t){return!t.next})),s.splice.apply(s,p),a--}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}var i=0,r=this.$rules;Object.keys(r).forEach(n,this)},this.createKeywordMapper=function(t,e,n,i){var r=Object.create(null);return Object.keys(t).forEach(function(e){var o=t[e];n&&(o=o.toLowerCase());for(var s=o.split(i||"|"),a=s.length;a--;)r[s[a]]=e}),Object.getPrototypeOf(r)&&(r.__proto__=null),this.$keywordList=Object.keys(r),t=null,n?function(t){return r[t.toLowerCase()]||e}:function(t){return r[t]||e}},this.getKeywords=function(){return this.$keywords}}).call(r.prototype),e.TextHighlightRules=r}),ace.define("ace/mode/behaviour",["require","exports","module"],function(t,e,n){"use strict";var i=function(){this.$behaviours={}};(function(){this.add=function(t,e,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[t]:this.$behaviours[t]={}}this.$behaviours[t][e]=n},this.addBehaviours=function(t){for(var e in t)for(var n in t[e])this.add(e,n,t[e][n])},this.remove=function(t){this.$behaviours&&this.$behaviours[t]&&delete this.$behaviours[t]},this.inherit=function(t,e){if("function"==typeof t)var n=(new t).getBehaviours(e);else var n=t.getBehaviours(e);this.addBehaviours(n)},this.getBehaviours=function(t){if(!t)return this.$behaviours;for(var e={},n=0;n<t.length;n++)this.$behaviours[t[n]]&&(e[t[n]]=this.$behaviours[t[n]]);return e}}).call(i.prototype),e.Behaviour=i}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(t,e,n){"use strict";var i=t("./range").Range,r=function(t,e,n){this.$session=t,this.$row=e,this.$rowTokens=t.getTokens(e);var i=t.getTokenAt(e,n);this.$tokenIndex=i?i.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;for(var t;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,t||(t=this.$session.getLength()),this.$row>=t)return this.$row=t-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var t=this.$rowTokens,e=this.$tokenIndex,n=t[e].start;if(void 0!==n)return n;for(n=0;e>0;)e-=1,n+=t[e].value.length;return n},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var t=this.$rowTokens[this.$tokenIndex],e=this.getCurrentTokenColumn();return new i(this.$row,e,this.$row,e+t.value.length)}}).call(r.prototype),e.TokenIterator=r}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(t,e,n){"use strict";var i,r=t("../../lib/oop"),o=t("../behaviour").Behaviour,s=t("../../token_iterator").TokenIterator,a=t("../../lib/lang"),l=["text","paren.rparen","punctuation.operator"],u=["text","paren.rparen","punctuation.operator","comment"],c={},h={'"':'"',"'":"'"},d=function(t){var e=-1;return t.multiSelect&&(e=t.selection.index,c.rangeCount!=t.multiSelect.rangeCount&&(c={rangeCount:t.multiSelect.rangeCount})),c[e]?i=c[e]:void(i=c[e]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""})},f=function(t,e,n,i){var r=t.end.row-t.start.row;return{text:n+e+i,selection:[0,t.start.column+1,r,t.end.column+(r?0:1)]}},p=function(t){this.add("braces","insertion",function(e,n,r,o,s){var l=r.getCursorPosition(),u=o.doc.getLine(l.row);if("{"==s){d(r);var c=r.getSelectionRange(),h=o.doc.getTextRange(c);if(""!==h&&"{"!==h&&r.getWrapBehavioursEnabled())return f(c,h,"{","}");if(p.isSaneInsertion(r,o))return/[\]\}\)]/.test(u[l.column])||r.inMultiSelectMode||t&&t.braces?(p.recordAutoInsert(r,o,"}"),{text:"{}",selection:[1,1]}):(p.recordMaybeInsert(r,o,"{"),{text:"{",selection:[1,1]})}else if("}"==s){d(r);var g=u.substring(l.column,l.column+1);if("}"==g){var m=o.$findOpeningBracket("}",{column:l.column+1,row:l.row});if(null!==m&&p.isAutoInsertedClosing(l,u,s))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else{if("\n"==s||"\r\n"==s){d(r);var v="";p.isMaybeInsertedClosing(l,u)&&(v=a.stringRepeat("}",i.maybeInsertedBrackets),p.clearMaybeInsertedClosing());var g=u.substring(l.column,l.column+1);if("}"===g){var y=o.findMatchingBracket({row:l.row,column:l.column+1},"}");if(!y)return null;var b=this.$getIndent(o.getLine(y.row))}else{if(!v)return void p.clearMaybeInsertedClosing();var b=this.$getIndent(u)}var w=b+o.getTabString();return{text:"\n"+w+"\n"+b+v,selection:[1,w.length,1,w.length]}}p.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(t,e,n,r,o){var s=r.doc.getTextRange(o);if(!o.isMultiLine()&&"{"==s){d(n);var a=r.doc.getLine(o.start.row),l=a.substring(o.end.column,o.end.column+1);if("}"==l)return o.end.column++,o;i.maybeInsertedBrackets--}}),this.add("parens","insertion",function(t,e,n,i,r){if("("==r){d(n);var o=n.getSelectionRange(),s=i.doc.getTextRange(o);if(""!==s&&n.getWrapBehavioursEnabled())return f(o,s,"(",")");if(p.isSaneInsertion(n,i))return p.recordAutoInsert(n,i,")"),{text:"()",selection:[1,1]}}else if(")"==r){d(n);var a=n.getCursorPosition(),l=i.doc.getLine(a.row),u=l.substring(a.column,a.column+1);if(")"==u){var c=i.$findOpeningBracket(")",{column:a.column+1,row:a.row});if(null!==c&&p.isAutoInsertedClosing(a,l,r))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(t,e,n,i,r){var o=i.doc.getTextRange(r);if(!r.isMultiLine()&&"("==o){d(n);var s=i.doc.getLine(r.start.row),a=s.substring(r.start.column+1,r.start.column+2);if(")"==a)return r.end.column++,r}}),this.add("brackets","insertion",function(t,e,n,i,r){if("["==r){d(n);var o=n.getSelectionRange(),s=i.doc.getTextRange(o);if(""!==s&&n.getWrapBehavioursEnabled())return f(o,s,"[","]");if(p.isSaneInsertion(n,i))return p.recordAutoInsert(n,i,"]"),{text:"[]",selection:[1,1]}}else if("]"==r){d(n);var a=n.getCursorPosition(),l=i.doc.getLine(a.row),u=l.substring(a.column,a.column+1);if("]"==u){var c=i.$findOpeningBracket("]",{column:a.column+1,row:a.row});if(null!==c&&p.isAutoInsertedClosing(a,l,r))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(t,e,n,i,r){var o=i.doc.getTextRange(r);if(!r.isMultiLine()&&"["==o){d(n);var s=i.doc.getLine(r.start.row),a=s.substring(r.start.column+1,r.start.column+2);if("]"==a)return r.end.column++,r}}),this.add("string_dquotes","insertion",function(t,e,n,i,r){var o=i.$mode.$quotes||h;if(1==r.length&&o[r]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(r))return;d(n);var s=r,a=n.getSelectionRange(),l=i.doc.getTextRange(a);if(""!==l&&(1!=l.length||!o[l])&&n.getWrapBehavioursEnabled())return f(a,l,s,s);if(!l){var u=n.getCursorPosition(),c=i.doc.getLine(u.row),p=c.substring(u.column-1,u.column),g=c.substring(u.column,u.column+1),m=i.getTokenAt(u.row,u.column),v=i.getTokenAt(u.row,u.column+1);if("\\"==p&&m&&/escape/.test(m.type))return null;var y,b=m&&/string|escape/.test(m.type),w=!v||/string|escape/.test(v.type);if(g==s)y=b!==w,y&&/string\.end/.test(v.type)&&(y=!1);else{if(b&&!w)return null;if(b&&w)return null;var x=i.$mode.tokenRe;x.lastIndex=0;var _=x.test(p);x.lastIndex=0;var $=x.test(p);if(_||$)return null;if(g&&!/[\s;,.})\]\\]/.test(g))return null;y=!0}return{text:y?s+s:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(t,e,n,i,r){var o=i.doc.getTextRange(r);if(!r.isMultiLine()&&('"'==o||"'"==o)){d(n);var s=i.doc.getLine(r.start.row),a=s.substring(r.start.column+1,r.start.column+2);if(a==o)return r.end.column++,r}})};p.isSaneInsertion=function(t,e){var n=t.getCursorPosition(),i=new s(e,n.row,n.column);if(!this.$matchTokenType(i.getCurrentToken()||"text",l)){var r=new s(e,n.row,n.column+1);if(!this.$matchTokenType(r.getCurrentToken()||"text",l))return!1}return i.stepForward(),i.getCurrentTokenRow()!==n.row||this.$matchTokenType(i.getCurrentToken()||"text",u)},p.$matchTokenType=function(t,e){return e.indexOf(t.type||t)>-1},p.recordAutoInsert=function(t,e,n){var r=t.getCursorPosition(),o=e.doc.getLine(r.row);this.isAutoInsertedClosing(r,o,i.autoInsertedLineEnd[0])||(i.autoInsertedBrackets=0),i.autoInsertedRow=r.row,i.autoInsertedLineEnd=n+o.substr(r.column),i.autoInsertedBrackets++},p.recordMaybeInsert=function(t,e,n){var r=t.getCursorPosition(),o=e.doc.getLine(r.row);this.isMaybeInsertedClosing(r,o)||(i.maybeInsertedBrackets=0),i.maybeInsertedRow=r.row,i.maybeInsertedLineStart=o.substr(0,r.column)+n,i.maybeInsertedLineEnd=o.substr(r.column),i.maybeInsertedBrackets++},p.isAutoInsertedClosing=function(t,e,n){return i.autoInsertedBrackets>0&&t.row===i.autoInsertedRow&&n===i.autoInsertedLineEnd[0]&&e.substr(t.column)===i.autoInsertedLineEnd},p.isMaybeInsertedClosing=function(t,e){return i.maybeInsertedBrackets>0&&t.row===i.maybeInsertedRow&&e.substr(t.column)===i.maybeInsertedLineEnd&&e.substr(0,t.column)==i.maybeInsertedLineStart},p.popAutoInsertedClosing=function(){i.autoInsertedLineEnd=i.autoInsertedLineEnd.substr(1),i.autoInsertedBrackets--},p.clearMaybeInsertedClosing=function(){i&&(i.maybeInsertedBrackets=0,i.maybeInsertedRow=-1)},r.inherits(p,o),e.CstyleBehaviour=p}),ace.define("ace/unicode",["require","exports","module"],function(t,e,n){"use strict";function i(t){var n=/\w{4}/g;for(var i in t)e.packages[i]=t[i].replace(n,"\\u$&")}e.packages={},i({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",
Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})}),ace.define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(t,e,n){"use strict";var i=t("../tokenizer").Tokenizer,r=t("./text_highlight_rules").TextHighlightRules,o=t("./behaviour/cstyle").CstyleBehaviour,s=t("../unicode"),a=t("../lib/lang"),l=t("../token_iterator").TokenIterator,u=t("../range").Range,c=function(){this.HighlightRules=r};(function(){this.$defaultBehaviour=new o,this.tokenRe=new RegExp("^["+s.packages.L+s.packages.Mn+s.packages.Mc+s.packages.Nd+s.packages.Pc+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+s.packages.L+s.packages.Mn+s.packages.Mc+s.packages.Nd+s.packages.Pc+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new i(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(t,e,n,i){function r(t){for(var e=n;i>=e;e++)t(o.getLine(e),e)}var o=e.doc,s=!0,l=!0,u=1/0,c=e.getTabSize(),h=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var d=this.lineCommentStart.map(a.escapeRegExp).join("|"),f=this.lineCommentStart[0];else var d=a.escapeRegExp(this.lineCommentStart),f=this.lineCommentStart;d=new RegExp("^(\\s*)(?:"+d+") ?"),h=e.getUseSoftTabs();var p=function(t,e){var n=t.match(d);if(n){var i=n[1].length,r=n[0].length;!y(t,i,r)&&" "==n[0][r-1]&&r--,o.removeInLine(e,i,r)}},g=f+" ",m=function(t,e){(!s||/\S/.test(t))&&(y(t,u,u)?o.insertInLine({row:e,column:u},g):o.insertInLine({row:e,column:u},f))},v=function(t,e){return d.test(t)},y=function(t,e,n){for(var i=0;e--&&" "==t.charAt(e);)i++;if(i%c!=0)return!1;for(var i=0;" "==t.charAt(n++);)i++;return c>2?i%c!=c-1:i%c==0}}else{if(!this.blockComment)return!1;var f=this.blockComment.start,b=this.blockComment.end,d=new RegExp("^(\\s*)(?:"+a.escapeRegExp(f)+")"),w=new RegExp("(?:"+a.escapeRegExp(b)+")\\s*$"),m=function(t,e){v(t,e)||(!s||/\S/.test(t))&&(o.insertInLine({row:e,column:t.length},b),o.insertInLine({row:e,column:u},f))},p=function(t,e){var n;(n=t.match(w))&&o.removeInLine(e,t.length-n[0].length,t.length),(n=t.match(d))&&o.removeInLine(e,n[1].length,n[0].length)},v=function(t,n){if(d.test(t))return!0;for(var i=e.getTokens(n),r=0;r<i.length;r++)if("comment"===i[r].type)return!0}}var x=1/0;r(function(t,e){var n=t.search(/\S/);-1!==n?(u>n&&(u=n),l&&!v(t,e)&&(l=!1)):x>t.length&&(x=t.length)}),u==1/0&&(u=x,s=!1,l=!1),h&&u%c!=0&&(u=Math.floor(u/c)*c),r(l?p:m)},this.toggleBlockComment=function(t,e,n,i){var r=this.blockComment;if(r){!r.start&&r[0]&&(r=r[0]);var o,s,a=new l(e,i.row,i.column),c=a.getCurrentToken(),h=(e.selection,e.selection.toOrientedRange());if(c&&/comment/.test(c.type)){for(var d,f;c&&/comment/.test(c.type);){var p=c.value.indexOf(r.start);if(-1!=p){var g=a.getCurrentTokenRow(),m=a.getCurrentTokenColumn()+p;d=new u(g,m,g,m+r.start.length);break}c=a.stepBackward()}for(var a=new l(e,i.row,i.column),c=a.getCurrentToken();c&&/comment/.test(c.type);){var p=c.value.indexOf(r.end);if(-1!=p){var g=a.getCurrentTokenRow(),m=a.getCurrentTokenColumn()+p;f=new u(g,m,g,m+r.end.length);break}c=a.stepForward()}f&&e.remove(f),d&&(e.remove(d),o=d.start.row,s=-r.start.length)}else s=r.start.length,o=n.start.row,e.insert(n.end,r.end),e.insert(n.start,r.start);h.start.row==o&&(h.start.column+=s),h.end.row==o&&(h.end.column+=s),e.selection.fromOrientedRange(h)}},this.getNextLineIndent=function(t,e,n){return this.$getIndent(e)},this.checkOutdent=function(t,e,n){return!1},this.autoOutdent=function(t,e,n){},this.$getIndent=function(t){return t.match(/^\s*/)[0]},this.createWorker=function(t){return null},this.createModeDelegates=function(t){this.$embeds=[],this.$modes={};for(var e in t)t[e]&&(this.$embeds.push(e),this.$modes[e]=new t[e]);for(var n=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],e=0;e<n.length;e++)(function(t){var i=n[e],r=t[i];t[n[e]]=function(){return this.$delegator(i,arguments,r)}})(this)},this.$delegator=function(t,e,n){var i=e[0];"string"!=typeof i&&(i=i[0]);for(var r=0;r<this.$embeds.length;r++)if(this.$modes[this.$embeds[r]]){var o=i.split(this.$embeds[r]);if(!o[0]&&o[1]){e[0]=o[1];var s=this.$modes[this.$embeds[r]];return s[t].apply(s,e)}}var a=n.apply(this,e);return n?a:void 0},this.transformAction=function(t,e,n,i,r){if(this.$behaviour){var o=this.$behaviour.getBehaviours();for(var s in o)if(o[s][e]){var a=o[s][e].apply(this,arguments);if(a)return a}}},this.getKeywords=function(t){if(!this.completionKeywords){var e=this.$tokenizer.rules,n=[];for(var i in e)for(var r=e[i],o=0,s=r.length;s>o;o++)if("string"==typeof r[o].token)/keyword|support|storage/.test(r[o].token)&&n.push(r[o].regex);else if("object"==typeof r[o].token)for(var a=0,l=r[o].token.length;l>a;a++)if(/keyword|support|storage/.test(r[o].token[a])){var i=r[o].regex.match(/\(.+?\)/g)[a];n.push(i.substr(1,i.length-2))}this.completionKeywords=n}return t?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(t,e,n,i){var r=this.$keywordList||this.$createKeywordList();return r.map(function(t){return{name:t,value:t,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(c.prototype),e.Mode=c}),ace.define("ace/apply_delta",["require","exports","module"],function(t,e,n){"use strict";function i(t,e){throw console.log("Invalid Delta:",t),"Invalid Delta: "+e}function r(t,e){return e.row>=0&&e.row<t.length&&e.column>=0&&e.column<=t[e.row].length}e.applyDelta=function(t,e,n){var i=e.start.row,r=e.start.column,o=t[i]||"";switch(e.action){case"insert":var s=e.lines;if(1===s.length)t[i]=o.substring(0,r)+e.lines[0]+o.substring(r);else{var a=[i,1].concat(e.lines);t.splice.apply(t,a),t[i]=o.substring(0,r)+t[i],t[i+e.lines.length-1]+=o.substring(r)}break;case"remove":var l=e.end.column,u=e.end.row;i===u?t[i]=o.substring(0,r)+o.substring(l):t.splice(i,u-i+1,o.substring(0,r)+t[u].substring(l))}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(t,e,n){"use strict";var i=t("./lib/oop"),r=t("./lib/event_emitter").EventEmitter,o=e.Anchor=function(t,e,n){this.$onChange=this.onChange.bind(this),this.attach(t),"undefined"==typeof n?this.setPosition(e.row,e.column):this.setPosition(e,n)};(function(){function t(t,e,n){var i=n?t.column<=e.column:t.column<e.column;return t.row<e.row||t.row==e.row&&i}function e(e,n,i){var r="insert"==e.action,o=(r?1:-1)*(e.end.row-e.start.row),s=(r?1:-1)*(e.end.column-e.start.column),a=e.start,l=r?a:e.end;return t(n,a,i)?{row:n.row,column:n.column}:t(l,n,!i)?{row:n.row+o,column:n.column+(n.row==l.row?s:0)}:{row:a.row,column:a.column}}i.implement(this,r),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(t){if(!(t.start.row==t.end.row&&t.start.row!=this.row||t.start.row>this.row)){var n=e(t,{row:this.row,column:this.column},this.$insertRight);this.setPosition(n.row,n.column,!0)}},this.setPosition=function(t,e,n){var i;if(i=n?{row:t,column:e}:this.$clipPositionToDocument(t,e),this.row!=i.row||this.column!=i.column){var r={row:this.row,column:this.column};this.row=i.row,this.column=i.column,this._signal("change",{old:r,value:i})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(t){this.document=t||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(t,e){var n={};return t>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):0>t?(n.row=0,n.column=0):(n.row=t,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,e))),0>e&&(n.column=0),n}}).call(o.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(t,e,n){"use strict";var i=t("./lib/oop"),r=t("./apply_delta").applyDelta,o=t("./lib/event_emitter").EventEmitter,s=t("./range").Range,a=t("./anchor").Anchor,l=function(t){this.$lines=[""],0===t.length?this.$lines=[""]:Array.isArray(t)?this.insertMergedLines({row:0,column:0},t):this.insert({row:0,column:0},t)};(function(){i.implement(this,o),this.setValue=function(t){var e=this.getLength()-1;this.remove(new s(0,0,e,this.getLine(e).length)),this.insert({row:0,column:0},t)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(t,e){return new a(this,t,e)},0==="aaa".split(/a/).length?this.$split=function(t){return t.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(t){return t.split(/\r\n|\r|\n/)},this.$detectNewLine=function(t){var e=t.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=e?e[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(t){this.$newLineMode!==t&&(this.$newLineMode=t,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(t){return"\r\n"==t||"\r"==t||"\n"==t},this.getLine=function(t){return this.$lines[t]||""},this.getLines=function(t,e){return this.$lines.slice(t,e+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(t){return this.getLinesForRange(t).join(this.getNewLineCharacter())},this.getLinesForRange=function(t){var e;if(t.start.row===t.end.row)e=[this.getLine(t.start.row).substring(t.start.column,t.end.column)];else{e=this.getLines(t.start.row,t.end.row),e[0]=(e[0]||"").substring(t.start.column);var n=e.length-1;t.end.row-t.start.row==n&&(e[n]=e[n].substring(0,t.end.column))}return e},this.insertLines=function(t,e){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(t,e)},this.removeLines=function(t,e){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(t,e)},this.insertNewLine=function(t){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(t,["",""])},this.insert=function(t,e){return this.getLength()<=1&&this.$detectNewLine(e),this.insertMergedLines(t,this.$split(e))},this.insertInLine=function(t,e){var n=this.clippedPos(t.row,t.column),i=this.pos(t.row,t.column+e.length);return this.applyDelta({start:n,end:i,action:"insert",lines:[e]},!0),this.clonePos(i)},this.clippedPos=function(t,e){var n=this.getLength();void 0===t?t=n:0>t?t=0:t>=n&&(t=n-1,e=void 0);var i=this.getLine(t);return void 0==e&&(e=i.length),e=Math.min(Math.max(e,0),i.length),{row:t,column:e}},this.clonePos=function(t){return{row:t.row,column:t.column}},this.pos=function(t,e){return{row:t,column:e}},this.$clipPosition=function(t){var e=this.getLength();return t.row>=e?(t.row=Math.max(0,e-1),t.column=this.getLine(e-1).length):(t.row=Math.max(0,t.row),t.column=Math.min(Math.max(t.column,0),this.getLine(t.row).length)),t},this.insertFullLines=function(t,e){t=Math.min(Math.max(t,0),this.getLength());var n=0;t<this.getLength()?(e=e.concat([""]),n=0):(e=[""].concat(e),t--,n=this.$lines[t].length),this.insertMergedLines({row:t,column:n},e)},this.insertMergedLines=function(t,e){var n=this.clippedPos(t.row,t.column),i={row:n.row+e.length-1,column:(1==e.length?n.column:0)+e[e.length-1].length};return this.applyDelta({start:n,end:i,action:"insert",lines:e}),this.clonePos(i)},this.remove=function(t){var e=this.clippedPos(t.start.row,t.start.column),n=this.clippedPos(t.end.row,t.end.column);return this.applyDelta({start:e,end:n,action:"remove",lines:this.getLinesForRange({start:e,end:n})}),this.clonePos(e)},this.removeInLine=function(t,e,n){var i=this.clippedPos(t,e),r=this.clippedPos(t,n);return this.applyDelta({start:i,end:r,action:"remove",lines:this.getLinesForRange({start:i,end:r})},!0),this.clonePos(i)},this.removeFullLines=function(t,e){t=Math.min(Math.max(0,t),this.getLength()-1),e=Math.min(Math.max(0,e),this.getLength()-1);var n=e==this.getLength()-1&&t>0,i=e<this.getLength()-1,r=n?t-1:t,o=n?this.getLine(r).length:0,a=i?e+1:e,l=i?0:this.getLine(a).length,u=new s(r,o,a,l),c=this.$lines.slice(t,e+1);return this.applyDelta({start:u.start,end:u.end,action:"remove",lines:this.getLinesForRange(u)}),c},this.removeNewLine=function(t){t<this.getLength()-1&&t>=0&&this.applyDelta({start:this.pos(t,this.getLine(t).length),end:this.pos(t+1,0),action:"remove",lines:["",""]})},this.replace=function(t,e){if(t instanceof s||(t=s.fromPoints(t.start,t.end)),0===e.length&&t.isEmpty())return t.start;if(e==this.getTextRange(t))return t.end;this.remove(t);var n;return n=e?this.insert(t.start,e):t.start},this.applyDeltas=function(t){for(var e=0;e<t.length;e++)this.applyDelta(t[e])},this.revertDeltas=function(t){for(var e=t.length-1;e>=0;e--)this.revertDelta(t[e])},this.applyDelta=function(t,e){var n="insert"==t.action;(n?t.lines.length<=1&&!t.lines[0]:!s.comparePoints(t.start,t.end))||(n&&t.lines.length>2e4&&this.$splitAndapplyLargeDelta(t,2e4),r(this.$lines,t,e),this._signal("change",t))},this.$splitAndapplyLargeDelta=function(t,e){for(var n=t.lines,i=n.length,r=t.start.row,o=t.start.column,s=0,a=0;;){s=a,a+=e-1;var l=n.slice(s,a);if(a>i){t.lines=l,t.start.row=r+s,t.start.column=o;break}l.push(""),this.applyDelta({start:this.pos(r+s,o),end:this.pos(r+a,o=0),action:t.action,lines:l},!0)}},this.revertDelta=function(t){this.applyDelta({start:this.clonePos(t.start),end:this.clonePos(t.end),action:"insert"==t.action?"remove":"insert",lines:t.lines.slice()})},this.indexToPosition=function(t,e){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=e||0,o=n.length;o>r;r++)if(t-=n[r].length+i,0>t)return{row:r,column:t+n[r].length+i};return{row:o-1,column:n[o-1].length}},this.positionToIndex=function(t,e){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=0,o=Math.min(t.row,n.length),s=e||0;o>s;++s)r+=n[s].length+i;return r+t.column}}).call(l.prototype),e.Document=l}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(t,e,n){"use strict";var i=t("./lib/oop"),r=t("./lib/event_emitter").EventEmitter,o=function(t,e){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=t;var n=this;this.$worker=function(){if(n.running){for(var t=new Date,e=n.currentLine,i=-1,r=n.doc,o=e;n.lines[e];)e++;var s=r.getLength(),a=0;for(n.running=!1;s>e;){n.$tokenizeRow(e),i=e;do e++;while(n.lines[e]);if(a++,a%5===0&&new Date-t>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=e,-1==i&&(i=e),i>=o&&n.fireUpdateEvent(o,i)}}};(function(){i.implement(this,r),this.setTokenizer=function(t){this.tokenizer=t,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(t){this.doc=t,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(t,e){var n={first:t,last:e};this._signal("update",{data:n})},this.start=function(t){this.currentLine=Math.min(t||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(t){var e=t.start.row,n=t.end.row-e;if(0===n)this.lines[e]=null;else if("remove"==t.action)this.lines.splice(e,n+1,null),this.states.splice(e,n+1,null);else{var i=Array(n+1);i.unshift(e,1),this.lines.splice.apply(this.lines,i),this.states.splice.apply(this.states,i)}this.currentLine=Math.min(e,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(t){return this.lines[t]||this.$tokenizeRow(t)},this.getState=function(t){return this.currentLine==t&&this.$tokenizeRow(t),this.states[t]||"start"},this.$tokenizeRow=function(t){var e=this.doc.getLine(t),n=this.states[t-1],i=this.tokenizer.getLineTokens(e,n,t);return this.states[t]+""!=i.state+""?(this.states[t]=i.state,this.lines[t+1]=null,this.currentLine>t+1&&(this.currentLine=t+1)):this.currentLine==t&&(this.currentLine=t+1),this.lines[t]=i.tokens}}).call(o.prototype),e.BackgroundTokenizer=o}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(t,e,n){"use strict";var i=t("./lib/lang"),r=(t("./lib/oop"),t("./range").Range),o=function(t,e,n){this.setRegexp(t),this.clazz=e,this.type=n||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(t){this.regExp+""!=t+""&&(this.regExp=t,this.cache=[])},this.update=function(t,e,n,o){if(this.regExp)for(var s=o.firstRow,a=o.lastRow,l=s;a>=l;l++){var u=this.cache[l];null==u&&(u=i.getMatchOffsets(n.getLine(l),this.regExp),u.length>this.MAX_RANGES&&(u=u.slice(0,this.MAX_RANGES)),u=u.map(function(t){return new r(l,t.offset,l,t.offset+t.length)}),this.cache[l]=u.length?u:"");for(var c=u.length;c--;)e.drawSingleLineMarker(t,u[c].toScreenRange(n),this.clazz,o)}}}).call(o.prototype),e.SearchHighlight=o}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(t,e,n){"use strict";function i(t,e){this.foldData=t,Array.isArray(e)?this.folds=e:e=this.folds=[e];var n=e[e.length-1];this.range=new r(e[0].start.row,e[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(t){t.setFoldLine(this)},this)}var r=t("../range").Range;(function(){this.shiftRow=function(t){this.start.row+=t,this.end.row+=t,this.folds.forEach(function(e){e.start.row+=t,
e.end.row+=t})},this.addFold=function(t){if(t.sameRow){if(t.start.row<this.startRow||t.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(t),this.folds.sort(function(t,e){return-t.range.compareEnd(e.start.row,e.start.column)}),this.range.compareEnd(t.start.row,t.start.column)>0?(this.end.row=t.end.row,this.end.column=t.end.column):this.range.compareStart(t.end.row,t.end.column)<0&&(this.start.row=t.start.row,this.start.column=t.start.column)}else if(t.start.row==this.end.row)this.folds.push(t),this.end.row=t.end.row,this.end.column=t.end.column;else{if(t.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(t),this.start.row=t.start.row,this.start.column=t.start.column}t.foldLine=this},this.containsRow=function(t){return t>=this.start.row&&t<=this.end.row},this.walk=function(t,e,n){var i,r,o,s=0,a=this.folds,l=!0;null==e&&(e=this.end.row,n=this.end.column);for(var u=0;u<a.length;u++){if(i=a[u],r=i.range.compareStart(e,n),-1==r)return void t(null,e,n,s,l);if(o=t(null,i.start.row,i.start.column,s,l),o=!o&&t(i.placeholder,i.start.row,i.start.column,s),o||0===r)return;l=!i.sameRow,s=i.end.column}t(null,e,n,s,l)},this.getNextFoldTo=function(t,e){for(var n,i,r=0;r<this.folds.length;r++){if(n=this.folds[r],i=n.range.compareEnd(t,e),-1==i)return{fold:n,kind:"after"};if(0===i)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(t,e,n){var i,r,o=this.getNextFoldTo(t,e);if(o)if(i=o.fold,"inside"==o.kind&&i.start.column!=e&&i.start.row!=t)window.console&&window.console.log(t,e,i);else if(i.start.row==t){r=this.folds;var s=r.indexOf(i);for(0===s&&(this.start.column+=n),s;s<r.length;s++){if(i=r[s],i.start.column+=n,!i.sameRow)return;i.end.column+=n}this.end.column+=n}},this.split=function(t,e){var n=this.getNextFoldTo(t,e);if(!n||"inside"==n.kind)return null;var r=n.fold,o=this.folds,s=this.foldData,a=o.indexOf(r),l=o[a-1];this.end.row=l.end.row,this.end.column=l.end.column,o=o.splice(a,o.length-a);var u=new i(s,o);return s.splice(s.indexOf(this)+1,0,u),u},this.merge=function(t){for(var e=t.folds,n=0;n<e.length;n++)this.addFold(e[n]);var i=this.foldData;i.splice(i.indexOf(t),1)},this.toString=function(){var t=[this.range.toString()+": ["];return this.folds.forEach(function(e){t.push("  "+e.toString())}),t.push("]"),t.join("\n")},this.idxToPosition=function(t){for(var e=0,n=0;n<this.folds.length;n++){var i=this.folds[n];if(t-=i.start.column-e,0>t)return{row:i.start.row,column:i.start.column+t};if(t-=i.placeholder.length,0>t)return i.start;e=i.end.column}return{row:this.end.row,column:this.end.column+t}}}).call(i.prototype),e.FoldLine=i}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(t,e,n){"use strict";var i=t("./range").Range,r=i.comparePoints,o=function(){this.ranges=[]};(function(){this.comparePoints=r,this.pointIndex=function(t,e,n){for(var i=this.ranges,o=n||0;o<i.length;o++){var s=i[o],a=r(t,s.end);if(!(a>0)){var l=r(t,s.start);return 0===a?e&&0!==l?-o-2:o:l>0||0===l&&!e?o:-o-1}}return-o-1},this.add=function(t){var e=!t.isEmpty(),n=this.pointIndex(t.start,e);0>n&&(n=-n-1);var i=this.pointIndex(t.end,e,n);return 0>i?i=-i-1:i++,this.ranges.splice(n,i-n,t)},this.addList=function(t){for(var e=[],n=t.length;n--;)e.push.apply(e,this.add(t[n]));return e},this.substractPoint=function(t){var e=this.pointIndex(t);return e>=0?this.ranges.splice(e,1):void 0},this.merge=function(){var t=[],e=this.ranges;e=e.sort(function(t,e){return r(t.start,e.start)});for(var n,i=e[0],o=1;o<e.length;o++){n=i,i=e[o];var s=r(n.end,i.start);0>s||(0!=s||n.isEmpty()||i.isEmpty())&&(r(n.end,i.end)<0&&(n.end.row=i.end.row,n.end.column=i.end.column),e.splice(o,1),t.push(i),i=n,o--)}return this.ranges=e,t},this.contains=function(t,e){return this.pointIndex({row:t,column:e})>=0},this.containsPoint=function(t){return this.pointIndex(t)>=0},this.rangeAtPoint=function(t){var e=this.pointIndex(t);return e>=0?this.ranges[e]:void 0},this.clipRows=function(t,e){var n=this.ranges;if(n[0].start.row>e||n[n.length-1].start.row<t)return[];var i=this.pointIndex({row:t,column:0});0>i&&(i=-i-1);var r=this.pointIndex({row:e,column:0},i);0>r&&(r=-r-1);for(var o=[],s=i;r>s;s++)o.push(n[s]);return o},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(t){this.session&&this.detach(),this.session=t,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(t){if("insert"==t.action)var e=t.start,n=t.end;else var n=t.start,e=t.end;for(var i=e.row,r=n.row,o=r-i,s=-e.column+n.column,a=this.ranges,l=0,u=a.length;u>l;l++){var c=a[l];if(!(c.end.row<i)){if(c.start.row>i)break;if(c.start.row==i&&c.start.column>=e.column&&(c.start.column!=e.column||!this.$insertRight)&&(c.start.column+=s,c.start.row+=o),c.end.row==i&&c.end.column>=e.column){if(c.end.column==e.column&&this.$insertRight)continue;c.end.column==e.column&&s>0&&u-1>l&&c.end.column>c.start.column&&c.end.column==a[l+1].start.column&&(c.end.column-=s),c.end.column+=s,c.end.row+=o}}}if(0!=o&&u>l)for(;u>l;l++){var c=a[l];c.start.row+=o,c.end.row+=o}}}).call(o.prototype),e.RangeList=o}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],function(t,e,n){"use strict";function i(t,e){t.row-=e.row,0==t.row&&(t.column-=e.column)}function r(t,e){i(t.start,e),i(t.end,e)}function o(t,e){0==t.row&&(t.column+=e.column),t.row+=e.row}function s(t,e){o(t.start,e),o(t.end,e)}var a=(t("../range").Range,t("../range_list").RangeList),l=t("../lib/oop"),u=e.Fold=function(t,e){this.foldLine=null,this.placeholder=e,this.range=t,this.start=t.start,this.end=t.end,this.sameRow=t.start.row==t.end.row,this.subFolds=this.ranges=[]};l.inherits(u,a),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(t){this.foldLine=t,this.subFolds.forEach(function(e){e.setFoldLine(t)})},this.clone=function(){var t=this.range.clone(),e=new u(t,this.placeholder);return this.subFolds.forEach(function(t){e.subFolds.push(t.clone())}),e.collapseChildren=this.collapseChildren,e},this.addSubFold=function(t){if(!this.range.isEqual(t)){if(!this.range.containsRange(t))throw new Error("A fold can't intersect already existing fold"+t.range+this.range);r(t,this.start);for(var e=t.start.row,n=t.start.column,i=0,o=-1;i<this.subFolds.length&&(o=this.subFolds[i].range.compare(e,n),1==o);i++);var s=this.subFolds[i];if(0==o)return s.addSubFold(t);for(var e=t.range.end.row,n=t.range.end.column,a=i,o=-1;a<this.subFolds.length&&(o=this.subFolds[a].range.compare(e,n),1==o);a++);this.subFolds[a];if(0==o)throw new Error("A fold can't intersect already existing fold"+t.range+this.range);this.subFolds.splice(i,a-i,t);return t.setFoldLine(this.foldLine),t}},this.restoreRange=function(t){return s(t,this.start)}}.call(u.prototype)}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(t,e,n){"use strict";function i(){this.getFoldAt=function(t,e,n){var i=this.getFoldLine(t);if(!i)return null;for(var r=i.folds,o=0;o<r.length;o++){var s=r[o];if(s.range.contains(t,e)){if(1==n&&s.range.isEnd(t,e))continue;if(-1==n&&s.range.isStart(t,e))continue;return s}}},this.getFoldsInRange=function(t){var e=t.start,n=t.end,i=this.$foldData,r=[];e.column+=1,n.column-=1;for(var o=0;o<i.length;o++){var s=i[o].range.compareRange(t);if(2!=s){if(-2==s)break;for(var a=i[o].folds,l=0;l<a.length;l++){var u=a[l];if(s=u.range.compareRange(t),-2==s)break;if(2!=s){if(42==s)break;r.push(u)}}}}return e.column-=1,n.column+=1,r},this.getFoldsInRangeList=function(t){if(Array.isArray(t)){var e=[];t.forEach(function(t){e=e.concat(this.getFoldsInRange(t))},this)}else var e=this.getFoldsInRange(t);return e},this.getAllFolds=function(){for(var t=[],e=this.$foldData,n=0;n<e.length;n++)for(var i=0;i<e[n].folds.length;i++)t.push(e[n].folds[i]);return t},this.getFoldStringAt=function(t,e,n,i){if(i=i||this.getFoldLine(t),!i)return null;for(var r,o,s={end:{column:0}},a=0;a<i.folds.length;a++){o=i.folds[a];var l=o.range.compareEnd(t,e);if(-1==l){r=this.getLine(o.start.row).substring(s.end.column,o.start.column);break}if(0===l)return null;s=o}return r||(r=this.getLine(o.start.row).substring(s.end.column)),-1==n?r.substring(0,e-s.end.column):1==n?r.substring(e-s.end.column):r},this.getFoldLine=function(t,e){var n=this.$foldData,i=0;for(e&&(i=n.indexOf(e)),-1==i&&(i=0),i;i<n.length;i++){var r=n[i];if(r.start.row<=t&&r.end.row>=t)return r;if(r.end.row>t)return null}return null},this.getNextFoldLine=function(t,e){var n=this.$foldData,i=0;for(e&&(i=n.indexOf(e)),-1==i&&(i=0),i;i<n.length;i++){var r=n[i];if(r.end.row>=t)return r}return null},this.getFoldedRowCount=function(t,e){for(var n=this.$foldData,i=e-t+1,r=0;r<n.length;r++){var o=n[r],s=o.end.row,a=o.start.row;if(s>=e){e>a&&(a>=t?i-=e-a:i=0);break}s>=t&&(i-=a>=t?s-a:s-t+1)}return i},this.$addFoldLine=function(t){return this.$foldData.push(t),this.$foldData.sort(function(t,e){return t.start.row-e.start.row}),t},this.addFold=function(t,e){var n,i=this.$foldData,r=!1;t instanceof s?n=t:(n=new s(e,t),n.collapseChildren=e.collapseChildren),this.$clipRangeToDocument(n.range);var a=n.start.row,l=n.start.column,u=n.end.row,c=n.end.column;if(u>a||a==u&&c-2>=l){var h=this.getFoldAt(a,l,1),d=this.getFoldAt(u,c,-1);if(h&&d==h)return h.addSubFold(n);h&&!h.range.isStart(a,l)&&this.removeFold(h),d&&!d.range.isEnd(u,c)&&this.removeFold(d);var f=this.getFoldsInRange(n.range);f.length>0&&(this.removeFolds(f),f.forEach(function(t){n.addSubFold(t)}));for(var p=0;p<i.length;p++){var g=i[p];if(u==g.start.row){g.addFold(n),r=!0;break}if(a==g.end.row){if(g.addFold(n),r=!0,!n.sameRow){var m=i[p+1];if(m&&m.start.row==u){g.merge(m);break}}break}if(u<=g.start.row)break}return r||(g=this.$addFoldLine(new o(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(g.start.row,g.start.row):this.$updateRowLengthCache(g.start.row,g.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n}throw new Error("The range has to be at least 2 characters width")},this.addFolds=function(t){t.forEach(function(t){this.addFold(t)},this)},this.removeFold=function(t){var e=t.foldLine,n=e.start.row,i=e.end.row,r=this.$foldData,o=e.folds;if(1==o.length)r.splice(r.indexOf(e),1);else if(e.range.isEnd(t.end.row,t.end.column))o.pop(),e.end.row=o[o.length-1].end.row,e.end.column=o[o.length-1].end.column;else if(e.range.isStart(t.start.row,t.start.column))o.shift(),e.start.row=o[0].start.row,e.start.column=o[0].start.column;else if(t.sameRow)o.splice(o.indexOf(t),1);else{var s=e.split(t.start.row,t.start.column);o=s.folds,o.shift(),s.start.row=o[0].start.row,s.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,i):this.$updateRowLengthCache(n,i)),this.$modified=!0,this._signal("changeFold",{data:t,action:"remove"})},this.removeFolds=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);e.forEach(function(t){this.removeFold(t)},this),this.$modified=!0},this.expandFold=function(t){this.removeFold(t),t.subFolds.forEach(function(e){t.restoreRange(e),this.addFold(e)},this),t.collapseChildren>0&&this.foldAll(t.start.row+1,t.end.row,t.collapseChildren-1),t.subFolds=[]},this.expandFolds=function(t){t.forEach(function(t){this.expandFold(t)},this)},this.unfold=function(t,e){var n,i;if(null==t?(n=new r(0,0,this.getLength(),0),e=!0):n="number"==typeof t?new r(t,0,t,this.getLine(t).length):"row"in t?r.fromPoints(t,t):t,i=this.getFoldsInRangeList(n),e)this.removeFolds(i);else for(var o=i;o.length;)this.expandFolds(o),o=this.getFoldsInRangeList(n);return i.length?i:void 0},this.isRowFolded=function(t,e){return!!this.getFoldLine(t,e)},this.getRowFoldEnd=function(t,e){var n=this.getFoldLine(t,e);return n?n.end.row:t},this.getRowFoldStart=function(t,e){var n=this.getFoldLine(t,e);return n?n.start.row:t},this.getFoldDisplayLine=function(t,e,n,i,r){null==i&&(i=t.start.row),null==r&&(r=0),null==e&&(e=t.end.row),null==n&&(n=this.getLine(e).length);var o=this.doc,s="";return t.walk(function(t,e,n,a){if(!(i>e)){if(e==i){if(r>n)return;a=Math.max(r,a)}s+=null!=t?t:o.getLine(e).substring(a,n)}},e,n),s},this.getDisplayLine=function(t,e,n,i){var r=this.getFoldLine(t);if(!r){var o;return o=this.doc.getLine(t),o.substring(i||0,e||o.length)}return this.getFoldDisplayLine(r,t,e,n,i)},this.$cloneFoldData=function(){var t=[];return t=this.$foldData.map(function(e){var n=e.folds.map(function(t){return t.clone()});return new o(t,n)})},this.toggleFold=function(t){var e,n,i=this.selection,r=i.getRange();if(r.isEmpty()){var o=r.start;if(e=this.getFoldAt(o.row,o.column))return void this.expandFold(e);(n=this.findMatchingBracket(o))?1==r.comparePoint(n)?r.end=n:(r.start=n,r.start.column++,r.end.column--):(n=this.findMatchingBracket({row:o.row,column:o.column+1}))?(1==r.comparePoint(n)?r.end=n:r.start=n,r.start.column++):r=this.getCommentFoldRange(o.row,o.column)||r}else{var s=this.getFoldsInRange(r);if(t&&s.length)return void this.expandFolds(s);1==s.length&&(e=s[0])}if(e||(e=this.getFoldAt(r.start.row,r.start.column)),e&&e.range.toString()==r.toString())return void this.expandFold(e);var a="...";if(!r.isMultiLine()){if(a=this.getTextRange(r),a.length<4)return;a=a.trim().substring(0,2)+".."}this.addFold(a,r)},this.getCommentFoldRange=function(t,e,n){var i=new a(this,t,e),o=i.getCurrentToken(),s=o.type;if(o&&/^comment|string/.test(s)){s=s.match(/comment|string/)[0],"comment"==s&&(s+="|doc-start");var l=new RegExp(s),u=new r;if(1!=n){do o=i.stepBackward();while(o&&l.test(o.type));i.stepForward()}if(u.start.row=i.getCurrentTokenRow(),u.start.column=i.getCurrentTokenColumn()+2,i=new a(this,t,e),-1!=n){var c=-1;do if(o=i.stepForward(),-1==c){var h=this.getState(i.$row);l.test(h)||(c=i.$row)}else if(i.$row>c)break;while(o&&l.test(o.type));o=i.stepBackward()}else o=i.getCurrentToken();return u.end.row=i.getCurrentTokenRow(),u.end.column=i.getCurrentTokenColumn()+o.value.length-2,u}},this.foldAll=function(t,e,n){void 0==n&&(n=1e5);var i=this.foldWidgets;if(i){e=e||this.getLength(),t=t||0;for(var r=t;e>r;r++)if(null==i[r]&&(i[r]=this.getFoldWidget(r)),"start"==i[r]){var o=this.getFoldWidgetRange(r);if(o&&o.isMultiLine()&&o.end.row<=e&&o.start.row>=t){r=o.end.row;try{var s=this.addFold("...",o);s&&(s.collapseChildren=n)}catch(a){}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(t){if(!this.$foldStyles[t])throw new Error("invalid fold style: "+t+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=t){this.$foldStyle=t,"manual"==t&&this.unfold();var e=this.$foldMode;this.$setFolding(null),this.$setFolding(e)}},this.$setFolding=function(t){return this.$foldMode!=t?(this.$foldMode=t,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),t&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=t.getFoldWidget.bind(t,this,this.$foldStyle),this.getFoldWidgetRange=t.getFoldWidgetRange.bind(t,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),void 0):void(this.foldWidgets=null)):void 0},this.getParentFoldRangeData=function(t,e){var n=this.foldWidgets;if(!n||e&&n[t])return{};for(var i,r=t-1;r>=0;){var o=n[r];if(null==o&&(o=n[r]=this.getFoldWidget(r)),"start"==o){var s=this.getFoldWidgetRange(r);if(i||(i=s),s&&s.end.row>=t)break}r--}return{range:-1!==r&&s,firstRange:i}},this.onFoldWidgetClick=function(t,e){e=e.domEvent;var n={children:e.shiftKey,all:e.ctrlKey||e.metaKey,siblings:e.altKey},i=this.$toggleFoldWidget(t,n);if(!i){var r=e.target||e.srcElement;r&&/ace_fold-widget/.test(r.className)&&(r.className+=" ace_invalid")}},this.$toggleFoldWidget=function(t,e){if(this.getFoldWidget){var n=this.getFoldWidget(t),i=this.getLine(t),r="end"===n?-1:1,o=this.getFoldAt(t,-1===r?0:i.length,r);if(o)return e.children||e.all?this.removeFold(o):this.expandFold(o),o;var s=this.getFoldWidgetRange(t,!0);if(s&&!s.isMultiLine()&&(o=this.getFoldAt(s.start.row,s.start.column,1),o&&s.isEqual(o.range)))return this.removeFold(o),o;if(e.siblings){var a=this.getParentFoldRangeData(t);if(a.range)var l=a.range.start.row+1,u=a.range.end.row;this.foldAll(l,u,e.all?1e4:0)}else e.children?(u=s?s.end.row:this.getLength(),this.foldAll(t+1,u,e.all?1e4:0)):s&&(e.all&&(s.collapseChildren=1e4),this.addFold("...",s));return s}},this.toggleFoldWidget=function(t){var e=this.selection.getCursor().row;e=this.getRowFoldStart(e);var n=this.$toggleFoldWidget(e,{});if(!n){var i=this.getParentFoldRangeData(e,!0);if(n=i.range||i.firstRange){e=n.start.row;var r=this.getFoldAt(e,this.getLine(e).length,1);r?this.removeFold(r):this.addFold("...",n)}}},this.updateFoldWidgets=function(t){var e=t.start.row,n=t.end.row-e;if(0===n)this.foldWidgets[e]=null;else if("remove"==t.action)this.foldWidgets.splice(e,n+1,null);else{var i=Array(n+1);i.unshift(e,1),this.foldWidgets.splice.apply(this.foldWidgets,i)}},this.tokenizerUpdateFoldWidgets=function(t){var e=t.data;e.first!=e.last&&this.foldWidgets.length>e.first&&this.foldWidgets.splice(e.first,this.foldWidgets.length)}}var r=t("../range").Range,o=t("./fold_line").FoldLine,s=t("./fold").Fold,a=t("../token_iterator").TokenIterator;e.Folding=i}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(t,e,n){"use strict";function i(){this.findMatchingBracket=function(t,e){if(0==t.column)return null;var n=e||this.getLine(t.row).charAt(t.column-1);if(""==n)return null;var i=n.match(/([\(\[\{])|([\)\]\}])/);return i?i[1]?this.$findClosingBracket(i[1],t):this.$findOpeningBracket(i[2],t):null},this.getBracketRange=function(t){var e,n=this.getLine(t.row),i=!0,r=n.charAt(t.column-1),s=r&&r.match(/([\(\[\{])|([\)\]\}])/);if(s||(r=n.charAt(t.column),t={row:t.row,column:t.column+1},s=r&&r.match(/([\(\[\{])|([\)\]\}])/),i=!1),!s)return null;if(s[1]){var a=this.$findClosingBracket(s[1],t);if(!a)return null;e=o.fromPoints(t,a),i||(e.end.column++,e.start.column--),e.cursor=e.end}else{var a=this.$findOpeningBracket(s[2],t);if(!a)return null;e=o.fromPoints(a,t),i||(e.start.column++,e.end.column--),e.cursor=e.start}return e},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(t,e,n){var i=this.$brackets[t],o=1,s=new r(this,e.row,e.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var l=e.column-s.getCurrentTokenColumn()-2,u=a.value;;){for(;l>=0;){var c=u.charAt(l);if(c==i){if(o-=1,0==o)return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else c==t&&(o+=1);l-=1}do a=s.stepBackward();while(a&&!n.test(a.type));if(null==a)break;u=a.value,l=u.length-1}return null}},this.$findClosingBracket=function(t,e,n){var i=this.$brackets[t],o=1,s=new r(this,e.row,e.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var l=e.column-s.getCurrentTokenColumn();;){for(var u=a.value,c=u.length;c>l;){var h=u.charAt(l);if(h==i){if(o-=1,0==o)return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else h==t&&(o+=1);l+=1}do a=s.stepForward();while(a&&!n.test(a.type));if(null==a)break;l=0}return null}}}var r=t("../token_iterator").TokenIterator,o=t("../range").Range;e.BracketMatch=i}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(t,e,n){"use strict";var i=t("./lib/oop"),r=t("./lib/lang"),o=t("./bidihandler").BidiHandler,s=t("./config"),a=t("./lib/event_emitter").EventEmitter,l=t("./selection").Selection,u=t("./mode/text").Mode,c=t("./range").Range,h=t("./document").Document,d=t("./background_tokenizer").BackgroundTokenizer,f=t("./search_highlight").SearchHighlight,p=function(t,e){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++p.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof t&&t.getLine||(t=new h(t)),this.$bidiHandler=new o(this),this.setDocument(t),this.selection=new l(this),s.resetOptions(this),this.setMode(e),s._signal("session",this)};p.$uid=0,function(){function t(t){return 4352>t?!1:t>=4352&&4447>=t||t>=4515&&4519>=t||t>=4602&&4607>=t||t>=9001&&9002>=t||t>=11904&&11929>=t||t>=11931&&12019>=t||t>=12032&&12245>=t||t>=12272&&12283>=t||t>=12288&&12350>=t||t>=12353&&12438>=t||t>=12441&&12543>=t||t>=12549&&12589>=t||t>=12593&&12686>=t||t>=12688&&12730>=t||t>=12736&&12771>=t||t>=12784&&12830>=t||t>=12832&&12871>=t||t>=12880&&13054>=t||t>=13056&&19903>=t||t>=19968&&42124>=t||t>=42128&&42182>=t||t>=43360&&43388>=t||t>=44032&&55203>=t||t>=55216&&55238>=t||t>=55243&&55291>=t||t>=63744&&64255>=t||t>=65040&&65049>=t||t>=65072&&65106>=t||t>=65108&&65126>=t||t>=65128&&65131>=t||t>=65281&&65376>=t||t>=65504&&65510>=t}i.implement(this,a),this.setDocument=function(t){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=t,t.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(t){if(!t)return this.$docRowCache=[],void(this.$screenRowCache=[]);var e=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,t)+1;e>n&&(this.$docRowCache.splice(n,e),this.$screenRowCache.splice(n,e))},this.$getRowCacheIndex=function(t,e){for(var n=0,i=t.length-1;i>=n;){var r=n+i>>1,o=t[r];if(e>o)n=r+1;else{if(!(o>e))return r;i=r-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(t){var e=t.data;this.$resetRowCache(e.start.row)},this.onChange=function(t){this.$modified=!0,this.$bidiHandler.onChange(t),this.$resetRowCache(t.start.row);var e=this.$updateInternalDataOnChange(t);!this.$fromUndo&&this.$undoManager&&!t.ignore&&(this.$deltasDoc.push(t),e&&0!=e.length&&this.$deltasFold.push({action:"removeFolds",folds:e}),this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(t),this._signal("change",t)},this.setValue=function(t){this.doc.setValue(t),this.selection.moveTo(0,0),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(t){return this.bgTokenizer.getState(t)},this.getTokens=function(t){return this.bgTokenizer.getTokens(t)},this.getTokenAt=function(t,e){var n,i=this.bgTokenizer.getTokens(t),r=0;if(null==e){var o=i.length-1;r=this.getLine(t).length}else for(var o=0;o<i.length&&(r+=i[o].value.length,!(r>=e));o++);return n=i[o],n?(n.index=o,n.start=r-n.value.length,n):null},this.setUndoManager=function(t){if(this.$undoManager=t,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel(),t){var e=this;this.$syncInformUndoManager=function(){e.$informUndoManager.cancel(),e.$deltasFold.length&&(e.$deltas.push({group:"fold",deltas:e.$deltasFold}),e.$deltasFold=[]),e.$deltasDoc.length&&(e.$deltas.push({group:"doc",deltas:e.$deltasDoc}),e.$deltasDoc=[]),e.$deltas.length>0&&t.execute({action:"aceupdate",args:[e.$deltas,e],merge:e.mergeUndoDeltas}),e.mergeUndoDeltas=!1,e.$deltas=[]},this.$informUndoManager=r.delayedCall(this.$syncInformUndoManager)}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?r.stringRepeat(" ",this.getTabSize()):"	"},this.setUseSoftTabs=function(t){this.setOption("useSoftTabs",t)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(t){this.setOption("tabSize",t)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(t){return this.$useSoftTabs&&t.column%this.$tabSize===0},this.setNavigateWithinSoftTabs=function(t){this.setOption("navigateWithinSoftTabs",t)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(t){this.setOption("overwrite",t)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(t,e){this.$decorations[t]||(this.$decorations[t]=""),this.$decorations[t]+=" "+e,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(t,e){this.$decorations[t]=(this.$decorations[t]||"").replace(" "+e,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(t){this.$breakpoints=[];for(var e=0;e<t.length;e++)this.$breakpoints[t[e]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(t,e){void 0===e&&(e="ace_breakpoint"),e?this.$breakpoints[t]=e:delete this.$breakpoints[t],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(t){delete this.$breakpoints[t],this._signal("changeBreakpoint",{})},this.addMarker=function(t,e,n,i){var r=this.$markerId++,o={range:t,type:n||"line",renderer:"function"==typeof n?n:null,clazz:e,inFront:!!i,id:r};return i?(this.$frontMarkers[r]=o,this._signal("changeFrontMarker")):(this.$backMarkers[r]=o,this._signal("changeBackMarker")),r},this.addDynamicMarker=function(t,e){if(t.update){var n=this.$markerId++;return t.id=n,t.inFront=!!e,e?(this.$frontMarkers[n]=t,this._signal("changeFrontMarker")):(this.$backMarkers[n]=t,this._signal("changeBackMarker")),t}},this.removeMarker=function(t){var e=this.$frontMarkers[t]||this.$backMarkers[t];if(e){var n=e.inFront?this.$frontMarkers:this.$backMarkers;e&&(delete n[t],this._signal(e.inFront?"changeFrontMarker":"changeBackMarker"))}},this.getMarkers=function(t){return t?this.$frontMarkers:this.$backMarkers},this.highlight=function(t){if(!this.$searchHighlight){var e=new f(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(e)}this.$searchHighlight.setRegexp(t)},this.highlightLines=function(t,e,n,i){"number"!=typeof e&&(n=e,e=t),n||(n="ace_step");var r=new c(t,0,e,1/0);return r.id=this.addMarker(r,n,"fullLine",i),r},this.setAnnotations=function(t){this.$annotations=t,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(t){var e=t.match(/^.*?(\r?\n)/m);e?this.$autoNewLine=e[1]:this.$autoNewLine="\n"},this.getWordRange=function(t,e){var n=this.getLine(t),i=!1;if(e>0&&(i=!!n.charAt(e-1).match(this.tokenRe)),i||(i=!!n.charAt(e).match(this.tokenRe)),i)var r=this.tokenRe;else if(/^\s+$/.test(n.slice(e-1,e+1)))var r=/\s/;else var r=this.nonTokenRe;var o=e;if(o>0){do o--;while(o>=0&&n.charAt(o).match(r));o++}for(var s=e;s<n.length&&n.charAt(s).match(r);)s++;return new c(t,o,t,s)},this.getAWordRange=function(t,e){for(var n=this.getWordRange(t,e),i=this.getLine(n.end.row);i.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},this.setNewLineMode=function(t){this.doc.setNewLineMode(t)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(t){this.setOption("useWorker",t)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(t){var e=t.data;this.bgTokenizer.start(e.first),this._signal("tokenizerUpdate",t)},this.$modes={},this.$mode=null,this.$modeId=null,this.setMode=function(t,e){if(t&&"object"==typeof t){if(t.getTokenizer)return this.$onChangeMode(t);var n=t,i=n.path}else i=t||"ace/mode/text";return this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new u),this.$modes[i]&&!n?(this.$onChangeMode(this.$modes[i]),void(e&&e())):(this.$modeId=i,s.loadModule(["mode",i],function(t){return this.$modeId!==i?e&&e():(this.$modes[i]&&!n?this.$onChangeMode(this.$modes[i]):t&&t.Mode&&(t=new t.Mode(n),n||(this.$modes[i]=t,t.$id=i),this.$onChangeMode(t)),void(e&&e()))}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0),void 0)},this.$onChangeMode=function(t,e){if(e||(this.$modeId=t.$id),this.$mode!==t){this.$mode=t,this.$stopWorker(),this.$useWorker&&this.$startWorker();var n=t.getTokenizer();if(void 0!==n.addEventListener){var i=this.onReloadTokenizer.bind(this);n.addEventListener("update",i)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(n);else{this.bgTokenizer=new d(n);var r=this;this.bgTokenizer.addEventListener("update",function(t){r._signal("tokenizerUpdate",t)})}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=t.tokenRe,this.nonTokenRe=t.nonTokenRe,e||(t.attachToSession&&t.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(t.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(t){s.warn("Could not load worker",t),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(t){this.$scrollTop===t||isNaN(t)||(this.$scrollTop=t,this._signal("changeScrollTop",t))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(t){this.$scrollLeft===t||isNaN(t)||(this.$scrollLeft=t,this._signal("changeScrollLeft",t))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var t=0;return this.lineWidgets.forEach(function(e){e&&e.screenWidth>t&&(t=e.screenWidth)}),this.lineWidgetWidth=t},this.$computeWidth=function(t){if(this.$modified||t){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var e=this.doc.getAllLines(),n=this.$rowLengthCache,i=0,r=0,o=this.$foldData[r],s=o?o.start.row:1/0,a=e.length,l=0;a>l;l++){if(l>s){if(l=o.end.row+1,l>=a)break;o=this.$foldData[r++],s=o?o.start.row:1/0}null==n[l]&&(n[l]=this.$getStringScreenWidth(e[l])[0]),n[l]>i&&(i=n[l])}this.screenWidth=i}},this.getLine=function(t){return this.doc.getLine(t)},this.getLines=function(t,e){return this.doc.getLines(t,e)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(t){return this.doc.getTextRange(t||this.selection.getRange())},this.insert=function(t,e){return this.doc.insert(t,e)},this.remove=function(t){return this.doc.remove(t)},this.removeFullLines=function(t,e){
return this.doc.removeFullLines(t,e)},this.undoChanges=function(t,e){if(t.length){this.$fromUndo=!0;for(var n=null,i=t.length-1;-1!=i;i--){var r=t[i];"doc"==r.group?(this.doc.revertDeltas(r.deltas),n=this.$getUndoSelection(r.deltas,!0,n)):r.deltas.forEach(function(t){this.addFolds(t.folds)},this)}return this.$fromUndo=!1,n&&this.$undoSelect&&!e&&this.selection.setSelectionRange(n),n}},this.redoChanges=function(t,e){if(t.length){this.$fromUndo=!0;for(var n=null,i=0;i<t.length;i++){var r=t[i];"doc"==r.group&&(this.doc.applyDeltas(r.deltas),n=this.$getUndoSelection(r.deltas,!1,n))}return this.$fromUndo=!1,n&&this.$undoSelect&&!e&&this.selection.setSelectionRange(n),n}},this.setUndoSelect=function(t){this.$undoSelect=t},this.$getUndoSelection=function(t,e,n){function i(t){return e?"insert"!==t.action:"insert"===t.action}var r,o,s=t[0],a=!1;i(s)?(r=c.fromPoints(s.start,s.end),a=!0):(r=c.fromPoints(s.start,s.start),a=!1);for(var l=1;l<t.length;l++)s=t[l],i(s)?(o=s.start,-1==r.compare(o.row,o.column)&&r.setStart(o),o=s.end,1==r.compare(o.row,o.column)&&r.setEnd(o),a=!0):(o=s.start,-1==r.compare(o.row,o.column)&&(r=c.fromPoints(s.start,s.start)),a=!1);if(null!=n){0===c.comparePoints(n.start,r.start)&&(n.start.column+=r.end.column-r.start.column,n.end.column+=r.end.column-r.start.column);var u=n.compareRange(r);1==u?r.setStart(n.start):-1==u&&r.setEnd(n.end)}return r},this.replace=function(t,e){return this.doc.replace(t,e)},this.moveText=function(t,e,n){var i=this.getTextRange(t),r=this.getFoldsInRange(t),o=c.fromPoints(e,e);if(!n){this.remove(t);var s=t.start.row-t.end.row,a=s?-t.end.column:t.start.column-t.end.column;a&&(o.start.row==t.end.row&&o.start.column>t.end.column&&(o.start.column+=a),o.end.row==t.end.row&&o.end.column>t.end.column&&(o.end.column+=a)),s&&o.start.row>=t.end.row&&(o.start.row+=s,o.end.row+=s)}if(o.end=this.insert(o.start,i),r.length){var l=t.start,u=o.start,s=u.row-l.row,a=u.column-l.column;this.addFolds(r.map(function(t){return t=t.clone(),t.start.row==l.row&&(t.start.column+=a),t.end.row==l.row&&(t.end.column+=a),t.start.row+=s,t.end.row+=s,t}))}return o},this.indentRows=function(t,e,n){n=n.replace(/\t/g,this.getTabString());for(var i=t;e>=i;i++)this.doc.insertInLine({row:i,column:0},n)},this.outdentRows=function(t){for(var e=t.collapseRows(),n=new c(0,0,0,0),i=this.getTabSize(),r=e.start.row;r<=e.end.row;++r){var o=this.getLine(r);n.start.row=r,n.end.row=r;for(var s=0;i>s&&" "==o.charAt(s);++s);i>s&&"	"==o.charAt(s)?(n.start.column=s,n.end.column=s+1):(n.start.column=0,n.end.column=s),this.remove(n)}},this.$moveLines=function(t,e,n){if(t=this.getRowFoldStart(t),e=this.getRowFoldEnd(e),0>n){var i=this.getRowFoldStart(t+n);if(0>i)return 0;var r=i-t}else if(n>0){var i=this.getRowFoldEnd(e+n);if(i>this.doc.getLength()-1)return 0;var r=i-e}else{t=this.$clipRowToDocument(t),e=this.$clipRowToDocument(e);var r=e-t+1}var o=new c(t,0,e,Number.MAX_VALUE),s=this.getFoldsInRange(o).map(function(t){return t=t.clone(),t.start.row+=r,t.end.row+=r,t}),a=0==n?this.doc.getLines(t,e):this.doc.removeFullLines(t,e);return this.doc.insertFullLines(t+r,a),s.length&&this.addFolds(s),r},this.moveLinesUp=function(t,e){return this.$moveLines(t,e,-1)},this.moveLinesDown=function(t,e){return this.$moveLines(t,e,1)},this.duplicateLines=function(t,e){return this.$moveLines(t,e,0)},this.$clipRowToDocument=function(t){return Math.max(0,Math.min(t,this.doc.getLength()-1))},this.$clipColumnToRow=function(t,e){return 0>e?0:Math.min(this.doc.getLine(t).length,e)},this.$clipPositionToDocument=function(t,e){if(e=Math.max(0,e),0>t)t=0,e=0;else{var n=this.doc.getLength();t>=n?(t=n-1,e=this.doc.getLine(n-1).length):e=Math.min(this.doc.getLine(t).length,e)}return{row:t,column:e}},this.$clipRangeToDocument=function(t){t.start.row<0?(t.start.row=0,t.start.column=0):t.start.column=this.$clipColumnToRow(t.start.row,t.start.column);var e=this.doc.getLength()-1;return t.end.row>e?(t.end.row=e,t.end.column=this.doc.getLine(e).length):t.end.column=this.$clipColumnToRow(t.end.row,t.end.column),t},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(t){if(t!=this.$useWrapMode){if(this.$useWrapMode=t,this.$modified=!0,this.$resetRowCache(0),t){var e=this.getLength();this.$wrapData=Array(e),this.$updateWrapData(0,e-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(t,e){(this.$wrapLimitRange.min!==t||this.$wrapLimitRange.max!==e)&&(this.$wrapLimitRange={min:t,max:e},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(t,e){var n=this.$wrapLimitRange;n.max<0&&(n={min:e,max:e});var i=this.$constrainWrapLimit(t,n.min,n.max);return i!=this.$wrapLimit&&i>1?(this.$wrapLimit=i,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},this.$constrainWrapLimit=function(t,e,n){return e&&(t=Math.max(e,t)),n&&(t=Math.min(n,t)),t},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(t){this.setWrapLimitRange(t,t)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(t){var e=this.$useWrapMode,n=t.action,i=t.start,r=t.end,o=i.row,s=r.row,a=s-o,l=null;if(this.$updating=!0,0!=a)if("remove"===n){this[e?"$wrapData":"$rowLengthCache"].splice(o,a);var u=this.$foldData;l=this.getFoldsInRange(t),this.removeFolds(l);var c=this.getFoldLine(r.row),h=0;if(c){c.addRemoveChars(r.row,r.column,i.column-r.column),c.shiftRow(-a);var d=this.getFoldLine(o);d&&d!==c&&(d.merge(c),c=d),h=u.indexOf(c)+1}for(h;h<u.length;h++){var c=u[h];c.start.row>=r.row&&c.shiftRow(-a)}s=o}else{var f=Array(a);f.unshift(o,0);var p=e?this.$wrapData:this.$rowLengthCache;p.splice.apply(p,f);var u=this.$foldData,c=this.getFoldLine(o),h=0;if(c){var g=c.range.compareInside(i.row,i.column);0==g?(c=c.split(i.row,i.column),c&&(c.shiftRow(a),c.addRemoveChars(s,0,r.column-i.column))):-1==g&&(c.addRemoveChars(o,0,r.column-i.column),c.shiftRow(a)),h=u.indexOf(c)+1}for(h;h<u.length;h++){var c=u[h];c.start.row>=o&&c.shiftRow(a)}}else{a=Math.abs(t.start.column-t.end.column),"remove"===n&&(l=this.getFoldsInRange(t),this.removeFolds(l),a=-a);var c=this.getFoldLine(o);c&&c.addRemoveChars(o,i.column,a)}return e&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,e?this.$updateWrapData(o,s):this.$updateRowLengthCache(o,s),l},this.$updateRowLengthCache=function(t,e,n){this.$rowLengthCache[t]=null,this.$rowLengthCache[e]=null},this.$updateWrapData=function(t,e){var n,i,r=this.doc.getAllLines(),s=this.getTabSize(),a=this.$wrapData,u=this.$wrapLimit,c=t;for(e=Math.min(e,r.length-1);e>=c;)i=this.getFoldLine(c,i),i?(n=[],i.walk(function(t,e,i,s){var a;if(null!=t){a=this.$getDisplayTokens(t,n.length),a[0]=o;for(var u=1;u<a.length;u++)a[u]=l}else a=this.$getDisplayTokens(r[e].substring(s,i),n.length);n=n.concat(a)}.bind(this),i.end.row,r[i.end.row].length+1),a[i.start.row]=this.$computeWrapSplits(n,u,s),c=i.end.row+1):(n=this.$getDisplayTokens(r[c]),a[c]=this.$computeWrapSplits(n,u,s),c++)};var e=1,n=2,o=3,l=4,h=9,p=10,g=11,m=12;this.$computeWrapSplits=function(t,e,i){function r(){var e=0;if(0===y)return e;if(v)for(var n=0;n<t.length;n++){var r=t[n];if(r==p)e+=1;else{if(r!=g){if(r==m)continue;break}e+=i}}return f&&v!==!1&&(e+=i),Math.min(e,y)}function s(e){var n=t.slice(c,e),i=n.length;n.join("").replace(/12/g,function(){i-=1}).replace(/2/g,function(){i-=1}),a.length||(b=r(),a.indent=b),d+=i,a.push(d),c=e}if(0==t.length)return[];for(var a=[],u=t.length,c=0,d=0,f=this.$wrapAsCode,v=this.$indentedSoftWrap,y=e<=Math.max(2*i,8)||v===!1?0:Math.floor(e/2),b=0;u-c>e-b;){var w=c+e-b;if(t[w-1]>=p&&t[w]>=p)s(w);else if(t[w]!=o&&t[w]!=l){for(var x=Math.max(w-(e-(e>>2)),c-1);w>x&&t[w]<o;)w--;if(f){for(;w>x&&t[w]<o;)w--;for(;w>x&&t[w]==h;)w--}else for(;w>x&&t[w]<p;)w--;w>x?s(++w):(w=c+e,t[w]==n&&w--,s(w-b))}else{for(w;w!=c-1&&t[w]!=o;w--);if(w>c){s(w);continue}for(w=c+e;w<t.length&&t[w]==l;w++);if(w==t.length)break;s(w)}}return a},this.$getDisplayTokens=function(i,r){var o,s=[];r=r||0;for(var a=0;a<i.length;a++){var l=i.charCodeAt(a);if(9==l){o=this.getScreenTabSize(s.length+r),s.push(g);for(var u=1;o>u;u++)s.push(m)}else 32==l?s.push(p):l>39&&48>l||l>57&&64>l?s.push(h):l>=4352&&t(l)?s.push(e,n):s.push(e)}return s},this.$getStringScreenWidth=function(e,n,i){if(0==n)return[0,0];null==n&&(n=1/0),i=i||0;var r,o;for(o=0;o<e.length&&(r=e.charCodeAt(o),i+=9==r?this.getScreenTabSize(i):r>=4352&&t(r)?2:1,!(i>n));o++);return[i,o]},this.lineWidgets=null,this.getRowLength=function(t){if(this.lineWidgets)var e=this.lineWidgets[t]&&this.lineWidgets[t].rowCount||0;else e=0;return this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+1+e:1+e},this.getRowLineCount=function(t){return this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+1:1},this.getRowWrapIndent=function(t){if(this.$useWrapMode){var e=this.screenToDocumentPosition(t,Number.MAX_VALUE),n=this.$wrapData[e.row];return n.length&&n[0]<e.column?n.indent:0}return 0},this.getScreenLastRowColumn=function(t){var e=this.screenToDocumentPosition(t,Number.MAX_VALUE);return this.documentToScreenColumn(e.row,e.column)},this.getDocumentLastRowColumn=function(t,e){var n=this.documentToScreenRow(t,e);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(t,e){var n=this.documentToScreenRow(t,e);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(t){return this.$useWrapMode?this.$wrapData[t]:void 0},this.getScreenTabSize=function(t){return this.$tabSize-t%this.$tabSize},this.screenToDocumentRow=function(t,e){return this.screenToDocumentPosition(t,e).row},this.screenToDocumentColumn=function(t,e){return this.screenToDocumentPosition(t,e).column},this.screenToDocumentPosition=function(t,e,n){if(0>t)return{row:0,column:0};var i,r,o=0,s=0,a=0,l=0,u=this.$screenRowCache,c=this.$getRowCacheIndex(u,t),h=u.length;if(h&&c>=0)var a=u[c],o=this.$docRowCache[c],d=t>u[h-1];else var d=!h;for(var f=this.getLength()-1,p=this.getNextFoldLine(o),g=p?p.start.row:1/0;t>=a&&(l=this.getRowLength(o),!(a+l>t||o>=f));)a+=l,o++,o>g&&(o=p.end.row+1,p=this.getNextFoldLine(o,p),g=p?p.start.row:1/0),d&&(this.$docRowCache.push(o),this.$screenRowCache.push(a));if(p&&p.start.row<=o)i=this.getFoldDisplayLine(p),o=p.start.row;else{if(t>=a+l||o>f)return{row:f,column:this.getLine(f).length};i=this.getLine(o),p=null}var m=0,v=Math.floor(t-a);if(this.$useWrapMode){var y=this.$wrapData[o];y&&(r=y[v],v>0&&y.length&&(m=y.indent,s=y[v-1]||y[y.length-1],i=i.substring(s)))}return void 0!==n&&this.$bidiHandler.isBidiRow(a+v,o,v)&&(e=this.$bidiHandler.offsetToCol(n)),s+=this.$getStringScreenWidth(i,e-m)[1],this.$useWrapMode&&s>=r&&(s=r-1),p?p.idxToPosition(s):{row:o,column:s}},this.documentToScreenPosition=function(t,e){if("undefined"==typeof e)var n=this.$clipPositionToDocument(t.row,t.column);else n=this.$clipPositionToDocument(t,e);t=n.row,e=n.column;var i=0,r=null,o=null;o=this.getFoldAt(t,e,1),o&&(t=o.start.row,e=o.start.column);var s,a=0,l=this.$docRowCache,u=this.$getRowCacheIndex(l,t),c=l.length;if(c&&u>=0)var a=l[u],i=this.$screenRowCache[u],h=t>l[c-1];else var h=!c;for(var d=this.getNextFoldLine(a),f=d?d.start.row:1/0;t>a;){if(a>=f){if(s=d.end.row+1,s>t)break;d=this.getNextFoldLine(s,d),f=d?d.start.row:1/0}else s=a+1;i+=this.getRowLength(a),a=s,h&&(this.$docRowCache.push(a),this.$screenRowCache.push(i))}var p="";d&&a>=f?(p=this.getFoldDisplayLine(d,t,e),r=d.start.row):(p=this.getLine(t).substring(0,e),r=t);var g=0;if(this.$useWrapMode){var m=this.$wrapData[r];if(m){for(var v=0;p.length>=m[v];)i++,v++;p=p.substring(m[v-1]||0,p.length),g=v>0?m.indent:0}}return{row:i,column:g+this.$getStringScreenWidth(p)[0]}},this.documentToScreenColumn=function(t,e){return this.documentToScreenPosition(t,e).column},this.documentToScreenRow=function(t,e){return this.documentToScreenPosition(t,e).row},this.getScreenLength=function(){var t=0,e=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,i=0,r=0,e=this.$foldData[r++],o=e?e.start.row:1/0;n>i;){var s=this.$wrapData[i];t+=s?s.length+1:1,i++,i>o&&(i=e.end.row+1,e=this.$foldData[r++],o=e?e.start.row:1/0)}else{t=this.getLength();for(var a=this.$foldData,r=0;r<a.length;r++)e=a[r],t-=e.end.row-e.start.row}return this.lineWidgets&&(t+=this.$getWidgetScreenLength()),t},this.$setFontMetrics=function(t){this.$enableVarChar&&(this.$getStringScreenWidth=function(e,n,i){if(0===n)return[0,0];n||(n=1/0),i=i||0;var r,o;for(o=0;o<e.length&&(r=e.charAt(o),i+="	"===r?this.getScreenTabSize(i):t.getCharacterWidth(r),!(i>n));o++);return[i,o]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()},this.isFullWidth=t}.call(p.prototype),t("./edit_session/folding").Folding.call(p.prototype),t("./edit_session/bracket_match").BracketMatch.call(p.prototype),s.defineOptions(p.prototype,"session",{wrap:{set:function(t){if(t&&"off"!=t?"free"==t?t=!0:"printMargin"==t?t=-1:"string"==typeof t&&(t=parseInt(t,10)||!1):t=!1,this.$wrap!=t)if(this.$wrap=t,t){var e="number"==typeof t?t:null;this.setWrapLimitRange(e,e),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(t){t="auto"==t?"text"!=this.$mode.type:"text"!=t,t!=this.$wrapAsCode&&(this.$wrapAsCode=t,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},indentedSoftWrap:{initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(t){this.$useWorker=t,this.$stopWorker(),t&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(t){isNaN(t)||this.$tabSize===t||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=t,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},overwrite:{set:function(t){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(t){this.doc.setNewLineMode(t)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(t){this.setMode(t)},get:function(){return this.$modeId}}}),e.EditSession=p}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(t,e,n){"use strict";function i(t,e){function n(t){return/\w/.test(t)||e.regExp?"\\b":""}return n(t[0])+t+n(t[t.length-1])}var r=t("./lib/lang"),o=t("./lib/oop"),s=t("./range").Range,a=function(){this.$options={}};(function(){this.set=function(t){return o.mixin(this.$options,t),this},this.getOptions=function(){return r.copyObject(this.$options)},this.setOptions=function(t){this.$options=t},this.find=function(t){var e=this.$options,n=this.$matchIterator(t,e);if(!n)return!1;var i=null;return n.forEach(function(t,n,r,o){return i=new s(t,n,r,o),n==o&&e.start&&e.start.start&&0!=e.skipCurrent&&i.isEqual(e.start)?(i=null,!1):!0}),i},this.findAll=function(t){var e=this.$options;if(!e.needle)return[];this.$assembleRegExp(e);var n=e.range,i=n?t.getLines(n.start.row,n.end.row):t.doc.getAllLines(),o=[],a=e.re;if(e.$isMultiLine){var l,u=a.length,c=i.length-u;t:for(var h=a.offset||0;c>=h;h++){for(var d=0;u>d;d++)if(-1==i[h+d].search(a[d]))continue t;var f=i[h],p=i[h+u-1],g=f.length-f.match(a[0])[0].length,m=p.match(a[u-1])[0].length;l&&l.end.row===h&&l.end.column>g||(o.push(l=new s(h,g,h+u-1,m)),u>2&&(h=h+u-2))}}else for(var v=0;v<i.length;v++)for(var y=r.getMatchOffsets(i[v],a),d=0;d<y.length;d++){var b=y[d];o.push(new s(v,b.offset,v,b.offset+b.length))}if(n){for(var w=n.start.column,x=n.start.column,v=0,d=o.length-1;d>v&&o[v].start.column<w&&o[v].start.row==n.start.row;)v++;for(;d>v&&o[d].end.column>x&&o[d].end.row==n.end.row;)d--;for(o=o.slice(v,d+1),v=0,d=o.length;d>v;v++)o[v].start.row+=n.start.row,o[v].end.row+=n.start.row}return o},this.replace=function(t,e){var n=this.$options,i=this.$assembleRegExp(n);if(n.$isMultiLine)return e;if(i){var r=i.exec(t);if(!r||r[0].length!=t.length)return null;if(e=t.replace(i,e),n.preserveCase){e=e.split("");for(var o=Math.min(t.length,t.length);o--;){var s=t[o];s&&s.toLowerCase()!=s?e[o]=e[o].toUpperCase():e[o]=e[o].toLowerCase()}e=e.join("")}return e}},this.$assembleRegExp=function(t,e){if(t.needle instanceof RegExp)return t.re=t.needle;var n=t.needle;if(!t.needle)return t.re=!1;t.regExp||(n=r.escapeRegExp(n)),t.wholeWord&&(n=i(n,t));var o=t.caseSensitive?"gm":"gmi";if(t.$isMultiLine=!e&&/[\n\r]/.test(n),t.$isMultiLine)return t.re=this.$assembleMultilineRegExp(n,o);try{var s=new RegExp(n,o)}catch(a){s=!1}return t.re=s},this.$assembleMultilineRegExp=function(t,e){for(var n=t.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),i=[],r=0;r<n.length;r++)try{i.push(new RegExp(n[r],e))}catch(o){return!1}return i},this.$matchIterator=function(t,e){var n=this.$assembleRegExp(e);if(!n)return!1;var i=1==e.backwards,r=0!=e.skipCurrent,o=e.range,s=e.start;s||(s=o?o[i?"end":"start"]:t.selection.getRange()),s.start&&(s=s[r!=i?"end":"start"]);var a=o?o.start.row:0,l=o?o.end.row:t.getLength()-1;if(i)var u=function(t){var n=s.row;if(!h(n,s.column,t)){for(n--;n>=a;n--)if(h(n,Number.MAX_VALUE,t))return;if(0!=e.wrap)for(n=l,a=s.row;n>=a;n--)if(h(n,Number.MAX_VALUE,t))return}};else var u=function(t){var n=s.row;if(!h(n,s.column,t)){for(n+=1;l>=n;n++)if(h(n,0,t))return;if(0!=e.wrap)for(n=a,l=s.row;l>=n;n++)if(h(n,0,t))return}};if(e.$isMultiLine)var c=n.length,h=function(e,r,o){var s=i?e-c+1:e;if(!(0>s)){var a=t.getLine(s),l=a.search(n[0]);if(!(!i&&r>l||-1===l)){for(var u=1;c>u;u++)if(a=t.getLine(s+u),-1==a.search(n[u]))return;var h=a.match(n[c-1])[0].length;if(!(i&&h>r))return o(s,l,s+c-1,h)?!0:void 0}}};else if(i)var h=function(e,i,r){var o,s=t.getLine(e),a=[],l=0;for(n.lastIndex=0;o=n.exec(s);){var u=o[0].length;if(l=o.index,!u){if(l>=s.length)break;n.lastIndex=l+=1}if(o.index+u>i)break;a.push(o.index,u)}for(var c=a.length-1;c>=0;c-=2){var h=a[c-1],u=a[c];if(r(e,h,e,h+u))return!0}};else var h=function(e,i,r){var o,s=t.getLine(e),a=i;for(n.lastIndex=i;o=n.exec(s);){var l=o[0].length;if(a=o.index,r(e,a,e,a+l))return!0;if(!l&&(n.lastIndex=a+=1,a>=s.length))return!1}};return{forEach:u}}}).call(a.prototype),e.Search=a}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(t,e,n){"use strict";function i(t,e){this.platform=e||(s.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(t),this.$singleCommand=!0}function r(t,e){i.call(this,t,e),this.$singleCommand=!1}var o=t("../lib/keys"),s=t("../lib/useragent"),a=o.KEY_MODS;r.prototype=i.prototype,function(){function t(t){return"object"==typeof t&&t.bindKey&&t.bindKey.position||(t.isDefault?-100:0)}this.addCommand=function(t){this.commands[t.name]&&this.removeCommand(t),this.commands[t.name]=t,t.bindKey&&this._buildKeyHash(t)},this.removeCommand=function(t,e){var n=t&&("string"==typeof t?t:t.name);t=this.commands[n],e||delete this.commands[n];var i=this.commandKeyBinding;for(var r in i){var o=i[r];if(o==t)delete i[r];else if(Array.isArray(o)){var s=o.indexOf(t);-1!=s&&(o.splice(s,1),1==o.length&&(i[r]=o[0]))}}},this.bindKey=function(t,e,n){return"object"==typeof t&&t&&(void 0==n&&(n=t.position),t=t[this.platform]),t?"function"==typeof e?this.addCommand({exec:e,bindKey:t,name:e.name||t}):void t.split("|").forEach(function(t){var i="";if(-1!=t.indexOf(" ")){var r=t.split(/\s+/);t=r.pop(),r.forEach(function(t){var e=this.parseKeys(t),n=a[e.hashId]+e.key;i+=(i?" ":"")+n,this._addCommandToBinding(i,"chainKeys")},this),i+=" "}var o=this.parseKeys(t),s=a[o.hashId]+o.key;this._addCommandToBinding(i+s,e,n)},this):void 0},this._addCommandToBinding=function(e,n,i){var r,o=this.commandKeyBinding;if(n)if(!o[e]||this.$singleCommand)o[e]=n;else{Array.isArray(o[e])?-1!=(r=o[e].indexOf(n))&&o[e].splice(r,1):o[e]=[o[e]],"number"!=typeof i&&(i=t(n));var s=o[e];for(r=0;r<s.length;r++){var a=s[r],l=t(a);if(l>i)break}s.splice(r,0,n)}else delete o[e]},this.addCommands=function(t){t&&Object.keys(t).forEach(function(e){var n=t[e];if(n){if("string"==typeof n)return this.bindKey(n,e);"function"==typeof n&&(n={exec:n}),"object"==typeof n&&(n.name||(n.name=e),this.addCommand(n))}},this)},this.removeCommands=function(t){Object.keys(t).forEach(function(e){this.removeCommand(t[e])},this)},this.bindKeys=function(t){Object.keys(t).forEach(function(e){this.bindKey(e,t[e])},this)},this._buildKeyHash=function(t){this.bindKey(t.bindKey,t)},this.parseKeys=function(t){var e=t.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(t){return t}),n=e.pop(),i=o[n];if(o.FUNCTION_KEYS[i])n=o.FUNCTION_KEYS[i].toLowerCase();else{if(!e.length)return{key:n,hashId:-1};if(1==e.length&&"shift"==e[0])return{key:n.toUpperCase(),hashId:-1}}for(var r=0,s=e.length;s--;){var a=o.KEY_MODS[e[s]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+e[s]+" in "+t),!1;r|=a}return{key:n,hashId:r}},this.findKeyCommand=function(t,e){var n=a[t]+e;return this.commandKeyBinding[n]},this.handleKeyboard=function(t,e,n,i){if(!(0>i)){var r=a[e]+n,o=this.commandKeyBinding[r];return t.$keyChain&&(t.$keyChain+=" "+r,o=this.commandKeyBinding[t.$keyChain]||o),!o||"chainKeys"!=o&&"chainKeys"!=o[o.length-1]?(t.$keyChain&&(e&&4!=e||1!=n.length?(-1==e||i>0)&&(t.$keyChain=""):t.$keyChain=t.$keyChain.slice(0,-r.length-1)),{command:o}):(t.$keyChain=t.$keyChain||r,{command:"null"})}},this.getStatusText=function(t,e){return e.$keyChain||""}}.call(i.prototype),e.HashHandler=i,e.MultiHashHandler=r}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(t,e,n){"use strict";var i=t("../lib/oop"),r=t("../keyboard/hash_handler").MultiHashHandler,o=t("../lib/event_emitter").EventEmitter,s=function(t,e){r.call(this,e,t),this.byName=this.commands,this.setDefaultHandler("exec",function(t){return t.command.exec(t.editor,t.args||{})})};i.inherits(s,r),function(){i.implement(this,o),this.exec=function(t,e,n){if(Array.isArray(t)){for(var i=t.length;i--;)if(this.exec(t[i],e,n))return!0;return!1}if("string"==typeof t&&(t=this.commands[t]),!t)return!1;if(e&&e.$readOnly&&!t.readOnly)return!1;if(t.isAvailable&&!t.isAvailable(e))return!1;var r={editor:e,command:t,args:n};return r.returnValue=this._emit("exec",r),this._signal("afterExec",r),r.returnValue===!1?!1:!0},this.toggleRecording=function(t){return this.$inReplay?void 0:(t&&t._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(t){this.macro.push([t.command,t.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0))},this.replay=function(t){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(t);try{this.$inReplay=!0,this.macro.forEach(function(e){"string"==typeof e?this.exec(e,t):this.exec(e[0],t,e[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(t){return t.map(function(t){return"string"!=typeof t[0]&&(t[0]=t[0].name),t[1]||(t=t[0]),t})}}.call(s.prototype),e.CommandManager=s}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(t,e,n){"use strict";function i(t,e){return{win:t,mac:e}}var r=t("../lib/lang"),o=t("../config"),s=t("../range").Range;e.commands=[{name:"showSettingsMenu",bindKey:i("Ctrl-,","Command-,"),exec:function(t){o.loadModule("ace/ext/settings_menu",function(e){e.init(t),t.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:i("Alt-E","F4"),exec:function(t){o.loadModule("ace/ext/error_marker",function(e){e.showErrorMarker(t,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:i("Alt-Shift-E","Shift-F4"),exec:function(t){o.loadModule("ace/ext/error_marker",function(e){e.showErrorMarker(t,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:i("Ctrl-A","Command-A"),exec:function(t){t.selectAll()},readOnly:!0},{name:"centerselection",bindKey:i(null,"Ctrl-L"),exec:function(t){t.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:i("Ctrl-L","Command-L"),exec:function(t){var e=parseInt(prompt("Enter line number:"),10);isNaN(e)||t.gotoLine(e)},readOnly:!0},{name:"fold",bindKey:i("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(t){t.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:i("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(t){t.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:i("F2","F2"),exec:function(t){t.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:i("Alt-F2","Alt-F2"),exec:function(t){t.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:i(null,"Ctrl-Command-Option-0"),exec:function(t){t.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:i("Alt-0","Command-Option-0"),exec:function(t){t.session.foldAll(),t.session.unfold(t.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:i("Alt-Shift-0","Command-Option-Shift-0"),exec:function(t){t.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:i("Ctrl-K","Command-G"),exec:function(t){t.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:i("Ctrl-Shift-K","Command-Shift-G"),exec:function(t){t.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",bindKey:i("Alt-K","Ctrl-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:i("Alt-Shift-K","Ctrl-Shift-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findPrevious()},readOnly:!0},{name:"find",bindKey:i("Ctrl-F","Command-F"),exec:function(t){o.loadModule("ace/ext/searchbox",function(e){e.Search(t)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(t){t.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:i("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(t){t.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:i("Ctrl-Home","Command-Home|Command-Up"),exec:function(t){t.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:i("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(t){t.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:i("Up","Up|Ctrl-P"),exec:function(t,e){t.navigateUp(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:i("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(t){t.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:i("Ctrl-End","Command-End|Command-Down"),exec:function(t){t.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:i("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(t){t.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:i("Down","Down|Ctrl-N"),exec:function(t,e){t.navigateDown(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",bindKey:i("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(t){t.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:i("Ctrl-Left","Option-Left"),exec:function(t){t.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:i("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:i("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(t){t.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:i("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(t){t.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:i("Left","Left|Ctrl-B"),exec:function(t,e){t.navigateLeft(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:i("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(t){t.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:i("Ctrl-Right","Option-Right"),exec:function(t){t.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:i("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:i("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(t){t.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:i("Shift-Right","Shift-Right"),exec:function(t){t.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:i("Right","Right|Ctrl-F"),exec:function(t,e){t.navigateRight(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(t){t.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:i(null,"Option-PageDown"),exec:function(t){t.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:i("PageDown","PageDown|Ctrl-V"),exec:function(t){t.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(t){t.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:i(null,"Option-PageUp"),exec:function(t){t.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(t){t.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:i("Ctrl-Up",null),exec:function(t){t.renderer.scrollBy(0,-2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:i("Ctrl-Down",null),exec:function(t){t.renderer.scrollBy(0,2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:i("Ctrl-Alt-E","Command-Option-E"),exec:function(t){t.commands.toggleRecording(t)},readOnly:!0},{name:"replaymacro",bindKey:i("Ctrl-Shift-E","Command-Shift-E"),exec:function(t){t.commands.replay(t)},readOnly:!0},{name:"jumptomatching",bindKey:i("Ctrl-P","Ctrl-P"),exec:function(t){t.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{
name:"selecttomatching",bindKey:i("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(t){t.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:i("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(t){t.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",bindKey:i(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",exec:function(t){},readOnly:!0},{name:"cut",exec:function(t){var e=t.getSelectionRange();t._emit("cut",e),t.selection.isEmpty()||(t.session.remove(e),t.clearSelection())},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",exec:function(t,e){t.$handlePaste(e)},scrollIntoView:"cursor"},{name:"removeline",bindKey:i("Ctrl-D","Command-D"),exec:function(t){t.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:i("Ctrl-Shift-D","Command-Shift-D"),exec:function(t){t.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:i("Ctrl-Alt-S","Command-Alt-S"),exec:function(t){t.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:i("Ctrl-/","Command-/"),exec:function(t){t.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:i("Ctrl-Shift-/","Command-Shift-/"),exec:function(t){t.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:i("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(t){t.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:i("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(t){t.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",bindKey:i("Ctrl-H","Command-Option-F"),exec:function(t){o.loadModule("ace/ext/searchbox",function(e){e.Search(t,!0)})}},{name:"undo",bindKey:i("Ctrl-Z","Command-Z"),exec:function(t){t.undo()}},{name:"redo",bindKey:i("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(t){t.redo()}},{name:"copylinesup",bindKey:i("Alt-Shift-Up","Command-Option-Up"),exec:function(t){t.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:i("Alt-Up","Option-Up"),exec:function(t){t.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:i("Alt-Shift-Down","Command-Option-Down"),exec:function(t){t.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:i("Alt-Down","Option-Down"),exec:function(t){t.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:i("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(t){t.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:i("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(t){t.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:i("Shift-Delete",null),exec:function(t){return t.selection.isEmpty()?void t.remove("left"):!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:i("Alt-Backspace","Command-Backspace"),exec:function(t){t.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:i("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(t){t.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",bindKey:i("Ctrl-Shift-Backspace",null),exec:function(t){var e=t.selection.getRange();e.start.column=0,t.session.remove(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",bindKey:i("Ctrl-Shift-Delete",null),exec:function(t){var e=t.selection.getRange();e.end.column=Number.MAX_VALUE,t.session.remove(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:i("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(t){t.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:i("Ctrl-Delete","Alt-Delete"),exec:function(t){t.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:i("Shift-Tab","Shift-Tab"),exec:function(t){t.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:i("Tab","Tab"),exec:function(t){t.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:i("Ctrl-[","Ctrl-["),exec:function(t){t.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:i("Ctrl-]","Ctrl-]"),exec:function(t){t.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(t,e){t.insert(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(t,e){t.insert(r.stringRepeat(e.text||"",e.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:i(null,"Ctrl-O"),exec:function(t){t.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:i("Alt-Shift-X","Ctrl-T"),exec:function(t){t.transposeLetters()},multiSelectAction:function(t){t.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:i("Ctrl-U","Ctrl-U"),exec:function(t){t.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:i("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(t){t.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:i("Ctrl-Shift-L","Command-Shift-L"),exec:function(t){var e=t.selection.getRange();e.start.column=e.end.column=0,e.end.row++,t.selection.setRange(e,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:i(null,null),exec:function(t){for(var e=t.selection.isBackwards(),n=e?t.selection.getSelectionLead():t.selection.getSelectionAnchor(),i=e?t.selection.getSelectionAnchor():t.selection.getSelectionLead(),o=t.session.doc.getLine(n.row).length,a=t.session.doc.getTextRange(t.selection.getRange()),l=a.replace(/\n\s*/," ").length,u=t.session.doc.getLine(n.row),c=n.row+1;c<=i.row+1;c++){var h=r.stringTrimLeft(r.stringTrimRight(t.session.doc.getLine(c)));0!==h.length&&(h=" "+h),u+=h}i.row+1<t.session.doc.getLength()-1&&(u+=t.session.doc.getNewLineCharacter()),t.clearSelection(),t.session.doc.replace(new s(n.row,0,i.row+2,0),u),l>0?(t.selection.moveCursorTo(n.row,n.column),t.selection.selectTo(n.row,n.column+l)):(o=t.session.doc.getLine(n.row).length>o?o+1:o,t.selection.moveCursorTo(n.row,o))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:i(null,null),exec:function(t){var e=t.session.doc.getLength()-1,n=t.session.doc.getLine(e).length,i=t.selection.rangeList.ranges,r=[];i.length<1&&(i=[t.selection.getRange()]);for(var o=0;o<i.length;o++)o==i.length-1&&(i[o].end.row!==e||i[o].end.column!==n)&&r.push(new s(i[o].end.row,i[o].end.column,e,n)),0===o?(0!==i[o].start.row||0!==i[o].start.column)&&r.push(new s(0,0,i[o].start.row,i[o].start.column)):r.push(new s(i[o-1].end.row,i[o-1].end.column,i[o].start.row,i[o].start.column));t.exitMultiSelectMode(),t.clearSelection();for(var o=0;o<r.length;o++)t.selection.addRange(r[o],!1)},readOnly:!0,scrollIntoView:"none"}]}),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator"],function(t,e,n){"use strict";t("./lib/fixoldbrowsers");var i=t("./lib/oop"),r=t("./lib/dom"),o=t("./lib/lang"),s=t("./lib/useragent"),a=t("./keyboard/textinput").TextInput,l=t("./mouse/mouse_handler").MouseHandler,u=t("./mouse/fold_handler").FoldHandler,c=t("./keyboard/keybinding").KeyBinding,h=t("./edit_session").EditSession,d=t("./search").Search,f=t("./range").Range,p=t("./lib/event_emitter").EventEmitter,g=t("./commands/command_manager").CommandManager,m=t("./commands/default_commands").commands,v=t("./config"),y=t("./token_iterator").TokenIterator,b=function(t,e){var n=t.getContainerElement();this.container=n,this.renderer=t,this.id="editor"+ ++b.$uid,this.commands=new g(s.isMac?"mac":"win",m),"object"==typeof document&&(this.textInput=new a(t.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new l(this),new u(this)),this.keyBinding=new c(this),this.$blockScrolling=0,this.$search=(new d).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=o.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(t,e){e._$emitInputEvent.schedule(31)}),this.setSession(e||new h("")),v.resetOptions(this),v._signal("editor",this)};b.$uid=0,function(){i.implement(this,p),this.$initOperationListeners=function(){this.selections=[],this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=o.delayedCall(this.endOperation.bind(this)),this.on("change",function(){this.curOp||this.startOperation(),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||this.startOperation(),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(t){if(this.curOp){if(!t||this.curOp.command)return;this.prevOp=this.curOp}t||(this.previousCommand=null,t={}),this.$opResetTimer.schedule(),this.curOp={command:t.command||{},args:t.args,scrollTop:this.renderer.scrollTop},this.curOp.command.name&&void 0!==this.curOp.command.scrollIntoView&&this.$blockScrolling++},this.endOperation=function(t){if(this.curOp){if(t&&t.returnValue===!1)return this.curOp=null;this._signal("beforeEndOperation");var e=this.curOp.command;e.name&&this.$blockScrolling>0&&this.$blockScrolling--;var n=e&&e.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var i=this.selection.getRange(),r=this.renderer.layerConfig;(i.start.row>=r.lastRow||i.end.row<=r.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==n&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(t){if(this.$mergeUndoDeltas){var e=this.prevOp,n=this.$mergeableCommands,i=e.command&&t.command.name==e.command.name;if("insertstring"==t.command.name){var r=t.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),i=i&&this.mergeNextCommand&&(!/\s/.test(r)||/\s/.test(e.args)),this.mergeNextCommand=!0}else i=i&&-1!==n.indexOf(t.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(i=!1),i?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(t.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(t,e){if(t&&"string"==typeof t){this.$keybindingId=t;var n=this;v.loadModule(["keybinding",t],function(i){n.$keybindingId==t&&n.keyBinding.setKeyboardHandler(i&&i.handler),e&&e()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(t),e&&e()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(t){if(this.session!=t){this.curOp&&this.endOperation(),this.curOp={};var e=this.session;if(e){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)}this.session=t,t?(this.$onDocumentChange=this.onDocumentChange.bind(this),t.on("change",this.$onDocumentChange),this.renderer.setSession(t),this.$onChangeMode=this.onChangeMode.bind(this),t.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),t.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),t.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),t.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),t.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),t.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=t.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(t)),this._signal("changeSession",{session:t,oldSession:e}),this.curOp=null,e&&e._signal("changeEditor",{oldEditor:this}),t&&t._signal("changeEditor",{editor:this}),t&&t.bgTokenizer&&t.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(t,e){return this.session.doc.setValue(t),e?1==e?this.navigateFileEnd():-1==e&&this.navigateFileStart():this.selectAll(),t},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(t){this.renderer.onResize(t)},this.setTheme=function(t,e){this.renderer.setTheme(t,e)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(t){this.renderer.setStyle(t)},this.unsetStyle=function(t){this.renderer.unsetStyle(t)},this.getFontSize=function(){return this.getOption("fontSize")||r.computedStyle(this.container,"fontSize")},this.setFontSize=function(t){this.setOption("fontSize",t)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var t=this;this.$highlightPending=!0,setTimeout(function(){t.$highlightPending=!1;var e=t.session;if(e&&e.bgTokenizer){var n=e.findMatchingBracket(t.getCursorPosition());if(n)var i=new f(n.row,n.column,n.row,n.column+1);else if(e.$mode.getMatching)var i=e.$mode.getMatching(t.session);i&&(e.$bracketHighlight=e.addMarker(i,"ace_bracket","text"))}},50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var t=this;this.$highlightTagPending=!0,setTimeout(function(){t.$highlightTagPending=!1;var e=t.session;if(e&&e.bgTokenizer){var n=t.getCursorPosition(),i=new y(t.session,n.row,n.column),r=i.getCurrentToken();if(!r||!/\b(?:tag-open|tag-name)/.test(r.type))return e.removeMarker(e.$tagHighlight),void(e.$tagHighlight=null);if(-1==r.type.indexOf("tag-open")||(r=i.stepForward())){var o=r.value,s=0,a=i.stepBackward();if("<"==a.value){do a=r,r=i.stepForward(),r&&r.value===o&&-1!==r.type.indexOf("tag-name")&&("<"===a.value?s++:"</"===a.value&&s--);while(r&&s>=0)}else{do r=a,a=i.stepBackward(),r&&r.value===o&&-1!==r.type.indexOf("tag-name")&&("<"===a.value?s++:"</"===a.value&&s--);while(a&&0>=s);i.stepForward()}if(!r)return e.removeMarker(e.$tagHighlight),void(e.$tagHighlight=null);var l=i.getCurrentTokenRow(),u=i.getCurrentTokenColumn(),c=new f(l,u,l,u+r.value.length),h=e.$backMarkers[e.$tagHighlight];e.$tagHighlight&&void 0!=h&&0!==c.compareRange(h.range)&&(e.removeMarker(e.$tagHighlight),e.$tagHighlight=null),c&&!e.$tagHighlight&&(e.$tagHighlight=e.addMarker(c,"ace_bracket","text"))}}},50)}},this.focus=function(){var t=this;setTimeout(function(){t.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(t){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",t))},this.onBlur=function(t){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",t))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(t){var e=this.session.$useWrapMode,n=t.start.row==t.end.row?t.end.row:1/0;this.renderer.updateLines(t.start.row,n,e),this._signal("change",t),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(t){var e=t.data;this.renderer.updateLines(e.first,e.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$blockScrolling||(v.warn("Automatically scrolling cursor into view after selection change","this will be disabled in the next version","set editor.$blockScrolling = Infinity to disable this message"),this.renderer.scrollCursorIntoView()),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var t,e=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(t=this.getCursorPosition()),this.renderer.$maxLines&&1===this.session.getLength()&&!(this.renderer.$minLines>1)&&(t=!1)),e.$highlightLineMarker&&!t)e.removeMarker(e.$highlightLineMarker.id),e.$highlightLineMarker=null;else if(!e.$highlightLineMarker&&t){var n=new f(t.row,t.column,t.row,1/0);n.id=e.addMarker(n,"ace_active-line","screenLine"),e.$highlightLineMarker=n}else t&&(e.$highlightLineMarker.start.row=t.row,e.$highlightLineMarker.end.row=t.row,e.$highlightLineMarker.start.column=t.column,e._signal("changeBackMarker"))},this.onSelectionChange=function(t){var e=this.session;if(e.$selectionMarker&&e.removeMarker(e.$selectionMarker),e.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var n=this.selection.getRange(),i=this.getSelectionStyle();e.$selectionMarker=e.addMarker(n,"ace_selection",i)}var r=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(r),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var t=this.session,e=this.getSelectionRange();if(!e.isEmpty()&&!e.isMultiLine()){var n=e.start.column-1,i=e.end.column+1,r=t.getLine(e.start.row),o=r.length,s=r.substring(Math.max(n,0),Math.min(i,o));if(!(n>=0&&/^[\w\d]/.test(s)||o>=i&&/[\w\d]$/.test(s))&&(s=r.substring(e.start.column,e.end.column),/^[\w\d]+$/.test(s))){var a=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:s});return a}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(t){this.renderer.updateText(),this._emit("changeMode",t)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var t=this.getSelectedText();return this._signal("copy",t),t},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(t,e){var n={text:t,event:e};this.commands.exec("paste",this,n)},this.$handlePaste=function(t){"string"==typeof t&&(t={text:t}),this._signal("paste",t);var e=t.text;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)this.insert(e);else{var n=e.split(/\r\n|\r|\n/),i=this.selection.rangeList.ranges;if(n.length>i.length||n.length<2||!n[1])return this.commands.exec("insertstring",this,e);for(var r=i.length;r--;){var o=i[r];o.isEmpty()||this.session.remove(o),this.session.insert(o.start,n[r])}}},this.execCommand=function(t,e){return this.commands.exec(t,this,e)},this.insert=function(t,e){var n=this.session,i=n.getMode(),r=this.getCursorPosition();if(this.getBehavioursEnabled()&&!e){var o=i.transformAction(n.getState(r.row),"insertion",this,n,t);o&&(t!==o.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=!1),t=o.text)}if("	"==t&&(t=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&-1==t.indexOf("\n")){var s=new f.fromPoints(r,r);s.end.column+=t.length,this.session.remove(s)}}else{var s=this.getSelectionRange();r=this.session.remove(s),this.clearSelection()}if("\n"==t||"\r\n"==t){var a=n.getLine(r.row);if(r.column>a.search(/\S|$/)){var l=a.substr(r.column).search(/\S|$/);n.doc.removeInLine(r.row,r.column,r.column+l)}}this.clearSelection();var u=r.column,c=n.getState(r.row),a=n.getLine(r.row),h=i.checkOutdent(c,a,t);n.insert(r,t);if(o&&o.selection&&(2==o.selection.length?this.selection.setSelectionRange(new f(r.row,u+o.selection[0],r.row,u+o.selection[1])):this.selection.setSelectionRange(new f(r.row+o.selection[0],o.selection[1],r.row+o.selection[2],o.selection[3]))),n.getDocument().isNewLine(t)){var d=i.getNextLineIndent(c,a.slice(0,r.column),n.getTabString());n.insert({row:r.row+1,column:0},d)}h&&i.autoOutdent(c,n,r.row)},this.onTextInput=function(t){this.keyBinding.onTextInput(t)},this.onCommandKey=function(t,e,n){this.keyBinding.onCommandKey(t,e,n)},this.setOverwrite=function(t){this.session.setOverwrite(t)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(t){this.setOption("scrollSpeed",t)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(t){this.setOption("dragDelay",t)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(t){this.setOption("selectionStyle",t)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(t){this.setOption("highlightActiveLine",t)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(t){this.setOption("highlightGutterLine",t)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(t){this.setOption("highlightSelectedWord",t)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(t){this.renderer.setAnimatedScroll(t)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(t){this.renderer.setShowInvisibles(t)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(t){this.renderer.setDisplayIndentGuides(t)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(t){this.renderer.setShowPrintMargin(t)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(t){this.renderer.setPrintMarginColumn(t)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(t){this.setOption("readOnly",t)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(t){this.setOption("behavioursEnabled",t)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(t){this.setOption("wrapBehavioursEnabled",t)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(t){this.setOption("showFoldWidgets",t)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(t){this.setOption("fadeFoldWidgets",t)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(t){this.selection.isEmpty()&&("left"==t?this.selection.selectLeft():this.selection.selectRight());var e=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,i=n.getState(e.start.row),r=n.getMode().transformAction(i,"deletion",this,n,e);if(0===e.end.column){var o=n.getTextRange(e);if("\n"==o[o.length-1]){var s=n.getLine(e.end.row);/^\s+$/.test(s)&&(e.end.column=s.length)}}r&&(e=r)}this.session.remove(e),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var t=this.getSelectionRange();t.start.column==t.end.column&&t.start.row==t.end.row&&(t.end.column=0,t.end.row++),this.session.remove(t),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var t=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(t)},this.transposeLetters=function(){if(this.selection.isEmpty()){var t=this.getCursorPosition(),e=t.column;if(0!==e){var n,i,r=this.session.getLine(t.row);e<r.length?(n=r.charAt(e)+r.charAt(e-1),i=new f(t.row,e-1,t.row,e+1)):(n=r.charAt(e-1)+r.charAt(e-2),i=new f(t.row,e-2,t.row,e)),this.session.replace(i,n),this.session.selection.moveToPosition(i.end)}}},this.toLowerCase=function(){var t=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var e=this.getSelectionRange(),n=this.session.getTextRange(e);this.session.replace(e,n.toLowerCase()),this.selection.setSelectionRange(t)},this.toUpperCase=function(){var t=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var e=this.getSelectionRange(),n=this.session.getTextRange(e);this.session.replace(e,n.toUpperCase()),this.selection.setSelectionRange(t)},this.indent=function(){var t=this.session,e=this.getSelectionRange();if(e.start.row<e.end.row){var n=this.$getSelectedRows();return void t.indentRows(n.first,n.last,"	")}if(e.start.column<e.end.column){var i=t.getTextRange(e);if(!/^\s+$/.test(i)){var n=this.$getSelectedRows();return void t.indentRows(n.first,n.last,"	")}}var r=t.getLine(e.start.row),s=e.start,a=t.getTabSize(),l=t.documentToScreenColumn(s.row,s.column);if(this.session.getUseSoftTabs())var u=a-l%a,c=o.stringRepeat(" ",u);else{for(var u=l%a;" "==r[e.start.column-1]&&u;)e.start.column--,u--;this.selection.setSelectionRange(e),c="	"}return this.insert(c)},this.blockIndent=function(){var t=this.$getSelectedRows();this.session.indentRows(t.first,t.last,"	")},this.blockOutdent=function(){var t=this.session.getSelection();this.session.outdentRows(t.getRange())},this.sortLines=function(){for(var t=this.$getSelectedRows(),e=this.session,n=[],i=t.first;i<=t.last;i++)n.push(e.getLine(i));n.sort(function(t,e){return t.toLowerCase()<e.toLowerCase()?-1:t.toLowerCase()>e.toLowerCase()?1:0});for(var r=new f(0,0,0,0),i=t.first;i<=t.last;i++){var o=e.getLine(i);r.start.row=i,r.end.row=i,r.end.column=o.length,e.replace(r,n[i-t.first])}},this.toggleCommentLines=function(){var t=this.session.getState(this.getCursorPosition().row),e=this.$getSelectedRows();this.session.getMode().toggleCommentLines(t,this.session,e.first,e.last)},this.toggleBlockComment=function(){var t=this.getCursorPosition(),e=this.session.getState(t.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(e,this.session,n,t)},this.getNumberAt=function(t,e){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var i=this.session.getLine(t);n.lastIndex<e;){var r=n.exec(i);if(r.index<=e&&r.index+r[0].length>=e){var o={value:r[0],start:r.index,end:r.index+r[0].length};return o}}return null},this.modifyNumber=function(t){var e=this.selection.getCursor().row,n=this.selection.getCursor().column,i=new f(e,n-1,e,n),r=this.session.getTextRange(i);if(!isNaN(parseFloat(r))&&isFinite(r)){var o=this.getNumberAt(e,n);if(o){var s=o.value.indexOf(".")>=0?o.start+o.value.indexOf(".")+1:o.end,a=o.start+o.value.length-s,l=parseFloat(o.value);l*=Math.pow(10,a),t*=s!==o.end&&s>n?Math.pow(10,o.end-n-1):Math.pow(10,o.end-n),l+=t,l/=Math.pow(10,a);var u=l.toFixed(a),c=new f(e,o.start,e,o.end);this.session.replace(c,u),this.moveCursorTo(e,Math.max(o.start+1,n+u.length-o.value.length))}}},this.removeLines=function(){var t=this.$getSelectedRows();this.session.removeFullLines(t.first,t.last),this.clearSelection()},this.duplicateSelection=function(){var t=this.selection,e=this.session,n=t.getRange(),i=t.isBackwards();if(n.isEmpty()){var r=n.start.row;e.duplicateLines(r,r)}else{var o=i?n.start:n.end,s=e.insert(o,e.getTextRange(n),!1);n.start=o,n.end=s,t.setSelectionRange(n,i)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(t,e,n){return this.session.moveText(t,e,n)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(t,e){var n,i,r=this.selection;if(!r.inMultiSelectMode||this.inVirtualSelectionMode){var o=r.toOrientedRange();n=this.$getSelectedRows(o),i=this.session.$moveLines(n.first,n.last,e?0:t),e&&-1==t&&(i=0),o.moveBy(i,0),r.fromOrientedRange(o)}else{var s=r.rangeList.ranges;r.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;
for(var a=0,l=0,u=s.length,c=0;u>c;c++){var h=c;s[c].moveBy(a,0),n=this.$getSelectedRows(s[c]);for(var d=n.first,f=n.last;++c<u;){l&&s[c].moveBy(l,0);var p=this.$getSelectedRows(s[c]);if(e&&p.first!=f)break;if(!e&&p.first>f+1)break;f=p.last}for(c--,a=this.session.$moveLines(d,f,e?0:t),e&&-1==t&&(h=c+1);c>=h;)s[h].moveBy(a,0),h++;e||(a=0),l+=a}r.fromOrientedRange(r.ranges[0]),r.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(t){return t=(t||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(t.start.row),last:this.session.getRowFoldEnd(t.end.row)}},this.onCompositionStart=function(t){this.renderer.showComposition(this.getCursorPosition())},this.onCompositionUpdate=function(t){this.renderer.setCompositionText(t)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(t){return t>=this.getFirstVisibleRow()&&t<=this.getLastVisibleRow()},this.isRowFullyVisible=function(t){return t>=this.renderer.getFirstFullyVisibleRow()&&t<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(t,e){var n=this.renderer,i=this.renderer.layerConfig,r=t*Math.floor(i.height/i.lineHeight);this.$blockScrolling++,e===!0?this.selection.$moveSelection(function(){this.moveCursorBy(r,0)}):e===!1&&(this.selection.moveCursorBy(r,0),this.selection.clearSelection()),this.$blockScrolling--;var o=n.scrollTop;n.scrollBy(0,r*i.lineHeight),null!=e&&n.scrollCursorIntoView(null,.5),n.animateScrolling(o)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(t){this.renderer.scrollToRow(t)},this.scrollToLine=function(t,e,n,i){this.renderer.scrollToLine(t,e,n,i)},this.centerSelection=function(){var t=this.getSelectionRange(),e={row:Math.floor(t.start.row+(t.end.row-t.start.row)/2),column:Math.floor(t.start.column+(t.end.column-t.start.column)/2)};this.renderer.alignCursor(e,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(t,e){this.selection.moveCursorTo(t,e)},this.moveCursorToPosition=function(t){this.selection.moveCursorToPosition(t)},this.jumpToMatching=function(t,e){var n=this.getCursorPosition(),i=new y(this.session,n.row,n.column),r=i.getCurrentToken(),o=r||i.stepForward();if(o){var s,a,l=!1,u={},c=n.column-o.start,h={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(o.value.match(/[{}()\[\]]/g)){for(;c<o.value.length&&!l;c++)if(h[o.value[c]])switch(a=h[o.value[c]]+"."+o.type.replace("rparen","lparen"),isNaN(u[a])&&(u[a]=0),o.value[c]){case"(":case"[":case"{":u[a]++;break;case")":case"]":case"}":u[a]--,-1===u[a]&&(s="bracket",l=!0)}}else o&&-1!==o.type.indexOf("tag-name")&&(isNaN(u[o.value])&&(u[o.value]=0),"<"===r.value?u[o.value]++:"</"===r.value&&u[o.value]--,-1===u[o.value]&&(s="tag",l=!0));l||(r=o,o=i.stepForward(),c=0)}while(o&&!l);if(s){var d,p;if("bracket"===s)d=this.session.getBracketRange(n),d||(d=new f(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+c-1,i.getCurrentTokenRow(),i.getCurrentTokenColumn()+c-1),p=d.start,(e||p.row===n.row&&Math.abs(p.column-n.column)<2)&&(d=this.session.getBracketRange(p)));else if("tag"===s){if(!o||-1===o.type.indexOf("tag-name"))return;var g=o.value;if(d=new f(i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2,i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2),0===d.compare(n.row,n.column)){l=!1;do o=r,r=i.stepBackward(),r&&(-1!==r.type.indexOf("tag-close")&&d.setEnd(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+1),o.value===g&&-1!==o.type.indexOf("tag-name")&&("<"===r.value?u[g]++:"</"===r.value&&u[g]--,0===u[g]&&(l=!0)));while(r&&!l)}o&&o.type.indexOf("tag-name")&&(p=d.start,p.row==n.row&&Math.abs(p.column-n.column)<2&&(p=d.end))}p=d&&d.cursor||p,p&&(t?d&&e?this.selection.setRange(d):d&&d.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(p.row,p.column):this.selection.moveTo(p.row,p.column))}}},this.gotoLine=function(t,e,n){this.selection.clearSelection(),this.session.unfold({row:t-1,column:e||0}),this.$blockScrolling+=1,this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(t-1,e||0),this.$blockScrolling-=1,this.isRowFullyVisible(t-1)||this.scrollToLine(t-1,!0,n)},this.navigateTo=function(t,e){this.selection.moveTo(t,e)},this.navigateUp=function(t){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var e=this.selection.anchor.getPosition();return this.moveCursorToPosition(e)}this.selection.clearSelection(),this.selection.moveCursorBy(-t||-1,0)},this.navigateDown=function(t){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var e=this.selection.anchor.getPosition();return this.moveCursorToPosition(e)}this.selection.clearSelection(),this.selection.moveCursorBy(t||1,0)},this.navigateLeft=function(t){if(this.selection.isEmpty())for(t=t||1;t--;)this.selection.moveCursorLeft();else{var e=this.getSelectionRange().start;this.moveCursorToPosition(e)}this.clearSelection()},this.navigateRight=function(t){if(this.selection.isEmpty())for(t=t||1;t--;)this.selection.moveCursorRight();else{var e=this.getSelectionRange().end;this.moveCursorToPosition(e)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(t,e){e&&this.$search.set(e);var n=this.$search.find(this.session),i=0;return n?(this.$tryReplace(n,t)&&(i=1),null!==n&&(this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end)),i):i},this.replaceAll=function(t,e){e&&this.$search.set(e);var n=this.$search.findAll(this.session),i=0;if(!n.length)return i;this.$blockScrolling+=1;var r=this.getSelectionRange();this.selection.moveTo(0,0);for(var o=n.length-1;o>=0;--o)this.$tryReplace(n[o],t)&&i++;return this.selection.setSelectionRange(r),this.$blockScrolling-=1,i},this.$tryReplace=function(t,e){var n=this.session.getTextRange(t);return e=this.$search.replace(n,e),null!==e?(t.end=this.session.replace(t,e),t):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(t,e,n){e||(e={}),"string"==typeof t||t instanceof RegExp?e.needle=t:"object"==typeof t&&i.mixin(e,t);var r=this.selection.getRange();null==e.needle&&(t=this.session.getTextRange(r)||this.$search.$options.needle,t||(r=this.session.getWordRange(r.start.row,r.start.column),t=this.session.getTextRange(r)),this.$search.set({needle:t})),this.$search.set(e),e.start||this.$search.set({start:r});var o=this.$search.find(this.session);return e.preventScroll?o:o?(this.revealRange(o,n),o):(e.backwards?r.start=r.end:r.end=r.start,void this.selection.setRange(r))},this.findNext=function(t,e){this.find({skipCurrent:!0,backwards:!1},t,e)},this.findPrevious=function(t,e){this.find(t,{skipCurrent:!0,backwards:!0},e)},this.revealRange=function(t,e){this.$blockScrolling+=1,this.session.unfold(t),this.selection.setSelectionRange(t),this.$blockScrolling-=1;var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(t.start,t.end,.5),e!==!1&&this.renderer.animateScrolling(n)},this.undo=function(){this.$blockScrolling++,this.session.getUndoManager().undo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.$blockScrolling++,this.session.getUndoManager().redo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy()},this.setAutoScrollEditorIntoView=function(t){if(t){var e,n=this,i=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var r=this.$scrollAnchor;r.style.cssText="position:absolute",this.container.insertBefore(r,this.container.firstChild);var o=this.on("changeSelection",function(){i=!0}),s=this.renderer.on("beforeRender",function(){i&&(e=n.renderer.container.getBoundingClientRect())}),a=this.renderer.on("afterRender",function(){if(i&&e&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var t=n.renderer,o=t.$cursorLayer.$pixelPos,s=t.layerConfig,a=o.top-s.offset;i=o.top>=0&&a+e.top<0?!0:o.top<s.height&&o.top+e.top+s.lineHeight>window.innerHeight?!1:null,null!=i&&(r.style.top=a+"px",r.style.left=o.left+"px",r.style.height=s.lineHeight+"px",r.scrollIntoView(i)),i=e=null}});this.setAutoScrollEditorIntoView=function(t){t||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",o),this.renderer.off("afterRender",a),this.renderer.off("beforeRender",s))}}},this.$resetCursorStyle=function(){var t=this.$cursorStyle||"ace",e=this.renderer.$cursorLayer;e&&(e.setSmoothBlinking(/smooth/.test(t)),e.isBlinking=!this.$readOnly&&"wide"!=t,r.setCssClass(e.element,"ace_slim-cursors",/slim/.test(t)))}}.call(b.prototype),v.defineOptions(b.prototype,"editor",{selectionStyle:{set:function(t){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:t})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(t){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(t){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(t){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(t){this.setAutoScrollEditorIntoView(t)}},keyboardHandler:{set:function(t){this.setKeyboardHandler(t)},get:function(){return this.keybindingId},handlesSet:!0},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"}),e.Editor=b}),ace.define("ace/undomanager",["require","exports","module"],function(t,e,n){"use strict";var i=function(){this.reset()};(function(){function t(t){return{action:t.action,start:t.start,end:t.end,lines:1==t.lines.length?null:t.lines,text:1==t.lines.length?t.lines[0]:null}}function e(t){return{action:t.action,start:t.start,end:t.end,lines:t.lines||[t.text]}}function n(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++){for(var r=t[i],o={group:r.group,deltas:new Array(r.length)},s=0;s<r.deltas.length;s++){var a=r.deltas[s];o.deltas[s]=e(a)}n[i]=o}return n}this.execute=function(t){var e=t.args[0];this.$doc=t.args[1],t.merge&&this.hasUndo()&&(this.dirtyCounter--,e=this.$undoStack.pop().concat(e)),this.$undoStack.push(e),this.$redoStack=[],this.dirtyCounter<0&&(this.dirtyCounter=NaN),this.dirtyCounter++},this.undo=function(t){var e=this.$undoStack.pop(),n=null;return e&&(n=this.$doc.undoChanges(e,t),this.$redoStack.push(e),this.dirtyCounter--),n},this.redo=function(t){var e=this.$redoStack.pop(),n=null;return e&&(n=this.$doc.redoChanges(this.$deserializeDeltas(e),t),this.$undoStack.push(e),this.dirtyCounter++),n},this.reset=function(){this.$undoStack=[],this.$redoStack=[],this.dirtyCounter=0},this.hasUndo=function(){return this.$undoStack.length>0},this.hasRedo=function(){return this.$redoStack.length>0},this.markClean=function(){this.dirtyCounter=0},this.isClean=function(){return 0===this.dirtyCounter},this.$serializeDeltas=function(e){return n(e,t)},this.$deserializeDeltas=function(t){return n(t,e)}}).call(i.prototype),e.UndoManager=i}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],function(t,e,n){"use strict";var i=t("../lib/dom"),r=t("../lib/oop"),o=t("../lib/lang"),s=t("../lib/event_emitter").EventEmitter,a=function(t){this.element=i.createElement("div"),this.element.className="ace_layer ace_gutter-layer",t.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$cells=[]};(function(){r.implement(this,s),this.setSession=function(t){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=t,t&&t.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(t,e){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(t,e)},this.removeGutterDecoration=function(t,e){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(t,e)},this.setAnnotations=function(t){this.$annotations=[];for(var e=0;e<t.length;e++){var n=t[e],i=n.row,r=this.$annotations[i];r||(r=this.$annotations[i]={text:[]});var s=n.text;s=s?o.escapeHTML(s):n.html||"",-1===r.text.indexOf(s)&&r.text.push(s);var a=n.type;"error"==a?r.className=" ace_error":"warning"==a&&" ace_error"!=r.className?r.className=" ace_warning":"info"==a&&!r.className&&(r.className=" ace_info")}},this.$updateAnnotations=function(t){if(this.$annotations.length){var e=t.start.row,n=t.end.row-e;if(0!==n)if("remove"==t.action)this.$annotations.splice(e,n+1,null);else{var i=new Array(n+1);i.unshift(e,1),this.$annotations.splice.apply(this.$annotations,i)}}},this.update=function(t){for(var e=this.session,n=t.firstRow,r=Math.min(t.lastRow+t.gutterOffset,e.getLength()-1),o=e.getNextFoldLine(n),s=o?o.start.row:1/0,a=this.$showFoldWidgets&&e.foldWidgets,l=e.$breakpoints,u=e.$decorations,c=e.$firstLineNumber,h=0,d=e.gutterRenderer||this.$renderer,f=null,p=-1,g=n;;){if(g>s&&(g=o.end.row+1,o=e.getNextFoldLine(g,o),s=o?o.start.row:1/0),g>r){for(;this.$cells.length>p+1;)f=this.$cells.pop(),this.element.removeChild(f.element);break}f=this.$cells[++p],f||(f={element:null,textNode:null,foldWidget:null},f.element=i.createElement("div"),f.textNode=document.createTextNode(""),f.element.appendChild(f.textNode),this.element.appendChild(f.element),this.$cells[p]=f);var m="ace_gutter-cell ";l[g]&&(m+=l[g]),u[g]&&(m+=u[g]),this.$annotations[g]&&(m+=this.$annotations[g].className),f.element.className!=m&&(f.element.className=m);var v=e.getRowLength(g)*t.lineHeight+"px";if(v!=f.element.style.height&&(f.element.style.height=v),a){var y=a[g];null==y&&(y=a[g]=e.getFoldWidget(g))}if(y){f.foldWidget||(f.foldWidget=i.createElement("span"),f.element.appendChild(f.foldWidget));var m="ace_fold-widget ace_"+y;m+="start"==y&&g==s&&g<o.end.row?" ace_closed":" ace_open",f.foldWidget.className!=m&&(f.foldWidget.className=m);var v=t.lineHeight+"px";f.foldWidget.style.height!=v&&(f.foldWidget.style.height=v)}else f.foldWidget&&(f.element.removeChild(f.foldWidget),f.foldWidget=null);var b=h=d?d.getText(e,g):g+c;b!==f.textNode.data&&(f.textNode.data=b),g++}this.element.style.height=t.minHeight+"px",(this.$fixedWidth||e.$useWrapMode)&&(h=e.getLength()+c);var w=d?d.getWidth(e,h,t):h.toString().length*t.characterWidth,x=this.$padding||this.$computePadding();w+=x.left+x.right,w!==this.gutterWidth&&!isNaN(w)&&(this.gutterWidth=w,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",w))},this.$fixedWidth=!1,this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(t){this.$renderer=!t&&{getWidth:function(){return""},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(t){t?i.addCssClass(this.element,"ace_folding-enabled"):i.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=t,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var t=i.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(t.paddingLeft)+1||0,this.$padding.right=parseInt(t.paddingRight)||0,this.$padding},this.getRegion=function(t){var e=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return t.x<e.left+n.left?"markers":this.$showFoldWidgets&&t.x>n.right-e.right?"foldWidgets":void 0}}).call(a.prototype),e.Gutter=a}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(t,e,n){"use strict";var i=t("../range").Range,r=t("../lib/dom"),o=function(t){this.element=r.createElement("div"),this.element.className="ace_layer ace_marker-layer",t.appendChild(this.element)};(function(){function t(t,e,n,i){return(t?1:0)|(e?2:0)|(n?4:0)|(i?8:0)}this.$padding=0,this.setPadding=function(t){this.$padding=t},this.setSession=function(t){this.session=t},this.setMarkers=function(t){this.markers=t},this.update=function(t){if(t){this.config=t;var e=[];for(var n in this.markers){var i=this.markers[n];if(i.range){var r=i.range.clipRows(t.firstRow,t.lastRow);if(!r.isEmpty())if(r=r.toScreenRange(this.session),i.renderer){var o=this.$getTop(r.start.row,t),s=this.$padding+(this.session.$bidiHandler.isBidiRow(r.start.row)?this.session.$bidiHandler.getPosLeft(r.start.column):r.start.column*t.characterWidth);i.renderer(e,r,s,o,t)}else"fullLine"==i.type?this.drawFullLineMarker(e,r,i.clazz,t):"screenLine"==i.type?this.drawScreenLineMarker(e,r,i.clazz,t):r.isMultiLine()?"text"==i.type?this.drawTextMarker(e,r,i.clazz,t):this.drawMultiLineMarker(e,r,i.clazz,t):this.session.$bidiHandler.isBidiRow(r.start.row)?this.drawBidiSingleLineMarker(e,r,i.clazz+" ace_start ace_br15",t):this.drawSingleLineMarker(e,r,i.clazz+" ace_start ace_br15",t)}else i.update(e,this,this.session,t)}this.element.innerHTML=e.join("")}},this.$getTop=function(t,e){return(t-e.firstRowScreen)*e.lineHeight},this.drawTextMarker=function(e,n,r,o,s){for(var a=this.session,l=n.start.row,u=n.end.row,c=l,h=0,d=0,f=a.getScreenLastRowColumn(c),p=null,g=new i(c,n.start.column,c,d);u>=c;c++)g.start.row=g.end.row=c,g.start.column=c==l?n.start.column:a.getRowWrapIndent(c),g.end.column=f,h=d,d=f,f=u>c+1?a.getScreenLastRowColumn(c+1):c==u?0:n.end.column,p=r+(c==l?" ace_start":"")+" ace_br"+t(c==l||c==l+1&&n.start.column,d>h,d>f,c==u),this.session.$bidiHandler.isBidiRow(c)?this.drawBidiSingleLineMarker(e,g,p,o,c==u?0:1,s):this.drawSingleLineMarker(e,g,p,o,c==u?0:1,s)},this.drawMultiLineMarker=function(t,e,n,i,r){var o,s,a,l=this.$padding;if(r=r||"",this.session.$bidiHandler.isBidiRow(e.start.row)){var u=e.clone();u.end.row=u.start.row,u.end.column=this.session.getLine(u.start.row).length,this.drawBidiSingleLineMarker(t,u,n+" ace_br1 ace_start",i,null,r)}else o=i.lineHeight,s=this.$getTop(e.start.row,i),a=l+e.start.column*i.characterWidth,t.push("<div class='",n," ace_br1 ace_start' style='","height:",o,"px;","right:0;","top:",s,"px;","left:",a,"px;",r,"'></div>");if(this.session.$bidiHandler.isBidiRow(e.end.row)){var u=e.clone();u.start.row=u.end.row,u.start.column=0,this.drawBidiSingleLineMarker(t,u,n+" ace_br12",i,null,r)}else{var c=e.end.column*i.characterWidth;o=i.lineHeight,s=this.$getTop(e.end.row,i),t.push("<div class='",n," ace_br12' style='","height:",o,"px;","width:",c,"px;","top:",s,"px;","left:",l,"px;",r,"'></div>")}if(o=(e.end.row-e.start.row-1)*i.lineHeight,!(0>=o)){s=this.$getTop(e.start.row+1,i);var h=(e.start.column?1:0)|(e.end.column?0:8);t.push("<div class='",n,h?" ace_br"+h:"","' style='","height:",o,"px;","right:0;","top:",s,"px;","left:",l,"px;",r,"'></div>")}},this.drawSingleLineMarker=function(t,e,n,i,r,o){var s=i.lineHeight,a=(e.end.column+(r||0)-e.start.column)*i.characterWidth,l=this.$getTop(e.start.row,i),u=this.$padding+e.start.column*i.characterWidth;t.push("<div class='",n,"' style='","height:",s,"px;","width:",a,"px;","top:",l,"px;","left:",u,"px;",o||"","'></div>")},this.drawBidiSingleLineMarker=function(t,e,n,i,r,o){var s=i.lineHeight,a=this.$getTop(e.start.row,i),l=this.$padding,u=this.session.$bidiHandler.getSelections(e.start.column,e.end.column);u.forEach(function(e){t.push("<div class='",n,"' style='","height:",s,"px;","width:",e.width+(r||0),"px;","top:",a,"px;","left:",l+e.left,"px;",o||"","'></div>")})},this.drawFullLineMarker=function(t,e,n,i,r){var o=this.$getTop(e.start.row,i),s=i.lineHeight;e.start.row!=e.end.row&&(s+=this.$getTop(e.end.row,i)-o),t.push("<div class='",n,"' style='","height:",s,"px;","top:",o,"px;","left:0;right:0;",r||"","'></div>")},this.drawScreenLineMarker=function(t,e,n,i,r){var o=this.$getTop(e.start.row,i),s=i.lineHeight;t.push("<div class='",n,"' style='","height:",s,"px;","top:",o,"px;","left:0;right:0;",r||"","'></div>")}}).call(o.prototype),e.Marker=o}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(t,e,n){"use strict";var i=t("../lib/oop"),r=t("../lib/dom"),o=t("../lib/lang"),s=(t("../lib/useragent"),t("../lib/event_emitter").EventEmitter),a=function(t){this.element=r.createElement("div"),this.element.className="ace_layer ace_text-layer",t.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){i.implement(this,s),this.EOF_CHAR="",this.EOL_CHAR_LF="",this.EOL_CHAR_CRLF="",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="",this.SPACE_CHAR="",this.$padding=0,this.$updateEolChar=function(){var t="\n"==this.session.doc.getNewLineCharacter()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;return this.EOL_CHAR!=t?(this.EOL_CHAR=t,!0):void 0},this.setPadding=function(t){this.$padding=t,this.element.style.padding="0 "+t+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(t){this.$fontMetrics=t,this.$fontMetrics.on("changeCharacterSize",function(t){this._signal("changeCharacterSize",t)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(t){this.session=t,t&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(t){return this.showInvisibles==t?!1:(this.showInvisibles=t,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(t){return this.displayIndentGuides==t?!1:(this.displayIndentGuides=t,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var t=this.session.getTabSize();this.tabSize=t;for(var e=this.$tabStrings=[0],n=1;t+1>n;n++)this.showInvisibles?e.push("<span class='ace_invisible ace_invisible_tab'>"+o.stringRepeat(this.TAB_CHAR,n)+"</span>"):e.push(o.stringRepeat(" ",n));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var i="ace_indent-guide",r="",s="";if(this.showInvisibles){i+=" ace_invisible",r=" ace_invisible_space",s=" ace_invisible_tab";var a=o.stringRepeat(this.SPACE_CHAR,this.tabSize),l=o.stringRepeat(this.TAB_CHAR,this.tabSize)}else var a=o.stringRepeat(" ",this.tabSize),l=a;this.$tabStrings[" "]="<span class='"+i+r+"'>"+a+"</span>",this.$tabStrings["	"]="<span class='"+i+s+"'>"+l+"</span>"}},this.updateLines=function(t,e,n){(this.config.lastRow!=t.lastRow||this.config.firstRow!=t.firstRow)&&this.scrollLines(t),this.config=t;for(var i=Math.max(e,t.firstRow),r=Math.min(n,t.lastRow),o=this.element.childNodes,s=0,a=t.firstRow;i>a;a++){var l=this.session.getFoldLine(a);if(l){if(l.containsRow(i)){i=l.start.row;break}a=l.end.row}s++}for(var a=i,l=this.session.getNextFoldLine(a),u=l?l.start.row:1/0;a>u&&(a=l.end.row+1,l=this.session.getNextFoldLine(a,l),u=l?l.start.row:1/0),!(a>r);){var c=o[s++];if(c){var h=[];this.$renderLine(h,a,!this.$useLineGroups(),a==u?l:!1),c.style.height=t.lineHeight*this.session.getRowLength(a)+"px",c.innerHTML=h.join("")}a++}},this.scrollLines=function(t){var e=this.config;if(this.config=t,!e||e.lastRow<t.firstRow)return this.update(t);if(t.lastRow<e.firstRow)return this.update(t);var n=this.element;if(e.firstRow<t.firstRow)for(var i=this.session.getFoldedRowCount(e.firstRow,t.firstRow-1);i>0;i--)n.removeChild(n.firstChild);if(e.lastRow>t.lastRow)for(var i=this.session.getFoldedRowCount(t.lastRow+1,e.lastRow);i>0;i--)n.removeChild(n.lastChild);if(t.firstRow<e.firstRow){var r=this.$renderLinesFragment(t,t.firstRow,e.firstRow-1);n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r)}if(t.lastRow>e.lastRow){var r=this.$renderLinesFragment(t,e.lastRow+1,t.lastRow);n.appendChild(r)}},this.$renderLinesFragment=function(t,e,n){for(var i=this.element.ownerDocument.createDocumentFragment(),o=e,s=this.session.getNextFoldLine(o),a=s?s.start.row:1/0;o>a&&(o=s.end.row+1,s=this.session.getNextFoldLine(o,s),a=s?s.start.row:1/0),!(o>n);){var l=r.createElement("div"),u=[];if(this.$renderLine(u,o,!1,o==a?s:!1),l.innerHTML=u.join(""),this.$useLineGroups())l.className="ace_line_group",i.appendChild(l),l.style.height=t.lineHeight*this.session.getRowLength(o)+"px";else for(;l.firstChild;)i.appendChild(l.firstChild);o++}return i},this.update=function(t){this.config=t;for(var e=[],n=t.firstRow,i=t.lastRow,r=n,o=this.session.getNextFoldLine(r),s=o?o.start.row:1/0;r>s&&(r=o.end.row+1,o=this.session.getNextFoldLine(r,o),s=o?o.start.row:1/0),!(r>i);)this.$useLineGroups()&&e.push("<div class='ace_line_group' style='height:",t.lineHeight*this.session.getRowLength(r),"px'>"),this.$renderLine(e,r,!1,r==s?o:!1),this.$useLineGroups()&&e.push("</div>"),r++;this.element.innerHTML=e.join("")},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(t,e,n,i){var r=this,s=/\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,a=function(t,n,i,s,a){if(n)return r.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+o.stringRepeat(r.SPACE_CHAR,t.length)+"</span>":t;if("&"==t)return"&#38;";if("<"==t)return"&#60;";if(">"==t)return"&#62;";if("	"==t){var l=r.session.getScreenTabSize(e+s);return e+=l-1,r.$tabStrings[l]}if(""==t){var u=r.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",c=r.showInvisibles?r.SPACE_CHAR:"";return e+=1,"<span class='"+u+"' style='width:"+2*r.config.characterWidth+"px'>"+c+"</span>"}return i?"<span class='ace_invisible ace_invisible_space ace_invalid'>"+r.SPACE_CHAR+"</span>":(e+=1,"<span class='ace_cjk' style='width:"+2*r.config.characterWidth+"px'>"+t+"</span>")},l=i.replace(s,a);if(this.$textToken[n.type])t.push(l);else{var u="ace_"+n.type.replace(/\./g," ace_"),c="";"fold"==n.type&&(c=" style='width:"+n.value.length*this.config.characterWidth+"px;' "),t.push("<span class='",u,"'",c,">",l,"</span>")}return e+i.length},this.renderIndentGuide=function(t,e,n){var i=e.search(this.$indentGuideRe);return 0>=i||i>=n?e:" "==e[0]?(i-=i%this.tabSize,t.push(o.stringRepeat(this.$tabStrings[" "],i/this.tabSize)),e.substr(i)):"	"==e[0]?(t.push(o.stringRepeat(this.$tabStrings["	"],i)),e.substr(i)):e},this.$renderWrappedLine=function(t,e,n,i){for(var r=0,s=0,a=n[0],l=0,u=0;u<e.length;u++){var c=e[u],h=c.value;if(0==u&&this.displayIndentGuides){if(r=h.length,h=this.renderIndentGuide(t,h,a),!h)continue;r-=h.length}if(r+h.length<a)l=this.$renderToken(t,l,c,h),r+=h.length;else{for(;r+h.length>=a;)l=this.$renderToken(t,l,c,h.substring(0,a-r)),h=h.substring(a-r),r=a,i||t.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),t.push(o.stringRepeat("",n.indent)),s++,l=0,a=n[s]||Number.MAX_VALUE;0!=h.length&&(r+=h.length,l=this.$renderToken(t,l,c,h))}}},this.$renderSimpleLine=function(t,e){var n=0,i=e[0],r=i.value;this.displayIndentGuides&&(r=this.renderIndentGuide(t,r)),r&&(n=this.$renderToken(t,n,i,r));for(var o=1;o<e.length;o++)i=e[o],r=i.value,n=this.$renderToken(t,n,i,r)},this.$renderLine=function(t,e,n,i){if(!i&&0!=i&&(i=this.session.getFoldLine(e)),i)var r=this.$getFoldLineTokens(e,i);else var r=this.session.getTokens(e);if(n||t.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(e)),"px'>"),r.length){var o=this.session.getRowSplitData(e);o&&o.length?this.$renderWrappedLine(t,r,o,n):this.$renderSimpleLine(t,r)}this.showInvisibles&&(i&&(e=i.end.row),t.push("<span class='ace_invisible ace_invisible_eol'>",e==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>")),n||t.push("</div>")},this.$getFoldLineTokens=function(t,e){function n(t,e,n){for(var i=0,o=0;o+t[i].value.length<e;)if(o+=t[i].value.length,i++,i==t.length)return;if(o!=e){var s=t[i].value.substring(e-o);s.length>n-e&&(s=s.substring(0,n-e)),r.push({type:t[i].type,value:s}),o=e+s.length,i+=1}for(;n>o&&i<t.length;){var s=t[i].value;s.length+o>n?r.push({type:t[i].type,value:s.substring(0,n-o)}):r.push(t[i]),o+=s.length,i+=1}}var i=this.session,r=[],o=i.getTokens(t);return e.walk(function(t,e,s,a,l){null!=t?r.push({type:"fold",value:t}):(l&&(o=i.getTokens(e)),o.length&&n(o,a,s))},e.end.row,this.session.getLine(e.end.row).length),r},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}).call(a.prototype),e.Text=a}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(t,e,n){"use strict";var i,r=t("../lib/dom"),o=function(t){this.element=r.createElement("div"),this.element.className="ace_layer ace_cursor-layer",t.appendChild(this.element),void 0===i&&(i=!("opacity"in this.element.style)),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),r.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=(i?this.$updateVisibility:this.$updateOpacity).bind(this);
};(function(){this.$updateVisibility=function(t){for(var e=this.cursors,n=e.length;n--;)e[n].style.visibility=t?"":"hidden"},this.$updateOpacity=function(t){for(var e=this.cursors,n=e.length;n--;)e[n].style.opacity=t?"":"0"},this.$padding=0,this.setPadding=function(t){this.$padding=t},this.setSession=function(t){this.session=t},this.setBlinking=function(t){t!=this.isBlinking&&(this.isBlinking=t,this.restartTimer())},this.setBlinkInterval=function(t){t!=this.blinkInterval&&(this.blinkInterval=t,this.restartTimer())},this.setSmoothBlinking=function(t){t!=this.smoothBlinking&&!i&&(this.smoothBlinking=t,r.setCssClass(this.element,"ace_smooth-blinking",t),this.$updateCursors(!0),this.$updateCursors=this.$updateOpacity.bind(this),this.restartTimer())},this.addCursor=function(){var t=r.createElement("div");return t.className="ace_cursor",this.element.appendChild(t),this.cursors.push(t),t},this.removeCursor=function(){if(this.cursors.length>1){var t=this.cursors.pop();return t.parentNode.removeChild(t),t}},this.hideCursor=function(){this.isVisible=!1,r.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,r.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var t=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.smoothBlinking&&r.removeCssClass(this.element,"ace_smooth-blinking"),t(!0),this.isBlinking&&this.blinkInterval&&this.isVisible){this.smoothBlinking&&setTimeout(function(){r.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var e=function(){this.timeoutId=setTimeout(function(){t(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){t(!0),e()},this.blinkInterval),e()}},this.getPixelPosition=function(t,e){if(!this.config||!this.session)return{left:0,top:0};t||(t=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(t),i=this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,t.row)?this.session.$bidiHandler.getPosLeft(n.column):n.column*this.config.characterWidth),r=(n.row-(e?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:i,top:r}},this.update=function(t){this.config=t;var e=this.session.$selectionMarkers,n=0,i=0;(void 0===e||0===e.length)&&(e=[{cursor:null}]);for(var n=0,r=e.length;r>n;n++){var o=this.getPixelPosition(e[n].cursor,!0);if(!((o.top>t.height+t.offset||o.top<0)&&n>1)){var s=(this.cursors[i++]||this.addCursor()).style;this.drawCursor?this.drawCursor(s,o,t,e[n],this.session):(s.left=o.left+"px",s.top=o.top+"px",s.width=t.characterWidth+"px",s.height=t.lineHeight+"px")}}for(;this.cursors.length>i;)this.removeCursor();var a=this.session.getOverwrite();this.$setOverwrite(a),this.$pixelPos=o,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(t){t!=this.overwrite&&(this.overwrite=t,t?r.addCssClass(this.element,"ace_overwrite-cursors"):r.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(o.prototype),e.Cursor=o}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(t,e,n){"use strict";var i=t("./lib/oop"),r=t("./lib/dom"),o=t("./lib/event"),s=t("./lib/event_emitter").EventEmitter,a=32768,l=function(t){this.element=r.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=r.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),t.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addListener(this.element,"scroll",this.onScroll.bind(this)),o.addListener(this.element,"mousedown",o.preventDefault)};(function(){i.implement(this,s),this.setVisible=function(t){this.element.style.display=t?"":"none",this.isVisible=t,this.coeff=1}}).call(l.prototype);var u=function(t,e){l.call(this,t),this.scrollTop=0,this.scrollHeight=0,e.$scrollbarWidth=this.width=r.scrollbarWidth(t.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};i.inherits(u,l),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var t=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-t)/(this.coeff-t)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(t){this.element.style.height=t+"px"},this.setInnerHeight=this.setScrollHeight=function(t){this.scrollHeight=t,t>a?(this.coeff=a/t,t=a):1!=this.coeff&&(this.coeff=1),this.inner.style.height=t+"px"},this.setScrollTop=function(t){this.scrollTop!=t&&(this.skipEvent=!0,this.scrollTop=t,this.element.scrollTop=t*this.coeff)}}.call(u.prototype);var c=function(t,e){l.call(this,t),this.scrollLeft=0,this.height=e.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};i.inherits(c,l),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(t){this.element.style.width=t+"px"},this.setInnerWidth=function(t){this.inner.style.width=t+"px"},this.setScrollWidth=function(t){this.inner.style.width=t+"px"},this.setScrollLeft=function(t){this.scrollLeft!=t&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=t)}}.call(c.prototype),e.ScrollBar=u,e.ScrollBarV=u,e.ScrollBarH=c,e.VScrollBar=u,e.HScrollBar=c}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(t,e,n){"use strict";var i=t("./lib/event"),r=function(t,e){this.onRender=t,this.pending=!1,this.changes=0,this.window=e||window};(function(){this.schedule=function(t){if(this.changes=this.changes|t,!this.pending&&this.changes){this.pending=!0;var e=this;i.nextFrame(function(){e.pending=!1;for(var t;t=e.changes;)e.changes=0,e.onRender(t)},this.window)}}}).call(r.prototype),e.RenderLoop=r}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(t,e,n){var i=t("../lib/oop"),r=t("../lib/dom"),o=t("../lib/lang"),s=t("../lib/useragent"),a=t("../lib/event_emitter").EventEmitter,l=0,u=e.FontMetrics=function(t){this.el=r.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=r.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=r.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),t.appendChild(this.el),l||this.$testFractionalRect(),this.$measureNode.innerHTML=o.stringRepeat("X",l),this.$characterSize={width:0,height:0},this.checkForSizeChanges()};(function(){i.implement(this,a),this.$characterSize={width:0,height:0},this.$testFractionalRect=function(){var t=r.createElement("div");this.$setMeasureNodeStyles(t.style),t.style.width="0.2px",document.documentElement.appendChild(t);var e=t.getBoundingClientRect().width;l=e>0&&1>e?50:100,t.parentNode.removeChild(t)},this.$setMeasureNodeStyles=function(t,e){t.width=t.height="auto",t.left=t.top="0px",t.visibility="hidden",t.position="absolute",t.whiteSpace="pre",s.isIE<8?t["font-family"]="inherit":t.font="inherit",t.overflow=e?"hidden":"visible"},this.checkForSizeChanges=function(){var t=this.$measureSizes();if(t&&(this.$characterSize.width!==t.width||this.$characterSize.height!==t.height)){this.$measureNode.style.fontWeight="bold";var e=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=t,this.charSizes=Object.create(null),this.allowBoldFonts=e&&e.width===t.width&&e.height===t.height,this._emit("changeCharacterSize",{data:t})}},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var t=this;return this.$pollSizeChangesTimer=setInterval(function(){t.checkForSizeChanges()},500)},this.setPolling=function(t){t?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(){if(50===l){var t=null;try{t=this.$measureNode.getBoundingClientRect()}catch(e){t={width:0,height:0}}var n={height:t.height,width:t.width/l}}else var n={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/l};return 0===n.width||0===n.height?null:n},this.$measureCharWidth=function(t){this.$main.innerHTML=o.stringRepeat(t,l);var e=this.$main.getBoundingClientRect();return e.width/l},this.getCharacterWidth=function(t){var e=this.charSizes[t];return void 0===e&&(e=this.charSizes[t]=this.$measureCharWidth(t)/this.$characterSize.width),e},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}).call(u.prototype)}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/lib/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter"],function(t,e,n){"use strict";var i=t("./lib/oop"),r=t("./lib/dom"),o=t("./config"),s=t("./lib/useragent"),a=t("./layer/gutter").Gutter,l=t("./layer/marker").Marker,u=t("./layer/text").Text,c=t("./layer/cursor").Cursor,h=t("./scrollbar").HScrollBar,d=t("./scrollbar").VScrollBar,f=t("./renderloop").RenderLoop,p=t("./layer/font_metrics").FontMetrics,g=t("./lib/event_emitter").EventEmitter,m='.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_text-input-ios {position: absolute !important;top: -100000px !important;left: -100000px !important;}';r.importCssString(m,"ace_editor.css");var v=function(t,e){var n=this;this.container=t||r.createElement("div"),this.$keepTextAreaAtCursor=!s.isOldIE,r.addCssClass(this.container,"ace_editor"),this.setTheme(e),this.$gutter=r.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=r.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=r.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new a(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new l(this.content);var i=this.$textLayer=new u(this.content);this.canvas=i.element,this.$markerFront=new l(this.content),this.$cursorLayer=new c(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new d(this.container,this),this.scrollBarH=new h(this.container,this),this.scrollBarV.addEventListener("scroll",function(t){n.$scrollAnimation||n.session.setScrollTop(t.data-n.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(t){n.$scrollAnimation||n.session.setScrollLeft(t.data-n.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new p(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",function(t){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",t)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$loop=new f(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),o.resetOptions(this),o._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,i.implement(this,g),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(t){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=t,t&&this.scrollMargin.top&&t.getScrollTop()<=0&&t.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(t),this.$markerBack.setSession(t),this.$markerFront.setSession(t),this.$gutterLayer.setSession(t),this.$textLayer.setSession(t),t&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(t,e,n){if(void 0===e&&(e=1/0),this.$changedLines?(this.$changedLines.firstRow>t&&(this.$changedLines.firstRow=t),this.$changedLines.lastRow<e&&(this.$changedLines.lastRow=e)):this.$changedLines={firstRow:t,lastRow:e},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(t){t?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(t,e,n,i){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=t?1:0;var r=this.container;i||(i=r.clientHeight||r.scrollHeight),n||(n=r.clientWidth||r.scrollWidth);var o=this.$updateCachedSize(t,e,n,i);return this.$size.scrollerHeight&&(n||i)?(t&&(this.$gutterLayer.$padding=null),t?this.$renderChanges(o|this.$changes,!0):this.$loop.schedule(o|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null,void 0):this.resizing=0}},this.$updateCachedSize=function(t,e,n,i){i-=this.$extraHeight||0;var r=0,o=this.$size,s={width:o.width,height:o.height,scrollerHeight:o.scrollerHeight,scrollerWidth:o.scrollerWidth};return i&&(t||o.height!=i)&&(o.height=i,r|=this.CHANGE_SIZE,o.scrollerHeight=o.height,this.$horizScroll&&(o.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",r|=this.CHANGE_SCROLL),n&&(t||o.width!=n)&&(r|=this.CHANGE_SIZE,o.width=n,null==e&&(e=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=e,this.scrollBarH.element.style.left=this.scroller.style.left=e+"px",o.scrollerWidth=Math.max(0,n-e-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||t)&&(r|=this.CHANGE_FULL)),o.$dirty=!n||!i,r&&this._signal("resize",s),r},this.onGutterResize=function(){var t=this.$showGutter?this.$gutter.offsetWidth:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))},this.adjustWrapLimit=function(){var t=this.$size.scrollerWidth-2*this.$padding,e=Math.floor(t/this.characterWidth);return this.session.adjustWrapLimit(e,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(t){this.setOption("animatedScroll",t)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(t){this.setOption("showInvisibles",t),this.session.$bidiHandler.setShowInvisibles(t)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(t){this.setOption("displayIndentGuides",t)},this.setShowPrintMargin=function(t){this.setOption("showPrintMargin",t)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(t){this.setOption("printMarginColumn",t)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(t){return this.setOption("showGutter",t)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(t){this.setOption("fadeFoldWidgets",t)},this.setHighlightGutterLine=function(t){this.setOption("highlightGutterLine",t)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updateGutterLineHighlight=function(){var t=this.$cursorLayer.$pixelPos,e=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var n=this.session.selection.getCursor();n.column=0,t=this.$cursorLayer.getPixelPosition(n,!0),e*=this.session.getRowLength(n.row)}this.$gutterLineHighlight.style.top=t.top-this.layerConfig.offset+"px",this.$gutterLineHighlight.style.height=e+"px"},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var t=r.createElement("div");t.className="ace_layer ace_print-margin-layer",this.$printMarginEl=r.createElement("div"),this.$printMarginEl.className="ace_print-margin",t.appendChild(this.$printMarginEl),this.content.insertBefore(t,this.content.firstChild)}var e=this.$printMarginEl.style;e.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",e.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var t=this.layerConfig,e=this.$cursorLayer.$pixelPos.top,n=this.$cursorLayer.$pixelPos.left;e-=t.offset;var i=this.textarea.style,r=this.lineHeight;if(0>e||e>t.height-r)return void(i.top=i.left="0");var o=this.characterWidth;if(this.$composition){var s=this.textarea.value.replace(/^\x01+/,"");o*=this.session.$getStringScreenWidth(s)[0]+2,r+=2}n-=this.scrollLeft,n>this.$size.scrollerWidth-o&&(n=this.$size.scrollerWidth-o),n+=this.gutterWidth,i.height=r+"px",i.width=o+"px",i.left=Math.min(n,this.$size.scrollerWidth-o)+"px",i.top=Math.min(e,this.$size.height-r)+"px"}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var t=this.layerConfig,e=t.lastRow,n=this.session.documentToScreenRow(e,0)*t.lineHeight;
return n-this.session.getScrollTop()>t.height-t.lineHeight?e-1:e},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(t){this.$padding=t,this.$textLayer.setPadding(t),this.$cursorLayer.setPadding(t),this.$markerFront.setPadding(t),this.$markerBack.setPadding(t),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(t,e,n,i){var r=this.scrollMargin;r.top=0|t,r.bottom=0|e,r.right=0|i,r.left=0|n,r.v=r.top+r.bottom,r.h=r.left+r.right,r.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-r.top),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(t){this.setOption("hScrollBarAlwaysVisible",t)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(t){this.setOption("vScrollBarAlwaysVisible",t)},this.$updateScrollBarV=function(){var t=this.layerConfig.maxHeight,e=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(t-=(e-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>t-e&&(t=this.scrollTop+e,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(t+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(t,e){if(this.$changes&&(t|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!t&&!e)return void(this.$changes|=t);if(this.$size.$dirty)return this.$changes|=t,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender"),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var n=this.layerConfig;if(t&this.CHANGE_FULL||t&this.CHANGE_SIZE||t&this.CHANGE_TEXT||t&this.CHANGE_LINES||t&this.CHANGE_SCROLL||t&this.CHANGE_H_SCROLL){if(t|=this.$computeLayerConfig(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var i=this.scrollTop+(n.firstRow-this.layerConfig.firstRow)*this.lineHeight;i>0&&(this.scrollTop=i,t|=this.CHANGE_SCROLL,t|=this.$computeLayerConfig())}n=this.layerConfig,this.$updateScrollBarV(),t&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-n.offset+"px",this.content.style.marginTop=-n.offset+"px",this.content.style.width=n.width+2*this.$padding+"px",this.content.style.height=n.minHeight+"px"}return t&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),t&this.CHANGE_FULL?(this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this._signal("afterRender"),void 0):t&this.CHANGE_SCROLL?(t&this.CHANGE_TEXT||t&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this.$moveTextAreaToCursor(),this._signal("afterRender"),void 0):(t&this.CHANGE_TEXT?(this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n)):t&this.CHANGE_LINES?(this.$updateLines()||t&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n):(t&this.CHANGE_TEXT||t&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(n),t&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),t&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),t&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),this._signal("afterRender"),void 0)},this.$autosize=function(){var t=this.session.getScreenLength()*this.lineHeight,e=this.$maxLines*this.lineHeight,n=Math.min(e,Math.max((this.$minLines||1)*this.lineHeight,t))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);var i=t>e;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||i!=this.$vScroll){i!=this.$vScroll&&(this.$vScroll=i,this.scrollBarV.setVisible(i));var r=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,r,n),this.desiredHeight=n,this._signal("autosize")}},this.$computeLayerConfig=function(){var t=this.session,e=this.$size,n=e.height<=2*this.lineHeight,i=this.session.getScreenLength(),r=i*this.lineHeight,o=this.$getLongestLine(),s=!n&&(this.$hScrollBarAlwaysVisible||e.scrollerWidth-o-2*this.$padding<0),a=this.$horizScroll!==s;a&&(this.$horizScroll=s,this.scrollBarH.setVisible(s));var l=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var u=this.scrollTop%this.lineHeight,c=e.scrollerHeight+this.lineHeight,h=!this.$maxLines&&this.$scrollPastEnd?(e.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;r+=h;var d=this.scrollMargin;this.session.setScrollTop(Math.max(-d.top,Math.min(this.scrollTop,r-e.scrollerHeight+d.bottom))),this.session.setScrollLeft(Math.max(-d.left,Math.min(this.scrollLeft,o+2*this.$padding-e.scrollerWidth+d.right)));var f=!n&&(this.$vScrollBarAlwaysVisible||e.scrollerHeight-r+h<0||this.scrollTop>d.top),p=l!==f;p&&(this.$vScroll=f,this.scrollBarV.setVisible(f));var g,m,v=Math.ceil(c/this.lineHeight)-1,y=Math.max(0,Math.round((this.scrollTop-u)/this.lineHeight)),b=y+v,w=this.lineHeight;y=t.screenToDocumentRow(y,0);var x=t.getFoldLine(y);x&&(y=x.start.row),g=t.documentToScreenRow(y,0),m=t.getRowLength(y)*w,b=Math.min(t.screenToDocumentRow(b,0),t.getLength()-1),c=e.scrollerHeight+t.getRowLength(b)*w+m,u=this.scrollTop-g*w;var _=0;return this.layerConfig.width!=o&&(_=this.CHANGE_H_SCROLL),(a||p)&&(_=this.$updateCachedSize(!0,this.gutterWidth,e.width,e.height),this._signal("scrollbarVisibilityChanged"),p&&(o=this.$getLongestLine())),this.layerConfig={width:o,padding:this.$padding,firstRow:y,firstRowScreen:g,lastRow:b,lineHeight:w,characterWidth:this.characterWidth,minHeight:c,maxHeight:r,offset:u,gutterOffset:w?Math.max(0,Math.ceil((u+e.height-e.scrollerHeight)/w)):0,height:this.$size.scrollerHeight},_},this.$updateLines=function(){if(this.$changedLines){var t=this.$changedLines.firstRow,e=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(!(t>n.lastRow+1||e<n.firstRow))return e===1/0?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,t,e),!0)}},this.$getLongestLine=function(){var t=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(t+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(t*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(t,e){this.$gutterLayer.addGutterDecoration(t,e)},this.removeGutterDecoration=function(t,e){this.$gutterLayer.removeGutterDecoration(t,e)},this.updateBreakpoints=function(t){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(t){this.$gutterLayer.setAnnotations(t),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(t,e,n){this.scrollCursorIntoView(t,n),this.scrollCursorIntoView(e,n)},this.scrollCursorIntoView=function(t,e,n){if(0!==this.$size.scrollerHeight){var i=this.$cursorLayer.getPixelPosition(t),r=i.left,o=i.top,s=n&&n.top||0,a=n&&n.bottom||0,l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+s>o?(e&&l+s>o+this.lineHeight&&(o-=e*this.$size.scrollerHeight),0===o&&(o=-this.scrollMargin.top),this.session.setScrollTop(o)):l+this.$size.scrollerHeight-a<o+this.lineHeight&&(e&&l+this.$size.scrollerHeight-a<o-this.lineHeight&&(o+=e*this.$size.scrollerHeight),this.session.setScrollTop(o+this.lineHeight-this.$size.scrollerHeight));var u=this.scrollLeft;u>r?(r<this.$padding+2*this.layerConfig.characterWidth&&(r=-this.scrollMargin.left),this.session.setScrollLeft(r)):u+this.$size.scrollerWidth<r+this.characterWidth?this.session.setScrollLeft(Math.round(r+this.characterWidth-this.$size.scrollerWidth)):u<=this.$padding&&r-u<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(t){this.session.setScrollTop(t*this.lineHeight)},this.alignCursor=function(t,e){"number"==typeof t&&(t={row:t,column:0});var n=this.$cursorLayer.getPixelPosition(t),i=this.$size.scrollerHeight-this.lineHeight,r=n.top-i*(e||0);return this.session.setScrollTop(r),r},this.STEPS=8,this.$calcSteps=function(t,e){var n=0,i=this.STEPS,r=[],o=function(t,e,n){return n*(Math.pow(t-1,3)+1)+e};for(n=0;i>n;++n)r.push(o(n/this.STEPS,t,e-t));return r},this.scrollToLine=function(t,e,n,i){var r=this.$cursorLayer.getPixelPosition({row:t,column:0}),o=r.top;e&&(o-=this.$size.scrollerHeight/2);var s=this.scrollTop;this.session.setScrollTop(o),n!==!1&&this.animateScrolling(s,i)},this.animateScrolling=function(t,e){var n=this.scrollTop;if(this.$animatedScroll){var i=this;if(t!=n){if(this.$scrollAnimation){var r=this.$scrollAnimation.steps;if(r.length&&(t=r[0],t==n))return}var o=i.$calcSteps(t,n);this.$scrollAnimation={from:t,to:n,steps:o},clearInterval(this.$timer),i.session.setScrollTop(o.shift()),i.session.$scrollTop=n,this.$timer=setInterval(function(){o.length?(i.session.setScrollTop(o.shift()),i.session.$scrollTop=n):null!=n?(i.session.$scrollTop=-1,i.session.setScrollTop(n),n=null):(i.$timer=clearInterval(i.$timer),i.$scrollAnimation=null,e&&e())},10)}}},this.scrollToY=function(t){this.scrollTop!==t&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=t)},this.scrollToX=function(t){this.scrollLeft!==t&&(this.scrollLeft=t),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(t,e){this.session.setScrollTop(e),this.session.setScrollLeft(e)},this.scrollBy=function(t,e){e&&this.session.setScrollTop(this.session.getScrollTop()+e),t&&this.session.setScrollLeft(this.session.getScrollLeft()+t)},this.isScrollableBy=function(t,e){return 0>e&&this.session.getScrollTop()>=1-this.scrollMargin.top?!0:e>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom?!0:0>t&&this.session.getScrollLeft()>=1-this.scrollMargin.left?!0:t>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right?!0:void 0},this.pixelToScreenCoordinates=function(t,e){var n=this.scroller.getBoundingClientRect(),i=t+this.scrollLeft-n.left-this.$padding,r=i/this.characterWidth,o=Math.floor((e+this.scrollTop-n.top)/this.lineHeight),s=Math.round(r);return{row:o,column:s,side:r-s>0?1:-1,offsetX:i}},this.screenToTextCoordinates=function(t,e){var n=this.scroller.getBoundingClientRect(),i=t+this.scrollLeft-n.left-this.$padding,r=Math.round(i/this.characterWidth),o=(e+this.scrollTop-n.top)/this.lineHeight;return this.session.screenToDocumentPosition(o,Math.max(r,0),i)},this.textToScreenCoordinates=function(t,e){var n=this.scroller.getBoundingClientRect(),i=this.session.documentToScreenPosition(t,e),r=this.$padding+(this.session.$bidiHandler.isBidiRow(i.row,t)?this.session.$bidiHandler.getPosLeft(i.column):Math.round(i.column*this.characterWidth)),o=i.row*this.lineHeight;return{pageX:n.left+r-this.scrollLeft,pageY:n.top+o-this.scrollTop}},this.visualizeFocus=function(){r.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){r.removeCssClass(this.container,"ace_focus")},this.showComposition=function(t){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,r.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor()},this.setCompositionText=function(t){this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(r.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)},this.setTheme=function(t,e){function n(n){if(i.$themeId!=t)return e&&e();if(!n||!n.cssClass)throw new Error("couldn't load module "+t+" or it didn't call define");r.importCssString(n.cssText,n.cssClass,i.container.ownerDocument),i.theme&&r.removeCssClass(i.container,i.theme.cssClass);var o="padding"in n?n.padding:"padding"in(i.theme||{})?4:i.$padding;i.$padding&&o!=i.$padding&&i.setPadding(o),i.$theme=n.cssClass,i.theme=n,r.addCssClass(i.container,n.cssClass),r.setCssClass(i.container,"ace_dark",n.isDark),i.$size&&(i.$size.width=0,i.$updateSizeAsync()),i._dispatchEvent("themeLoaded",{theme:n}),e&&e()}var i=this;if(this.$themeId=t,i._dispatchEvent("themeChange",{theme:t}),t&&"string"!=typeof t)n(t);else{var s=t||this.$options.theme.initialValue;o.loadModule(["theme",s],n)}},this.getTheme=function(){return this.$themeId},this.setStyle=function(t,e){r.setCssClass(this.container,t,e!==!1)},this.unsetStyle=function(t){r.removeCssClass(this.container,t)},this.setCursorStyle=function(t){this.scroller.style.cursor!=t&&(this.scroller.style.cursor=t)},this.setMouseCursor=function(t){this.scroller.style.cursor=t},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}).call(v.prototype),o.defineOptions(v.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(t){this.$textLayer.setShowInvisibles(t)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(t){"number"==typeof t&&(this.$printMarginColumn=t),this.$showPrintMargin=!!t,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(t){this.$gutter.style.display=t?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(t){r.setCssClass(this.$gutter,"ace_fade-fold-widgets",t)},initialValue:!1},showFoldWidgets:{set:function(t){this.$gutterLayer.setShowFoldWidgets(t)},initialValue:!0},showLineNumbers:{set:function(t){this.$gutterLayer.setShowLineNumbers(t),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(t){this.$textLayer.setDisplayIndentGuides(t)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(t){return this.$gutterLineHighlight?(this.$gutterLineHighlight.style.display=t?"":"none",void(this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight())):(this.$gutterLineHighlight=r.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",this.$gutter.appendChild(this.$gutterLineHighlight),void 0)},initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(t){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(t){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(t){"number"==typeof t&&(t+="px"),this.container.style.fontSize=t,this.updateFontSize()},initialValue:12},fontFamily:{set:function(t){this.container.style.fontFamily=t,this.updateFontSize()}},maxLines:{set:function(t){this.updateFull()}},minLines:{set:function(t){this.updateFull()}},maxPixelHeight:{set:function(t){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(t){t=+t||0,this.$scrollPastEnd!=t&&(this.$scrollPastEnd=t,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(t){this.$gutterLayer.$fixedWidth=!!t,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(t){this.setTheme(t)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0}}),e.VirtualRenderer=v}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(t,e,n){"use strict";function i(t){var e="importScripts('"+s.qualifyURL(t)+"');";try{return new Blob([e],{type:"application/javascript"})}catch(n){var i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,r=new i;return r.append(e),r.getBlob("application/javascript")}}function r(t){var e=i(t),n=window.URL||window.webkitURL,r=n.createObjectURL(e);return new Worker(r)}var o=t("../lib/oop"),s=t("../lib/net"),a=t("../lib/event_emitter").EventEmitter,l=t("../config"),u=function(e,n,i,o,s){if(this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),t.nameToUrl&&!t.toUrl&&(t.toUrl=t.nameToUrl),l.get("packaged")||!t.toUrl)o=o||l.moduleUrl(n,"worker");else{var a=this.$normalizePath;o=o||a(t.toUrl("ace/worker/worker.js",null,"_"));var u={};e.forEach(function(e){u[e]=a(t.toUrl(e,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}this.$worker=r(o),s&&this.send("importScripts",s),this.$worker.postMessage({init:!0,tlns:u,module:n,classname:i}),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){o.implement(this,a),this.onMessage=function(t){var e=t.data;switch(e.type){case"event":this._signal(e.name,{data:e.data});break;case"call":var n=this.callbacks[e.id];n&&(n(e.data),delete this.callbacks[e.id]);break;case"error":this.reportError(e.data);break;case"log":window.console&&console.log&&console.log.apply(console,e.data)}},this.reportError=function(t){window.console&&console.error&&console.error(t)},this.$normalizePath=function(t){return s.qualifyURL(t)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(t,e){this.$worker.postMessage({command:t,args:e})},this.call=function(t,e,n){if(n){var i=this.callbackId++;this.callbacks[i]=n,e.push(i)}this.send(t,e)},this.emit=function(t,e){try{this.$worker.postMessage({event:t,data:{data:e.data}})}catch(n){console.error(n.stack)}},this.attachToDocument=function(t){this.$doc&&this.terminate(),this.$doc=t,this.call("setValue",[t.getValue()]),t.on("change",this.changeListener)},this.changeListener=function(t){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==t.action?this.deltaQueue.push(t.start,t.lines):this.deltaQueue.push(t.start,t.end)},this.$sendDeltaQueue=function(){var t=this.deltaQueue;t&&(this.deltaQueue=null,t.length>50&&t.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:t}))}}).call(u.prototype);var c=function(t,e,n){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var i=null,r=!1,o=Object.create(a),s=this;this.$worker={},this.$worker.terminate=function(){},this.$worker.postMessage=function(t){s.messageBuffer.push(t),i&&(r?setTimeout(u):u())},this.setEmitSync=function(t){r=t};var u=function(){var t=s.messageBuffer.shift();t.command?i[t.command].apply(i,t.args):t.event&&o._signal(t.event,t.data)};o.postMessage=function(t){s.onMessage({data:t})},o.callback=function(t,e){this.postMessage({type:"call",id:e,data:t})},o.emit=function(t,e){this.postMessage({type:"event",name:t,data:e})},l.loadModule(["worker",e],function(t){for(i=new t[n](o);s.messageBuffer.length;)u()})};c.prototype=u.prototype,e.UIWorkerClient=c,e.WorkerClient=u,e.createWorker=r}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(t,e,n){"use strict";var i=t("./range").Range,r=t("./lib/event_emitter").EventEmitter,o=t("./lib/oop"),s=function(t,e,n,i,r,o){var s=this;this.length=e,this.session=t,this.doc=t.getDocument(),this.mainClass=r,this.othersClass=o,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=i,this.$onCursorChange=function(){setTimeout(function(){s.onCursorChange()})},this.$pos=n;var a=t.getUndoManager().$undoStack||t.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),t.selection.on("changeCursor",this.$onCursorChange)};(function(){o.implement(this,r),this.setup=function(){var t=this,e=this.doc,n=this.session;this.selectionBefore=n.selection.toJSON(),n.selection.inMultiSelectMode&&n.selection.toSingleRange(),this.pos=e.createAnchor(this.$pos.row,this.$pos.column);var r=this.pos;r.$insertRight=!0,r.detach(),r.markerId=n.addMarker(new i(r.row,r.column,r.row,r.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(n){var i=e.createAnchor(n.row,n.column);i.$insertRight=!0,i.detach(),t.others.push(i)}),n.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var t=this.session,e=this;this.othersActive=!0,this.others.forEach(function(n){n.markerId=t.addMarker(new i(n.row,n.column,n.row,n.column+e.length),e.othersClass,null,!1)})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var t=0;t<this.others.length;t++)this.session.removeMarker(this.others[t].markerId)}},this.onUpdate=function(t){if(this.$updating)return this.updateAnchors(t);var e=t;if(e.start.row===e.end.row&&e.start.row===this.pos.row){this.$updating=!0;var n="insert"===t.action?e.end.column-e.start.column:e.start.column-e.end.column,r=e.start.column>=this.pos.column&&e.start.column<=this.pos.column+this.length+1,o=e.start.column-this.pos.column;if(this.updateAnchors(t),r&&(this.length+=n),r&&!this.session.$fromUndo)if("insert"===t.action)for(var s=this.others.length-1;s>=0;s--){var a=this.others[s],l={row:a.row,column:a.column+o};this.doc.insertMergedLines(l,t.lines)}else if("remove"===t.action)for(var s=this.others.length-1;s>=0;s--){var a=this.others[s],l={row:a.row,column:a.column+o};this.doc.remove(new i(l.row,l.column,l.row,l.column-n))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(t){this.pos.onChange(t);for(var e=this.others.length;e--;)this.others[e].onChange(t);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var t=this,e=this.session,n=function(n,r){e.removeMarker(n.markerId),n.markerId=e.addMarker(new i(n.row,n.column,n.row,n.column+t.length),r,null,!1)};n(this.pos,this.mainClass);for(var r=this.others.length;r--;)n(this.others[r],this.othersClass)}},this.onCursorChange=function(t){if(!this.$updating&&this.session){var e=this.session.selection.getCursor();e.row===this.pos.row&&e.column>=this.pos.column&&e.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",t)):(this.hideOtherMarkers(),this._emit("cursorLeave",t))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var t=this.session.getUndoManager(),e=(t.$undoStack||t.$undostack).length-this.$undoStackDepth,n=0;e>n;n++)t.undo(!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(s.prototype),e.PlaceHolder=s}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(t,e,n){function i(t,e){return t.row==e.row&&t.column==e.column}function r(t){var e=t.domEvent,n=e.altKey,r=e.shiftKey,a=e.ctrlKey,l=t.getAccelKey(),u=t.getButton();if(a&&s.isMac&&(u=e.button),t.editor.inMultiSelectMode&&2==u)return void t.editor.textInput.onContextMenu(t.domEvent);if(!a&&!n&&!l)return void(0===u&&t.editor.inMultiSelectMode&&t.editor.exitMultiSelectMode());if(0===u){var c,h=t.editor,d=h.selection,f=h.inMultiSelectMode,p=t.getDocumentPosition(),g=d.getCursor(),m=t.inSelection()||d.isEmpty()&&i(p,g),v=t.x,y=t.y,b=function(t){v=t.clientX,y=t.clientY},w=h.session,x=h.renderer.pixelToScreenCoordinates(v,y),_=x;if(h.$mouseHandler.$enableJumpToDef)a&&n||l&&n?c=r?"block":"add":n&&h.$blockSelectEnabled&&(c="block");else if(l&&!n){if(c="add",!f&&r)return}else n&&h.$blockSelectEnabled&&(c="block");if(c&&s.isMac&&e.ctrlKey&&h.$mouseHandler.cancelContextMenu(),"add"==c){if(!f&&m)return;if(!f){var $=d.toOrientedRange();h.addSelectionMarker($)}var C=d.rangeList.rangeAtPoint(p);h.$blockScrolling++,h.inVirtualSelectionMode=!0,r&&(C=null,$=d.ranges[0]||$,h.removeSelectionMarker($)),h.once("mouseup",function(){var t=d.toOrientedRange();C&&t.isEmpty()&&i(C.cursor,t.cursor)?d.substractPoint(t.cursor):(r?d.substractPoint($.cursor):$&&(h.removeSelectionMarker($),d.addRange($)),d.addRange(t)),h.$blockScrolling--,h.inVirtualSelectionMode=!1})}else if("block"==c){t.stop(),h.inVirtualSelectionMode=!0;var A,E=[],S=function(){var t=h.renderer.pixelToScreenCoordinates(v,y),e=w.screenToDocumentPosition(t.row,t.column,t.offsetX);i(_,t)&&i(e,d.lead)||(_=t,h.$blockScrolling++,h.selection.moveToPosition(e),h.renderer.scrollCursorIntoView(),h.removeSelectionMarkers(E),E=d.rectangularRangeBlock(_,x),h.$mouseHandler.$clickSelection&&1==E.length&&E[0].isEmpty()&&(E[0]=h.$mouseHandler.$clickSelection.clone()),E.forEach(h.addSelectionMarker,h),h.updateSelectionMarkers(),h.$blockScrolling--)};h.$blockScrolling++,f&&!l?d.toSingleRange():!f&&l&&(A=d.toOrientedRange(),h.addSelectionMarker(A)),r?x=w.documentToScreenPosition(d.lead):d.moveToPosition(p),h.$blockScrolling--,_={row:-1,column:-1};var k=function(t){clearInterval(T),h.removeSelectionMarkers(E),E.length||(E=[d.toOrientedRange()]),h.$blockScrolling++,A&&(h.removeSelectionMarker(A),d.toSingleRange(A));for(var e=0;e<E.length;e++)d.addRange(E[e]);h.inVirtualSelectionMode=!1,h.$mouseHandler.$clickSelection=null,h.$blockScrolling--},D=S;o.capture(h.container,b,k);var T=setInterval(function(){D()},20);return t.preventDefault()}}}var o=t("../lib/event"),s=t("../lib/useragent");e.onMouseDown=r}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(t,e,n){e.defaultCommands=[{name:"addCursorAbove",exec:function(t){t.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",exec:function(t){t.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",exec:function(t){t.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",exec:function(t){t.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",exec:function(t){t.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",exec:function(t){t.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",exec:function(t){t.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",exec:function(t){t.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",exec:function(t){t.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"alignCursors",exec:function(t){t.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(t){t.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],e.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(t){t.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(t){return t&&t.inMultiSelectMode}}];var i=t("../keyboard/hash_handler").HashHandler;e.keyboardHandler=new i(e.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(t,e,n){function i(t,e,n){return g.$options.wrap=!0,g.$options.needle=e,g.$options.backwards=-1==n,g.find(t)}function r(t,e){return t.row==e.row&&t.column==e.column}function o(t){t.$multiselectOnSessionChange||(t.$onAddRange=t.$onAddRange.bind(t),t.$onRemoveRange=t.$onRemoveRange.bind(t),t.$onMultiSelect=t.$onMultiSelect.bind(t),t.$onSingleSelect=t.$onSingleSelect.bind(t),t.$multiselectOnSessionChange=e.onSessionChange.bind(t),t.$checkMultiselectChange=t.$checkMultiselectChange.bind(t),t.$multiselectOnSessionChange(t),t.on("changeSession",t.$multiselectOnSessionChange),t.on("mousedown",c),t.commands.addCommands(f.defaultCommands),s(t))}function s(t){function e(e){i&&(t.renderer.setMouseCursor(""),i=!1)}var n=t.textInput.getElement(),i=!1;h.addListener(n,"keydown",function(n){var r=18==n.keyCode&&!(n.ctrlKey||n.shiftKey||n.metaKey);t.$blockSelectEnabled&&r?i||(t.renderer.setMouseCursor("crosshair"),i=!0):i&&e()}),h.addListener(n,"keyup",e),h.addListener(n,"blur",e)}var a=t("./range_list").RangeList,l=t("./range").Range,u=t("./selection").Selection,c=t("./mouse/multi_select_handler").onMouseDown,h=t("./lib/event"),d=t("./lib/lang"),f=t("./commands/multi_select_commands");e.commands=f.defaultCommands.concat(f.multiSelectCommands);var p=t("./search").Search,g=new p,m=t("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(m.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(t,e){if(t){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(t),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),e||this.fromOrientedRange(t);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}t.cursor||(t.cursor=t.end);var i=this.rangeList.add(t);return this.$onAddRange(t),i.length&&this.$onRemoveRange(i),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),e||this.fromOrientedRange(t)}},this.toSingleRange=function(t){t=t||this.ranges[0];var e=this.rangeList.removeAll();e.length&&this.$onRemoveRange(e),t&&this.fromOrientedRange(t)},this.substractPoint=function(t){var e=this.rangeList.substractPoint(t);return e?(this.$onRemoveRange(e),e[0]):void 0},this.mergeOverlappingRanges=function(){
var t=this.rangeList.merge();t.length?this.$onRemoveRange(t):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(t){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(t),this._signal("addRange",{range:t})},this.$onRemoveRange=function(t){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var e=this.rangeList.ranges.pop();t.push(e),this.rangeCount=0}for(var n=t.length;n--;){var i=this.ranges.indexOf(t[n]);this.ranges.splice(i,1)}this._signal("removeRange",{ranges:t}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),e=e||this.ranges[0],e&&!e.isEqual(this.getRange())&&this.fromOrientedRange(e)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new a,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(this.rangeCount>1){var t=this.rangeList.ranges,e=t[t.length-1],n=l.fromPoints(t[0].start,e.end);this.toSingleRange(),this.setSelectionRange(n,e.cursor==e.start)}else{var n=this.getRange(),i=this.isBackwards(),r=n.start.row,o=n.end.row;if(r==o){if(i)var s=n.end,a=n.start;else var s=n.start,a=n.end;return this.addRange(l.fromPoints(a,a)),void this.addRange(l.fromPoints(s,s))}var u=[],c=this.getLineRange(r,!0);c.start.column=n.start.column,u.push(c);for(var h=r+1;o>h;h++)u.push(this.getLineRange(h,!0));c=this.getLineRange(o,!0),c.end.column=n.end.column,u.push(c),u.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var t=this.rangeList.ranges,e=t[t.length-1],n=l.fromPoints(t[0].start,e.end);this.toSingleRange(),this.setSelectionRange(n,e.cursor==e.start)}else{var i=this.session.documentToScreenPosition(this.selectionLead),r=this.session.documentToScreenPosition(this.selectionAnchor),o=this.rectangularRangeBlock(i,r);o.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(t,e,n){var i=[],o=t.column<e.column;if(o)var s=t.column,a=e.column,u=t.offsetX,c=e.offsetX;else var s=e.column,a=t.column,u=e.offsetX,c=t.offsetX;var h=t.row<e.row;if(h)var d=t.row,f=e.row;else var d=e.row,f=t.row;0>s&&(s=0),0>d&&(d=0),d==f&&(n=!0);for(var p=d;f>=p;p++){var g=l.fromPoints(this.session.screenToDocumentPosition(p,s,u),this.session.screenToDocumentPosition(p,a,c));if(g.isEmpty()){if(m&&r(g.end,m))break;var m=g.end}g.cursor=o?g.start:g.end,i.push(g)}if(h&&i.reverse(),!n){for(var v=i.length-1;i[v].isEmpty()&&v>0;)v--;if(v>0)for(var y=0;i[y].isEmpty();)y++;for(var b=v;b>=y;b--)i[b].isEmpty()&&i.splice(b,1)}return i}}.call(u.prototype);var v=t("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(t){t.cursor||(t.cursor=t.end);var e=this.getSelectionStyle();return t.marker=this.session.addMarker(t,"ace_selection",e),this.session.$selectionMarkers.push(t),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,t},this.removeSelectionMarker=function(t){if(t.marker){this.session.removeMarker(t.marker);var e=this.session.$selectionMarkers.indexOf(t);-1!=e&&this.session.$selectionMarkers.splice(e,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(t){for(var e=this.session.$selectionMarkers,n=t.length;n--;){var i=t[n];if(i.marker){this.session.removeMarker(i.marker);var r=e.indexOf(i);-1!=r&&e.splice(r,1)}}this.session.selectionMarkerCount=e.length},this.$onAddRange=function(t){this.addSelectionMarker(t.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(t){this.removeSelectionMarkers(t.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(t){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(f.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(t){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(f.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(t){var e=t.command,n=t.editor;if(n.multiSelect){if(e.multiSelectAction)"forEach"==e.multiSelectAction?i=n.forEachSelection(e,t.args):"forEachLine"==e.multiSelectAction?i=n.forEachSelection(e,t.args,!0):"single"==e.multiSelectAction?(n.exitMultiSelectMode(),i=e.exec(n,t.args||{})):i=e.multiSelectAction(n,t.args||{});else{var i=e.exec(n,t.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return i}},this.forEachSelection=function(t,e,n){if(!this.inVirtualSelectionMode){var i,r=n&&n.keepOrder,o=1==n||n&&n.$byLines,s=this.session,a=this.selection,l=a.rangeList,c=(r?a:l).ranges;if(!c.length)return t.exec?t.exec(this,e||{}):t(this,e||{});var h=a._eventRegistry;a._eventRegistry={};var d=new u(s);this.inVirtualSelectionMode=!0;for(var f=c.length;f--;){if(o)for(;f>0&&c[f].start.row==c[f-1].end.row;)f--;d.fromOrientedRange(c[f]),d.index=f,this.selection=s.selection=d;var p=t.exec?t.exec(this,e||{}):t(this,e||{});!i&&void 0!==p&&(i=p),d.toOrientedRange(c[f])}d.detach(),this.selection=s.selection=a,this.inVirtualSelectionMode=!1,a._eventRegistry=h,a.mergeOverlappingRanges();var g=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),g&&g.from==g.to&&this.renderer.animateScrolling(g.from),i}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var t="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var e=this.multiSelect.rangeList.ranges,n=[],i=0;i<e.length;i++)n.push(this.session.getTextRange(e[i]));var r=this.session.getDocument().getNewLineCharacter();t=n.join(r),t.length==(n.length-1)*r.length&&(t="")}else this.selection.isEmpty()||(t=this.session.getTextRange(this.getSelectionRange()));return t},this.$checkMultiselectChange=function(t,e){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&e==this.multiSelect.anchor)return;var i=e==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;(i.row!=e.row||this.session.$clipPositionToDocument(i.row,i.column).column!=e.column)&&this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())}},this.findAll=function(t,e,n){if(e=e||{},e.needle=t||e.needle,void 0==e.needle){var i=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();e.needle=this.session.getTextRange(i)}this.$search.set(e);var r=this.$search.findAll(this.session);if(!r.length)return 0;this.$blockScrolling+=1;var o=this.multiSelect;n||o.toSingleRange(r[0]);for(var s=r.length;s--;)o.addRange(r[s],!0);return i&&o.rangeList.rangeAtPoint(i.start)&&o.addRange(i,!0),this.$blockScrolling-=1,r.length},this.selectMoreLines=function(t,e){var n=this.selection.toOrientedRange(),i=n.cursor==n.end,r=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(r.column=this.selection.$desiredColumn);var o=this.session.screenToDocumentPosition(r.row+t,r.column);if(n.isEmpty())var s=o;else var a=this.session.documentToScreenPosition(i?n.end:n.start),s=this.session.screenToDocumentPosition(a.row+t,a.column);if(i){var u=l.fromPoints(o,s);u.cursor=u.start}else{var u=l.fromPoints(s,o);u.cursor=u.end}if(u.desiredColumn=r.column,this.selection.inMultiSelectMode){if(e)var c=n.cursor}else this.selection.addRange(n);this.selection.addRange(u),c&&this.selection.substractPoint(c)},this.transposeSelections=function(t){for(var e=this.session,n=e.multiSelect,i=n.ranges,r=i.length;r--;){var o=i[r];if(o.isEmpty()){var s=e.getWordRange(o.start.row,o.start.column);o.start.row=s.start.row,o.start.column=s.start.column,o.end.row=s.end.row,o.end.column=s.end.column}}n.mergeOverlappingRanges();for(var a=[],r=i.length;r--;){var o=i[r];a.unshift(e.getTextRange(o))}0>t?a.unshift(a.pop()):a.push(a.shift());for(var r=i.length;r--;){var o=i[r],s=o.clone();e.replace(o,a[r]),o.start.row=s.start.row,o.start.column=s.start.column}},this.selectMore=function(t,e,n){var r=this.session,o=r.multiSelect,s=o.toOrientedRange();if(!s.isEmpty()||(s=r.getWordRange(s.start.row,s.start.column),s.cursor=-1==t?s.start:s.end,this.multiSelect.addRange(s),!n)){var a=r.getTextRange(s),l=i(r,a,t);l&&(l.cursor=-1==t?l.start:l.end,this.$blockScrolling+=1,this.session.unfold(l),this.multiSelect.addRange(l),this.$blockScrolling-=1,this.renderer.scrollCursorIntoView(null,.5)),e&&this.multiSelect.substractPoint(s.cursor)}},this.alignCursors=function(){var t=this.session,e=t.multiSelect,n=e.ranges,i=-1,r=n.filter(function(t){return t.cursor.row==i?!0:void(i=t.cursor.row)});if(n.length&&r.length!=n.length-1){r.forEach(function(t){e.substractPoint(t.cursor)});var o=0,s=1/0,a=n.map(function(e){var n=e.cursor,i=t.getLine(n.row),r=i.substr(n.column).search(/\S/g);return-1==r&&(r=0),n.column>o&&(o=n.column),s>r&&(s=r),r});n.forEach(function(e,n){var i=e.cursor,r=o-i.column,u=a[n]-s;r>u?t.insert(i,d.stringRepeat(" ",r-u)):t.remove(new l(i.row,i.column,i.row,i.column-r+u)),e.start.column=e.end.column=o,e.start.row=e.end.row=i.row,e.cursor=e.end}),e.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var u=this.selection.getRange(),c=u.start.row,h=u.end.row,f=c==h;if(f){var p,g=this.session.getLength();do p=this.session.getLine(h);while(/[=:]/.test(p)&&++h<g);do p=this.session.getLine(c);while(/[=:]/.test(p)&&--c>0);0>c&&(c=0),h>=g&&(h=g-1)}var m=this.session.removeFullLines(c,h);m=this.$reAlignText(m,f),this.session.insert({row:c,column:0},m.join("\n")+"\n"),f||(u.start.column=0,u.end.column=m[m.length-1].length),this.selection.setRange(u)}},this.$reAlignText=function(t,e){function n(t){return d.stringRepeat(" ",t)}function i(t){return t[2]?n(s)+t[2]+n(a-t[2].length+l)+t[4].replace(/^([=:])\s+/,"$1 "):t[0]}function r(t){return t[2]?n(s+a-t[2].length)+t[2]+n(l," ")+t[4].replace(/^([=:])\s+/,"$1 "):t[0]}function o(t){return t[2]?n(s)+t[2]+n(l)+t[4].replace(/^([=:])\s+/,"$1 "):t[0]}var s,a,l,u=!0,c=!0;return t.map(function(t){var e=t.match(/(\s*)(.*?)(\s*)([=:].*)/);return e?null==s?(s=e[1].length,a=e[2].length,l=e[3].length,e):(s+a+l!=e[1].length+e[2].length+e[3].length&&(c=!1),s!=e[1].length&&(u=!1),s>e[1].length&&(s=e[1].length),a<e[2].length&&(a=e[2].length),l>e[3].length&&(l=e[3].length),e):[t]}).map(e?i:u?c?r:i:o)}}).call(v.prototype),e.onSessionChange=function(t){var e=t.session;e&&!e.multiSelect&&(e.$selectionMarkers=[],e.selection.$initRangeList(),e.multiSelect=e.selection),this.multiSelect=e&&e.multiSelect;var n=t.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),e&&(e.multiSelect.on("addRange",this.$onAddRange),e.multiSelect.on("removeRange",this.$onRemoveRange),e.multiSelect.on("multiSelect",this.$onMultiSelect),e.multiSelect.on("singleSelect",this.$onSingleSelect),e.multiSelect.lead.on("change",this.$checkMultiselectChange),e.multiSelect.anchor.on("change",this.$checkMultiselectChange)),e&&this.inMultiSelectMode!=e.selection.inMultiSelectMode&&(e.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},e.MultiSelect=o,t("./config").defineOptions(v.prototype,"editor",{enableMultiselect:{set:function(t){o(this),t?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",c)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",c))},value:!0},enableBlockSelect:{set:function(t){this.$blockSelectEnabled=t},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(t,e,n){"use strict";var i=t("../../range").Range,r=e.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(t,e,n){var i=t.getLine(n);return this.foldingStartMarker.test(i)?"start":"markbeginend"==e&&this.foldingStopMarker&&this.foldingStopMarker.test(i)?"end":""},this.getFoldWidgetRange=function(t,e,n){return null},this.indentationBlock=function(t,e,n){var r=/\S/,o=t.getLine(e),s=o.search(r);if(-1!=s){for(var a=n||o.length,l=t.getLength(),u=e,c=e;++e<l;){var h=t.getLine(e).search(r);if(-1!=h){if(s>=h)break;c=e}}if(c>u){var d=t.getLine(c).length;return new i(u,a,c,d)}}},this.openingBracketBlock=function(t,e,n,r,o){var s={row:n,column:r+1},a=t.$findClosingBracket(e,s,o);if(a){var l=t.foldWidgets[a.row];return null==l&&(l=t.getFoldWidget(a.row)),"start"==l&&a.row>s.row&&(a.row--,a.column=t.getLine(a.row).length),i.fromPoints(s,a)}},this.closingBracketBlock=function(t,e,n,r,o){var s={row:n,column:r},a=t.$findOpeningBracket(e,s);if(a)return a.column++,s.column--,i.fromPoints(a,s)}}).call(r.prototype)}),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(t,e,n){"use strict";e.isDark=!1,e.cssClass="ace-tm",e.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}';var i=t("../lib/dom");i.importCssString(e.cssText,e.cssClass)}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],function(t,e,n){"use strict";function i(t){this.session=t,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}var r=(t("./lib/oop"),t("./lib/dom"));t("./range").Range;(function(){this.getRowLength=function(t){var e;return e=this.lineWidgets?this.lineWidgets[t]&&this.lineWidgets[t].rowCount||0:0,this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+1+e:1+e},this.$getWidgetScreenLength=function(){var t=0;return this.lineWidgets.forEach(function(e){e&&e.rowCount&&!e.hidden&&(t+=e.rowCount)}),t},this.$onChangeEditor=function(t){this.attach(t.editor)},this.attach=function(t){t&&t.widgetManager&&t.widgetManager!=this&&t.widgetManager.detach(),this.editor!=t&&(this.detach(),this.editor=t,t&&(t.widgetManager=this,t.renderer.on("beforeRender",this.measureWidgets),t.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(t){var e=this.editor;if(e){this.editor=null,e.widgetManager=null,e.renderer.off("beforeRender",this.measureWidgets),e.renderer.off("afterRender",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach(function(t){t&&t.el&&t.el.parentNode&&(t._inDocument=!1,t.el.parentNode.removeChild(t.el))})}},this.updateOnFold=function(t,e){var n=e.lineWidgets;if(n&&t.action){for(var i=t.data,r=i.start.row,o=i.end.row,s="add"==t.action,a=r+1;o>a;a++)n[a]&&(n[a].hidden=s);n[o]&&(s?n[r]?n[o].hidden=s:n[r]=n[o]:(n[r]==n[o]&&(n[r]=void 0),n[o].hidden=s))}},this.updateOnChange=function(t){var e=this.session.lineWidgets;if(e){var n=t.start.row,i=t.end.row-n;if(0!==i)if("remove"==t.action){var r=e.splice(n+1,i);r.forEach(function(t){t&&this.removeLineWidget(t)},this),this.$updateRows()}else{var o=new Array(i);o.unshift(n,0),e.splice.apply(e,o),this.$updateRows()}}},this.$updateRows=function(){var t=this.session.lineWidgets;if(t){var e=!0;t.forEach(function(t,n){if(t)for(e=!1,t.row=n;t.$oldWidget;)t.$oldWidget.row=n,t=t.$oldWidget}),e&&(this.session.lineWidgets=null)}},this.addLineWidget=function(t){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var e=this.session.lineWidgets[t.row];e&&(t.$oldWidget=e,e.el&&e.el.parentNode&&(e.el.parentNode.removeChild(e.el),e._inDocument=!1)),this.session.lineWidgets[t.row]=t,t.session=this.session;var n=this.editor.renderer;t.html&&!t.el&&(t.el=r.createElement("div"),t.el.innerHTML=t.html),t.el&&(r.addCssClass(t.el,"ace_lineWidgetContainer"),t.el.style.position="absolute",t.el.style.zIndex=5,n.container.appendChild(t.el),t._inDocument=!0),t.coverGutter||(t.el.style.zIndex=3),null==t.pixelHeight&&(t.pixelHeight=t.el.offsetHeight),null==t.rowCount&&(t.rowCount=t.pixelHeight/n.layerConfig.lineHeight);var i=this.session.getFoldAt(t.row,0);if(t.$fold=i,i){var o=this.session.lineWidgets;t.row!=i.end.row||o[i.start.row]?t.hidden=!0:o[i.start.row]=t}return this.session._emit("changeFold",{data:{start:{row:t.row}}}),this.$updateRows(),this.renderWidgets(null,n),this.onWidgetChanged(t),t},this.removeLineWidget=function(t){if(t._inDocument=!1,t.session=null,t.el&&t.el.parentNode&&t.el.parentNode.removeChild(t.el),t.editor&&t.editor.destroy)try{t.editor.destroy()}catch(e){}if(this.session.lineWidgets){var n=this.session.lineWidgets[t.row];if(n==t)this.session.lineWidgets[t.row]=t.$oldWidget,t.$oldWidget&&this.onWidgetChanged(t.$oldWidget);else for(;n;){if(n.$oldWidget==t){n.$oldWidget=t.$oldWidget;break}n=n.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:t.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(t){for(var e=this.session.lineWidgets,n=e&&e[t],i=[];n;)i.push(n),n=n.$oldWidget;return i},this.onWidgetChanged=function(t){this.session._changedWidgets.push(t),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(t,e){var n=this.session._changedWidgets,i=e.layerConfig;if(n&&n.length){for(var r=1/0,o=0;o<n.length;o++){var s=n[o];if(s&&s.el&&s.session==this.session){if(!s._inDocument){if(this.session.lineWidgets[s.row]!=s)continue;s._inDocument=!0,e.container.appendChild(s.el)}s.h=s.el.offsetHeight,s.fixedWidth||(s.w=s.el.offsetWidth,s.screenWidth=Math.ceil(s.w/i.characterWidth));var a=s.h/i.lineHeight;s.coverLine&&(a-=this.session.getRowLineCount(s.row),0>a&&(a=0)),s.rowCount!=a&&(s.rowCount=a,s.row<r&&(r=s.row))}}r!=1/0&&(this.session._emit("changeFold",{data:{start:{row:r}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(t,e){var n=e.layerConfig,i=this.session.lineWidgets;if(i){for(var r=Math.min(this.firstRow,n.firstRow),o=Math.max(this.lastRow,n.lastRow,i.length);r>0&&!i[r];)r--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,e.$cursorLayer.config=n;for(var s=r;o>=s;s++){var a=i[s];if(a&&a.el)if(a.hidden)a.el.style.top=-100-(a.pixelHeight||0)+"px";else{a._inDocument||(a._inDocument=!0,e.container.appendChild(a.el));var l=e.$cursorLayer.getPixelPosition({row:s,column:0},!0).top;a.coverLine||(l+=n.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-n.offset+"px";var u=a.coverGutter?0:e.gutterWidth;a.fixedWidth||(u-=e.scrollLeft),a.el.style.left=u+"px",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=n.width+2*n.padding+"px"),a.fixedWidth?a.el.style.right=e.scrollBar.getWidth()+"px":a.el.style.right=""}}}}}).call(i.prototype),e.LineWidgets=i}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(t,e,n){"use strict";function i(t,e,n){for(var i=0,r=t.length-1;r>=i;){var o=i+r>>1,s=n(e,t[o]);if(s>0)i=o+1;else{if(!(0>s))return o;r=o-1}}return-(i+1)}function r(t,e,n){var r=t.getAnnotations().sort(a.comparePoints);if(r.length){var o=i(r,{row:e,column:-1},a.comparePoints);0>o&&(o=-o-1),o>=r.length?o=n>0?0:r.length-1:0===o&&0>n&&(o=r.length-1);var s=r[o];if(s&&n){if(s.row===e){do s=r[o+=n];while(s&&s.row===e);if(!s)return r.slice()}var l=[];e=s.row;do l[0>n?"unshift":"push"](s),s=r[o+=n];while(s&&s.row==e);return l.length&&l}}}var o=t("../line_widgets").LineWidgets,s=t("../lib/dom"),a=t("../range").Range;e.showErrorMarker=function(t,e){var n=t.session;n.widgetManager||(n.widgetManager=new o(n),n.widgetManager.attach(t));var i=t.getCursorPosition(),a=i.row,l=n.widgetManager.getWidgetsAtRow(a).filter(function(t){return"errorMarker"==t.type})[0];l?l.destroy():a-=e;var u,c=r(n,a,e);if(c){var h=c[0];i.column=(h.pos&&"number"!=typeof h.column?h.pos.sc:h.column)||0,i.row=h.row,u=t.renderer.$gutterLayer.$annotations[i.row]}else{if(l)return;u={text:["Looks good!"],className:"ace_ok"}}t.session.unfold(i.row),t.selection.moveToPosition(i);var d={row:i.row,fixedWidth:!0,coverGutter:!0,el:s.createElement("div"),type:"errorMarker"},f=d.el.appendChild(s.createElement("div")),p=d.el.appendChild(s.createElement("div"));p.className="error_widget_arrow "+u.className;var g=t.renderer.$cursorLayer.getPixelPosition(i).left;p.style.left=g+t.renderer.gutterWidth-5+"px",d.el.className="error_widget_wrapper",f.className="error_widget "+u.className,f.innerHTML=u.text.join("<br>"),f.appendChild(s.createElement("div"));var m=function(t,e,n){return 0!==e||"esc"!==n&&"return"!==n?void 0:(d.destroy(),{command:"null"})};d.destroy=function(){t.$mouseHandler.isMousePressed||(t.keyBinding.removeKeyboardHandler(m),n.widgetManager.removeLineWidget(d),t.off("changeSelection",d.destroy),t.off("changeSession",d.destroy),t.off("mouseup",d.destroy),t.off("change",d.destroy))},t.keyBinding.addKeyboardHandler(m),t.on("changeSelection",d.destroy),t.on("changeSession",d.destroy),t.on("mouseup",d.destroy),t.on("change",d.destroy),t.session.widgetManager.addLineWidget(d),d.el.onmousedown=t.focus.bind(t),t.renderer.scrollCursorIntoView(null,.5,{bottom:d.el.offsetHeight})},s.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")}),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(t,e,n){"use strict";t("./lib/fixoldbrowsers");var i=t("./lib/dom"),r=t("./lib/event"),o=t("./editor").Editor,s=t("./edit_session").EditSession,a=t("./undomanager").UndoManager,l=t("./virtual_renderer").VirtualRenderer;t("./worker/worker_client"),t("./keyboard/hash_handler"),t("./placeholder"),t("./multi_select"),t("./mode/folding/fold_mode"),t("./theme/textmate"),t("./ext/error_marker"),e.config=t("./config"),e.require=t,"function"==typeof define&&(e.define=define),e.edit=function(t){if("string"==typeof t){var n=t;if(t=document.getElementById(n),!t)throw new Error("ace.edit can't find div #"+n)}if(t&&t.env&&t.env.editor instanceof o)return t.env.editor;var s="";if(t&&/input|textarea/i.test(t.tagName)){var a=t;s=a.value,t=i.createElement("pre"),a.parentNode.replaceChild(t,a)}else t&&(s=i.getInnerText(t),t.innerHTML="");var u=e.createEditSession(s),c=new o(new l(t));c.setSession(u);var h={document:u,editor:c,onResize:c.resize.bind(c,null)};return a&&(h.textarea=a),r.addListener(window,"resize",h.onResize),c.on("destroy",function(){r.removeListener(window,"resize",h.onResize),h.editor.container.env=null}),c.container.env=c.env=h,c},e.createEditSession=function(t,e){var n=new s(t,e);return n.setUndoManager(new a),n},e.EditSession=s,e.UndoManager=a,e.version="1.2.9"}),function(){ace.require(["ace/ace"],function(t){t&&(t.config.init(!0),t.define=ace.define),window.ace||(window.ace=t);for(var e in t)t.hasOwnProperty(e)&&(window.ace[e]=t[e])})}(),angular.module("ui.ace",[]).constant("uiAceConfig",{}).directive("uiAce",["uiAceConfig",function(t){if(angular.isUndefined(window.ace))throw new Error("ui-ace need ace to work... (o rly?)");var e=function(t,e,n){if(angular.isDefined(n.workerPath)){var i=window.ace.require("ace/config");i.set("workerPath",n.workerPath)}angular.isDefined(n.require)&&n.require.forEach(function(t){window.ace.require(t)}),angular.isDefined(n.showGutter)&&t.renderer.setShowGutter(n.showGutter),angular.isDefined(n.useWrapMode)&&e.setUseWrapMode(n.useWrapMode),angular.isDefined(n.showInvisibles)&&t.renderer.setShowInvisibles(n.showInvisibles),angular.isDefined(n.showIndentGuides)&&t.renderer.setDisplayIndentGuides(n.showIndentGuides),angular.isDefined(n.useSoftTabs)&&e.setUseSoftTabs(n.useSoftTabs),angular.isDefined(n.showPrintMargin)&&t.setShowPrintMargin(n.showPrintMargin),angular.isDefined(n.disableSearch)&&n.disableSearch&&t.commands.addCommands([{name:"unfind",bindKey:{win:"Ctrl-F",mac:"Command-F"},exec:function(){return!1},readOnly:!0}]),angular.isString(n.theme)&&t.setTheme("ace/theme/"+n.theme),angular.isString(n.mode)&&e.setMode("ace/mode/"+n.mode),angular.isDefined(n.firstLineNumber)&&(angular.isNumber(n.firstLineNumber)?e.setOption("firstLineNumber",n.firstLineNumber):angular.isFunction(n.firstLineNumber)&&e.setOption("firstLineNumber",n.firstLineNumber()));var r,o;if(angular.isDefined(n.advanced))for(r in n.advanced)o={name:r,value:n.advanced[r]},t.setOption(o.name,o.value);if(angular.isDefined(n.rendererOptions))for(r in n.rendererOptions)o={name:r,value:n.rendererOptions[r]},t.renderer.setOption(o.name,o.value);angular.forEach(n.callbacks,function(e){angular.isFunction(e)&&e(t)})};return{restrict:"EA",require:"?ngModel",link:function(n,i,r,o){var s,a,l=t.ace||{},u=angular.extend({},l,n.$eval(r.uiAce)),c=window.ace.edit(i[0]),h=c.getSession(),d=function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);angular.isDefined(t)&&n.$evalAsync(function(){if(!angular.isFunction(t))throw new Error("ui-ace use a function as callback.");t(e)})},f={onChange:function(t){return function(e){var i=h.getValue();!o||i===o.$viewValue||n.$$phase||n.$root.$$phase||n.$evalAsync(function(){o.$setViewValue(i)}),d(t,e,c)}},onBlur:function(t){return function(){d(t,c)}}};r.$observe("readonly",function(t){c.setReadOnly(!!t||""===t)}),o&&(o.$formatters.push(function(t){if(angular.isUndefined(t)||null===t)return"";if(angular.isObject(t)||angular.isArray(t))throw new Error("ui-ace cannot use an object or an array as a model");return t}),o.$render=function(){h.setValue(o.$viewValue)});var p=function(t,i){t!==i&&(u=angular.extend({},l,n.$eval(r.uiAce)),u.callbacks=[u.onLoad],u.onLoad!==l.onLoad&&u.callbacks.unshift(l.onLoad),h.removeListener("change",s),s=f.onChange(u.onChange),h.on("change",s),c.removeListener("blur",a),a=f.onBlur(u.onBlur),c.on("blur",a),e(c,h,u))};n.$watch(r.uiAce,p,!0),p(l),i.on("$destroy",function(){c.session.$stopWorker(),c.destroy()}),n.$watch(function(){return[i[0].offsetWidth,i[0].offsetHeight]},function(){c.resize(),c.renderer.updateFull()},!0)}}}]),function(){"undefined"==typeof Math.sgn&&(Math.sgn=function(t){return 0==t?0:t>0?1:-1});var t={subtract:function(t,e){return{x:t.x-e.x,y:t.y-e.y}},dotProduct:function(t,e){return t.x*e.x+t.y*e.y},square:function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},scale:function(t,e){return{x:t.x*e,y:t.y*e}}},e=64,n=Math.pow(2,-e-1),i=function(e,n){for(var i=[],r=o(e,n),a=n.length-1,l=2*a-1,u=s(r,l,i,0),h=t.subtract(e,n[0]),d=t.square(h),f=0,p=0;u>p;p++){h=t.subtract(e,c(n,a,i[p],null,null));var g=t.square(h);d>g&&(d=g,f=i[p])}return h=t.subtract(e,n[a]),g=t.square(h),d>g&&(d=g,f=1),{location:f,distance:d}},r=function(t,e){var n=i(t,e);return{point:c(e,e.length-1,n.location,null,null),location:n.location}},o=function(e,n){for(var i=n.length-1,r=2*i-1,o=[],s=[],a=[],l=[],u=[[1,.6,.3,.1],[.4,.6,.6,.4],[.1,.3,.6,1]],c=0;i>=c;c++)o[c]=t.subtract(n[c],e);for(var c=0;i-1>=c;c++)s[c]=t.subtract(n[c+1],n[c]),s[c]=t.scale(s[c],3);for(var h=0;i-1>=h;h++)for(var d=0;i>=d;d++)a[h]||(a[h]=[]),a[h][d]=t.dotProduct(s[h],o[d]);for(c=0;r>=c;c++)l[c]||(l[c]=[]),l[c].y=0,l[c].x=parseFloat(c)/r;for(var f=i,p=i-1,g=0;f+p>=g;g++){var m=Math.max(0,g-p),v=Math.min(g,f);for(c=m;v>=c;c++)j=g-c,l[c+j].y+=a[j][c]*u[j][c]}return l},s=function(t,n,i,r){var o,h,d=[],f=[],p=[],g=[];switch(a(t,n)){case 0:return 0;case 1:if(r>=e)return i[0]=(t[0].x+t[n].x)/2,1;if(l(t,n))return i[0]=u(t,n),1}c(t,n,.5,d,f),o=s(d,n,p,r+1),h=s(f,n,g,r+1);for(var m=0;o>m;m++)i[m]=p[m];for(var m=0;h>m;m++)i[m+o]=g[m];return o+h},a=function(t,e){var n,i,r=0;n=i=Math.sgn(t[0].y);for(var o=1;e>=o;o++)n=Math.sgn(t[o].y),n!=i&&r++,i=n;return r},l=function(t,e){var i,r,o,s,a,l,u,c,h,d,f,p,g,m,v,y;l=t[0].y-t[e].y,u=t[e].x-t[0].x,c=t[0].x*t[e].y-t[e].x*t[0].y;for(var b=max_distance_below=0,w=1;e>w;w++){var x=l*t[w].x+u*t[w].y+c;x>b?b=x:max_distance_below>x&&(max_distance_below=x)}return f=0,p=1,g=0,m=l,v=u,y=c-b,h=f*v-m*p,d=1/h,r=(p*y-v*g)*d,m=l,v=u,y=c-max_distance_below,
h=f*v-m*p,d=1/h,o=(p*y-v*g)*d,s=Math.min(r,o),a=Math.max(r,o),i=a-s,n>i?1:0},u=function(t,e){var n=1,i=0,r=t[e].x-t[0].x,o=t[e].y-t[0].y,s=t[0].x-0,a=t[0].y-0,l=r*i-o*n,u=1/l,c=(r*a-o*s)*u;return 0+n*c},c=function(t,e,n,i,r){for(var o=[[]],s=0;e>=s;s++)o[0][s]=t[s];for(var a=1;e>=a;a++)for(var s=0;e-a>=s;s++)o[a]||(o[a]=[]),o[a][s]||(o[a][s]={}),o[a][s].x=(1-n)*o[a-1][s].x+n*o[a-1][s+1].x,o[a][s].y=(1-n)*o[a-1][s].y+n*o[a-1][s+1].y;if(null!=i)for(s=0;e>=s;s++)i[s]=o[s][0];if(null!=r)for(s=0;e>=s;s++)r[s]=o[e-s][s];return o[e][0]},h={},d=function(t){var e=h[t];if(!e){e=[];var n=function(){return function(e){return Math.pow(e,t)}},i=function(){return function(e){return Math.pow(1-e,t)}},r=function(t){return function(){return t}},o=function(){return function(t){return t}},s=function(){return function(t){return 1-t}},a=function(t){return function(e){for(var n=1,i=0;i<t.length;i++)n*=t[i](e);return n}};e.push(new n);for(var l=1;t>l;l++){for(var u=[new r(t)],c=0;t-l>c;c++)u.push(new o);for(var c=0;l>c;c++)u.push(new s);e.push(new a(u))}e.push(new i),h[t]=e}return e},f=function(t,e){for(var n=d(t.length-1),i=0,r=0,o=0;o<t.length;o++)i+=t[o].x*n[o](e),r+=t[o].y*n[o](e);return{x:i,y:r}},p=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},g=function(t){return t[0].x==t[1].x&&t[0].y==t[1].y},m=function(t,e,n){if(g(t))return{point:t[0],location:e};for(var i=f(t,e),r=0,o=e,s=n>0?1:-1,a=null;r<Math.abs(n);)o+=.005*s,a=f(t,o),r+=p(a,i),i=a;return{point:a,location:o}},v=function(t){if(g(t))return 0;for(var e=f(t,0),n=0,i=0,r=1,o=null;1>i;)i+=.005*r,o=f(t,i),n+=p(o,e),e=o;return n},y=function(t,e,n){return m(t,e,n).point},b=function(t,e,n){return m(t,e,n).location},w=function(t,e){var n=f(t,e),i=f(t.slice(0,t.length-1),e),r=i.y-n.y,o=i.x-n.x;return 0==r?1/0:Math.atan(r/o)},x=function(t,e,n){var i=m(t,e,n);return i.location>1&&(i.location=1),i.location<0&&(i.location=0),w(t,i.location)},_=function(t,e,n,i){i=null==i?0:i;var r=m(t,e,i),o=w(t,r.location),s=Math.atan(-1/o),a=n/2*Math.sin(s),l=n/2*Math.cos(s);return[{x:r.point.x+l,y:r.point.y+a},{x:r.point.x-l,y:r.point.y-a}]};this.jsBezier={distanceFromCurve:i,gradientAtPoint:w,gradientAtPointAlongCurveFrom:x,nearestPointOnCurve:r,pointOnCurve:f,pointAlongCurveFrom:y,perpendicularToCurveAt:_,locationAlongCurveFrom:b,getLength:v}}.call(this),function(){"use strict";var t=this.Biltong={},e=function(t){return"[object Array]"===Object.prototype.toString.call(t)},n=function(t,n,i){return t=e(t)?t:[t.x,t.y],n=e(n)?n:[n.x,n.y],i(t,n)},i=t.gradient=function(t,e){return n(t,e,function(t,e){return e[0]==t[0]?e[1]>t[1]?1/0:-1/0:e[1]==t[1]?e[0]>t[0]?0:-0:(e[1]-t[1])/(e[0]-t[0])})},r=(t.normal=function(t,e){return-1/i(t,e)},t.lineLength=function(t,e){return n(t,e,function(t,e){return Math.sqrt(Math.pow(e[1]-t[1],2)+Math.pow(e[0]-t[0],2))})},t.quadrant=function(t,e){return n(t,e,function(t,e){return e[0]>t[0]?e[1]>t[1]?2:1:e[0]==t[0]?e[1]>t[1]?2:1:e[1]>t[1]?3:4})}),o=(t.theta=function(t,e){return n(t,e,function(t,e){var n=i(t,e),o=Math.atan(n),s=r(t,e);return(4==s||3==s)&&(o+=Math.PI),0>o&&(o+=2*Math.PI),o})},t.intersects=function(t,e){var n=t.x,i=t.x+t.w,r=t.y,o=t.y+t.h,s=e.x,a=e.x+e.w,l=e.y,u=e.y+e.h;return s>=n&&i>=s&&l>=r&&o>=l||a>=n&&i>=a&&l>=r&&o>=l||s>=n&&i>=s&&u>=r&&o>=u||a>=n&&i>=s&&u>=r&&o>=u||n>=s&&a>=n&&r>=l&&u>=r||i>=s&&a>=i&&r>=l&&u>=r||n>=s&&a>=n&&o>=l&&u>=o||i>=s&&a>=n&&o>=l&&u>=o},t.encloses=function(t,e,n){var i=t.x,r=t.x+t.w,o=t.y,s=t.y+t.h,a=e.x,l=e.x+e.w,u=e.y,c=e.y+e.h,h=function(t,e,i,r){return n?e>=t&&i>=r:e>t&&i>r};return h(i,a,r,l)&&h(o,u,s,c)},[null,[1,-1],[1,1],[-1,1],[-1,-1]]),s=[null,[-1,-1],[-1,1],[1,1],[1,-1]];t.pointOnLine=function(t,e,n){var a=i(t,e),l=r(t,e),u=n>0?o[l]:s[l],c=Math.atan(a),h=Math.abs(n*Math.sin(c))*u[1],d=Math.abs(n*Math.cos(c))*u[0];return{x:t.x+d,y:t.y+h}},t.perpendicularLineTo=function(t,e,n){var r=i(t,e),o=Math.atan(-1/r),s=n/2*Math.sin(o),a=n/2*Math.cos(o);return[{x:e.x+a,y:e.y+s},{x:e.x-a,y:e.y-s}]}}.call(this),function(){"use strict";var t=this,e={android:navigator.userAgent.toLowerCase().indexOf("android")>-1},n=function(t,e,n){n=n||t.parentNode;for(var i=n.querySelectorAll(e),r=0;r<i.length;r++)if(i[r]===t)return!0;return!1},i=function(t){return"string"==typeof t||t.constructor===String?document.getElementById(t):t},r=function(t){return t.srcElement||t.target},o=function(t,e){for(var n=0,i=t.length;i>n&&t[n]!=e;n++);n<t.length&&t.splice(n,1)},s=1,a=function(t,e,n){var i=s++;return t.__ta=t.__ta||{},t.__ta[e]=t.__ta[e]||{},t.__ta[e][i]=n,n.__tauid=i,i},l=function(t,e,n){if(t.__ta&&t.__ta[e]&&delete t.__ta[e][n.__tauid],n.__taExtra){for(var i=0;i<n.__taExtra.length;i++)T(t,n.__taExtra[i][0],n.__taExtra[i][1]);n.__taExtra.length=0}n.__taUnstore&&n.__taUnstore()},u=function(t,e,i,o){if(null==t)return i;var s=t.split(","),a=function(t){a.__tauid=i.__tauid;for(var o=r(t),l=0;l<s.length;l++)n(o,s[l],e)&&i.apply(o,arguments)};return c(i,o,a),a},c=function(t,e,n){t.__taExtra=t.__taExtra||[],t.__taExtra.push([e,n])},h=function(t,e,n,i){if(v&&b[e]){var r=u(i,t,n,b[e]);D(t,b[e],r,n)}"focus"===e&&null==t.getAttribute("tabindex")&&t.setAttribute("tabindex","1"),D(t,e,u(i,t,n,e),n)},d=function(t,e,n,i){if(null==t.__taSmartClicks){var s=function(e){t.__tad=$(e)},a=function(e){t.__tau=$(e)},l=function(e){if(t.__tad&&t.__tau&&t.__tad[0]===t.__tau[0]&&t.__tad[1]===t.__tau[1])for(var n=0;n<t.__taSmartClicks.length;n++)t.__taSmartClicks[n].apply(r(e),[e])};h(t,"mousedown",s,i),h(t,"mouseup",a,i),h(t,"click",l,i),t.__taSmartClicks=[]}t.__taSmartClicks.push(n),n.__taUnstore=function(){o(t.__taSmartClicks,n)}},f={tap:{touches:1,taps:1},dbltap:{touches:1,taps:2},contextmenu:{touches:2,taps:1}},p=function(t,e){return function(i,s,a,l){if("contextmenu"==s&&y)h(i,s,a,l);else{if(null==i.__taTapHandler){var u=i.__taTapHandler={tap:[],dbltap:[],contextmenu:[],down:!1,taps:0,downSelectors:[]},c=function(r){for(var o=r.srcElement||r.target,s=0;s<u.downSelectors.length;s++)if(null==u.downSelectors[s]||n(o,u.downSelectors[s],i)){u.down=!0,setTimeout(p,t),setTimeout(g,e);break}},d=function(t){if(u.down){var e=t.srcElement||t.target;u.taps++;var o=k(t);for(var s in f)if(f.hasOwnProperty(s)){var a=f[s];if(a.touches===o&&(1===a.taps||a.taps===u.taps))for(var l=0;l<u[s].length;l++)(null==u[s][l][1]||n(e,u[s][l][1],i))&&u[s][l][0].apply(r(t),[t])}}},p=function(){u.down=!1},g=function(){u.taps=0};h(i,"mousedown",c),h(i,"mouseup",d)}i.__taTapHandler.downSelectors.push(l),i.__taTapHandler[s].push([a,l]),a.__taUnstore=function(){o(i.__taTapHandler[s],a)}}}},g=function(t,e,n,i){for(var r in n.__tamee[t])n.__tamee[t].hasOwnProperty(r)&&n.__tamee[t][r].apply(i,[e])},m=function(){var t=[];return function(e,i,o,s){if(!e.__tamee){e.__tamee={over:!1,mouseenter:[],mouseexit:[]};var l=function(i){var o=r(i);(null==s&&o==e&&!e.__tamee.over||n(o,s,e)&&(null==o.__tamee||!o.__tamee.over))&&(g("mouseenter",i,e,o),o.__tamee=o.__tamee||{},o.__tamee.over=!0,t.push(o))},c=function(i){for(var o=r(i),s=0;s<t.length;s++)o!=t[s]||n(i.relatedTarget||i.toElement,"*",o)||(o.__tamee.over=!1,t.splice(s,1),g("mouseexit",i,e,o))};D(e,"mouseover",u(s,e,l,"mouseover"),l),D(e,"mouseout",u(s,e,c,"mouseout"),c)}o.__taUnstore=function(){delete e.__tamee[i][o.__tauid]},a(e,i,o),e.__tamee[i][o.__tauid]=o}},v="ontouchstart"in document.documentElement,y="onmousedown"in document.documentElement,b={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},w=function(){var t=-1;if("Microsoft Internet Explorer"==navigator.appName){var e=navigator.userAgent,n=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=n.exec(e)&&(t=parseFloat(RegExp.$1))}return t}(),x=w>-1&&9>w,_=function(t,e){if(null==t)return[0,0];var n=S(t),i=E(n,0);return[i[e+"X"],i[e+"Y"]]},$=function(t){return null==t?[0,0]:x?[t.clientX+document.documentElement.scrollLeft,t.clientY+document.documentElement.scrollTop]:_(t,"page")},C=function(t){return _(t,"screen")},A=function(t){return _(t,"client")},E=function(t,e){return t.item?t.item(e):t[e]},S=function(t){return t.touches&&t.touches.length>0?t.touches:t.changedTouches&&t.changedTouches.length>0?t.changedTouches:t.targetTouches&&t.targetTouches.length>0?t.targetTouches:[t]},k=function(t){return S(t).length},D=function(t,e,n,i){if(a(t,e,n),i.__tauid=n.__tauid,t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent){var r=e+n.__tauid;t["e"+r]=n,t[r]=function(){t["e"+r]&&t["e"+r](window.event)},t.attachEvent("on"+e,t[r])}},T=function(t,e,n){null!=n&&F(t,function(){var r=i(this);if(l(r,e,n),null!=n.__tauid)if(r.removeEventListener)r.removeEventListener(e,n,!1),v&&b[e]&&r.removeEventListener(b[e],n,!1);else if(this.detachEvent){var o=e+n.__tauid;r[o]&&r.detachEvent("on"+e,r[o]),r[o]=null,r["e"+o]=null}n.__taTouchProxy&&T(t,n.__taTouchProxy[1],n.__taTouchProxy[0])})},F=function(t,e){if(null!=t){t="undefined"!=typeof Window&&"unknown"!=typeof t.top&&t==t.top?[t]:"string"!=typeof t&&null==t.tagName&&null!=t.length?t:"string"==typeof t?document.querySelectorAll(t):[t];for(var n=0;n<t.length;n++)e.apply(t[n])}};t.Mottle=function(t){t=t||{};var n=t.clickThreshold||150,r=t.dblClickThreshold||350,o=new m,s=new p(n,r),a=t.smartClicks,l=function(t,e,n,r){null!=n&&F(t,function(){var t=i(this);a&&"click"===e?d(t,e,n,r):"tap"===e||"dbltap"===e||"contextmenu"===e?s(t,e,n,r):"mouseenter"===e||"mouseexit"==e?o(t,e,n,r):h(t,e,n,r)})};this.remove=function(t){return F(t,function(){var t=i(this);if(t.__ta)for(var e in t.__ta)if(t.__ta.hasOwnProperty(e))for(var n in t.__ta[e])t.__ta[e].hasOwnProperty(n)&&T(t,e,t.__ta[e][n]);t.parentNode&&t.parentNode.removeChild(t)}),this},this.on=function(){var t=arguments[0],e=4==arguments.length?arguments[2]:null,n=arguments[1],i=arguments[arguments.length-1];return l(t,n,i,e),this},this.off=function(t,e,n){return T(t,e,n),this},this.trigger=function(t,n,r,o){var s=y&&("undefined"==typeof MouseEvent||null==r||r.constructor===MouseEvent),a=v&&!y&&b[n]?b[n]:n,l=!(v&&!y&&b[n]),u=$(r),c=C(r),h=A(r);return F(t,function(){var t,d=i(this);r=r||{screenX:c[0],screenY:c[1],clientX:h[0],clientY:h[1]};var f=function(t){o&&(t.payload=o)},p={TouchEvent:function(t){var e=document.createTouch(window,d,0,u[0],u[1],c[0],c[1],h[0],h[1],0,0,0,0),n=document.createTouchList(e),i=document.createTouchList(e),r=document.createTouchList(e);t.initTouchEvent(a,!0,!0,window,null,c[0],c[1],h[0],h[1],!1,!1,!1,!1,n,i,r,1,0)},MouseEvents:function(t){if(t.initMouseEvent(a,!0,!0,window,0,c[0],c[1],h[0],h[1],!1,!1,!1,!1,1,d),e.android){var n=document.createTouch(window,d,0,u[0],u[1],c[0],c[1],h[0],h[1],0,0,0,0);t.touches=t.targetTouches=t.changedTouches=document.createTouchList(n)}}};if(document.createEvent){var g=!l&&!s&&v&&b[n]&&!e.android,m=g?"TouchEvent":"MouseEvents";t=document.createEvent(m),p[m](t),f(t),d.dispatchEvent(t)}else document.createEventObject&&(t=document.createEventObject(),t.eventType=t.eventName=a,t.screenX=c[0],t.screenY=c[1],t.clientX=h[0],t.clientY=h[1],f(t),d.fireEvent("on"+a,t))}),this}},t.Mottle.consume=function(t,e){t.stopPropagation?t.stopPropagation():t.returnValue=!1,!e&&t.preventDefault&&t.preventDefault()},t.Mottle.pageLocation=$,t.Mottle.setForceTouchEvents=function(t){v=t},t.Mottle.setForceMouseEvents=function(t){y=t}}.call(this),function(){"use strict";var t=function(t,e,n){return-1===t.indexOf(e)?(n?t.unshift(e):t.push(e),!0):!1},e=function(t,e){var n=t.indexOf(e);-1!=n&&t.splice(n,1)},n=function(t,e){for(var n=[],i=0;i<t.length;i++)-1==e.indexOf(t[i])&&n.push(t[i]);return n},i=function(t){return null==t?!1:"string"==typeof t||t.constructor==String},r=function(t){var e=t.getBoundingClientRect(),n=document.body,i=document.documentElement,r=window.pageYOffset||i.scrollTop||n.scrollTop,o=window.pageXOffset||i.scrollLeft||n.scrollLeft,s=i.clientTop||n.clientTop||0,a=i.clientLeft||n.clientLeft||0,l=e.top+r-s,u=e.left+o-a;return{top:Math.round(l),left:Math.round(u)}},o=function(t,e,n){n=n||t.parentNode;for(var i=n.querySelectorAll(e),r=0;r<i.length;r++)if(i[r]===t)return!0;return!1},s=function(){var t=-1;if("Microsoft Internet Explorer"==navigator.appName){var e=navigator.userAgent,n=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=n.exec(e)&&(t=parseFloat(RegExp.$1))}return t}(),a=50,l=50,u=s>-1&&9>s,c=9==s,h=function(t){if(u)return[t.clientX+document.documentElement.scrollLeft,t.clientY+document.documentElement.scrollTop];var e=f(t),n=d(e,0);return c?[n.pageX||n.clientX,n.pageY||n.clientY]:[n.pageX,n.pageY]},d=function(t,e){return t.item?t.item(e):t[e]},f=function(t){return t.touches&&t.touches.length>0?t.touches:t.changedTouches&&t.changedTouches.length>0?t.changedTouches:t.targetTouches&&t.targetTouches.length>0?t.targetTouches:[t]},p={draggable:"katavorio-draggable",droppable:"katavorio-droppable",drag:"katavorio-drag",selected:"katavorio-drag-selected",active:"katavorio-drag-active",hover:"katavorio-drag-hover",noSelect:"katavorio-drag-no-select"},g="katavorio-drag-scope",m=["stop","start","drag","drop","over","out","beforeStart"],v=function(){},y=function(){return!0},b=function(t,e,n){for(var i=0;i<t.length;i++)t[i]!=n&&e(t[i])},w=function(t,e,n,i){b(t,function(t){t.setActive(e),e&&t.updatePosition(),n&&t.setHover(i,e)})},x=function(t,e){if(null!=t){t=i(t)||null!=t.tagName||null==t.length?[t]:t;for(var n=0;n<t.length;n++)e.apply(t[n],[t[n]])}},_=function(t){t.stopPropagation?(t.stopPropagation(),t.preventDefault()):t.returnValue=!1},$="input,textarea,select,button,option",C=function(t,e,n){var i=t.srcElement||t.target;return!o(i,n.getInputFilterSelector(),e)},A=function(t,e,n,i){this.params=e||{},this.el=t,this.params.addClass(this.el,this._class),this.uuid=k();var r=!0;return this.setEnabled=function(t){r=t},this.isEnabled=function(){return r},this.toggleEnabled=function(){r=!r},this.setScope=function(t){this.scopes=t?t.split(/\s+/):[i]},this.addScope=function(t){var e={};x(this.scopes,function(t){e[t]=!0}),x(t?t.split(/\s+/):[],function(t){e[t]=!0}),this.scopes=[];for(var n in e)this.scopes.push(n)},this.removeScope=function(t){var e={};x(this.scopes,function(t){e[t]=!0}),x(t?t.split(/\s+/):[],function(t){delete e[t]}),this.scopes=[];for(var n in e)this.scopes.push(n)},this.toggleScope=function(t){var e={};x(this.scopes,function(t){e[t]=!0}),x(t?t.split(/\s+/):[],function(t){e[t]?delete e[t]:e[t]=!0}),this.scopes=[];for(var n in e)this.scopes.push(n)},this.setScope(e.scope),this.k=e.katavorio,e.katavorio},E=function(t,e,n){this._class=n.draggable;var s=A.apply(this,arguments);this.rightButtonCanDrag=this.params.rightButtonCanDrag;var u=[0,0],c=null,d=!1,f=this.params.consumeStartEvent!==!1,p=this.el,g=this.params.clone,m=(this.params.scroll,e.multipleDrop!==!1),v=e.snapThreshold||5,b=function(t,e,n,i,r){i=i||v,r=r||v;var o=Math.floor(t[0]/e),s=e*o,a=s+e,l=Math.abs(t[0]-s)<=i?s:Math.abs(a-t[0])<=i?a:t[0],u=Math.floor(t[1]/n),c=n*u,h=c+n,d=Math.abs(t[1]-c)<=r?c:Math.abs(h-t[1])<=r?h:t[1];return[l,d]};this.posses=[],this.posseRoles={},this.toGrid=function(t){return null==this.params.grid?t:b(t,this.params.grid[0],this.params.grid[1])},this.snap=function(t,e){if(null!=p){t=t||(this.params.grid?this.params.grid[0]:a),e=e||(this.params.grid?this.params.grid[1]:l);var n=this.params.getPosition(p);this.params.setPosition(p,b(n,t,e,t,e))}},this.constrain="function"==typeof this.params.constrain?this.params.constrain:this.params.constrain||this.params.containment?function(t){return[Math.max(0,Math.min(D.w-this.size[0],t[0])),Math.max(0,Math.min(D.h-this.size[1],t[1]))]}:function(t){return t};var x=function(t){return"function"==typeof t?(t._katavorioId=k(),t._katavorioId):t},$={},E=function(t){for(var e in $){var n=$[e],i=n[0](t);if(n[1]&&(i=!i),!i)return!1}return!0},S=this.setFilter=function(e,n){if(e){var r=x(e);$[r]=[function(n){var r,s=n.srcElement||n.target;return i(e)?r=o(s,e,t):"function"==typeof e&&(r=e(n,t)),r},n!==!1]}};this.addFilter=S,this.removeFilter=function(t){var e="function"==typeof t?t._katavorioId:t;delete $[e]},this.clearAllFilters=function(){$={}},this.canDrag=this.params.canDrag||y;var D,T=[],F=[];this.downListener=function(t){var e=this.rightButtonCanDrag||3!==t.which&&2!==t.button;if(e&&this.isEnabled()&&this.canDrag()){var i=E(t)&&C(t,this.el,this.k);if(i){if(g){p=this.el.cloneNode(!0),p.setAttribute("id",null),p.style.position="absolute";var o=r(this.el);p.style.left=o.left+"px",p.style.top=o.top+"px",document.body.appendChild(p)}else p=this.el;f&&_(t),u=h(t),this.params.bind(document,"mousemove",this.moveListener),this.params.bind(document,"mouseup",this.upListener),s.markSelection(this),s.markPosses(this),this.params.addClass(document.body,n.noSelect),L("beforeStart",{el:this.el,pos:c,e:t,drag:this})}else this.params.consumeFilteredEvents&&_(t)}}.bind(this),this.moveListener=function(t){if(u){if(!d){var e=L("start",{el:this.el,pos:c,e:t,drag:this});if(e!==!1){if(!u)return;this.mark(!0),d=!0}}if(u){F.length=0;var n=h(t),i=n[0]-u[0],r=n[1]-u[1],o=this.params.ignoreZoom?1:s.getZoom();i/=o,r/=o,this.moveBy(i,r,t),s.updateSelection(i,r,this),s.updatePosses(i,r,this)}}}.bind(this),this.upListener=function(t){u&&(u=null,this.params.unbind(document,"mousemove",this.moveListener),this.params.unbind(document,"mouseup",this.upListener),this.params.removeClass(document.body,n.noSelect),this.unmark(t),s.unmarkSelection(this,t),s.unmarkPosses(this,t),this.stop(t),s.notifySelectionDragStop(this,t),s.notifyPosseDragStop(this,t),d=!1,g&&(p&&p.parentNode&&p.parentNode.removeChild(p),p=null))}.bind(this),this.getFilters=function(){return $},this.abort=function(){null!=u&&this.upListener()},this.getDragElement=function(){return p||this.el};var M={start:[],drag:[],stop:[],over:[],out:[],beforeStart:[]};e.events.start&&M.start.push(e.events.start),e.events.beforeStart&&M.beforeStart.push(e.events.beforeStart),e.events.stop&&M.stop.push(e.events.stop),e.events.drag&&M.drag.push(e.events.drag),this.on=function(t,e){M[t]&&M[t].push(e)};var L=function(t,e){if(M[t])for(var n=0;n<M[t].length;n++)try{M[t][n](e)}catch(i){}};this.notifyStart=function(t){L("start",{el:this.el,pos:this.params.getPosition(p),e:t,drag:this})},this.stop=function(t,e){if(e||d){var n=[],i=s.getSelection(),r=this.params.getPosition(p);if(i.length>1)for(var o=0;o<i.length;o++){var a=this.params.getPosition(i[o].el);n.push([i[o].el,{left:a[0],top:a[1]},i[o]])}else n.push([p,{left:r[0],top:r[1]},this]);L("stop",{el:p,pos:r,e:t,drag:this,selection:n})}},this.mark=function(t){if(c=this.params.getPosition(p),this.size=this.params.getSize(p),T=s.getMatchingDroppables(this),w(T,!0,!1,this),this.params.addClass(p,this.params.dragClass||n.drag),this.params.constrain||this.params.containment){var e=this.params.getSize(p.parentNode);D={w:e[0],h:e[1]}}t&&s.notifySelectionDragStart(this)},this.unmark=function(t,e){if(w(T,!1,!0,this),this.params.removeClass(p,this.params.dragClass||n.drag),T.length=0,!e)for(var i=0;i<F.length;i++){var r=F[i].drop(this,t);if(r===!0)break}},this.moveBy=function(t,e,n){F.length=0;var i=this.constrain(this.toGrid([c[0]+t,c[1]+e]),p),r={x:i[0],y:i[1],w:this.size[0],h:this.size[1]},o=null;this.params.setPosition(p,i);for(var s=0;s<T.length;s++){var a={x:T[s].position[0],y:T[s].position[1],w:T[s].size[0],h:T[s].size[1]};this.params.intersects(r,a)&&(m||null==o||o==T[s].el)&&T[s].canDrop(this)?(o||(o=T[s].el),F.push(T[s]),T[s].setHover(this,!0,n)):T[s].isHover()&&T[s].setHover(this,!1,n)}L("drag",{el:this.el,pos:i,e:n,drag:this})},this.destroy=function(){this.params.unbind(this.el,"mousedown",this.downListener),this.params.unbind(document,"mousemove",this.moveListener),this.params.unbind(document,"mouseup",this.upListener),this.downListener=null,this.upListener=null,this.moveListener=null},this.params.bind(this.el,"mousedown",this.downListener),this.params.handle?S(this.params.handle,!1):S(this.params.filter,this.params.filterExclude)},S=function(t,e,n){this._class=n.droppable,this.params=e||{},this._activeClass=this.params.activeClass||n.active,this._hoverClass=this.params.hoverClass||n.hover,A.apply(this,arguments);var i=!1;this.allowLoopback=this.params.allowLoopback!==!1,this.setActive=function(t){this.params[t?"addClass":"removeClass"](this.el,this._activeClass)},this.updatePosition=function(){this.position=this.params.getPosition(this.el),this.size=this.params.getSize(this.el)},this.canDrop=this.params.canDrop||function(){return!0},this.isHover=function(){return i},this.setHover=function(t,e,n){(e||null==this.el._katavorioDragHover||this.el._katavorioDragHover==t.el._katavorio)&&(this.params[e?"addClass":"removeClass"](this.el,this._hoverClass),this.el._katavorioDragHover=e?t.el._katavorio:null,i!==e&&this.params.events[e?"over":"out"]({el:this.el,e:n,drag:t,drop:this}),i=e)},this.drop=function(t,e){return this.params.events.drop({drag:t,e:e,drop:this})},this.destroy=function(){this._class=null,this._activeClass=null,this._hoverClass=null,i=null}},k=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=0|16*Math.random(),n="x"==t?e:8|3&e;return n.toString(16)})},D=function(t){return null==t?null:(t="string"==typeof t||t.constructor==String?document.getElementById(t):t,null==t?null:(t._katavorio=t._katavorio||k(),t))};this.Katavorio=function(r){var o=[],s={};this._dragsByScope={},this._dropsByScope={};var a=1,l=function(t,e){x(t,function(t){for(var n=0;n<t.scopes.length;n++)e[t.scopes[n]]=e[t.scopes[n]]||[],e[t.scopes[n]].push(t)})},u=function(t,e){var n=0;return x(t,function(t){for(var i=0;i<t.scopes.length;i++)if(e[t.scopes[i]]){var o=r.indexOf(e[t.scopes[i]],t);-1!=o&&(e[t.scopes[i]].splice(o,1),n++)}}),n>0},c=(this.getMatchingDroppables=function(t){for(var e=[],n={},i=0;i<t.scopes.length;i++){var r=this._dropsByScope[t.scopes[i]];if(r)for(var o=0;o<r.length;o++)!r[o].canDrop(t)||n[r[o].uuid]||!r[o].allowLoopback&&r[o].el===t.el||(n[r[o].uuid]=!0,e.push(r[o]))}return e},function(t){t=t||{};var e,n={events:{}};for(e in r)n[e]=r[e];for(e in t)n[e]=t[e];for(e=0;e<m.length;e++)n.events[m[e]]=t[m[e]]||v;return n.katavorio=this,n}.bind(this)),h=function(t,e){for(var n=0;n<m.length;n++)e[m[n]]&&t.on(m[n],e[m[n]])}.bind(this),d={},f=r.css||{},y=r.scope||g;for(var w in p)d[w]=p[w];for(var w in f)d[w]=f[w];var _=r.inputFilterSelector||$;this.getInputFilterSelector=function(){return _},this.setInputFilterSelector=function(t){return _=t,this},this.draggable=function(t,e){var n=[];return x(t,function(t){if(t=D(t),null!=t)if(null==t._katavorioDrag){var i=c(e);t._katavorioDrag=new E(t,i,d,y),l(t._katavorioDrag,this._dragsByScope),n.push(t._katavorioDrag),r.addClass(t,d.draggable)}else h(t._katavorioDrag,e)}.bind(this)),n},this.droppable=function(t,e){var n=[];return x(t,function(t){if(t=D(t),null!=t){var i=new S(t,c(e),d,y);t._katavorioDrop=t._katavorioDrop||[],t._katavorioDrop.push(i),l(i,this._dropsByScope),n.push(i),r.addClass(t,d.droppable)}}.bind(this)),n},this.select=function(t){return x(t,function(){var t=D(this);t&&t._katavorioDrag&&(s[t._katavorio]||(o.push(t._katavorioDrag),s[t._katavorio]=[t,o.length-1],r.addClass(t,d.selected)))}),this},this.deselect=function(t){return x(t,function(){var t=D(this);if(t&&t._katavorio){var e=s[t._katavorio];if(e){for(var n=[],i=0;i<o.length;i++)o[i].el!==t&&n.push(o[i]);o=n,delete s[t._katavorio],r.removeClass(t,d.selected)}}}),this},this.deselectAll=function(){for(var t in s){var e=s[t];r.removeClass(e[0],d.selected)}o.length=0,s={}},this.markSelection=function(t){b(o,function(t){t.mark()},t)},this.markPosses=function(t){t.posses&&x(t.posses,function(e){t.posseRoles[e]&&T[e]&&b(T[e].members,function(t){t.mark()},t)})},this.unmarkSelection=function(t,e){b(o,function(t){t.unmark(e)},t)},this.unmarkPosses=function(t,e){t.posses&&x(t.posses,function(n){t.posseRoles[n]&&T[n]&&b(T[n].members,function(t){t.unmark(e,!0)},t)})},this.getSelection=function(){return o.slice(0)},this.updateSelection=function(t,e,n){b(o,function(n){n.moveBy(t,e)},n)};var C=function(t,e){e.posses&&x(e.posses,function(n){e.posseRoles[n]&&T[n]&&b(T[n].members,function(e){t(e)},e)})};this.updatePosses=function(t,e,n){C(function(n){n.moveBy(t,e)},n)},this.notifyPosseDragStop=function(t,e){C(function(t){t.stop(e,!0)},t)},this.notifySelectionDragStop=function(t,e){b(o,function(t){t.stop(e,!0)},t)},this.notifySelectionDragStart=function(t,e){b(o,function(t){t.notifyStart(e)},t)},this.setZoom=function(t){a=t},this.getZoom=function(){return a};var A=function(t,e,n,i){x(t,function(t){u(t,n),t[i](e),l(t,n)})};x(["set","add","remove","toggle"],function(t){this[t+"Scope"]=function(e,n){A(e._katavorioDrag,n,this._dragsByScope,t+"Scope"),A(e._katavorioDrop,n,this._dropsByScope,t+"Scope")}.bind(this),this[t+"DragScope"]=function(e,n){A(e.constructor===E?e:e._katavorioDrag,n,this._dragsByScope,t+"Scope")}.bind(this),this[t+"DropScope"]=function(e,n){A(e.constructor===S?e:e._katavorioDrop,n,this._dropsByScope,t+"Scope")}.bind(this)}.bind(this)),this.snapToGrid=function(t,e){for(var n in this._dragsByScope)b(this._dragsByScope[n],function(n){n.snap(t,e)})},this.getDragsForScope=function(t){return this._dragsByScope[t]},this.getDropsForScope=function(t){return this._dropsByScope[t]};var k=function(t,e,n){t=D(t),t[e]&&(u(t[e],n)&&x(t[e],function(t){t.destroy()}),t[e]=null)};this.elementRemoved=function(t){this.destroyDraggable(t),this.destroyDroppable(t)},this.destroyDraggable=function(t){k(t,"_katavorioDrag",this._dragsByScope)},this.destroyDroppable=function(t){k(t,"_katavorioDrop",this._dropsByScope)},this.reset=function(){this._dragsByScope={},this._dropsByScope={},o=[],s={},T={}};var T={},F=function(e,n,r){var o=i(n)?n:n.id,s=i(n)?!0:n.active!==!1,a=T[o]||function(){var t={name:o,members:[]};return T[o]=t,t}();return x(e,function(e){if(e._katavorioDrag){if(r&&null!=e._katavorioDrag.posseRoles[a.name])return;t(a.members,e._katavorioDrag),t(e._katavorioDrag.posses,a.name),e._katavorioDrag.posseRoles[a.name]=s}}),a};this.addToPosse=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(F(t,arguments[n]));return 1==e.length?e[0]:e},this.setPosse=function(t){for(var e=[],i=1;i<arguments.length;i++)e.push(F(t,arguments[i],!0).name);return x(t,function(t){if(t._katavorioDrag){var i=n(t._katavorioDrag.posses,e),r=[];Array.prototype.push.apply(r,t._katavorioDrag.posses);for(var o=0;o<i.length;o++)this.removeFromPosse(t,i[o])}}.bind(this)),1==e.length?e[0]:e},this.removeFromPosse=function(t,n){if(arguments.length<2)throw new TypeError("No posse id provided for remove operation");for(var i=1;i<arguments.length;i++)n=arguments[i],x(t,function(t){if(t._katavorioDrag&&t._katavorioDrag.posses){var i=t._katavorioDrag;x(n,function(t){e(T[t].members,i),e(i.posses,t),delete i.posseRoles[t]})}})},this.removeFromAllPosses=function(t){x(t,function(t){if(t._katavorioDrag&&t._katavorioDrag.posses){var n=t._katavorioDrag;x(n.posses,function(t){e(T[t].members,n)}),n.posses.length=0,n.posseRoles={}}})},this.setPosseState=function(t,e,n){var i=T[e];i&&x(t,function(t){t._katavorioDrag&&t._katavorioDrag.posses&&(t._katavorioDrag.posseRoles[i.name]=n)})}}}.call(this),function(){var t=function(t){return"[object Array]"===Object.prototype.toString.call(t)},e=function(t){return"[object Number]"===Object.prototype.toString.call(t)},n=function(t){return"string"==typeof t},i=function(t){return"boolean"==typeof t},r=function(t){return null==t},o=function(t){return null==t?!1:"[object Object]"===Object.prototype.toString.call(t)},s=function(t){return"[object Date]"===Object.prototype.toString.call(t)},a=function(t){return"[object Function]"===Object.prototype.toString.call(t)},l=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},u=this,c=u.jsPlumbUtil={isArray:t,isString:n,isBoolean:i,isNull:r,isObject:o,isDate:s,isFunction:a,isEmpty:l,isNumber:e,clone:function(e){if(n(e))return""+e;if(i(e))return!!e;if(s(e))return new Date(e.getTime());if(a(e))return e;if(t(e)){for(var r=[],l=0;l<e.length;l++)r.push(this.clone(e[l]));return r}if(o(e)){var u={};for(var c in e)u[c]=this.clone(e[c]);return u}return e},merge:function(e,r,s){var a,l,u={};for(s=s||[],l=0;l<s.length;l++)u[s[l]]=!0;var c=this.clone(e);for(l in r)if(null==c[l])c[l]=r[l];else if(n(r[l])||i(r[l]))u[l]?(a=[],a.push.apply(a,t(c[l])?c[l]:[c[l]]),a.push.apply(a,t(r[l])?r[l]:[r[l]]),c[l]=a):c[l]=r[l];else if(t(r[l]))a=[],t(c[l])&&a.push.apply(a,c[l]),a.push.apply(a,r[l]),c[l]=a;else if(o(r[l])){o(c[l])||(c[l]={});for(var h in r[l])c[l][h]=r[l][h]}return c},replace:function(t,e,n){if(null!=t){var i=t,r=i;return e.replace(/([^\.])+/g,function(t,e,i,o){var s=t.match(/([^\[0-9]+){1}(\[)([0-9+])/),a=i+t.length>=o.length,l=function(){return r[s[1]]||function(){return r[s[1]]=[],r[s[1]]}()};if(a)s?l()[s[3]]=n:r[t]=n;else if(s){var u=l();r=u[s[3]]||function(){return u[s[3]]={},u[s[3]]}()}else r=r[t]||function(){return r[t]={},r[t]}()}),t}},functionChain:function(t,e,n){for(var i=0;i<n.length;i++){var r=n[i][0][n[i][1]].apply(n[i][0],n[i][2]);if(r===e)return r}return t},populate:function(e,i,r){var s=function(t){var e=t.match(/(\${.*?})/g);if(null!=e)for(var n=0;n<e.length;n++){var r=i[e[n].substring(2,e[n].length-1)]||"";null!=r&&(t=t.replace(e[n],r))}return t},l=function(e){if(null!=e){if(n(e))return s(e);if(!a(e)||null!=r&&0!==(e.name||"").indexOf(r)){if(t(e)){for(var u=[],c=0;c<e.length;c++)u.push(l(e[c]));return u}if(o(e)){var h={};for(var d in e)h[d]=l(e[d]);return h}return e}return e(i)}};return l(e)},findWithFunction:function(t,e){if(t)for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1},removeWithFunction:function(t,e){var n=c.findWithFunction(t,e);return n>-1&&t.splice(n,1),-1!=n},remove:function(t,e){var n=t.indexOf(e);return n>-1&&t.splice(n,1),-1!=n},addWithFunction:function(t,e,n){-1==c.findWithFunction(t,n)&&t.push(e)},addToList:function(t,e,n,i){var r=t[e];return null==r&&(r=[],t[e]=r),r[i?"unshift":"push"](n),r},extend:function(e,n){var i;for(n=t(n)?n:[n],i=0;i<n.length;i++)for(var r in n[i].prototype)n[i].prototype.hasOwnProperty(r)&&(e.prototype[r]=n[i].prototype[r]);var o=function(t,e){return function(){for(i=0;i<n.length;i++)n[i].prototype[t]&&n[i].prototype[t].apply(this,arguments);return e.apply(this,arguments)}},s=function(t){for(var n in t)e.prototype[n]=o(n,t[n])};if(arguments.length>2)for(i=2;i<arguments.length;i++)s(arguments[i]);return e},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=0|16*Math.random(),n="x"==t?e:8|3&e;return n.toString(16)})},logEnabled:!0,log:function(){if(c.logEnabled&&"undefined"!=typeof console)try{var t=arguments[arguments.length-1];console.log(t)}catch(e){}},wrap:function(t,e,n){return t=t||function(){},e=e||function(){},function(){var i=null;try{i=e.apply(this,arguments)}catch(r){c.log("jsPlumb function failed : "+r)}if(null==n||i!==n)try{i=t.apply(this,arguments)}catch(r){c.log("wrapped function failed : "+r)}return i}}};c.EventGenerator=function(){var t={},e=!1,n={ready:!0};this.bind=function(e,n,i){var r=function(e){c.addToList(t,e,n,i),n.__jsPlumb=n.__jsPlumb||{},n.__jsPlumb[jsPlumbUtil.uuid()]=e};if("string"==typeof e)r(e);else if(null!=e.length)for(var o=0;o<e.length;o++)r(e[o]);return this},this.fire=function(i,r,o){if(!e&&t[i]){var s=t[i].length,a=0,l=!1,u=null;if(!this.shouldFireEvent||this.shouldFireEvent(i,r,o))for(;!l&&s>a&&u!==!1;){if(n[i])t[i][a].apply(this,[r,o]);else try{u=t[i][a].apply(this,[r,o])}catch(h){c.log("jsPlumb: fire failed for event "+i+" : "+h)}a++,(null==t||null==t[i])&&(l=!0)}}return this},this.unbind=function(e,n){if(0===arguments.length)t={};else if(1===arguments.length){if("string"==typeof e)delete t[e];else if(e.__jsPlumb){var i;for(var r in e.__jsPlumb)i=e.__jsPlumb[r],c.remove(t[i]||[],e)}}else 2===arguments.length&&c.remove(t[e]||[],n);return this},this.getListener=function(e){return t[e]},this.setSuspendEvents=function(t){e=t},this.isSuspendEvents=function(){return e},this.silently=function(t){this.setSuspendEvents(!0);try{t()}catch(e){jsPlumbUtil.log("Cannot execute silent function "+e)}this.setSuspendEvents(!1)},this.cleanupListeners=function(){for(var e in t)t[e]=null}},c.EventGenerator.prototype={cleanup:function(){this.cleanupListeners()}}}.call(this),
function(){"use strict";var t=this,e=t.jsPlumbUtil;e.matchesSelector=function(t,e,n){n=n||t.parentNode;for(var i=n.querySelectorAll(e),r=0;r<i.length;r++)if(i[r]===t)return!0;return!1},e.consume=function(t,e){t.stopPropagation?t.stopPropagation():t.returnValue=!1,!e&&t.preventDefault&&t.preventDefault()},e.sizeElement=function(t,e,n,i,r){t&&(t.style.height=r+"px",t.height=r,t.style.width=i+"px",t.width=i,t.style.left=e+"px",t.style.top=n+"px")}}.call(this),function(){"use strict";var t,e=this,n=[],i=e.jsPlumbUtil,r=function(){return""+(new Date).getTime()},o=function(t){if(t._jsPlumb.paintStyle&&t._jsPlumb.hoverPaintStyle){var e={};v.extend(e,t._jsPlumb.paintStyle),v.extend(e,t._jsPlumb.hoverPaintStyle),delete t._jsPlumb.hoverPaintStyle,e.gradient&&t._jsPlumb.paintStyle.fillStyle&&delete e.gradient,t._jsPlumb.hoverPaintStyle=e}},s=["tap","dbltap","click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","contextmenu"],a=function(t,e,n,i){var r=t.getAttachedElements();if(r)for(var o=0,s=r.length;s>o;o++)i&&i==r[o]||r[o].setHover(e,!0,n)},l=function(t){return null==t?null:t.split(" ")},u=function(t,e,n){for(var i in e)t[i]=n},c=function(t,e){e=i.isArray(e)||null!=e.length&&!i.isString(e)?e:[e];for(var n=0;n<e.length;n++)try{t.apply(e[n],[e[n]])}catch(r){i.log(".each iteration failed : "+r)}},h=function(t,e,n){if(t.getDefaultType){var r=t.getTypeDescriptor(),o={},s=t.getDefaultType(),a=i.merge({},s);u(o,s,"__default");for(var l=0,c=t._jsPlumb.types.length;c>l;l++){var h=t._jsPlumb.types[l];if("__default"!==h){var d=t._jsPlumb.instance.getType(h,r);null!=d&&(a=i.merge(a,d,["cssClass"]),u(o,d,h))}}e&&(a=i.populate(a,e,"_")),t.applyType(a,n,o),n||t.repaint()}},d=e.jsPlumbUIComponent=function(t){i.EventGenerator.apply(this,arguments);var e=this,n=arguments,r=e.idPrefix,o=r+(new Date).getTime();this._jsPlumb={instance:t._jsPlumb,parameters:t.parameters||{},paintStyle:null,hoverPaintStyle:null,paintStyleInUse:null,hover:!1,beforeDetach:t.beforeDetach,beforeDrop:t.beforeDrop,overlayPlacements:[],hoverClass:t.hoverClass||t._jsPlumb.Defaults.HoverClass,types:[],typeCache:{}},this.cacheTypeItem=function(t,e,n){this._jsPlumb.typeCache[n]=this._jsPlumb.typeCache[n]||{},this._jsPlumb.typeCache[n][t]=e},this.getCachedTypeItem=function(t,e){return this._jsPlumb.typeCache[e]?this._jsPlumb.typeCache[e][t]:null},this.getId=function(){return o};var s=t.overlays||[],a={};if(this.defaultOverlayKeys){for(var l=0;l<this.defaultOverlayKeys.length;l++)Array.prototype.push.apply(s,this._jsPlumb.instance.Defaults[this.defaultOverlayKeys[l]]||[]);for(l=0;l<s.length;l++){var u=v.convertToFullOverlaySpec(s[l]);a[u[1].id]=u}}var c={overlays:a,parameters:t.parameters||{},scope:t.scope||this._jsPlumb.instance.getDefaultScope()};if(this.getDefaultType=function(){return c},this.appendToDefaultType=function(t){for(var e in t)c[e]=t[e]},t.events)for(l in t.events)e.bind(l,t.events[l]);this.clone=function(){var t={};return this.constructor.apply(t,n),t}.bind(this),this.isDetachAllowed=function(t){var e=!0;if(this._jsPlumb.beforeDetach)try{e=this._jsPlumb.beforeDetach(t)}catch(n){i.log("jsPlumb: beforeDetach callback failed",n)}return e},this.isDropAllowed=function(t,e,n,r,o,s,a){var l=this._jsPlumb.instance.checkCondition("beforeDrop",{sourceId:t,targetId:e,scope:n,connection:r,dropEndpoint:o,source:s,target:a});if(this._jsPlumb.beforeDrop)try{l=this._jsPlumb.beforeDrop({sourceId:t,targetId:e,scope:n,connection:r,dropEndpoint:o,source:s,target:a})}catch(u){i.log("jsPlumb: beforeDrop callback failed",u)}return l};var h=[];this.setListenerComponent=function(t){for(var e=0;e<h.length;e++)h[e][3]=t}},f=function(t,e){var n=t._jsPlumb.types[e],i=t._jsPlumb.instance.getType(n,t.getTypeDescriptor());null!=i&&i.cssClass&&t.canvas&&t._jsPlumb.instance.removeClass(t.canvas,i.cssClass)};i.extend(e.jsPlumbUIComponent,i.EventGenerator,{getParameter:function(t){return this._jsPlumb.parameters[t]},setParameter:function(t,e){this._jsPlumb.parameters[t]=e},getParameters:function(){return this._jsPlumb.parameters},setParameters:function(t){this._jsPlumb.parameters=t},getClass:function(){return v.getClass(this.canvas)},hasClass:function(t){return v.hasClass(this.canvas,t)},addClass:function(t){v.addClass(this.canvas,t)},removeClass:function(t){v.removeClass(this.canvas,t)},updateClasses:function(t,e){v.updateClasses(this.canvas,t,e)},setType:function(t,e,n){this.clearTypes(),this._jsPlumb.types=l(t)||[],h(this,e,n)},getType:function(){return this._jsPlumb.types},reapplyTypes:function(t,e){h(this,t,e)},hasType:function(t){return-1!=this._jsPlumb.types.indexOf(t)},addType:function(t,e,n){var i=l(t),r=!1;if(null!=i){for(var o=0,s=i.length;s>o;o++)this.hasType(i[o])||(this._jsPlumb.types.push(i[o]),r=!0);r&&h(this,e,n)}},removeType:function(t,e){var n=l(t),i=!1,r=function(t){var e=this._jsPlumb.types.indexOf(t);return-1!=e?(f(this,e),this._jsPlumb.types.splice(e,1),!0):!1}.bind(this);if(null!=n){for(var o=0,s=n.length;s>o;o++)i=r(n[o])||i;i&&h(this,null,e)}},clearTypes:function(t){for(var e=this._jsPlumb.types.length,n=0;e>n;n++)f(this,0),this._jsPlumb.types.splice(0,1);h(this,{},t)},toggleType:function(t,e,n){var i=l(t);if(null!=i){for(var r=0,o=i.length;o>r;r++){var s=this._jsPlumb.types.indexOf(i[r]);-1!=s?(f(this,s),this._jsPlumb.types.splice(s,1)):this._jsPlumb.types.push(i[r])}h(this,e,n)}},applyType:function(t,e){if(this.setPaintStyle(t.paintStyle,e),this.setHoverPaintStyle(t.hoverPaintStyle,e),t.parameters)for(var n in t.parameters)this.setParameter(n,t.parameters[n]);this._jsPlumb.paintStyleInUse=this.getPaintStyle()},setPaintStyle:function(t,e){this._jsPlumb.paintStyle=t,this._jsPlumb.paintStyleInUse=this._jsPlumb.paintStyle,o(this),e||this.repaint()},getPaintStyle:function(){return this._jsPlumb.paintStyle},setHoverPaintStyle:function(t,e){this._jsPlumb.hoverPaintStyle=t,o(this),e||this.repaint()},getHoverPaintStyle:function(){return this._jsPlumb.hoverPaintStyle},destroy:function(t){(t||null==this.typeId)&&(this.cleanupListeners(),this.clone=null,this._jsPlumb=null)},isHover:function(){return this._jsPlumb.hover},setHover:function(t,e,n){if(this._jsPlumb&&!this._jsPlumb.instance.currentlyDragging&&!this._jsPlumb.instance.isHoverSuspended()){if(this._jsPlumb.hover=t,null!=this.canvas){if(null!=this._jsPlumb.instance.hoverClass){var i=t?"addClass":"removeClass";this._jsPlumb.instance[i](this.canvas,this._jsPlumb.instance.hoverClass)}null!=this._jsPlumb.hoverClass&&this._jsPlumb.instance[i](this.canvas,this._jsPlumb.hoverClass)}null!=this._jsPlumb.hoverPaintStyle&&(this._jsPlumb.paintStyleInUse=t?this._jsPlumb.hoverPaintStyle:this._jsPlumb.paintStyle,this._jsPlumb.instance.isSuspendDrawing()||(n=n||r(),this.repaint({timestamp:n,recalc:!1}))),this.getAttachedElements&&!e&&a(this,t,r(),this)}}});var p=0,g=function(){var t=p+1;return p++,t},m=window.jsPlumbInstance=function(e){this.Defaults={Anchor:"Bottom",Anchors:[null,null],ConnectionsDetachable:!0,ConnectionOverlays:[],Connector:"Bezier",Container:null,DoNotThrowErrors:!1,DragOptions:{},DropOptions:{},Endpoint:"Dot",EndpointOverlays:[],Endpoints:[null,null],EndpointStyle:{fillStyle:"#456"},EndpointStyles:[null,null],EndpointHoverStyle:null,EndpointHoverStyles:[null,null],HoverPaintStyle:null,LabelStyle:{color:"black"},LogEnabled:!1,Overlays:[],MaxConnections:1,PaintStyle:{lineWidth:4,strokeStyle:"#456"},ReattachConnections:!1,RenderMode:"svg",Scope:"jsPlumb_DefaultScope"},e&&v.extend(this.Defaults,e),this.logEnabled=this.Defaults.LogEnabled,this._connectionTypes={},this._endpointTypes={},i.EventGenerator.apply(this);var o=this,a=g(),l=o.bind,u={},h=1,f=function(t){if(null==t)return null;if(3==t.nodeType||8==t.nodeType)return{el:t,text:!0};var e=o.getElement(t);return{el:e,id:i.isString(t)&&null==e?t:G(e)}};this.getInstanceIndex=function(){return a},this.setZoom=function(t,e){return h=t,o.fire("zoom",h),e&&o.repaintEverything(),!0},this.getZoom=function(){return h};for(var p in this.Defaults)u[p]=this.Defaults[p];var m,y=[];this.unbindContainer=function(){if(null!=m&&y.length>0)for(var t=0;t<y.length;t++)o.off(m,y[t][0],y[t][1])},this.setContainer=function(t){this.unbindContainer(),t=this.getElement(t),this.select().each(function(e){e.moveParent(t)}),this.selectEndpoints().each(function(e){e.moveParent(t)});var e=m;m=t,y.length=0;for(var n=function(t,e){var n=e.srcElement||e.target,i=(n&&n.parentNode?n.parentNode._jsPlumb:null)||(n?n._jsPlumb:null)||(n&&n.parentNode&&n.parentNode.parentNode?n.parentNode.parentNode._jsPlumb:null);i&&(i.fire(t,i,e),o.fire(t,i.component||i,e))},i=function(t,e,n){y.push([t,n]),o.on(m,t,e,n)},r=function(t){i(t,".jsplumb-connector > *",function(e){n(t,e)}),i(t,".jsplumb-endpoint, .jsplumb-endpoint > *, .jsplumb-endpoint svg *",function(e){n(t,e)}),i(t,".jsplumb-overlay, .jsplumb-overlay *",function(e){n(t,e)})},a=0;a<s.length;a++)r(s[a]);for(var l in C){var u=C[l].el;u.parentNode===e&&(e.removeChild(u),m.appendChild(u))}},this.getContainer=function(){return m},this.bind=function(t,e){"ready"===t&&w?e():l.apply(o,[t,e])},o.importDefaults=function(t){for(var e in t)o.Defaults[e]=t[e];return t.Container&&o.setContainer(t.Container),o},o.restoreDefaults=function(){return o.Defaults=v.extend({},u),o};var b=null,w=!1,x=[],_={},$={},C={},A={},E={},S={},k=!1,D=[],T=!1,F=null,M=this.Defaults.Scope,L=1,O=function(){return""+L++},P=function(t,e){m?m.appendChild(t):e?this.getElement(e).appendChild(t):this.appendToRoot(t)}.bind(this),B=function(t,e,n,i){if(!v.headless&&!T){var s=G(t),a=o.getDragManager().getElementsForDraggable(s);null==n&&(n=r());var l=mt({elId:s,offset:e,recalc:!1,timestamp:n});if(a)for(var u in a)mt({elId:a[u].id,offset:{left:l.o.left+a[u].offset.left,top:l.o.top+a[u].offset.top},recalc:!1,timestamp:n});if(o.anchorManager.redraw(s,e,n,null,i),a)for(var c in a)o.anchorManager.redraw(a[c].id,e,n,a[c].offset,i,!0)}},I=function(t){return $[t]},R=function(t,e,n,r){if(!v.headless){var s=null==e?!1:e;if(s&&v.isDragSupported(t,o)){var a=n||o.Defaults.DragOptions;if(a=v.extend({},a),v.isAlreadyDraggable(t,o))n.force&&o.initDraggable(t,a);else{var l=v.dragEvents.drag,u=v.dragEvents.stop,c=v.dragEvents.start,h=o.getElement(t),d=o.getDragManager().getDragAncestor(h),f={left:0,top:0},p=f,g=!1;gt(r,t),a[c]=i.wrap(a[c],function(){return p=null!=d?o.getOffset(d):f,o.setHoverSuspended(!0),o.select({source:t}).addClass(o.elementDraggingClass+" "+o.sourceElementDraggingClass,!0),o.select({target:t}).addClass(o.elementDraggingClass+" "+o.targetElementDraggingClass,!0),o.setConnectionBeingDragged(!0),a.canDrag?n.canDrag():void 0},!1),a[l]=i.wrap(a[l],function(){var e=o.getUIPosition(arguments,o.getZoom());e.left+=p.left,e.top+=p.top,B(t,e,null,!0),g&&o.addClass(t,"jsplumb-dragged"),g=!0}),a[u]=i.wrap(a[u],function(){for(var t=arguments[0].selection,e=o.getUIPosition(arguments),n=function(t){B(t[0],e),o.removeClass(t[0],"jsplumb-dragged"),o.select({source:t[0]}).removeClass(o.elementDraggingClass+" "+o.sourceElementDraggingClass,!0),o.select({target:t[0]}).removeClass(o.elementDraggingClass+" "+o.targetElementDraggingClass,!0),o.getDragManager().dragEnded(t[0])},i=0;i<t.length;i++)n(t[i]);g=!1,o.setHoverSuspended(!1),o.setConnectionBeingDragged(!1)});var m=G(t);S[m]=!0;var y=S[m];a.disabled=null==y?!1:!y,o.initDraggable(t,a),o.getDragManager().register(t)}}}},j=function(t,e){for(var n=t.scope.split(/\s/),i=e.scope.split(/\s/),r=0;r<n.length;r++)for(var o=0;o<i.length;o++)if(i[o]==n[r])return!0;return!1},N=function(t,e){var n=v.extend({},t);if(e&&v.extend(n,e),n.source&&(n.source.endpoint?n.sourceEndpoint=n.source:n.source=o.getElement(n.source)),n.target&&(n.target.endpoint?n.targetEndpoint=n.target:n.target=o.getElement(n.target)),t.uuids&&(n.sourceEndpoint=I(t.uuids[0]),n.targetEndpoint=I(t.uuids[1])),n.sourceEndpoint&&n.sourceEndpoint.isFull())return void i.log(o,"could not add connection; source endpoint is full");if(n.targetEndpoint&&n.targetEndpoint.isFull())return void i.log(o,"could not add connection; target endpoint is full");if(!n.type&&n.sourceEndpoint&&(n.type=n.sourceEndpoint.connectionType),n.sourceEndpoint&&n.sourceEndpoint.connectorOverlays){n.overlays=n.overlays||[];for(var r=0,s=n.sourceEndpoint.connectorOverlays.length;s>r;r++)n.overlays.push(n.sourceEndpoint.connectorOverlays[r])}n.sourceEndpoint&&n.sourceEndpoint.scope&&(n.scope=n.sourceEndpoint.scope),!n["pointer-events"]&&n.sourceEndpoint&&n.sourceEndpoint.connectorPointerEvents&&(n["pointer-events"]=n.sourceEndpoint.connectorPointerEvents);var a=function(t,e){var n=v.extend({},t);for(var i in e)e[i]&&(n[i]=e[i]);return n},l=function(t,e,i){return o.addEndpoint(t,a(e,{anchor:n.anchors?n.anchors[i]:n.anchor,endpoint:n.endpoints?n.endpoints[i]:n.endpoint,paintStyle:n.endpointStyles?n.endpointStyles[i]:n.endpointStyle,hoverPaintStyle:n.endpointHoverStyles?n.endpointHoverStyles[i]:n.endpointHoverStyle}))},u=function(t,e,i,r){if(n[t]&&!n[t].endpoint&&!n[t+"Endpoint"]&&!n.newConnection){var o=G(n[t]),s=i[o];if(s=s?s[r]:null){if(!s.enabled)return!1;var a=null!=s.endpoint&&s.endpoint._jsPlumb?s.endpoint:l(n[t],s.def,e);if(a.isFull())return!1;n[t+"Endpoint"]=a,a._doNotDeleteOnDetach=!1,a._deleteOnDetach=!0,s.uniqueEndpoint&&(s.endpoint?a.finalEndpoint=s.endpoint:(s.endpoint=a,a._deleteOnDetach=!1,a._doNotDeleteOnDetach=!0))}}};return u("source",0,this.sourceEndpointDefinitions,n.type||"default")!==!1&&u("target",1,this.targetEndpointDefinitions,n.type||"default")!==!1?(n.sourceEndpoint&&n.targetEndpoint&&(j(n.sourceEndpoint,n.targetEndpoint)||(n=null)),n):void 0}.bind(o),z=function(t){var e=o.Defaults.ConnectionType||o.getDefaultConnectionType();t._jsPlumb=o,t.newConnection=z,t.newEndpoint=V,t.endpointsByUUID=$,t.endpointsByElement=_,t.finaliseConnection=U,t.id="con_"+O();var n=new e(t);return n.isDetachable()&&(n.endpoints[0].initDraggable("_jsPlumbSource"),n.endpoints[1].initDraggable("_jsPlumbTarget")),n},U=o.finaliseConnection=function(t,e,n,i){if(e=e||{},t.suspendedEndpoint||x.push(t),t.pending=null,t.endpoints[0].isTemporarySource=!1,i!==!1&&o.anchorManager.newConnection(t),B(t.source),!e.doNotFireConnectionEvent&&e.fireEvent!==!1){var r={connection:t,source:t.source,target:t.target,sourceId:t.sourceId,targetId:t.targetId,sourceEndpoint:t.endpoints[0],targetEndpoint:t.endpoints[1]};o.fire("connection",r,n)}},V=function(t,e){var n=o.Defaults.EndpointType||v.Endpoint,i=v.extend({},t);i._jsPlumb=o,i.newConnection=z,i.newEndpoint=V,i.endpointsByUUID=$,i.endpointsByElement=_,i.fireDetachEvent=Q,i.elementId=e||G(i.source);var r=new n(i);return r.id="ep_"+O(),gt(i.elementId,i.source),v.headless||o.getDragManager().endpointAdded(i.source,e),r},H=function(t,e,n){var i=_[t];if(i&&i.length)for(var r=0,o=i.length;o>r;r++){for(var s=0,a=i[r].connections.length;a>s;s++){var l=e(i[r].connections[s]);if(l)return}n&&n(i[r])}},W=function(t,e){return v.each(t,function(t){o.isDragSupported(t)&&(S[o.getAttribute(t,"id")]=e,o.setElementDraggable(t,e))})},Y=function(t,e,n){e="block"===e;var i=null;n&&(i=e?function(t){t.setVisible(!0,!0,!0)}:function(t){t.setVisible(!1,!0,!0)});var r=f(t);H(r.id,function(t){if(e&&n){var i=t.sourceId===r.id?1:0;t.endpoints[i].isVisible()&&t.setVisible(!0)}else t.setVisible(e)},i)},q=function(t){return v.each(t,function(t){var e=o.getAttribute(t,"id"),n=null==S[e]?!1:S[e];return n=!n,S[e]=n,o.setDraggable(t,n),n}.bind(this))},K=function(t,e){var n=null;e&&(n=function(t){var e=t.isVisible();t.setVisible(!e)}),H(t,function(t){var e=t.isVisible();t.setVisible(!e)},n)},X=function(t){var e=A[t];return e?{o:e,s:D[t]}:mt({elId:t})},G=function(t,e,n){if(i.isString(t))return t;if(null==t)return null;var r=o.getAttribute(t,"id");return r&&"undefined"!==r||(2==arguments.length&&void 0!==arguments[1]?r=e:(1==arguments.length||3==arguments.length&&!arguments[2])&&(r="jsPlumb_"+a+"_"+O()),n||o.setAttribute(t,"id",r)),r};this.setConnectionBeingDragged=function(t){k=t},this.isConnectionBeingDragged=function(){return k},this.getManagedElements=function(){return C},this.getRenderMode=function(){return"svg"},this.connectorClass="jsplumb-connector",this.connectorOutlineClass="jsplumb-connector-outline",this.editableConnectorClass="jsplumb-connector-editable",this.connectedClass="jsplumb-connected",this.hoverClass="jsplumb-hover",this.endpointClass="jsplumb-endpoint",this.endpointConnectedClass="jsplumb-endpoint-connected",this.endpointFullClass="jsplumb-endpoint-full",this.endpointDropAllowedClass="jsplumb-endpoint-drop-allowed",this.endpointDropForbiddenClass="jsplumb-endpoint-drop-forbidden",this.overlayClass="jsplumb-overlay",this.draggingClass="jsplumb-dragging",this.elementDraggingClass="jsplumb-element-dragging",this.sourceElementDraggingClass="jsplumb-source-element-dragging",this.targetElementDraggingClass="jsplumb-target-element-dragging",this.endpointAnchorClassPrefix="jsplumb-endpoint-anchor",this.hoverSourceClass="jsplumb-source-hover",this.hoverTargetClass="jsplumb-target-hover",this.dragSelectClass="jsplumb-drag-select",this.Anchors={},this.Connectors={svg:{}},this.Endpoints={svg:{}},this.Overlays={svg:{}},this.ConnectorRenderers={},this.SVG="svg",this.addEndpoint=function(t,e,n){n=n||{};var r=v.extend({},n);v.extend(r,e),r.endpoint=r.endpoint||o.Defaults.Endpoint,r.paintStyle=r.paintStyle||o.Defaults.EndpointStyle;for(var s=[],a=i.isArray(t)||null!=t.length&&!i.isString(t)?t:[t],l=0,u=a.length;u>l;l++){r.source=o.getElement(a[l]),ft(r.source);var c=G(r.source),h=V(r,c),d=gt(c,r.source).info.o;i.addToList(_,c,h),T||h.paint({anchorLoc:h.anchor.compute({xy:[d.left,d.top],wh:D[c],element:h,timestamp:F}),timestamp:F}),s.push(h),h._doNotDeleteOnDetach=!0}return 1==s.length?s[0]:s},this.addEndpoints=function(t,e,n){for(var r=[],s=0,a=e.length;a>s;s++){var l=o.addEndpoint(t,e[s],n);i.isArray(l)?Array.prototype.push.apply(r,l):r.push(l)}return r},this.animate=function(t,e,n){if(!this.animationSupported)return!1;n=n||{};var r=o.getElement(t),s=G(r),a=v.animEvents.step,l=v.animEvents.complete;n[a]=i.wrap(n[a],function(){o.revalidate(s)}),n[l]=i.wrap(n[l],function(){o.revalidate(s)}),o.doAnimate(r,e,n)},this.checkCondition=function(t){var e=o.getListener(t),n=!0;if(e&&e.length>0){var r=Array.prototype.slice.call(arguments,1);try{for(var s=0,a=e.length;a>s;s++)n=n&&e[s].apply(e[s],r)}catch(l){i.log(o,"cannot check condition ["+t+"]"+l)}}return n},this.connect=function(t,e){var n,r=N(t,e);if(r){if(null==r.source&&null==r.sourceEndpoint)return void i.log("Cannot establish connection - source does not exist");if(null==r.target&&null==r.targetEndpoint)return void i.log("Cannot establish connection - target does not exist");ft(r.source),n=z(r),U(n,r)}return n};var J=[{el:"source",elId:"sourceId",epDefs:"sourceEndpointDefinitions"},{el:"target",elId:"targetId",epDefs:"targetEndpointDefinitions"}],Z=function(t,e,n,i){var r,o,s,a=J[n],l=t[a.elId],u=(t[a.el],t.endpoints[n]),c={index:n,originalSourceId:0===n?l:t.sourceId,newSourceId:t.sourceId,originalTargetId:1==n?l:t.targetId,newTargetId:t.targetId,connection:t};if(e.constructor==v.Endpoint)r=e,r.addConnection(t);else if(o=G(e),s=this[a.epDefs][o],o===t[a.elId])r=null;else if(s)for(var h in s){if(!s[h].enabled)return;r=null!=s[h].endpoint&&s[h].endpoint._jsPlumb?s[h].endpoint:this.addEndpoint(e,s[h].def),s[h].uniqueEndpoint&&(s[h].endpoint=r),r._doNotDeleteOnDetach=!1,r._deleteOnDetach=!0,r.addConnection(t)}else r=t.makeEndpoint(0===n,e,o),r._doNotDeleteOnDetach=!1,r._deleteOnDetach=!0;return null!=r&&(u.detachFromConnection(t),t.endpoints[n]=r,t[a.el]=r.element,t[a.elId]=r.elementId,c[0===n?"newSourceId":"newTargetId"]=r.elementId,tt(c),i||t.repaint()),c}.bind(this);this.setSource=function(t,e,n){var i=Z(t,e,0,n);this.anchorManager.sourceChanged(i.originalSourceId,i.newSourceId,t)},this.setTarget=function(t,e,n){var i=Z(t,e,1,n);this.anchorManager.updateOtherEndpoint(i.originalSourceId,i.originalTargetId,i.newTargetId,t)},this.deleteEndpoint=function(t,e){var n="string"==typeof t?$[t]:t;return n&&o.deleteObject({endpoint:n,dontUpdateHover:e}),o},this.deleteEveryEndpoint=function(){var t=o.setSuspendDrawing(!0);for(var e in _){var n=_[e];if(n&&n.length)for(var i=0,r=n.length;r>i;i++)o.deleteEndpoint(n[i],!0)}return _={},C={},$={},A={},E={},o.anchorManager.reset(),o.getDragManager().reset(),t||o.setSuspendDrawing(!1),o};var Q=function(t,e,n){var i=o.Defaults.ConnectionType||o.getDefaultConnectionType(),r=t.constructor==i,s=r?{connection:t,source:t.source,target:t.target,sourceId:t.sourceId,targetId:t.targetId,sourceEndpoint:t.endpoints[0],targetEndpoint:t.endpoints[1]}:t;e&&o.fire("connectionDetached",s,n),o.anchorManager.connectionDetached(s)},tt=o.fireMoveEvent=function(t,e){o.fire("connectionMoved",t,e)};this.unregisterEndpoint=function(t){t._jsPlumb.uuid&&($[t._jsPlumb.uuid]=null),o.anchorManager.deleteEndpoint(t);for(var e in _){var n=_[e];if(n){for(var i=[],r=0,s=n.length;s>r;r++)n[r]!=t&&i.push(n[r]);_[e]=i}_[e].length<1&&delete _[e]}},this.detach=function(){if(0!==arguments.length){var t=o.Defaults.ConnectionType||o.getDefaultConnectionType(),e=arguments[0].constructor==t,n=2==arguments.length&&e?arguments[1]||{}:arguments[0],r=n.fireEvent!==!1,s=n.forceDetach,a=e?arguments[0]:n.connection;if(a)(s||i.functionChain(!0,!1,[[a.endpoints[0],"isDetachAllowed",[a]],[a.endpoints[1],"isDetachAllowed",[a]],[a,"isDetachAllowed",[a]],[o,"checkCondition",["beforeDetach",a]]]))&&a.endpoints[0].detach(a,!1,!0,r);else{var l=v.extend({},n);if(l.uuids)I(l.uuids[0]).detachFrom(I(l.uuids[1]),r);else if(l.sourceEndpoint&&l.targetEndpoint)l.sourceEndpoint.detachFrom(l.targetEndpoint);else{var u=G(o.getElement(l.source)),c=G(o.getElement(l.target));H(u,function(t){(t.sourceId==u&&t.targetId==c||t.targetId==u&&t.sourceId==c)&&o.checkCondition("beforeDetach",t)&&t.endpoints[0].detach(t,!1,!0,r)})}}}},this.detachAllConnections=function(t,e){e=e||{},t=o.getElement(t);var n=G(t),i=_[n];if(i&&i.length)for(var r=0,s=i.length;s>r;r++)i[r].detachAll(e.fireEvent!==!1,e.forceDetach);return o},this.detachEveryConnection=function(t){return t=t||{},o.batch(function(){for(var e in _){var n=_[e];if(n&&n.length)for(var i=0,r=n.length;r>i;i++)n[i].detachAll(t.fireEvent!==!1,t.forceDetach)}x.length=0}),o},this.deleteObject=function(t){var e={endpoints:{},connections:{},endpointCount:0,connectionCount:0},n=(t.fireEvent!==!1,t.deleteAttachedObjects!==!1),r=function(i){if(null!=i&&null==e.connections[i.id]&&(t.dontUpdateHover||null==i._jsPlumb||i.setHover(!1),e.connections[i.id]=i,e.connectionCount++,n))for(var r=0;r<i.endpoints.length;r++)i.endpoints[r]._deleteOnDetach&&s(i.endpoints[r])},s=function(i){if(null!=i&&null==e.endpoints[i.id]&&(t.dontUpdateHover||null==i._jsPlumb||i.setHover(!1),e.endpoints[i.id]=i,e.endpointCount++,n))for(var o=0;o<i.connections.length;o++){var s=i.connections[o];r(s)}};t.connection?r(t.connection):s(t.endpoint);for(var a in e.connections){var l=e.connections[a];l._jsPlumb&&(i.removeWithFunction(x,function(t){return l.id==t.id}),Q(l,t.fireEvent===!1?!1:!l.pending,t.originalEvent),l.endpoints[0].detachFromConnection(l),l.endpoints[1].detachFromConnection(l),l.cleanup(!0),l.destroy(!0))}for(var u in e.endpoints){var c=e.endpoints[u];c._jsPlumb&&(o.unregisterEndpoint(c),c.cleanup(!0),c.destroy(!0))}return e},this.draggable=function(t,e){var n;return c(function(t){n=f(t),n.el&&R(n.el,!0,e,n.id)},t),o},this.droppable=function(t,e){var n;return e=e||{},e.allowLoopback=!1,c(function(t){n=f(t),n.el&&o.initDroppable(n.el,e)},t),o};var et=function(t,e,n,i){for(var r=0,o=t.length;o>r;r++)t[r][e].apply(t[r],n);return i(t)},nt=function(t,e,n){for(var i=[],r=0,o=t.length;o>r;r++)i.push([t[r][e].apply(t[r],n),t[r]]);return i},it=function(t,e,n){return function(){return et(t,e,arguments,n)}},rt=function(t,e){return function(){return nt(t,e,arguments)}},ot=function(t,e){var n=[];if(t)if("string"==typeof t){if("*"===t)return t;n.push(t)}else if(e)n=t;else if(t.length)for(var i=0,r=t.length;r>i;i++)n.push(f(t[i]).id);else n.push(f(t).id);return n},st=function(t,e,n){return"*"===t?!0:t.length>0?-1!=t.indexOf(e):!n};this.getConnections=function(t,e){t?t.constructor==String&&(t={scope:t}):t={};for(var n=t.scope||o.getDefaultScope(),i=ot(n,!0),r=ot(t.source),s=ot(t.target),a=!e&&i.length>1?{}:[],l=function(t,n){if(!e&&i.length>1){var r=a[t];null==r&&(r=a[t]=[]),r.push(n)}else a.push(n)},u=0,c=x.length;c>u;u++){var h=x[u];st(i,h.scope)&&st(r,h.sourceId)&&st(s,h.targetId)&&l(h.scope,h)}return a};var at=function(t,e){return function(n){for(var i=0,r=t.length;r>i;i++)n(t[i]);return e(t)}},lt=function(t){return function(e){return t[e]}},ut=function(t,e){var n,i,r={length:t.length,each:at(t,e),get:lt(t)},o=["setHover","removeAllOverlays","setLabel","addClass","addOverlay","removeOverlay","removeOverlays","showOverlay","hideOverlay","showOverlays","hideOverlays","setPaintStyle","setHoverPaintStyle","setSuspendEvents","setParameter","setParameters","setVisible","repaint","addType","toggleType","removeType","removeClass","setType","bind","unbind"],s=["getLabel","getOverlay","isHover","getParameter","getParameters","getPaintStyle","getHoverPaintStyle","isVisible","hasType","getType","isSuspendEvents"];for(n=0,i=o.length;i>n;n++)r[o[n]]=it(t,o[n],e);for(n=0,i=s.length;i>n;n++)r[s[n]]=rt(t,s[n]);return r},ct=function(t){var e=ut(t,ct);return v.extend(e,{setDetachable:it(t,"setDetachable",ct),setReattach:it(t,"setReattach",ct),setConnector:it(t,"setConnector",ct),detach:function(){for(var e=0,n=t.length;n>e;e++)o.detach(t[e])},isDetachable:rt(t,"isDetachable"),isReattach:rt(t,"isReattach")})},ht=function(t){var e=ut(t,ht);return v.extend(e,{setEnabled:it(t,"setEnabled",ht),setAnchor:it(t,"setAnchor",ht),isEnabled:rt(t,"isEnabled"),detachAll:function(){for(var e=0,n=t.length;n>e;e++)t[e].detachAll()},remove:function(){for(var e=0,n=t.length;n>e;e++)o.deleteObject({endpoint:t[e]})}})};this.select=function(t){return t=t||{},t.scope=t.scope||"*",ct(t.connections||o.getConnections(t,!0))},this.selectEndpoints=function(t){t=t||{},t.scope=t.scope||"*";var e=!t.element&&!t.source&&!t.target,n=e?"*":ot(t.element),i=e?"*":ot(t.source),r=e?"*":ot(t.target),o=ot(t.scope,!0),s=[];for(var a in _){var l=st(n,a,!0),u=st(i,a,!0),c="*"!=i,h=st(r,a,!0),d="*"!=r;if(l||u||h)t:for(var f=0,p=_[a].length;p>f;f++){var g=_[a][f];if(st(o,g.scope,!0)){var m=c&&i.length>0&&!g.isSource,v=d&&r.length>0&&!g.isTarget;if(m||v)continue t;s.push(g)}}}return ht(s)},this.getAllConnections=function(){return x},this.getDefaultScope=function(){return M},this.getEndpoint=I,this.getEndpoints=function(t){return _[f(t).id]},this.getDefaultEndpointType=function(){return v.Endpoint},this.getDefaultConnectionType=function(){return v.Connection},this.getId=G,this.appendElement=P;var dt=!1;this.isHoverSuspended=function(){return dt},this.setHoverSuspended=function(t){dt=t},this.hide=function(t,e){return Y(t,"none",e),o},this.idstamp=O,this.connectorsInitialized=!1,this.registerConnectorType=function(t,e){n.push([t,e])};var ft=function(t){if(!m&&t){var e=o.getElement(t);e.offsetParent&&o.setContainer(e.offsetParent)}},pt=function(){o.Defaults.Container&&o.setContainer(o.Defaults.Container)},gt=o.manage=function(t,e,n){return C[t]||(C[t]={el:e,endpoints:[],connections:[]},C[t].info=mt({elId:t,timestamp:F}),n||o.fire("manageElement",{id:t,info:C[t].info,el:e})),C[t]},mt=this.updateOffset=function(t){var e,n=t.timestamp,i=t.recalc,r=t.offset,s=t.elId;return T&&!n&&(n=F),!i&&n&&n===E[s]?{o:t.offset||A[s],s:D[s]}:(i||!r&&null==A[s]?(e=C[s]?C[s].el:null,null!=e&&(D[s]=o.getSize(e),A[s]=o.getOffset(e),E[s]=n)):(A[s]=r||A[s],null==D[s]&&(e=C[s].el,null!=e&&(D[s]=o.getSize(e))),E[s]=n),A[s]&&!A[s].right&&(A[s].right=A[s].left+D[s][0],A[s].bottom=A[s].top+D[s][1],A[s].width=D[s][0],A[s].height=D[s][1],A[s].centerx=A[s].left+A[s].width/2,A[s].centery=A[s].top+A[s].height/2),{o:A[s],s:D[s]})};this.init=function(){t=v.getRenderModes();var e=function(t,e,n){v.Connectors[t][e]=function(){n.apply(this,arguments),v.ConnectorRenderers[t].apply(this,arguments)},i.extend(v.Connectors[t][e],[n,v.ConnectorRenderers[t]])};if(!v.connectorsInitialized){for(var r=0;r<n.length;r++)for(var s=0;s<t.length;s++)e(t[s],n[r][1],n[r][0]);v.connectorsInitialized=!0}w||(pt(),o.anchorManager=new v.AnchorManager({jsPlumbInstance:o}),w=!0,o.fire("ready",o))}.bind(this),this.log=b,this.jsPlumbUIComponent=d,this.makeAnchor=function(){var t,e=function(t,e){if(v.Anchors[t])return new v.Anchors[t](e);if(!o.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown anchor type '"+t+"'"}};if(0===arguments.length)return null;var n=arguments[0],r=arguments[1],s=(arguments[2],null);if(n.compute&&n.getOrientation)return n;if("string"==typeof n)s=e(arguments[0],{elementId:r,jsPlumbInstance:o});else if(i.isArray(n))if(i.isArray(n[0])||i.isString(n[0]))2==n.length&&i.isObject(n[1])?i.isString(n[0])?(t=v.extend({elementId:r,jsPlumbInstance:o},n[1]),s=e(n[0],t)):(t=v.extend({elementId:r,jsPlumbInstance:o,anchors:n[0]},n[1]),s=new v.DynamicAnchor(t)):s=new v.DynamicAnchor({anchors:n,selector:null,elementId:r,jsPlumbInstance:o});else{var a={x:n[0],y:n[1],orientation:n.length>=4?[n[2],n[3]]:[0,0],offsets:n.length>=6?[n[4],n[5]]:[0,0],elementId:r,jsPlumbInstance:o,cssClass:7==n.length?n[6]:null};s=new v.Anchor(a),s.clone=function(){return new v.Anchor(a)}}return s.id||(s.id="anchor_"+O()),s},this.makeAnchors=function(t,e,n){for(var r=[],s=0,a=t.length;a>s;s++)"string"==typeof t[s]?r.push(v.Anchors[t[s]]({elementId:e,jsPlumbInstance:n})):i.isArray(t[s])&&r.push(o.makeAnchor(t[s],e,n));return r},this.makeDynamicAnchor=function(t,e){return new v.DynamicAnchor({anchors:t,selector:e,elementId:null,jsPlumbInstance:o})},this.targetEndpointDefinitions={};var vt=function(){};this.sourceEndpointDefinitions={};var yt=function(t,e,n,i,r){for(var o=t.target||t.srcElement,s=!1,a=i.getSelector(e,n),l=0;l<a.length;l++)if(a[l]==o){s=!0;break}return r?!s:s},bt=function(t,e,n,r,s){var a=new d(e),l=e._jsPlumb.EndpointDropHandler({jsPlumb:o,enabled:function(){return t.def.enabled},isFull:function(){var e=o.select({target:t.id}).length;return t.def.maxConnections>0&&e>=t.def.maxConnections},element:t.el,elementId:t.id,isSource:r,isTarget:s,addClass:function(e){o.addClass(t.el,e)},removeClass:function(e){o.removeClass(t.el,e)},onDrop:function(t){var e=t.endpoints[0];e.anchor.locked=!1},isDropAllowed:function(){return a.isDropAllowed.apply(a,arguments)},isRedrop:function(e){return null!=e.suspendedElement&&null!=e.suspendedEndpoint&&e.suspendedEndpoint.element===t.el},getEndpoint:function(n){var i=t.def.endpoint;if(null==i||null==i._jsPlumb){var r=o.deriveEndpointAndAnchorSpec(n.getType().join(" "),!0),s=r.endpoints?v.extend(e,{endpoint:t.def.def.endpoint||r.endpoints[1]}):e;r.anchors&&(s=v.extend(s,{anchor:t.def.def.anchor||r.anchors[1]})),i=o.addEndpoint(t.el,s),i._mtNew=!0}if(e.uniqueEndpoint&&(t.def.endpoint=i),i._doNotDeleteOnDetach=!1,i._deleteOnDetach=!0,n.isDetachable()&&i.initDraggable(),null!=i.anchor.positionFinder){var a=o.getUIPosition(arguments,o.getZoom()),l=o.getOffset(t.el),u=o.getSize(t.el),c=i.anchor.positionFinder(a,l,u,i.anchor.constructorParams);i.anchor.x=c[0],i.anchor.y=c[1]}return i},maybeCleanup:function(t){t._mtNew&&0===t.connections.length?o.deleteObject({endpoint:t}):delete t._mtNew}}),u=v.dragEvents.drop;return n.scope=n.scope||e.scope||o.Defaults.Scope,n[u]=i.wrap(n[u],l,!0),s&&(n[v.dragEvents.over]=function(){return!0}),e.allowLoopback===!1&&(n.canDrop=function(e){var n=e.getDragElement()._jsPlumbRelatedElement;return n!=t.el}),o.initDroppable(t.el,n,"internal"),l};this.makeTarget=function(t,e,n){var i=v.extend({_jsPlumb:this},n);v.extend(i,e),vt(i,1,this);for(var r=(!(i.deleteEndpointsOnDetach===!1),i.maxConnections||-1),o=function(t){var e=f(t),n=e.id,o=v.extend({},i.dropOptions||{}),s="default";this.targetEndpointDefinitions[n]=this.targetEndpointDefinitions[n]||{},ft(n);var a={def:v.extend({},i),uniqueEndpoint:i.uniqueEndpoint,maxConnections:r,enabled:!0};e.def=a,this.targetEndpointDefinitions[n][s]=a,bt(e,i,o,i.isSource===!0,!0),e.el._katavorioDrop[e.el._katavorioDrop.length-1].targetDef=a}.bind(this),s=t.length&&t.constructor!=String?t:[t],a=0,l=s.length;l>a;a++)o(s[a]);
return this},this.unmakeTarget=function(t,e){var n=f(t);return v.destroyDroppable(n.el),e||delete this.targetEndpointDefinitions[n.id],this},this.makeSource=function(t,e,n){var r=v.extend({_jsPlumb:this},n);v.extend(r,e);var s=r.connectionType||"default",a=o.deriveEndpointAndAnchorSpec(s);r.endpoint=r.endpoint||a.endpoints[0],r.anchor=r.anchor||a.anchors[0],vt(r,0,this);for(var l=r.maxConnections||-1,u=r.onMaxConnections,c=function(t){var e=t.id,n=this.getElement(t.el);this.sourceEndpointDefinitions[e]=this.sourceEndpointDefinitions[e]||{},ft(e);var a={def:v.extend({},r),uniqueEndpoint:r.uniqueEndpoint,maxConnections:l,enabled:!0};this.sourceEndpointDefinitions[e][s]=a,t.def=a;var c=v.dragEvents.stop,d=v.dragEvents.drag,f=v.extend({},r.dragOptions||{}),p=f.drag,g=f.stop,m=null,y=!1;f.scope=f.scope||r.scope,f[d]=i.wrap(f[d],function(){p&&p.apply(this,arguments),y=!1}),f[c]=i.wrap(f[c],function(){if(g&&g.apply(this,arguments),this.currentlyDragging=!1,null!=m._jsPlumb){var t=r.anchor||this.Defaults.Anchor,n=m.anchor,i=m.connections[0],s=this.makeAnchor(t,e,this),a=m.element;if(null!=s.positionFinder){var l=o.getOffset(a),u=this.getSize(a),c={left:l.left+n.x*u[0],top:l.top+n.y*u[1]},h=s.positionFinder(c,l,u,s.constructorParams);s.x=h[0],s.y=h[1]}m.setAnchor(s,!0),m.repaint(),this.repaint(m.elementId),null!=i&&this.repaint(i.targetId)}}.bind(this));var b=function(a){if(3!==a.which&&2!==a.button){var c=this.sourceEndpointDefinitions[e][s];if(c.enabled){if(e=this.getId(this.getElement(t.el)),r.filter){var d=i.isString(r.filter)?yt(a,t.el,r.filter,this,r.filterExclude):r.filter(a,t.el);if(d===!1)return}var p=this.select({source:e}).length;if(c.maxConnections>=0&&p>=c.maxConnections)return u&&u({element:t.el,maxConnections:l},a),!1;var g=v.getPositionOnElement(a,n,h),b={};v.extend(b,r),b.isTemporarySource=!0,b.anchor=[g[0],g[1],0,0],b.dragOptions=f,c.def.scope&&(b.scope=c.def.scope),m=this.addEndpoint(e,b),y=!0,m._doNotDeleteOnDetach=!1,m._deleteOnDetach=!0,c.uniqueEndpoint&&(c.endpoint?m.finalEndpoint=c.endpoint:(c.endpoint=m,m._deleteOnDetach=!1,m._doNotDeleteOnDetach=!0));var w=function(){o.off(m.canvas,"mouseup",w),o.off(t.el,"mouseup",w),y&&(y=!1,o.deleteEndpoint(m))};o.on(m.canvas,"mouseup",w),o.on(t.el,"mouseup",w);var x={};if(c.def.extract)for(var _ in c.def.extract){var $=a.srcElement.getAttribute(_);$&&(x[c.def.extract[_]]=$)}o.trigger(m.canvas,"mousedown",a,x),i.consume(a)}}}.bind(this);this.on(t.el,"mousedown",b),a.trigger=b,r.filter&&(i.isString(r.filter)||i.isFunction(r.filter))&&o.setDragFilter(t.el,r.filter);var w=v.extend({},r.dropOptions||{});bt(t,r,w,!0,r.isTarget===!0)}.bind(this),d=t.length&&t.constructor!=String?t:[t],p=0,g=d.length;g>p;p++)c(f(d[p]));return this},this.unmakeSource=function(t,e,n){var i=f(t),r=this.sourceEndpointDefinitions[i.id];if(r)for(var s in r)if(null==e||e===s){var a=r[s].trigger;a&&o.off(i.el,"mousedown",a),n||delete this.sourceEndpointDefinitions[i.id][s]}return this},this.unmakeEverySource=function(){for(var t in this.sourceEndpointDefinitions)o.unmakeSource(t,null,!0);return this.sourceEndpointDefinitions={},this};var wt=function(t,e,n){e=i.isArray(e)?e:[e];var r=G(t);n=n||"default";for(var o=0;o<e.length;o++){var s=this[e[o]][r];if(s&&s[n])return s[n].def.scope||this.Defaults.Scope}}.bind(this),xt=function(t,e,n,r){n=i.isArray(n)?n:[n];var o=G(t);r=r||"default";for(var s=0;s<n.length;s++){var a=this[n[s]][o];a&&a[r]&&(a[r].def.scope=e)}}.bind(this);this.getScope=function(t){return wt(t,["sourceEndpointDefinitions","targetEndpointDefinitions"])},this.getSourceScope=function(t){return wt(t,"sourceEndpointDefinitions")},this.getTargetScope=function(t){return wt(t,"targetEndpointDefinitions")},this.setScope=function(t,e,n){this.setSourceScope(t,e,n),this.setTargetScope(t,e,n)},this.setSourceScope=function(t,e,n){xt(t,e,"sourceEndpointDefinitions",n),this.setDragScope(t,e)},this.setTargetScope=function(t,e,n){xt(t,e,"targetEndpointDefinitions",n),this.setDropScope(t,e)},this.unmakeEveryTarget=function(){for(var t in this.targetEndpointDefinitions)o.unmakeTarget(t,!0);return this.targetEndpointDefinitions={},this};var _t=function(t,e,n,r,o){var s="source"==t?this.sourceEndpointDefinitions:this.targetEndpointDefinitions;if(o=o||"default",i.isString(e)&&s[e]&&s[e][o])s[e][o].enabled=r?!s[e][o].enabled:n;else if(e.length)for(var a=0,l=e.length;l>a;a++){var u=f(e[a]);s[u.id]&&s[u.id][o]&&(s[u.id][o].enabled=r?!s[u.id][o].enabled:n)}else{var c=f(e).id;s[c]&&s[c][o]&&(s[c][o].enabled=r?!s[c][o].enabled:n)}return this}.bind(this),$t=function(t,e){return i.isString(t)||!t.length?e.apply(this,[t]):t.length?e.apply(this,[t[0]]):void 0}.bind(this);this.toggleSourceEnabled=function(t,e){return _t("source",t,null,!0,e),this.isSourceEnabled(t,e)},this.setSourceEnabled=function(t,e,n){return _t("source",t,e,null,n)},this.isSource=function(t,e){return e=e||"default",$t(t,function(t){var n=this.sourceEndpointDefinitions[f(t).id];return null!=n&&null!=n[e]}.bind(this))},this.isSourceEnabled=function(t,e){return e=e||"default",$t(t,function(t){var n=this.sourceEndpointDefinitions[f(t).id];return n&&n[e]&&n[e].enabled===!0}.bind(this))},this.toggleTargetEnabled=function(t,e){return _t("target",t,null,!0,e),this.isTargetEnabled(t,e)},this.isTarget=function(t,e){return e=e||"default",$t(t,function(t){var n=this.targetEndpointDefinitions[f(t).id];return null!=n&&null!=n[e]}.bind(this))},this.isTargetEnabled=function(t,e){return e=e||"default",$t(t,function(t){var n=this.targetEndpointDefinitions[f(t).id];return n&&n[e]&&n[e].enabled===!0}.bind(this))},this.setTargetEnabled=function(t,e,n){return _t("target",t,e,null,n)},this.ready=function(t){o.bind("ready",t)};var Ct=function(t,e){if("object"==typeof t&&t.length)for(var n=0,i=t.length;i>n;n++)e(t[n]);else e(t);return o};this.repaint=function(t,e,n){return Ct(t,function(t){B(t,e,n)})},this.revalidate=function(t,e,n){return Ct(t,function(t){var i=n?t:o.getId(t);o.updateOffset({elId:i,recalc:!0,timestamp:e}),o.repaint(t)})},this.repaintEverything=function(){var t,e=r();for(t in _)o.updateOffset({elId:t,recalc:!0,timestamp:e});for(t in _)B(t,null,e);return this},this.removeAllEndpoints=function(t,e,n){n=n||[];var i=function(t){var r,s,a=f(t),l=_[a.id];if(l)for(n.push(a),r=0,s=l.length;s>r;r++)o.deleteEndpoint(l[r],!1);if(delete _[a.id],e&&a.el&&3!=a.el.nodeType&&8!=a.el.nodeType)for(r=0,s=a.el.childNodes.length;s>r;r++)i(a.el.childNodes[r])};return i(t),this};var At=function(t,e){o.removeAllEndpoints(t.id,!0,e);for(var n=function(t){o.getDragManager().elementRemoved(t.id),o.anchorManager.clearFor(t.id),o.anchorManager.removeFloatingConnection(t.id),delete o.floatingConnections[t.id],delete C[t.id],delete A[t.id],t.el&&(o.removeElement(t.el),t.el._jsPlumb=null)},i=1;i<e.length;i++)n(e[i]);n(t)};this.remove=function(t,e){var n=f(t),i=[];return n.text?n.el.parentNode.removeChild(n.el):n.id&&o.batch(function(){At(n,i)},e===!1),o},this.empty=function(t,e){var n=[],i=function(t,e){var r=f(t);if(r.text)r.el.parentNode.removeChild(r.el);else if(r.el){for(;r.el.childNodes.length>0;)i(r.el.childNodes[0]);e||At(r,n)}};return o.batch(function(){i(t,!0)},e===!1),o},this.reset=function(){o.silently(function(){o.deleteEveryEndpoint(),o.unbind(),this.targetEndpointDefinitions={},this.sourceEndpointDefinitions={},x.length=0,this.doReset&&this.doReset()}.bind(this))};var Et=function(t){t.canvas&&t.canvas.parentNode&&t.canvas.parentNode.removeChild(t.canvas),t.cleanup(),t.destroy()};this.clear=function(){o.select().each(Et),o.selectEndpoints().each(Et),_={},$={}},this.setDefaultScope=function(t){return M=t,o},this.setDraggable=W,this.deriveEndpointAndAnchorSpec=function(t,e){for(var n=((e?"":"default ")+t).split(/[\s]/),i=null,r=null,s=null,a=null,l=0;l<n.length;l++){var u=o.getType(n[l],"connection");u&&(u.endpoints&&(i=u.endpoints),u.endpoint&&(r=u.endpoint),u.anchors&&(a=u.anchors),u.anchor&&(s=u.anchor))}return{endpoints:i?i:[r,r],anchors:a?a:[s,s]}},this.setId=function(t,e,n){var r;i.isString(t)?r=t:(t=this.getElement(t),r=this.getId(t));var o=this.getConnections({source:r,scope:"*"},!0),s=this.getConnections({target:r,scope:"*"},!0);e=""+e,n?t=this.getElement(e):(t=this.getElement(r),this.setAttribute(t,"id",e)),_[e]=_[r]||[];for(var a=0,l=_[e].length;l>a;a++)_[e][a].setElementId(e),_[e][a].setReferenceElement(t);delete _[r],this.sourceEndpointDefinitions[e]=this.sourceEndpointDefinitions[r],delete this.sourceEndpointDefinitions[r],this.targetEndpointDefinitions[e]=this.targetEndpointDefinitions[r],delete this.targetEndpointDefinitions[r],this.anchorManager.changeId(r,e),this.getDragManager().changeId(r,e),C[e]=C[r],delete C[r];var u=function(n,i,r){for(var o=0,s=n.length;s>o;o++)n[o].endpoints[i].setElementId(e),n[o].endpoints[i].setReferenceElement(t),n[o][r+"Id"]=e,n[o][r]=t};u(o,0,"source"),u(s,1,"target"),this.repaint(e)},this.setDebugLog=function(t){b=t},this.setSuspendDrawing=function(t,e){var n=T;return T=t,F=t?(new Date).getTime():null,e&&this.repaintEverything(),n},this.isSuspendDrawing=function(){return T},this.getSuspendedAt=function(){return F},this.batch=function(t,e){var n=this.isSuspendDrawing();n||this.setSuspendDrawing(!0);try{t()}catch(r){i.log("Function run while suspended failed",r)}n||this.setSuspendDrawing(!1,!e)},this.doWhileSuspended=this.batch,this.getCachedData=X,this.timestamp=r,this.show=function(t,e){return Y(t,"block",e),o},this.toggleVisible=K,this.toggleDraggable=q,this.addListener=this.bind};i.extend(m,i.EventGenerator,{setAttribute:function(t,e,n){this.setAttribute(t,e,n)},getAttribute:function(t,e){return this.getAttribute(v.getElement(t),e)},convertToFullOverlaySpec:function(t){return i.isString(t)&&(t=[t,{}]),t[1].id=t[1].id||i.uuid(),t},registerConnectionType:function(t,e){if(this._connectionTypes[t]=v.extend({},e),e.overlays){for(var n={},i=0;i<e.overlays.length;i++){var r=this.convertToFullOverlaySpec(e.overlays[i]);n[r[1].id]=r}this._connectionTypes[t].overlays=n}},registerConnectionTypes:function(t){for(var e in t)this.registerConnectionType(e,t[e])},registerEndpointType:function(t,e){if(this._endpointTypes[t]=v.extend({},e),e.overlays){for(var n={},i=0;i<e.overlays.length;i++){var r=this.convertToFullOverlaySpec(e.overlays[i]);n[r[1].id]=r}this._endpointTypes[t].overlays=n}},registerEndpointTypes:function(t){for(var e in t)this.registerEndpointType(e,t[e])},getType:function(t,e){return"connection"===e?this._connectionTypes[t]:this._endpointTypes[t]},setIdChanged:function(t,e){this.setId(t,e,!0)},setParent:function(t,e){var n=this.getElement(t),i=this.getId(n),r=this.getElement(e),o=this.getId(r);n.parentNode.removeChild(n),r.appendChild(n),this.getDragManager().setParent(n,i,r,o)},extend:function(t,e,n){var i;if(n)for(i=0;i<n.length;i++)t[n[i]]=e[n[i]];else for(i in e)t[i]=e[i];return t},floatingConnections:{},getFloatingAnchorIndex:function(t){return t.endpoints[0].isFloating()?0:t.endpoints[1].isFloating()?1:-1}});var v=new m;e.jsPlumb=v,v.getInstance=function(t){var e=new m(t);return e.init(),e},v.each=function(t,e){if(null!=t)if("string"==typeof t)e(v.getElement(t));else if(null!=t.length)for(var n=0;n<t.length;n++)e(v.getElement(t[n]));else e(t)},"function"==typeof define&&(define("jsplumb",[],function(){return v}),define("jsplumbinstance",[],function(){return v.getInstance()})),"undefined"!=typeof exports&&(exports.jsPlumb=v)}.call(this),function(){var t=this;t.jsPlumbUtil;var e=(!!window.SVGAngle||document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),function(t,e){if(null==t)return[0,0];var n=s(t),i=o(n,0);return[i[e+"X"],i[e+"Y"]]}),n=function(t){return null==t?[0,0]:e(t,"page")},i=function(t){return e(t,"screen")},r=function(t){return e(t,"client")},o=function(t,e){return t.item?t.item(e):t[e]},s=function(t){return t.touches&&t.touches.length>0?t.touches:t.changedTouches&&t.changedTouches.length>0?t.changedTouches:t.targetTouches&&t.targetTouches.length>0?t.targetTouches:[t]},a=function(t){var e={},n=[],i={},r={},o={};this.register=function(s){var a=t.getId(s),l=t.getOffset(s);e[a]||(e[a]=s,n.push(s),i[a]={});var u=function(e){if(e)for(var n=0;n<e.childNodes.length;n++)if(3!=e.childNodes[n].nodeType&&8!=e.childNodes[n].nodeType){var s=jsPlumb.getElement(e.childNodes[n]),c=t.getId(e.childNodes[n],null,!0);if(c&&r[c]&&r[c]>0){var h=t.getOffset(s);i[a][c]={id:c,offset:{left:h.left-l.left,top:h.top-l.top}},o[c]=a}u(e.childNodes[n])}};u(s)},this.updateOffsets=function(e){if(null!=e){var n=jsPlumb.getElement(e),r=t.getId(n),s=i[r],a=t.getOffset(n);if(s)for(var l in s)if(s.hasOwnProperty(l)){var u=jsPlumb.getElement(l),c=t.getOffset(u);i[r][l]={id:l,offset:{left:c.left-a.left,top:c.top-a.top}},o[l]=r}}},this.endpointAdded=function(n,s){s=s||t.getId(n);var a=document.body,l=n.parentNode;for(r[s]=r[s]?r[s]+1:1;null!=l&&l!=a;){var u=t.getId(l,null,!0);if(u&&e[u]){var c=t.getOffset(l);if(null==i[u][s]){var h=t.getOffset(n);i[u][s]={id:s,offset:{left:h.left-c.left,top:h.top-c.top}},o[s]=u}break}l=l.parentNode}},this.endpointDeleted=function(t){if(r[t.elementId]&&(r[t.elementId]--,r[t.elementId]<=0))for(var e in i)i.hasOwnProperty(e)&&i[e]&&(delete i[e][t.elementId],delete o[t.elementId])},this.changeId=function(t,e){i[e]=i[t],i[t]={},o[e]=o[t],o[t]=null},this.getElementsForDraggable=function(t){return i[t]},this.elementRemoved=function(t){var e=o[t];e&&(delete i[e][t],delete o[t])},this.reset=function(){e={},n=[],i={},r={}},this.dragEnded=function(e){var n=t.getId(e),i=o[n];i&&this.updateOffsets(i)},this.setParent=function(e,n,r,s){var a=o[n];if(a){i[s]||(i[s]={}),i[s][n]=i[a][n],delete i[a][n];var l=t.getOffset(r),u=t.getOffset(e);i[s][n].offset={left:u.left-l.left,top:u.top-l.top},o[n]=s}},this.getDragAncestor=function(e){var n=jsPlumb.getElement(e),i=t.getId(n),r=o[i];return r?jsPlumb.getElement(r):null}},l=function(t){return null==t?null:t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},u=function(t,e){e=l(e),"undefined"!=typeof t.className.baseVal?t.className.baseVal=e:t.className=e},c=function(t){return"undefined"==typeof t.className.baseVal?t.className:t.className.baseVal},h=function(t,e,n){e=null==e?[]:jsPlumbUtil.isArray(e)?e:e.split(/\s+/),n=null==n?[]:jsPlumbUtil.isArray(n)?n:n.split(/\s+/);var i=c(t),r=i.split(/\s+/),o=function(t,e){for(var n=0;n<e.length;n++)if(t)-1==r.indexOf(e[n])&&r.push(e[n]);else{var i=r.indexOf(e[n]);-1!=i&&r.splice(i,1)}};o(!0,e),o(!1,n),u(t,r.join(" "))};jsPlumb.extend(jsPlumbInstance.prototype,{headless:!1,pageLocation:n,screenLocation:i,clientLocation:r,getDragManager:function(){return null==this.dragManager&&(this.dragManager=new a(this)),this.dragManager},recalculateOffsets:function(t){this.getDragManager().updateOffsets(t)},createElement:function(t,e,n,i){return this.createElementNS(null,t,e,n,i)},createElementNS:function(t,e,n,i,r){var o,s=null==t?document.createElement(e):document.createElementNS(t,e);n=n||{};for(o in n)s.style[o]=n[o];i&&(s.className=i),r=r||{};for(o in r)s.setAttribute(o,""+r[o]);return s},getAttribute:function(t,e){return null!=t.getAttribute?t.getAttribute(e):null},setAttribute:function(t,e,n){null!=t.setAttribute&&t.setAttribute(e,n)},setAttributes:function(t,e){for(var n in e)e.hasOwnProperty(n)&&t.setAttribute(n,e[n])},appendToRoot:function(t){document.body.appendChild(t)},getRenderModes:function(){return["svg"]},getClass:c,addClass:function(t,e){jsPlumb.each(t,function(t){h(t,e)})},hasClass:function(t,e){return t=jsPlumb.getElement(t),t.classList?t.classList.contains(e):-1!=c(t).indexOf(e)},removeClass:function(t,e){jsPlumb.each(t,function(t){h(t,null,e)})},updateClasses:function(t,e,n){jsPlumb.each(t,function(t){h(t,e,n)})},setClass:function(t,e){jsPlumb.each(t,function(t){u(t,e)})},setPosition:function(t,e){t.style.left=e.left+"px",t.style.top=e.top+"px"},getPosition:function(t){var e=function(e){var n=t.style[e];return n?n.substring(0,n.length-2):0};return{left:e("left"),top:e("top")}},getStyle:function(t,e){return"undefined"!=typeof window.getComputedStyle?getComputedStyle(t,null).getPropertyValue(e):t.currentStyle[e]},getSelector:function(t,e){var n=null;return n=1==arguments.length?null!=t.nodeType?t:document.querySelectorAll(t):t.querySelectorAll(e)},getOffset:function(t,e,n){t=jsPlumb.getElement(t),n=n||this.getContainer();for(var i={left:t.offsetLeft,top:t.offsetTop},r=e||null!=n&&t!=n&&t.offsetParent!=n?t.offsetParent:null,o=function(t){null!=t&&t!==document.body&&(t.scrollTop>0||t.scrollLeft>0)&&(i.left-=t.scrollLeft,i.top-=t.scrollTop)}.bind(this);null!=r;)i.left+=r.offsetLeft,i.top+=r.offsetTop,o(r),r=e?r.offsetParent:r.offsetParent==n?null:r.offsetParent;if(null!=n&&!e&&(n.scrollTop>0||n.scrollLeft>0)){var s=null!=t.offsetParent?this.getStyle(t.offsetParent,"position"):"static",a=this.getStyle(t,"position");"absolute"!==a&&"fixed"!==a&&"absolute"!==s&&"fixed"!=s&&(i.left-=n.scrollLeft,i.top-=n.scrollTop)}return i},getPositionOnElement:function(t,e,n){var i="undefined"!=typeof e.getBoundingClientRect?e.getBoundingClientRect():{left:0,top:0,width:0,height:0},r=document.body,o=document.documentElement,s=window.pageYOffset||o.scrollTop||r.scrollTop,a=window.pageXOffset||o.scrollLeft||r.scrollLeft,l=o.clientTop||r.clientTop||0,u=o.clientLeft||r.clientLeft||0,c=0,h=0,d=i.top+s-l+c*n,f=i.left+a-u+h*n,p=jsPlumb.pageLocation(t),g=i.width||e.offsetWidth*n,m=i.height||e.offsetHeight*n,v=(p[0]-f)/g,y=(p[1]-d)/m;return[v,y]},getAbsolutePosition:function(t){var e=function(e){var n=t.style[e];return n?parseFloat(n.substring(0,n.length-2)):void 0};return[e("left"),e("top")]},setAbsolutePosition:function(t,e,n,i){n?this.animate(t,{left:"+="+(e[0]-n[0]),top:"+="+(e[1]-n[1])},i):(t.style.left=e[0]+"px",t.style.top=e[1]+"px")},getSize:function(t){return[t.offsetWidth,t.offsetHeight]},getWidth:function(t){return t.offsetWidth},getHeight:function(t){return t.offsetHeight}})}.call(this),function(){"use strict";var t=this,e=t.jsPlumb,n=t.jsPlumbUtil,i="__label",r=function(t,n){var r={cssClass:n.cssClass,labelStyle:t.labelStyle,id:i,component:t,_jsPlumb:t._jsPlumb.instance},o=jsPlumb.extend(r,n);return new(e.Overlays[t._jsPlumb.instance.getRenderMode()].Label)(o)},o=function(t,i){var r=null;if(n.isArray(i)){var o=i[0],s=e.extend({component:t,_jsPlumb:t._jsPlumb.instance},i[1]);3==i.length&&e.extend(s,i[2]),r=new(e.Overlays[t._jsPlumb.instance.getRenderMode()][o])(s)}else r=i.constructor==String?new(e.Overlays[t._jsPlumb.instance.getRenderMode()][i])({component:t,_jsPlumb:t._jsPlumb.instance}):i;return r.id=r.id||n.uuid(),t.cacheTypeItem("overlay",r,r.id),t._jsPlumb.overlays[r.id]=r,r};e.OverlayCapableJsPlumbUIComponent=function(t){jsPlumbUIComponent.apply(this,arguments),this._jsPlumb.overlays={},this._jsPlumb.overlayPositions={},t.label&&(this.getDefaultType().overlays[i]=["Label",{label:t.label,location:t.labelLocation||this.defaultLabelLocation||.5,labelStyle:t.labelStyle||this._jsPlumb.instance.Defaults.LabelStyle,id:i}]),this.setListenerComponent=function(t){if(this._jsPlumb)for(var e in this._jsPlumb.overlays)this._jsPlumb.overlays[e].setListenerComponent(t)}},e.OverlayCapableJsPlumbUIComponent.applyType=function(t,e){if(e.overlays){var n,i={};for(n in e.overlays){var r=t._jsPlumb.overlays[e.overlays[n][1].id];if(r)r.updateFrom(e.overlays[n][1]),i[e.overlays[n][1].id]=!0;else{var o=t.getCachedTypeItem("overlay",e.overlays[n][1].id);null!=o?(o.reattach(t._jsPlumb.instance),o.updateFrom(e.overlays[n][1]),t._jsPlumb.overlays[o.id]=o):o=t.addOverlay(e.overlays[n],!0),i[o.id]=!0}}for(n in t._jsPlumb.overlays)null==i[t._jsPlumb.overlays[n].id]&&t.removeOverlay(t._jsPlumb.overlays[n].id,!0)}},n.extend(e.OverlayCapableJsPlumbUIComponent,t.jsPlumbUIComponent,{setHover:function(t){if(this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged())for(var e in this._jsPlumb.overlays)this._jsPlumb.overlays[e][t?"addClass":"removeClass"](this._jsPlumb.instance.hoverClass)},addOverlay:function(t,e){var n=o(this,t);return e||this.repaint(),n},getOverlay:function(t){return this._jsPlumb.overlays[t]},getOverlays:function(){return this._jsPlumb.overlays},hideOverlay:function(t){var e=this.getOverlay(t);e&&e.hide()},hideOverlays:function(){for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t].hide()},showOverlay:function(t){var e=this.getOverlay(t);e&&e.show()},showOverlays:function(){for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t].show()},removeAllOverlays:function(t){for(var e in this._jsPlumb.overlays)this._jsPlumb.overlays[e].cleanup&&this._jsPlumb.overlays[e].cleanup();this._jsPlumb.overlays={},this._jsPlumb.overlayPositions=null,t||this.repaint()},removeOverlay:function(t,e){var n=this._jsPlumb.overlays[t];n&&(!e&&n.cleanup&&n.cleanup(),delete this._jsPlumb.overlays[t],this._jsPlumb.overlayPositions&&delete this._jsPlumb.overlayPositions[t])},removeOverlays:function(){for(var t=0,e=arguments.length;e>t;t++)this.removeOverlay(arguments[t])},moveParent:function(t){if(this.bgCanvas&&(this.bgCanvas.parentNode.removeChild(this.bgCanvas),t.appendChild(this.bgCanvas)),this.canvas&&this.canvas.parentNode){this.canvas.parentNode.removeChild(this.canvas),t.appendChild(this.canvas);for(var e in this._jsPlumb.overlays)if(this._jsPlumb.overlays[e].isAppendedAtTopLevel){var n=this._jsPlumb.overlays[e].getElement();n.parentNode.removeChild(n),t.appendChild(n)}}},getLabel:function(){var t=this.getOverlay(i);return null!=t?t.getLabel():null},getLabelOverlay:function(){return this.getOverlay(i)},setLabel:function(t){var e=this.getOverlay(i);if(e)t.constructor==String||t.constructor==Function?e.setLabel(t):(t.label&&e.setLabel(t.label),t.location&&e.setLocation(t.location));else{var n=t.constructor==String||t.constructor==Function?{label:t}:t;e=r(this,n),this._jsPlumb.overlays[i]=e}this._jsPlumb.instance.isSuspendDrawing()||this.repaint()},cleanup:function(t){for(var e in this._jsPlumb.overlays)this._jsPlumb.overlays[e].cleanup(t),this._jsPlumb.overlays[e].destroy(t);t&&(this._jsPlumb.overlays={},this._jsPlumb.overlayPositions=null)},setVisible:function(t){this[t?"showOverlays":"hideOverlays"]()},setAbsoluteOverlayPosition:function(t,e){this._jsPlumb.overlayPositions[t.id]=e},getAbsoluteOverlayPosition:function(t){return this._jsPlumb.overlayPositions?this._jsPlumb.overlayPositions[t.id]:null},_clazzManip:function(t,e,n){if(!n)for(var i in this._jsPlumb.overlays)this._jsPlumb.overlays[i][t+"Class"](e)},addClass:function(t,e){this._clazzManip("add",t,e)},removeClass:function(t,e){this._clazzManip("remove",t,e)}})}.call(this),function(){"use strict";var t=this,e=t.jsPlumb,n=t.jsPlumbUtil,i=function(t,e,n){var i=!1;return{drag:function(){if(i)return i=!1,!0;if(e.element){var r=n.getUIPosition(arguments,n.getZoom());jsPlumb.setPosition(e.element,r),n.repaint(e.element,r),t.paint({anchorPoint:t.anchor.getCurrentLocation({element:t.element})})}},stopDrag:function(){i=!0}}},r=function(t,e,n,i){var r=jsPlumb.createElement("div",{position:"absolute"});e.appendElement(r);var o=e.getId(r);jsPlumb.setPosition(r,n),r.style.width=i[0]+"px",r.style.height=i[1]+"px",e.manage(o,r,!0),t.id=o,t.element=r},o=function(t,n,i,r,o,s,a,l){var u=new e.FloatingAnchor({reference:n,referenceCanvas:r,jsPlumbInstance:s});return a({paintStyle:t,endpoint:i,anchor:u,source:o,scope:l})},s=["connectorStyle","connectorHoverStyle","connectorOverlays","connector","connectionType","connectorClass","connectorHoverClass"],a=function(t,e){var n=0;if(null!=e)for(var i=0;i<t.connections.length;i++)if(t.connections[i].sourceId==e||t.connections[i].targetId==e){n=i;break}return t.connections[n]};e.Endpoint=function(t){var l=t._jsPlumb,u=t.newConnection,c=t.newEndpoint;this.idPrefix="_jsplumb_e_",this.defaultLabelLocation=[.5,.5],this.defaultOverlayKeys=["Overlays","EndpointOverlays"],e.OverlayCapableJsPlumbUIComponent.apply(this,arguments),this.appendToDefaultType({connectionType:t.connectionType,maxConnections:null==t.maxConnections?this._jsPlumb.instance.Defaults.MaxConnections:t.maxConnections,paintStyle:t.endpointStyle||t.paintStyle||t.style||this._jsPlumb.instance.Defaults.EndpointStyle||e.Defaults.EndpointStyle,hoverPaintStyle:t.endpointHoverStyle||t.hoverPaintStyle||this._jsPlumb.instance.Defaults.EndpointHoverStyle||e.Defaults.EndpointHoverStyle,connectorStyle:t.connectorStyle,connectorHoverStyle:t.connectorHoverStyle,connectorClass:t.connectorClass,connectorHoverClass:t.connectorHoverClass,connectorOverlays:t.connectorOverlays,connector:t.connector,connectorTooltip:t.connectorTooltip}),this._jsPlumb.enabled=!(t.enabled===!1),this._jsPlumb.visible=!0,this.element=e.getElement(t.source),this._jsPlumb.uuid=t.uuid,this._jsPlumb.floatingEndpoint=null;var h=null;this._jsPlumb.uuid&&(t.endpointsByUUID[this._jsPlumb.uuid]=this),this.elementId=t.elementId,this.dragProxy=t.dragProxy,this._jsPlumb.connectionCost=t.connectionCost,this._jsPlumb.connectionsDirected=t.connectionsDirected,this._jsPlumb.currentAnchorClass="",this._jsPlumb.events={};var d=function(){var t=l.endpointAnchorClassPrefix+"-"+this._jsPlumb.currentAnchorClass;this._jsPlumb.currentAnchorClass=this.anchor.getCssClass();var e=l.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"-"+this._jsPlumb.currentAnchorClass:"");this.removeClass(t),this.addClass(e),jsPlumb.updateClasses(this.element,e,t)}.bind(this);this.prepareAnchor=function(t){var e=this._jsPlumb.instance.makeAnchor(t,this.elementId,l);return e.bind("anchorChanged",function(t){this.fire("anchorChanged",{endpoint:this,anchor:t}),d()}.bind(this)),e},this.setPreparedAnchor=function(t,e){return this._jsPlumb.instance.continuousAnchorFactory.clear(this.elementId),this.anchor=t,d(),e||this._jsPlumb.instance.repaint(this.elementId),this},this.setAnchor=function(t,e){var n=this.prepareAnchor(t);return this.setPreparedAnchor(n,e),this};var f=function(t){if(this.connections.length>0)for(var e=0;e<this.connections.length;e++)this.connections[e].setHover(t,!1);else this.setHover(t)}.bind(this);this.bind("mouseover",function(){f(!0)}),this.bind("mouseout",function(){f(!1)}),t._transient||this._jsPlumb.instance.anchorManager.add(this,this.elementId),this.prepareEndpoint=function(i,r){var o,s=function(t,n){var i=l.getRenderMode();if(e.Endpoints[i][t])return new e.Endpoints[i][t](n);if(!l.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown endpoint type '"+t+"'"}},a={_jsPlumb:this._jsPlumb.instance,cssClass:t.cssClass,container:t.container,tooltip:t.tooltip,connectorTooltip:t.connectorTooltip,endpoint:this};return n.isString(i)?o=s(i,a):n.isArray(i)?(a=n.merge(i[1],a),o=s(i[0],a)):o=i.clone(),o.clone=function(){return n.isString(i)?s(i,a):n.isArray(i)?(a=n.merge(i[1],a),s(i[0],a)):void 0}.bind(this),o.typeId=r,o},this.setEndpoint=function(t){var e=this.prepareEndpoint(t);this.setPreparedEndpoint(e,!0)},this.setPreparedEndpoint=function(t){null!=this.endpoint&&(this.endpoint.cleanup(),this.endpoint.destroy()),this.endpoint=t,this.type=this.endpoint.type,this.canvas=this.endpoint.canvas},e.extend(this,t,s),this.isSource=t.isSource||!1,this.isTemporarySource=t.isTemporarySource||!1,this.isTarget=t.isTarget||!1,this.connections=t.connections||[],this.connectorPointerEvents=t["connector-pointer-events"],this.scope=t.scope||l.getDefaultScope(),this.timestamp=null,this.reattachConnections=t.reattach||l.Defaults.ReattachConnections,this.connectionsDetachable=l.Defaults.ConnectionsDetachable,(t.connectionsDetachable===!1||t.detachable===!1)&&(this.connectionsDetachable=!1),this.dragAllowedWhenFull=t.dragAllowedWhenFull!==!1,t.onMaxConnections&&this.bind("maxConnections",t.onMaxConnections),this.addConnection=function(t){this.connections.push(t),this[(this.connections.length>0?"add":"remove")+"Class"](l.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](l.endpointFullClass)},this.detachFromConnection=function(t,e,n){e=null==e?this.connections.indexOf(t):e,e>=0&&(this.connections.splice(e,1),this[(this.connections.length>0?"add":"remove")+"Class"](l.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](l.endpointFullClass)),!n&&this._deleteOnDetach&&0===this.connections.length&&l.deleteObject({endpoint:this,fireEvent:!1,deleteAttachedObjects:!1})},this.detach=function(t,e,n,i,r,o,s){var a=null==s?this.connections.indexOf(t):s,u=!1;return i=i!==!1,a>=0&&(n||t._forceDetach||t.isDetachable()&&t.isDetachAllowed(t)&&this.isDetachAllowed(t)&&l.checkCondition("beforeDetach",t,o))&&(l.deleteObject({connection:t,fireEvent:!e&&i,originalEvent:r,deleteAttachedObjects:!1}),u=!0),u},this.detachAll=function(t,e){for(var n=[];this.connections.length>0;){var i=this.detach(this.connections[0],!1,e===!0,t!==!1,null,this,0);i||(n.push(this.connections[0]),this.connections.splice(0,1))}return this.connections=n,this},this.detachFrom=function(t,e,n){for(var i=[],r=0;r<this.connections.length;r++)(this.connections[r].endpoints[1]==t||this.connections[r].endpoints[0]==t)&&i.push(this.connections[r]);for(var o=0;o<i.length;o++)this.detach(i[o],!1,!0,e,n);return this},this.getElement=function(){return this.element},this.setElement=function(e){var i=this._jsPlumb.instance.getId(e),r=this.elementId;return n.removeWithFunction(t.endpointsByElement[this.elementId],function(t){return t.id==this.id}.bind(this)),this.element=jsPlumb.getElement(e),this.elementId=l.getId(this.element),l.anchorManager.rehomeEndpoint(this,r,this.element),l.dragManager.endpointAdded(this.element),n.addToList(t.endpointsByElement,i,this),this},this.makeInPlaceCopy=function(){var e=this.anchor.getCurrentLocation({element:this}),n=this.anchor.getOrientation(this),i=this.anchor.getCssClass(),r={bind:function(){},compute:function(){return[e[0],e[1]]},getCurrentLocation:function(){return[e[0],e[1]]},getOrientation:function(){return n},getCssClass:function(){return i}};return c({dropOptions:t.dropOptions,anchor:r,source:this.element,paintStyle:this.getPaintStyle(),endpoint:t.hideOnDrag?"Blank":this.endpoint,_transient:!0,scope:this.scope,reference:this})},this.connectorSelector=function(){var t=this.connections[0];return t?t:this.connections.length<this._jsPlumb.maxConnections||-1==this._jsPlumb.maxConnections?null:t},this.setStyle=this.setPaintStyle,this.paint=function(t){t=t||{};var e=t.timestamp,n=!(t.recalc===!1);if(!e||this.timestamp!==e){var i=l.updateOffset({elId:this.elementId,timestamp:e}),r=t.offset?t.offset.o:i.o;if(null!=r){var o=t.anchorPoint,s=t.connectorPaintStyle;if(null==o){var u=t.dimensions||i.s,c={xy:[r.left,r.top],wh:u,element:this,timestamp:e};if(n&&this.anchor.isDynamic&&this.connections.length>0){var h=a(this,t.elementWithPrecedence),d=h.endpoints[0]==this?1:0,f=0===d?h.sourceId:h.targetId,p=l.getCachedData(f),g=p.o,m=p.s;c.txy=[g.left,g.top],c.twh=m,c.tElement=h.endpoints[d]}o=this.anchor.compute(c)}this.endpoint.compute(o,this.anchor.getOrientation(this),this._jsPlumb.paintStyleInUse,s||this.paintStyleInUse),this.endpoint.paint(this._jsPlumb.paintStyleInUse,this.anchor),this.timestamp=e;for(var v in this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(v)){var y=this._jsPlumb.overlays[v];y.isVisible()&&(this._jsPlumb.overlayPlacements[v]=y.draw(this.endpoint,this._jsPlumb.paintStyleInUse),y.paint(this._jsPlumb.overlayPlacements[v]))}}}},this.getTypeDescriptor=function(){return"endpoint"},this.isVisible=function(){return this._jsPlumb.visible},this.repaint=this.paint;var p=!1;this.initDraggable=function(){if(!p&&e.isDragSupported(this.element)){var s,a={id:null,element:null},d=null,f=!1,g=null,m=i(this,a,l),v=t.dragOptions||{},y={},b=e.dragEvents.start,w=e.dragEvents.stop,x=e.dragEvents.drag,_=e.dragEvents.beforeStart,$=function(t){s=t.e.payload||{}},C=function(){d=this.connectorSelector();var e=!0;this.isEnabled()||(e=!1),null!=d||this.isSource||this.isTemporarySource||(e=!1),!this.isSource||!this.isFull()||null!=d&&this.dragAllowedWhenFull||(e=!1),null==d||d.isDetachable(this)||(e=!1);var i=l.checkCondition(null==d?"beforeDrag":"beforeStartDetach",{endpoint:this,source:this.element,sourceId:this.elementId,connection:d});if(i===!1?e=!1:"object"==typeof i?jsPlumb.extend(i,s||{}):i=s||{},e===!1)return l.stopDrag&&l.stopDrag(this.canvas),
m.stopDrag(),!1;for(var h=0;h<this.connections.length;h++)this.connections[h].setHover(!1);this.addClass("endpointDrag"),l.setConnectionBeingDragged(!0),d&&!this.isFull()&&this.isSource&&(d=null),l.updateOffset({elId:this.elementId});var p=this._jsPlumb.instance.getOffset(this.canvas),v=this.canvas,y=this._jsPlumb.instance.getSize(this.canvas);r(a,l,p,y),l.setAttributes(this.canvas,{dragId:a.id,elId:this.elementId});var b=this.dragProxy||this.endpoint;if(null==this.dragProxy&&null!=this.connectionType){var w=this._jsPlumb.instance.deriveEndpointAndAnchorSpec(this.connectionType);w.endpoints[1]&&(b=w.endpoints[1])}var x=this._jsPlumb.instance.makeAnchor("Center");x.isFloating=!0,this._jsPlumb.floatingEndpoint=o(this.getPaintStyle(),x,b,this.canvas,a.element,l,c,this.scope);var _=this._jsPlumb.floatingEndpoint.anchor;if(null==d)this.setHover(!1,!1),d=u({sourceEndpoint:this,targetEndpoint:this._jsPlumb.floatingEndpoint,source:this.element,target:a.element,anchors:[this.anchor,this._jsPlumb.floatingEndpoint.anchor],paintStyle:t.connectorStyle,hoverPaintStyle:t.connectorHoverStyle,connector:t.connector,overlays:t.connectorOverlays,type:this.connectionType,cssClass:this.connectorClass,hoverClass:this.connectorHoverClass,scope:t.scope,data:i}),d.pending=!0,d.addClass(l.draggingClass),this._jsPlumb.floatingEndpoint.addClass(l.draggingClass),this._jsPlumb.floatingEndpoint.anchor=_,l.fire("connectionDrag",d),l.anchorManager.newConnection(d);else{f=!0,d.setHover(!1);var $=d.endpoints[0].id==this.id?0:1;this.detachFromConnection(d,null,!0);var C=l.getDragScope(v);l.setAttribute(this.canvas,"originalScope",C),l.fire("connectionDrag",d),0===$?(g=[d.source,d.sourceId,v,C],d.source=a.element,d.sourceId=a.id,l.anchorManager.sourceChanged(d.endpoints[$].elementId,d.sourceId,d)):(g=[d.target,d.targetId,v,C],d.target=a.element,d.targetId=a.id,l.anchorManager.updateOtherEndpoint(d.sourceId,d.endpoints[$].elementId,d.targetId,d)),d.suspendedEndpoint=d.endpoints[$],d.suspendedElement=d.endpoints[$].getElement(),d.suspendedElementId=d.endpoints[$].elementId,d.suspendedElementType=0===$?"source":"target",d.suspendedEndpoint.setHover(!1),this._jsPlumb.floatingEndpoint.referenceEndpoint=d.suspendedEndpoint,d.endpoints[$]=this._jsPlumb.floatingEndpoint,d.addClass(l.draggingClass),this._jsPlumb.floatingEndpoint.addClass(l.draggingClass)}l.floatingConnections[a.id]=d,n.addToList(t.endpointsByElement,a.id,this._jsPlumb.floatingEndpoint),l.currentlyDragging=!0}.bind(this),A=function(){if(l.setConnectionBeingDragged(!1),d&&null!=d.endpoints){var t=l.getDropEvent(arguments),e=l.getFloatingAnchorIndex(d);if(d.endpoints[0===e?1:0].anchor.locked=!1,d.removeClass(l.draggingClass),this._jsPlumb&&(d.deleteConnectionNow||d.endpoints[e]==this._jsPlumb.floatingEndpoint)&&f&&d.suspendedEndpoint){0===e?(d.floatingElement=d.source,d.floatingId=d.sourceId,d.floatingEndpoint=d.endpoints[0],d.floatingIndex=0,d.source=g[0],d.sourceId=g[1]):(d.floatingElement=d.target,d.floatingId=d.targetId,d.floatingEndpoint=d.endpoints[1],d.floatingIndex=1,d.target=g[0],d.targetId=g[1]);var n=this._jsPlumb.floatingEndpoint;l.setDragScope(g[2],g[3]),d.endpoints[e]=d.suspendedEndpoint,d.isReattach()||d._forceReattach||d._forceDetach||!d.endpoints[0===e?1:0].detach(d,!1,!1,!0,t,!0)?(d.setHover(!1),d._forceDetach=null,d._forceReattach=null,this._jsPlumb.floatingEndpoint.detachFromConnection(d),d.suspendedEndpoint.addConnection(d),1==e?l.anchorManager.updateOtherEndpoint(d.sourceId,d.floatingId,d.targetId,d):l.anchorManager.sourceChanged(d.floatingId,d.sourceId,d),l.repaint(g[1])):l.deleteObject({endpoint:n})}this.deleteAfterDragStop?l.deleteObject({endpoint:this}):this._jsPlumb&&this.paint({recalc:!1}),l.fire("connectionDragStop",d,t),d.pending&&l.fire("connectionAborted",d,t),l.currentlyDragging=!1,d=null}a&&a.element&&l.remove(a.element,!1,!1),h&&l.deleteObject({endpoint:h}),this._jsPlumb&&(this.canvas.style.visibility="visible",this.anchor.locked=!1,this._jsPlumb.floatingEndpoint=null)}.bind(this);v=e.extend(y,v),v.scope=this.scope||v.scope,v[_]=n.wrap(v[_],$,!1),v[b]=n.wrap(v[b],C,!1),v[x]=n.wrap(v[x],m.drag),v[w]=n.wrap(v[w],A),v.multipleDrop=!1,v.canDrag=function(){return this.isSource||this.isTemporarySource||this.connections.length>0}.bind(this),l.initDraggable(this.canvas,v,"internal"),this.canvas._jsPlumbRelatedElement=this.element,p=!0}};var g=t.endpoint||this._jsPlumb.instance.Defaults.Endpoint||e.Defaults.Endpoint;this.setEndpoint(g,!0);var m=t.anchor?t.anchor:t.anchors?t.anchors:l.Defaults.Anchor||"Top";this.setAnchor(m,!0);var v=["default",t.type||""].join(" ");this.addType(v,t.data,!0),this.canvas=this.endpoint.canvas,this.canvas._jsPlumb=this,this.initDraggable();var y=function(i,r,o,s){if(e.isDropSupported(this.element)){var a=t.dropOptions||l.Defaults.DropOptions||e.Defaults.DropOptions;a=e.extend({},a),a.scope=a.scope||this.scope;var u=e.dragEvents.drop,c=e.dragEvents.over,h=e.dragEvents.out,d=this,f=l.EndpointDropHandler({getEndpoint:function(){return d},jsPlumb:l,enabled:function(){return null!=o?o.isEnabled():!0},isFull:function(){return o.isFull()},element:this.element,elementId:this.elementId,isSource:this.isSource,isTarget:this.isTarget,addClass:function(t){d.addClass(t)},removeClass:function(t){d.removeClass(t)},isDropAllowed:function(){return d.isDropAllowed.apply(d,arguments)},reference:s,isRedrop:function(t,e){return t.suspendedEndpoint&&e.reference&&t.suspendedEndpoint.id===e.reference.id}});a[u]=n.wrap(a[u],f,!0),a[c]=n.wrap(a[c],function(){var t=e.getDragObject(arguments),n=l.getAttribute(e.getElement(t),"dragId"),i=l.floatingConnections[n];if(null!=i){var r=l.getFloatingAnchorIndex(i),o=this.isTarget&&0!==r||i.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id==i.suspendedEndpoint.id;if(o){var s=l.checkCondition("checkDropAllowed",{sourceEndpoint:i.endpoints[r],targetEndpoint:this,connection:i});this[(s?"add":"remove")+"Class"](l.endpointDropAllowedClass),this[(s?"remove":"add")+"Class"](l.endpointDropForbiddenClass),i.endpoints[r].anchor.over(this.anchor,this)}}}.bind(this)),a[h]=n.wrap(a[h],function(){var t=e.getDragObject(arguments),n=null==t?null:l.getAttribute(e.getElement(t),"dragId"),i=n?l.floatingConnections[n]:null;if(null!=i){var r=l.getFloatingAnchorIndex(i),o=this.isTarget&&0!==r||i.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id==i.suspendedEndpoint.id;o&&(this.removeClass(l.endpointDropAllowedClass),this.removeClass(l.endpointDropForbiddenClass),i.endpoints[r].anchor.out())}}.bind(this)),l.initDroppable(i,a,"internal",r)}}.bind(this);return this.anchor.isFloating||y(this.canvas,!(t._transient||this.anchor.isFloating),this,t.reference),this},n.extend(e.Endpoint,e.OverlayCapableJsPlumbUIComponent,{setVisible:function(t,e,n){if(this._jsPlumb.visible=t,this.canvas&&(this.canvas.style.display=t?"block":"none"),this[t?"showOverlays":"hideOverlays"](),!e)for(var i=0;i<this.connections.length;i++)if(this.connections[i].setVisible(t),!n){var r=this===this.connections[i].endpoints[0]?1:0;1==this.connections[i].endpoints[r].connections.length&&this.connections[i].endpoints[r].setVisible(t,!0,!0)}},getAttachedElements:function(){return this.connections},applyType:function(t,n){this.setPaintStyle(t.endpointStyle||t.paintStyle,n),this.setHoverPaintStyle(t.endpointHoverStyle||t.hoverPaintStyle,n),null!=t.maxConnections&&(this._jsPlumb.maxConnections=t.maxConnections),t.scope&&(this.scope=t.scope),e.extend(this,t,s),null!=t.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,t.cssClass),e.OverlayCapableJsPlumbUIComponent.applyType(this,t)},isEnabled:function(){return this._jsPlumb.enabled},setEnabled:function(t){this._jsPlumb.enabled=t},cleanup:function(){var t=this._jsPlumb.instance.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"-"+this._jsPlumb.currentAnchorClass:"");jsPlumb.removeClass(this.element,t),this.anchor=null,this.endpoint.cleanup(!0),this.endpoint.destroy(),this.endpoint=null,this._jsPlumb.instance.destroyDraggable(this.canvas,"internal"),this._jsPlumb.instance.destroyDroppable(this.canvas,"internal")},setHover:function(t){this.endpoint&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&this.endpoint.setHover(t)},isFull:function(){return 0===this._jsPlumb.maxConnections?!0:!(this.isFloating()||this._jsPlumb.maxConnections<0||this.connections.length<this._jsPlumb.maxConnections)},isFloating:function(){return null!=this.anchor&&this.anchor.isFloating},isConnectedTo:function(t){var e=!1;if(t)for(var n=0;n<this.connections.length;n++)if(this.connections[n].endpoints[1]==t||this.connections[n].endpoints[0]==t){e=!0;break}return e},getConnectionCost:function(){return this._jsPlumb.connectionCost},setConnectionCost:function(t){this._jsPlumb.connectionCost=t},areConnectionsDirected:function(){return this._jsPlumb.connectionsDirected},setConnectionsDirected:function(t){this._jsPlumb.connectionsDirected=t},setElementId:function(t){this.elementId=t,this.anchor.elementId=t},setReferenceElement:function(t){this.element=e.getElement(t)},setDragAllowedWhenFull:function(t){this.dragAllowedWhenFull=t},equals:function(t){return this.anchor.equals(t.anchor)},getUuid:function(){return this._jsPlumb.uuid},computeAnchor:function(t){return this.anchor.compute(t)}}),t.jsPlumbInstance.prototype.EndpointDropHandler=function(t){return function(e){var n=t.jsPlumb;t.removeClass(n.endpointDropAllowedClass),t.removeClass(n.endpointDropForbiddenClass);var i=n.getDropEvent(arguments),r=n.getDragObject(arguments),o=n.getAttribute(r,"dragId"),s=(n.getAttribute(r,"elId"),n.getAttribute(r,"originalScope")),a=n.floatingConnections[o];if(null!=a){var l=null!=a.suspendedEndpoint;if(!l||null!=a.suspendedEndpoint._jsPlumb){var u=t.getEndpoint(a);if(null!=u){if(t.isRedrop(a,t))return a._forceReattach=!0,a.setHover(!1),void(t.maybeCleanup&&t.maybeCleanup(u));var c=n.getFloatingAnchorIndex(a);if(0===c&&!t.isSource||1===c&&!t.isTarget)return void(t.maybeCleanup&&t.maybeCleanup(u));t.onDrop&&t.onDrop(a),s&&n.setDragScope(r,s);var h=t.isFull(e);if(h&&u.fire("maxConnections",{endpoint:this,connection:a,maxConnections:u._jsPlumb.maxConnections},i),!h&&t.enabled()){var d=!0;0===c?(a.floatingElement=a.source,a.floatingId=a.sourceId,a.floatingEndpoint=a.endpoints[0],a.floatingIndex=0,a.source=t.element,a.sourceId=t.elementId):(a.floatingElement=a.target,a.floatingId=a.targetId,a.floatingEndpoint=a.endpoints[1],a.floatingIndex=1,a.target=t.element,a.targetId=t.elementId),l&&a.suspendedEndpoint.id!=u.id&&(a.isDetachAllowed(a)&&a.endpoints[c].isDetachAllowed(a)&&a.suspendedEndpoint.isDetachAllowed(a)&&n.checkCondition("beforeDetach",a)||(d=!1));var f=function(t){a.endpoints[c].detachFromConnection(a),a.suspendedEndpoint&&a.suspendedEndpoint.detachFromConnection(a),a.endpoints[c]=u,u.addConnection(a);var e=u.getParameters();for(var r in e)a.setParameter(r,e[r]);if(l){var o=a.suspendedEndpoint.elementId;n.fireMoveEvent({index:c,originalSourceId:0===c?o:a.sourceId,newSourceId:0===c?u.elementId:a.sourceId,originalTargetId:1==c?o:a.targetId,newTargetId:1==c?u.elementId:a.targetId,originalSourceEndpoint:0===c?a.suspendedEndpoint:a.endpoints[0],newSourceEndpoint:0===c?u:a.endpoints[0],originalTargetEndpoint:1==c?a.suspendedEndpoint:a.endpoints[1],newTargetEndpoint:1==c?u:a.endpoints[1],connection:a},i)}else e.draggable&&n.initDraggable(this.element,dragOptions,"internal",n);if(1==c?n.anchorManager.updateOtherEndpoint(a.sourceId,a.floatingId,a.targetId,a):n.anchorManager.sourceChanged(a.floatingId,a.sourceId,a),a.endpoints[0].finalEndpoint){var s=a.endpoints[0];s.detachFromConnection(a),a.endpoints[0]=a.endpoints[0].finalEndpoint,a.endpoints[0].addConnection(a)}jsPlumbUtil.isObject(t)&&a.mergeData(t),n.finaliseConnection(a,null,i,!1),a.setHover(!1)}.bind(this),p=function(){a.suspendedEndpoint&&(a.endpoints[c]=a.suspendedEndpoint,a.setHover(!1),a._forceDetach=!0,0===c?(a.source=a.suspendedEndpoint.element,a.sourceId=a.suspendedEndpoint.elementId):(a.target=a.suspendedEndpoint.element,a.targetId=a.suspendedEndpoint.elementId),a.suspendedEndpoint.addConnection(a),1==c?n.anchorManager.updateOtherEndpoint(a.sourceId,a.floatingId,a.targetId,a):n.anchorManager.sourceChanged(a.floatingId,a.sourceId,a),n.repaint(a.sourceId),a._forceDetach=!1)};if(d=d&&t.isDropAllowed(a.sourceId,a.targetId,a.scope,a,u))return f(d),!0;p()}t.maybeCleanup&&t.maybeCleanup(u),n.currentlyDragging=!1}}}}}}.call(this),function(){"use strict";var t=this,e=t.jsPlumb,n=t.jsPlumbUtil,i=function(t,n,i,r,o){if(!t.Defaults.DoNotThrowErrors&&null==jsPlumb.Connectors[n][i])throw{msg:"jsPlumb: unknown connector type '"+i+"'"};return new e.Connectors[n][i](r,o)},r=function(t,e,n){return t?n.makeAnchor(t,e,n):null},o=function(t,e,i,r){null!=e&&(e._jsPlumbConnections=e._jsPlumbConnections||{},r?delete e._jsPlumbConnections[t.id]:e._jsPlumbConnections[t.id]=!0,n.isEmpty(e._jsPlumbConnections)?i.removeClass(e,i.connectedClass):i.addClass(e,i.connectedClass))};e.Connection=function(t){var i=t.newEndpoint;this.id=t.id,this.connector=null,this.idPrefix="_jsplumb_c_",this.defaultLabelLocation=.5,this.defaultOverlayKeys=["Overlays","ConnectionOverlays"],this.previousConnection=t.previousConnection,this.source=e.getElement(t.source),this.target=e.getElement(t.target),t.sourceEndpoint&&(this.source=t.sourceEndpoint.getElement()),t.targetEndpoint&&(this.target=t.targetEndpoint.getElement()),e.OverlayCapableJsPlumbUIComponent.apply(this,arguments),this.sourceId=this._jsPlumb.instance.getId(this.source),this.targetId=this._jsPlumb.instance.getId(this.target),this.scope=t.scope,this.endpoints=[],this.endpointStyles=[];var r=this._jsPlumb.instance;r.manage(this.sourceId,this.source),r.manage(this.targetId,this.target),this._jsPlumb.visible=!0,this._jsPlumb.editable=t.editable===!0,this._jsPlumb.params={cssClass:t.cssClass,container:t.container,"pointer-events":t["pointer-events"],editorParams:t.editorParams,overlays:t.overlays},this._jsPlumb.lastPaintedAt=null,this.bind("mouseover",function(){this.setHover(!0)}.bind(this)),this.bind("mouseout",function(){this.setHover(!1)}.bind(this)),this.editableRequested=t.editable!==!1,this.setEditable=function(t){return this.connector?this.connector.setEditable(t):!1},this.isEditable=function(){return this.connector?this.connector.isEditable():!1},this.isEditing=function(){return this.connector?this.connector.isEditing():!1},this.makeEndpoint=function(e,n,o,s){return o=o||this._jsPlumb.instance.getId(n),this.prepareEndpoint(r,i,this,s,e?0:1,t,n,o)},t.type&&(t.endpoints=this._jsPlumb.instance.deriveEndpointAndAnchorSpec(t.type).endpoints);var o=this.makeEndpoint(!0,this.source,this.sourceId,t.sourceEndpoint),s=this.makeEndpoint(!1,this.target,this.targetId,t.targetEndpoint);o&&n.addToList(t.endpointsByElement,this.sourceId,o),s&&n.addToList(t.endpointsByElement,this.targetId,s),this.scope||(this.scope=this.endpoints[0].scope),null!=t.deleteEndpointsOnDetach?(this.endpoints[0]._deleteOnDetach=t.deleteEndpointsOnDetach,this.endpoints[1]._deleteOnDetach=t.deleteEndpointsOnDetach):(this.endpoints[0]._doNotDeleteOnDetach||(this.endpoints[0]._deleteOnDetach=!0),this.endpoints[1]._doNotDeleteOnDetach||(this.endpoints[1]._deleteOnDetach=!0));var a=r.Defaults.ConnectionsDetachable;t.detachable===!1&&(a=!1),this.endpoints[0].connectionsDetachable===!1&&(a=!1),this.endpoints[1].connectionsDetachable===!1&&(a=!1);var l=t.reattach||this.endpoints[0].reattachConnections||this.endpoints[1].reattachConnections||r.Defaults.ReattachConnections;this.appendToDefaultType({detachable:a,reattach:l,paintStyle:this.endpoints[0].connectorStyle||this.endpoints[1].connectorStyle||t.paintStyle||r.Defaults.PaintStyle||jsPlumb.Defaults.PaintStyle,hoverPaintStyle:this.endpoints[0].connectorHoverStyle||this.endpoints[1].connectorHoverStyle||t.hoverPaintStyle||r.Defaults.HoverPaintStyle||jsPlumb.Defaults.HoverPaintStyle});var u=r.getSuspendedAt();if(!r.isSuspendDrawing()){var c=r.getCachedData(this.sourceId),h=c.o,d=c.s,f=r.getCachedData(this.targetId),p=f.o,g=f.s,m=u||r.timestamp(),v=this.endpoints[0].anchor.compute({xy:[h.left,h.top],wh:d,element:this.endpoints[0],elementId:this.endpoints[0].elementId,txy:[p.left,p.top],twh:g,tElement:this.endpoints[1],timestamp:m});this.endpoints[0].paint({anchorLoc:v,timestamp:m}),v=this.endpoints[1].anchor.compute({xy:[p.left,p.top],wh:g,element:this.endpoints[1],elementId:this.endpoints[1].elementId,txy:[h.left,h.top],twh:d,tElement:this.endpoints[0],timestamp:m}),this.endpoints[1].paint({anchorLoc:v,timestamp:m})}this.getTypeDescriptor=function(){return"connection"},this.getAttachedElements=function(){return this.endpoints},this.isDetachable=function(){return this._jsPlumb.detachable===!0},this.setDetachable=function(t){this._jsPlumb.detachable=t===!0},this.isReattach=function(){return this._jsPlumb.reattach===!0||this.endpoints[0].reattachConnections===!0||this.endpoints[1].reattachConnections===!0},this.setReattach=function(t){this._jsPlumb.reattach=t===!0},this._jsPlumb.cost=t.cost||this.endpoints[0].getConnectionCost(),this._jsPlumb.directed=t.directed,null==t.directed&&(this._jsPlumb.directed=this.endpoints[0].areConnectionsDirected());var y=jsPlumb.extend({},this.endpoints[1].getParameters());e.extend(y,this.endpoints[0].getParameters()),e.extend(y,this.getParameters()),this.setParameters(y),this.setConnector(this.endpoints[0].connector||this.endpoints[1].connector||t.connector||r.Defaults.Connector||e.Defaults.Connector,!0),t.geometry&&this.connector.setGeometry(t.geometry);var b=null!=t.data&&jsPlumbUtil.isObject(t.data)?t.data:{};this.getData=function(){return b},this.setData=function(t){b=t||{}},this.mergeData=function(t){b=jsPlumb.extend(b,t)};var w=["default",this.endpoints[0].connectionType,this.endpoints[1].connectionType,t.type].join(" ");/[^\s]/.test(w)&&this.addType(w,t.data,!0),this.updateConnectedClass()},n.extend(e.Connection,e.OverlayCapableJsPlumbUIComponent,{applyType:function(t,n,i){null!=t.detachable&&this.setDetachable(t.detachable),null!=t.reattach&&this.setReattach(t.reattach),t.scope&&(this.scope=t.scope),null!=t.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,t.cssClass);var r=null;t.anchor?(r=this.getCachedTypeItem("anchors",i.anchor),null==r&&(r=[this._jsPlumb.instance.makeAnchor(t.anchor),this._jsPlumb.instance.makeAnchor(t.anchor)],this.cacheTypeItem("anchors",r,i.anchor))):t.anchors&&(r=this.getCachedTypeItem("anchors",i.anchors),null==r&&(r=[this._jsPlumb.instance.makeAnchor(t.anchors[0]),this._jsPlumb.instance.makeAnchor(t.anchors[1])],this.cacheTypeItem("anchors",r,i.anchors))),null!=r&&(this.endpoints[0].anchor=r[0],this.endpoints[1].anchor=r[1],this.endpoints[1].anchor.isDynamic&&this._jsPlumb.instance.repaint(this.endpoints[1].elementId)),e.OverlayCapableJsPlumbUIComponent.applyType(this,t)},addClass:function(t,e){e&&(this.endpoints[0].addClass(t),this.endpoints[1].addClass(t),this.suspendedEndpoint&&this.suspendedEndpoint.addClass(t)),this.connector&&this.connector.addClass(t)},removeClass:function(t,e){e&&(this.endpoints[0].removeClass(t),this.endpoints[1].removeClass(t),this.suspendedEndpoint&&this.suspendedEndpoint.removeClass(t)),this.connector&&this.connector.removeClass(t)},isVisible:function(){return this._jsPlumb.visible},setVisible:function(t){this._jsPlumb.visible=t,this.connector&&this.connector.setVisible(t),this.repaint()},cleanup:function(){this.updateConnectedClass(!0),this.endpoints=null,this.source=null,this.target=null,null!=this.connector&&(this.connector.cleanup(!0),this.connector.destroy(!0)),this.connector=null},updateConnectedClass:function(t){this._jsPlumb&&(o(this,this.source,this._jsPlumb.instance,t),o(this,this.target,this._jsPlumb.instance,t))},setHover:function(e){this.connector&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&(this.connector.setHover(e),t.jsPlumb[e?"addClass":"removeClass"](this.source,this._jsPlumb.instance.hoverSourceClass),t.jsPlumb[e?"addClass":"removeClass"](this.target,this._jsPlumb.instance.hoverTargetClass))},getUuids:function(){return[this.endpoints[0].getUuid(),this.endpoints[1].getUuid()]},getCost:function(){return this._jsPlumb?this._jsPlumb.cost:-1/0},setCost:function(t){this._jsPlumb.cost=t},isDirected:function(){return this._jsPlumb.directed===!0},getConnector:function(){return this.connector},getGeometry:function(){return this.connector?this.connector.getGeometry():null},setGeometry:function(t){this.connector&&this.connector.setGeometry(t)},prepareConnector:function(t,e){var r,o={_jsPlumb:this._jsPlumb.instance,cssClass:(this._jsPlumb.params.cssClass||"")+(this.isEditable()?this._jsPlumb.instance.editableConnectorClass:""),container:this._jsPlumb.params.container,"pointer-events":this._jsPlumb.params["pointer-events"],editable:this.editableRequested},s=this._jsPlumb.instance.getRenderMode();return n.isString(t)?r=i(this._jsPlumb.instance,s,t,o,this):n.isArray(t)&&(r=1==t.length?i(this._jsPlumb.instance,s,t[0],o,this):i(this._jsPlumb.instance,s,t[0],n.merge(t[1],o),this)),null!=e&&(r.typeId=e),r},setPreparedConnector:function(t,e,n,i){var r,o="";if(null!=this.connector&&(r=this.connector,o=r.getClass(),this.connector.cleanup(),this.connector.destroy()),this.connector=t,i&&this.cacheTypeItem("connector",t,i),this.canvas=this.connector.canvas,this.bgCanvas=this.connector.bgCanvas,this.addClass(o),this.canvas&&(this.canvas._jsPlumb=this),this.bgCanvas&&(this.bgCanvas._jsPlumb=this),null!=r)for(var s=this.getOverlays(),a=0;a<s.length;a++)s[a].transfer&&s[a].transfer(this.connector);n||this.setListenerComponent(this.connector),e||this.repaint()},setConnector:function(t,e,n,i){var r=this.prepareConnector(t,i);this.setPreparedConnector(r,e,n,i)},paint:function(t){if(!this._jsPlumb.instance.isSuspendDrawing()&&this._jsPlumb.visible){t=t||{};var e=t.timestamp,n=!1,i=n?this.sourceId:this.targetId,r=n?this.targetId:this.sourceId,o=n?0:1,s=n?1:0;if(null==e||e!=this._jsPlumb.lastPaintedAt){var a=this._jsPlumb.instance.updateOffset({elId:r}).o,l=this._jsPlumb.instance.updateOffset({elId:i}).o,u=this.endpoints[s],c=this.endpoints[o],h=u.anchor.getCurrentLocation({xy:[a.left,a.top],wh:[a.width,a.height],element:u,timestamp:e}),d=c.anchor.getCurrentLocation({xy:[l.left,l.top],wh:[l.width,l.height],element:c,timestamp:e});this.connector.resetBounds(),this.connector.compute({sourcePos:h,targetPos:d,sourceEndpoint:this.endpoints[s],targetEndpoint:this.endpoints[o],lineWidth:this._jsPlumb.paintStyleInUse.lineWidth,sourceInfo:a,targetInfo:l});var f={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};for(var p in this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(p)){var g=this._jsPlumb.overlays[p];g.isVisible()&&(this._jsPlumb.overlayPlacements[p]=g.draw(this.connector,this._jsPlumb.paintStyleInUse,this.getAbsoluteOverlayPosition(g)),f.minX=Math.min(f.minX,this._jsPlumb.overlayPlacements[p].minX),f.maxX=Math.max(f.maxX,this._jsPlumb.overlayPlacements[p].maxX),f.minY=Math.min(f.minY,this._jsPlumb.overlayPlacements[p].minY),f.maxY=Math.max(f.maxY,this._jsPlumb.overlayPlacements[p].maxY))}var m=parseFloat(this._jsPlumb.paintStyleInUse.lineWidth||1)/2,v=parseFloat(this._jsPlumb.paintStyleInUse.lineWidth||0),y={xmin:Math.min(this.connector.bounds.minX-(m+v),f.minX),ymin:Math.min(this.connector.bounds.minY-(m+v),f.minY),xmax:Math.max(this.connector.bounds.maxX+(m+v),f.maxX),ymax:Math.max(this.connector.bounds.maxY+(m+v),f.maxY)};this.connector.paint(this._jsPlumb.paintStyleInUse,null,y);for(var b in this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(b)){var w=this._jsPlumb.overlays[b];w.isVisible()&&w.paint(this._jsPlumb.overlayPlacements[b],y)}}this._jsPlumb.lastPaintedAt=e}},repaint:function(t){t=t||{},this.paint({elId:this.sourceId,recalc:!(t.recalc===!1),timestamp:t.timestamp})},prepareEndpoint:function(t,n,i,o,s,a,l,u){var c;if(o)i.endpoints[s]=o,o.addConnection(i);else{a.endpoints||(a.endpoints=[null,null]);var h=a.endpoints[s]||a.endpoint||t.Defaults.Endpoints[s]||jsPlumb.Defaults.Endpoints[s]||t.Defaults.Endpoint||jsPlumb.Defaults.Endpoint;a.endpointStyles||(a.endpointStyles=[null,null]),a.endpointHoverStyles||(a.endpointHoverStyles=[null,null]);var d=a.endpointStyles[s]||a.endpointStyle||t.Defaults.EndpointStyles[s]||jsPlumb.Defaults.EndpointStyles[s]||t.Defaults.EndpointStyle||jsPlumb.Defaults.EndpointStyle;null==d.fillStyle&&null!=a.paintStyle&&(d.fillStyle=a.paintStyle.strokeStyle),null==d.outlineColor&&null!=a.paintStyle&&(d.outlineColor=a.paintStyle.outlineColor),null==d.outlineWidth&&null!=a.paintStyle&&(d.outlineWidth=a.paintStyle.outlineWidth);var f=a.endpointHoverStyles[s]||a.endpointHoverStyle||t.Defaults.EndpointHoverStyles[s]||jsPlumb.Defaults.EndpointHoverStyles[s]||t.Defaults.EndpointHoverStyle||jsPlumb.Defaults.EndpointHoverStyle;null!=a.hoverPaintStyle&&(null==f&&(f={}),null==f.fillStyle&&(f.fillStyle=a.hoverPaintStyle.strokeStyle));var p=a.anchors?a.anchors[s]:a.anchor?a.anchor:r(t.Defaults.Anchors[s],u,t)||r(e.Defaults.Anchors[s],u,t)||r(t.Defaults.Anchor,u,t)||r(e.Defaults.Anchor,u,t),g=a.uuids?a.uuids[s]:null;c=n({paintStyle:d,hoverPaintStyle:f,endpoint:h,connections:[i],uuid:g,anchor:p,source:l,scope:a.scope,reattach:a.reattach||t.Defaults.ReattachConnections,detachable:a.detachable||t.Defaults.ConnectionsDetachable}),i.endpoints[s]=c,a.drawEndpoints===!1&&c.setVisible(!1,!0,!0)}return c}})}.call(this),function(){"use strict";var t=this,e=t.jsPlumbUtil,n=t.jsPlumb;n.AnchorManager=function(t){var i={},r={},o={},s={},a={HORIZONTAL:"horizontal",VERTICAL:"vertical",DIAGONAL:"diagonal",IDENTITY:"identity"},l=["left","top","right","bottom"],u={},c=this,h={},d=t.jsPlumbInstance,f={},p=function(t,e,n,i,r,o){if(t===e)return{orientation:a.IDENTITY,a:["top","top"]};var s=Math.atan2(i.centery-n.centery,i.centerx-n.centerx),u=Math.atan2(n.centery-i.centery,n.centerx-i.centerx),c=[],h={};!function(t,e){for(var n=0;n<t.length;n++)h[t[n]]={left:[e[n].left,e[n].centery],right:[e[n].right,e[n].centery],top:[e[n].centerx,e[n].top],bottom:[e[n].centerx,e[n].bottom]}}(["source","target"],[n,i]);for(var d=0;d<l.length;d++)for(var f=0;f<l.length;f++)c.push({source:l[d],target:l[f],dist:Biltong.lineLength(h.source[l[d]],h.target[l[f]])});c.sort(function(t,e){return t.dist<e.dist?-1:t.dist>e.dist?1:0});for(var p=c[0].source,g=c[0].target,m=0;m<c.length&&(p=!r.isContinuous||r.isEdgeSupported(c[m].source)?c[m].source:null,g=!o.isContinuous||o.isEdgeSupported(c[m].target)?c[m].target:null,null==p||null==g);m++);return{a:[p,g],theta:s,theta2:u}},g=function(t,e,n,i,r,o,s){for(var a=[],l=e[r?0:1]/(i.length+1),u=0;u<i.length;u++){var c=(u+1)*l,h=o*e[r?1:0];s&&(c=e[r?0:1]-c);var d=r?c:h,f=n[0]+d,p=d/e[0],g=r?h:c,m=n[1]+g,v=g/e[1];a.push([f,m,p,v,i[u][1],i[u][2]])}return a},m=function(t){return function(e,n){var i=!0;return i=t?e[0][0]<n[0][0]:e[0][0]>n[0][0],i===!1?-1:1}},v=function(t,e){var n=t[0][0]<0?-Math.PI-t[0][0]:Math.PI-t[0][0],i=e[0][0]<0?-Math.PI-e[0][0]:Math.PI-e[0][0];return n>i?1:t[0][1]>e[0][1]?1:-1},y={top:function(t,e){return t[0]>e[0]?1:-1},right:m(!0),bottom:m(!0),left:v},b=function(t,e){return t.sort(e)},w=function(t,e){var n=d.getCachedData(t),i=n.s,o=n.o,a=function(e,n,i,o,a,l,u){if(o.length>0)for(var c=b(o,y[e]),h="right"===e||"top"===e,d=g(e,n,i,c,a,l,h),f=function(t,e){r[t.id]=[e[0],e[1],e[2],e[3]],s[t.id]=u},p=0;p<d.length;p++){var m=d[p][4],v=m.endpoints[0].elementId===t,w=m.endpoints[1].elementId===t;v&&f(m.endpoints[0],d[p]),w&&f(m.endpoints[1],d[p])}};a("bottom",i,[o.left,o.top],e.bottom,!0,1,[0,1]),a("top",i,[o.left,o.top],e.top,!0,0,[0,-1]),a("left",i,[o.left,o.top],e.left,!1,0,[-1,0]),a("right",i,[o.left,o.top],e.right,!1,1,[1,0])};this.reset=function(){i={},u={},h={}},this.addFloatingConnection=function(t,e){f[t]=e},this.removeFloatingConnection=function(t){delete f[t]},this.newConnection=function(t){var i=t.sourceId,r=t.targetId,o=t.endpoints,s=!0,a=function(a,l,c,h,d){i==r&&c.isContinuous&&(t._jsPlumb.instance.removeElement(o[1].canvas),s=!1),e.addToList(u,h,[d,l,c.constructor==n.DynamicAnchor])};a(0,o[0],o[0].anchor,r,t),s&&a(1,o[1],o[1].anchor,i,t)};var x=function(t){!function(t,n){if(t){var i=function(t){return t[4]==n};e.removeWithFunction(t.top,i),e.removeWithFunction(t.left,i),e.removeWithFunction(t.bottom,i),e.removeWithFunction(t.right,i)}}(h[t.elementId],t.id)};this.connectionDetached=function(t,n){var i=t.connection||t,r=t.sourceId,o=t.targetId,s=i.endpoints,a=function(t,n,i,r,o){e.removeWithFunction(u[r],function(t){return t[0].id==o.id})};a(1,s[1],s[1].anchor,r,i),a(0,s[0],s[0].anchor,o,i),i.floatingId&&(a(i.floatingIndex,i.floatingEndpoint,i.floatingEndpoint.anchor,i.floatingId,i),x(i.floatingEndpoint)),x(i.endpoints[0]),x(i.endpoints[1]),n||(c.redraw(i.sourceId),i.targetId!==i.sourceId&&c.redraw(i.targetId))},this.add=function(t,n){e.addToList(i,n,t)},this.changeId=function(t,e){u[e]=u[t],i[e]=i[t],delete u[t],delete i[t]},this.getConnectionsFor=function(t){return u[t]||[]},this.getEndpointsFor=function(t){return i[t]||[]},this.deleteEndpoint=function(t){e.removeWithFunction(i[t.elementId],function(e){return e.id==t.id}),x(t)},this.clearFor=function(t){delete i[t],i[t]=[]};var _=function(n,i,r,o,s,a,l,u,c,h,d,f){var p,g,m=-1,v=-1,y=o.endpoints[l],b=y.id,w=[1,0][l],x=[[i,r],o,s,a,b],_=n[c],$=y._continuousAnchorEdge?n[y._continuousAnchorEdge]:null;if($){var C=e.findWithFunction($,function(t){return t[4]==b});if(-1!=C)for($.splice(C,1),p=0;p<$.length;p++)g=$[p][1],e.addWithFunction(d,g,function(t){return t.id==g.id}),e.addWithFunction(f,$[p][1].endpoints[l],function(t){return t.id==g.endpoints[l].id}),e.addWithFunction(f,$[p][1].endpoints[w],function(t){return t.id==g.endpoints[w].id})}for(p=0;p<_.length;p++)g=_[p][1],1==t.idx&&_[p][3]===a&&-1==v&&(v=p),e.addWithFunction(d,g,function(t){return t.id==g.id}),e.addWithFunction(f,_[p][1].endpoints[l],function(t){return t.id==g.endpoints[l].id}),e.addWithFunction(f,_[p][1].endpoints[w],function(t){return t.id==g.endpoints[w].id});if(-1!=m)_[m]=x;else{var A=u?-1!=v?v:0:_.length;_.splice(A,0,x)}y._continuousAnchorEdge=c};this.updateOtherEndpoint=function(t,i,r,o){var s=e.findWithFunction(u[t],function(t){return t[0].id===o.id}),a=e.findWithFunction(u[i],function(t){return t[0].id===o.id});-1!=s&&(u[t][s][0]=o,u[t][s][1]=o.endpoints[1],u[t][s][2]=o.endpoints[1].anchor.constructor==n.DynamicAnchor),a>-1&&(u[i].splice(a,1),e.addToList(u,r,[o,o.endpoints[0],o.endpoints[0].anchor.constructor==n.DynamicAnchor])),o.updateConnectedClass()},this.sourceChanged=function(t,i,r){if(t!==i){e.removeWithFunction(u[t],function(t){return t[0].id===r.id});var o=e.findWithFunction(u[r.targetId],function(t){return t[0].id===r.id});o>-1&&(u[r.targetId][o][0]=r,u[r.targetId][o][1]=r.endpoints[0],u[r.targetId][o][2]=r.endpoints[0].anchor.constructor==n.DynamicAnchor),e.addToList(u,i,[r,r.endpoints[1],r.endpoints[1].anchor.constructor==n.DynamicAnchor]),r.endpoints[1].anchor.isContinuous&&(r.source===r.target?r._jsPlumb.instance.removeElement(r.endpoints[1].canvas):null==r.endpoints[1].canvas.parentNode&&r._jsPlumb.instance.appendElement(r.endpoints[1].canvas)),r.updateConnectedClass()}},this.rehomeEndpoint=function(t,e,n){var r=i[e]||[],o=d.getId(n);if(o!==e){var s=r.indexOf(t);if(s>-1){var a=r.splice(s,1)[0];c.add(a,o)}}for(var l=0;l<t.connections.length;l++)t.connections[l].sourceId==e?(t.connections[l].sourceId=t.elementId,t.connections[l].source=t.element,c.sourceChanged(e,t.elementId,t.connections[l])):t.connections[l].targetId==e&&(t.connections[l].targetId=t.elementId,t.connections[l].target=t.element,c.updateOtherEndpoint(t.connections[l].sourceId,e,t.elementId,t.connections[l]))},this.redraw=function(t,r,o,s,a,l){if(!d.isSuspendDrawing()){var c=i[t]||[],g=u[t]||[],m=[],v=[],y=[];o=o||d.timestamp(),s=s||{left:0,top:0},r&&(r={left:r.left+s.left,top:r.top+s.top});for(var b=d.updateOffset({elId:t,offset:r,recalc:!1,timestamp:o}),x={},$=0;$<g.length;$++){var C=g[$][0],A=C.sourceId,E=C.targetId,S=C.endpoints[0].anchor.isContinuous,k=C.endpoints[1].anchor.isContinuous;if(S||k){var D=A+"_"+E,T=x[D],F=C.sourceId==t?1:0;
S&&!h[A]&&(h[A]={top:[],right:[],bottom:[],left:[]}),k&&!h[E]&&(h[E]={top:[],right:[],bottom:[],left:[]}),t!=E&&d.updateOffset({elId:E,timestamp:o}),t!=A&&d.updateOffset({elId:A,timestamp:o});var M=d.getCachedData(E),L=d.getCachedData(A);E==A&&(S||k)?(_(h[A],-Math.PI/2,0,C,!1,E,0,!1,"top",A,m,v),_(h[E],-Math.PI/2,0,C,!1,A,1,!1,"top",E,m,v)):(T||(T=p(A,E,L.o,M.o,C.endpoints[0].anchor,C.endpoints[1].anchor),x[D]=T),S&&_(h[A],T.theta,0,C,!1,E,0,!1,T.a[0],A,m,v),k&&_(h[E],T.theta2,-1,C,!0,A,1,!0,T.a[1],E,m,v)),S&&e.addWithFunction(y,A,function(t){return t===A}),k&&e.addWithFunction(y,E,function(t){return t===E}),e.addWithFunction(m,C,function(t){return t.id==C.id}),(S&&0===F||k&&1===F)&&e.addWithFunction(v,C.endpoints[F],function(t){return t.id==C.endpoints[F].id})}}for($=0;$<c.length;$++)0===c[$].connections.length&&c[$].anchor.isContinuous&&(h[t]||(h[t]={top:[],right:[],bottom:[],left:[]}),_(h[t],-Math.PI/2,0,{endpoints:[c[$],c[$]],paint:function(){}},!1,t,0,!1,c[$].anchor.getDefaultFace(),t,m,v),e.addWithFunction(y,t,function(e){return e===t}));for($=0;$<y.length;$++)w(y[$],h[y[$]]);for($=0;$<c.length;$++)c[$].paint({timestamp:o,offset:b,dimensions:b.s,recalc:l!==!0});for($=0;$<v.length;$++){var O=d.getCachedData(v[$].elementId);v[$].paint({timestamp:o,offset:O,dimensions:O.s})}for($=0;$<g.length;$++){var P=g[$][1];if(P.anchor.constructor==n.DynamicAnchor){P.paint({elementWithPrecedence:t,timestamp:o}),e.addWithFunction(m,g[$][0],function(t){return t.id==g[$][0].id});for(var B=0;B<P.connections.length;B++)P.connections[B]!==g[$][0]&&e.addWithFunction(m,P.connections[B],function(t){return t.id==P.connections[B].id})}else P.anchor.constructor==n.Anchor&&e.addWithFunction(m,g[$][0],function(t){return t.id==g[$][0].id})}var I=f[t];for(I&&I.paint({timestamp:o,recalc:!1,elId:t}),$=0;$<m.length;$++)m[$].paint({elId:t,timestamp:o,recalc:!1,clearEdits:a})}};var $=function(t){e.EventGenerator.apply(this),this.type="Continuous",this.isDynamic=!0,this.isContinuous=!0;for(var n=t.faces||["top","right","bottom","left"],i=!(t.clockwise===!1),a={},l={top:"bottom",right:"left",left:"right",bottom:"top"},u={top:"right",right:"bottom",left:"top",bottom:"left"},c={top:"left",right:"top",left:"bottom",bottom:"right"},h=i?u:c,d=i?c:u,f=t.cssClass||"",p=0;p<n.length;p++)a[n[p]]=!0;this.getDefaultFace=function(){return 0===n.length?"top":n[0]},this.verifyEdge=function(t){return a[t]?t:a[l[t]]?l[t]:a[h[t]]?h[t]:a[d[t]]?d[t]:t},this.isEdgeSupported=function(t){return a[t]===!0},this.compute=function(t){return o[t.element.id]||r[t.element.id]||[0,0]},this.getCurrentLocation=function(t){return o[t.element.id]||r[t.element.id]||[0,0]},this.getOrientation=function(t){return s[t.id]||[0,0]},this.clearUserDefinedLocation=function(){delete o[t.elementId]},this.setUserDefinedLocation=function(e){o[t.elementId]=e},this.getCssClass=function(){return f}};d.continuousAnchorFactory={get:function(t){return new $(t)},clear:function(t){delete o[t],delete r[t]}}},n.Anchor=function(t){this.x=t.x||0,this.y=t.y||0,this.elementId=t.elementId,this.cssClass=t.cssClass||"",this.userDefinedLocation=null,this.orientation=t.orientation||[0,0],this.lastReturnValue=null,this.offsets=t.offsets||[0,0],this.timestamp=null,e.EventGenerator.apply(this),this.compute=function(t){var e=t.xy,n=t.wh,i=t.timestamp;return t.clearUserDefinedLocation&&(this.userDefinedLocation=null),i&&i===self.timestamp?this.lastReturnValue:(this.lastReturnValue=null!=this.userDefinedLocation?this.userDefinedLocation:[e[0]+this.x*n[0]+this.offsets[0],e[1]+this.y*n[1]+this.offsets[1]],this.timestamp=i,this.lastReturnValue)},this.getCurrentLocation=function(t){return t=t||{},null==this.lastReturnValue||null!=t.timestamp&&this.timestamp!=t.timestamp?this.compute(t):this.lastReturnValue}},e.extend(n.Anchor,e.EventGenerator,{equals:function(t){if(!t)return!1;var e=t.getOrientation(),n=this.getOrientation();return this.x==t.x&&this.y==t.y&&this.offsets[0]==t.offsets[0]&&this.offsets[1]==t.offsets[1]&&n[0]==e[0]&&n[1]==e[1]},getUserDefinedLocation:function(){return this.userDefinedLocation},setUserDefinedLocation:function(t){this.userDefinedLocation=t},clearUserDefinedLocation:function(){this.userDefinedLocation=null},getOrientation:function(){return this.orientation},getCssClass:function(){return this.cssClass}}),n.FloatingAnchor=function(t){n.Anchor.apply(this,arguments);var e=t.reference,i=t.referenceCanvas,r=n.getSize(i),o=0,s=0,a=null,l=null;this.orientation=null,this.x=0,this.y=0,this.isFloating=!0,this.compute=function(t){var e=t.xy,n=[e[0]+r[0]/2,e[1]+r[1]/2];return l=n,n},this.getOrientation=function(t){if(a)return a;var n=e.getOrientation(t);return[-1*Math.abs(n[0])*o,-1*Math.abs(n[1])*s]},this.over=function(t,e){a=t.getOrientation(e)},this.out=function(){a=null},this.getCurrentLocation=function(t){return null==l?this.compute(t):l}},e.extend(n.FloatingAnchor,n.Anchor);var i=function(t,e,i){return t.constructor==n.Anchor?t:e.makeAnchor(t,i,e)};n.DynamicAnchor=function(t){n.Anchor.apply(this,arguments),this.isDynamic=!0,this.anchors=[],this.elementId=t.elementId,this.jsPlumbInstance=t.jsPlumbInstance;for(var e=0;e<t.anchors.length;e++)this.anchors[e]=i(t.anchors[e],this.jsPlumbInstance,this.elementId);this.getAnchors=function(){return this.anchors},this.locked=!1;var r=this.anchors.length>0?this.anchors[0]:null,o=r,s=this,a=function(t,e,n,i,r){var o=i[0]+t.x*r[0],s=i[1]+t.y*r[1],a=i[0]+r[0]/2,l=i[1]+r[1]/2;return Math.sqrt(Math.pow(e-o,2)+Math.pow(n-s,2))+Math.sqrt(Math.pow(a-o,2)+Math.pow(l-s,2))},l=t.selector||function(t,e,n,i,r){for(var o=n[0]+i[0]/2,s=n[1]+i[1]/2,l=-1,u=1/0,c=0;c<r.length;c++){var h=a(r[c],o,s,t,e);u>h&&(l=c+0,u=h)}return r[l]};this.compute=function(t){var e=t.xy,n=t.wh,i=t.txy,a=t.twh;this.timestamp=t.timestamp;var u=s.getUserDefinedLocation();return null!=u?u:this.locked||null==i||null==a?r.compute(t):(t.timestamp=null,r=l(e,n,i,a,this.anchors),this.x=r.x,this.y=r.y,r!=o&&this.fire("anchorChanged",r),o=r,r.compute(t))},this.getCurrentLocation=function(t){return this.getUserDefinedLocation()||(null!=r?r.getCurrentLocation(t):null)},this.getOrientation=function(t){return null!=r?r.getOrientation(t):[0,0]},this.over=function(t,e){null!=r&&r.over(t,e)},this.out=function(){null!=r&&r.out()},this.getCssClass=function(){return r&&r.getCssClass()||""}},e.extend(n.DynamicAnchor,n.Anchor);var r=function(t,e,i,r,o,s){n.Anchors[o]=function(n){var a=n.jsPlumbInstance.makeAnchor([t,e,i,r,0,0],n.elementId,n.jsPlumbInstance);return a.type=o,s&&s(a,n),a}};r(.5,0,0,-1,"TopCenter"),r(.5,1,0,1,"BottomCenter"),r(0,.5,-1,0,"LeftMiddle"),r(1,.5,1,0,"RightMiddle"),r(.5,0,0,-1,"Top"),r(.5,1,0,1,"Bottom"),r(0,.5,-1,0,"Left"),r(1,.5,1,0,"Right"),r(.5,.5,0,0,"Center"),r(1,0,0,-1,"TopRight"),r(1,1,0,1,"BottomRight"),r(0,0,0,-1,"TopLeft"),r(0,1,0,1,"BottomLeft"),n.Defaults.DynamicAnchors=function(t){return t.jsPlumbInstance.makeAnchors(["TopCenter","RightMiddle","BottomCenter","LeftMiddle"],t.elementId,t.jsPlumbInstance)},n.Anchors.AutoDefault=function(t){var e=t.jsPlumbInstance.makeDynamicAnchor(n.Defaults.DynamicAnchors(t));return e.type="AutoDefault",e};var o=function(t,e){n.Anchors[t]=function(n){var i=n.jsPlumbInstance.makeAnchor(["Continuous",{faces:e}],n.elementId,n.jsPlumbInstance);return i.type=t,i}};n.Anchors.Continuous=function(t){return t.jsPlumbInstance.continuousAnchorFactory.get(t)},o("ContinuousLeft",["left"]),o("ContinuousTop",["top"]),o("ContinuousBottom",["bottom"]),o("ContinuousRight",["right"]),r(0,0,0,0,"Assign",function(t,e){var n=e.position||"Fixed";t.positionFinder=n.constructor==String?e.jsPlumbInstance.AnchorPositionFinders[n]:n,t.constructorParams=e}),jsPlumbInstance.prototype.AnchorPositionFinders={Fixed:function(t,e,n){return[(t.left-e.left)/n[0],(t.top-e.top)/n[1]]},Grid:function(t,e,n,i){var r=t.left-e.left,o=t.top-e.top,s=n[0]/i.grid[0],a=n[1]/i.grid[1],l=Math.floor(r/s),u=Math.floor(o/a);return[(l*s+s/2)/n[0],(u*a+a/2)/n[1]]}},n.Anchors.Perimeter=function(t){t=t||{};var e=t.anchorCount||60,n=t.shape;if(!n)throw new Error("no shape supplied to Perimeter Anchor type");var i=function(){for(var t=.5,n=2*Math.PI/e,i=0,r=[],o=0;e>o;o++){var s=t+t*Math.sin(i),a=t+t*Math.cos(i);r.push([s,a,0,0]),i+=n}return r},r=function(t){for(var n=e/t.length,i=[],r=function(t,r,o,s,a){n=e*a;for(var l=(o-t)/n,u=(s-r)/n,c=0;n>c;c++)i.push([t+l*c,r+u*c,0,0])},o=0;o<t.length;o++)r.apply(null,t[o]);return i},o=function(t){for(var e=[],n=0;n<t.length;n++)e.push([t[n][0],t[n][1],t[n][2],t[n][3],1/t.length]);return r(e)},s=function(){return o([[0,0,1,0],[1,0,1,1],[1,1,0,1],[0,1,0,0]])},a={Circle:i,Ellipse:i,Diamond:function(){return o([[.5,0,1,.5],[1,.5,.5,1],[.5,1,0,.5],[0,.5,.5,0]])},Rectangle:s,Square:s,Triangle:function(){return o([[.5,0,1,1],[1,1,0,1],[0,1,.5,0]])},Path:function(t){for(var e=t.points,n=[],i=0,o=0;o<e.length-1;o++){var s=Math.sqrt(Math.pow(e[o][2]-e[o][0])+Math.pow(e[o][3]-e[o][1]));i+=s,n.push([e[o][0],e[o][1],e[o+1][0],e[o+1][1],s])}for(var a=0;a<n.length;a++)n[a][4]=n[a][4]/i;return r(n)}},l=function(t,e){for(var n=[],i=e/180*Math.PI,r=0;r<t.length;r++){var o=t[r][0]-.5,s=t[r][1]-.5;n.push([.5+(o*Math.cos(i)-s*Math.sin(i)),.5+(o*Math.sin(i)+s*Math.cos(i)),t[r][2],t[r][3]])}return n};if(!a[n])throw new Error("Shape ["+n+"] is unknown by Perimeter Anchor type");var u=a[n](t);t.rotation&&(u=l(u,t.rotation));var c=t.jsPlumbInstance.makeDynamicAnchor(u);return c.type="Perimeter",c}}.call(this),function(){"use strict";var t=this,e=t.jsPlumb,n=t.jsPlumbUtil,i=t.Biltong;e.Segments={AbstractSegment:function(t){this.params=t,this.findClosestPointOnPath=function(){return{d:1/0,x:null,y:null,l:null}},this.getBounds=function(){return{minX:Math.min(t.x1,t.x2),minY:Math.min(t.y1,t.y2),maxX:Math.max(t.x1,t.x2),maxY:Math.max(t.y1,t.y2)}}},Straight:function(t){var n,r,o,s,a,l,u,c=(e.Segments.AbstractSegment.apply(this,arguments),function(){n=Math.sqrt(Math.pow(a-s,2)+Math.pow(u-l,2)),r=i.gradient({x:s,y:l},{x:a,y:u}),o=-1/r});this.type="Straight",this.getLength=function(){return n},this.getGradient=function(){return r},this.getCoordinates=function(){return{x1:s,y1:l,x2:a,y2:u}},this.setCoordinates=function(t){s=t.x1,l=t.y1,a=t.x2,u=t.y2,c()},this.setCoordinates({x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2}),this.getBounds=function(){return{minX:Math.min(s,a),minY:Math.min(l,u),maxX:Math.max(s,a),maxY:Math.max(l,u)}},this.pointOnPath=function(t,e){if(0!==t||e){if(1!=t||e){var r=e?t>0?t:n+t:t*n;return i.pointOnLine({x:s,y:l},{x:a,y:u},r)}return{x:a,y:u}}return{x:s,y:l}},this.gradientAtPoint=function(){return r},this.pointAlongPathFrom=function(t,e,n){var r=this.pointOnPath(t,n),o=0>=e?{x:s,y:l}:{x:a,y:u};return 0>=e&&Math.abs(e)>1&&(e*=-1),i.pointOnLine(r,o,e)};var h=function(t,e,n){return n>=Math.min(t,e)&&n<=Math.max(t,e)},d=function(t,e,n){return Math.abs(n-t)<Math.abs(n-e)?t:e};this.findClosestPointOnPath=function(t,e){var c={d:1/0,x:null,y:null,l:null,x1:s,x2:a,y1:l,y2:u};if(0===r)c.y=l,c.x=h(s,a,t)?t:d(s,a,t);else if(1/0==r||r==-1/0)c.x=s,c.y=h(l,u,e)?e:d(l,u,e);else{var f=l-r*s,p=e-o*t,g=(p-f)/(r-o),m=r*g+f;c.x=h(s,a,g)?g:d(s,a,g),c.y=h(l,u,m)?m:d(l,u,m)}var v=i.lineLength([c.x,c.y],[s,l]);return c.d=i.lineLength([t,e],[c.x,c.y]),c.l=v/n,c}},Arc:function(t){var n=(e.Segments.AbstractSegment.apply(this,arguments),function(e,n){return i.theta([t.cx,t.cy],[e,n])}),r=function(t,e){if(t.anticlockwise){var n=t.startAngle<t.endAngle?t.startAngle+o:t.startAngle,i=Math.abs(n-t.endAngle);return n-i*e}var r=t.endAngle<t.startAngle?t.endAngle+o:t.endAngle,s=Math.abs(r-t.startAngle);return t.startAngle+s*e},o=2*Math.PI;this.radius=t.r,this.anticlockwise=t.ac,this.type="Arc",t.startAngle&&t.endAngle?(this.startAngle=t.startAngle,this.endAngle=t.endAngle,this.x1=t.cx+this.radius*Math.cos(t.startAngle),this.y1=t.cy+this.radius*Math.sin(t.startAngle),this.x2=t.cx+this.radius*Math.cos(t.endAngle),this.y2=t.cy+this.radius*Math.sin(t.endAngle)):(this.startAngle=n(t.x1,t.y1),this.endAngle=n(t.x2,t.y2),this.x1=t.x1,this.y1=t.y1,this.x2=t.x2,this.y2=t.y2),this.endAngle<0&&(this.endAngle+=o),this.startAngle<0&&(this.startAngle+=o);var s=this.endAngle<this.startAngle?this.endAngle+o:this.endAngle;this.sweep=Math.abs(s-this.startAngle),this.anticlockwise&&(this.sweep=o-this.sweep);var a=2*Math.PI*this.radius,l=this.sweep/o,u=a*l;this.getLength=function(){return u},this.getBounds=function(){return{minX:t.cx-t.r,maxX:t.cx+t.r,minY:t.cy-t.r,maxY:t.cy+t.r}};var c=1e-10,h=function(t){var e=Math.floor(t),n=Math.ceil(t);return c>t-e?e:c>n-t?n:t};this.pointOnPath=function(e,n){if(0===e)return{x:this.x1,y:this.y1,theta:this.startAngle};if(1==e)return{x:this.x2,y:this.y2,theta:this.endAngle};n&&(e/=u);var i=r(this,e),o=t.cx+t.r*Math.cos(i),s=t.cy+t.r*Math.sin(i);return{x:h(o),y:h(s),theta:i}},this.gradientAtPoint=function(e,n){var r=this.pointOnPath(e,n),o=i.normal([t.cx,t.cy],[r.x,r.y]);return this.anticlockwise||1/0!=o&&o!=-1/0||(o*=-1),o},this.pointAlongPathFrom=function(e,n,i){var r=this.pointOnPath(e,i),o=2*(n/a)*Math.PI,s=this.anticlockwise?-1:1,l=r.theta+s*o,u=t.cx+this.radius*Math.cos(l),c=t.cy+this.radius*Math.sin(l);return{x:u,y:c}}},Bezier:function(n){this.curve=[{x:n.x1,y:n.y1},{x:n.cp1x,y:n.cp1y},{x:n.cp2x,y:n.cp2y},{x:n.x2,y:n.y2}],e.Segments.AbstractSegment.apply(this,arguments),this.bounds={minX:Math.min(n.x1,n.x2,n.cp1x,n.cp2x),minY:Math.min(n.y1,n.y2,n.cp1y,n.cp2y),maxX:Math.max(n.x1,n.x2,n.cp1x,n.cp2x),maxY:Math.max(n.y1,n.y2,n.cp1y,n.cp2y)},this.type="Bezier";var i=function(e,n,i){return i&&(n=t.jsBezier.locationAlongCurveFrom(e,n>0?0:1,n)),n};this.pointOnPath=function(e,n){return e=i(this.curve,e,n),t.jsBezier.pointOnCurve(this.curve,e)},this.gradientAtPoint=function(e,n){return e=i(this.curve,e,n),t.jsBezier.gradientAtPoint(this.curve,e)},this.pointAlongPathFrom=function(e,n,r){return e=i(this.curve,e,r),t.jsBezier.pointAlongCurveFrom(this.curve,e,n)},this.getLength=function(){return t.jsBezier.getLength(this.curve)},this.getBounds=function(){return this.bounds}}};var r=function(){this.resetBounds=function(){this.bounds={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}},this.resetBounds()};e.Connectors.AbstractConnector=function(t){r.apply(this,arguments);var o=[],s=0,a=[],l=[],u=t.stub||0,c=n.isArray(u)?u[0]:u,h=n.isArray(u)?u[1]:u,d=t.gap||0,f=n.isArray(d)?d[0]:d,p=n.isArray(d)?d[1]:d,g=null,m=!1,v=null,y=null,b=t.editable!==!1&&null!=jsPlumb.ConnectorEditors&&null!=jsPlumb.ConnectorEditors[this.type],w=this.setGeometry=function(t,e){m=!e,y=t},x=this.getGeometry=function(){return y};this.hasBeenEdited=function(){return m},this.isEditing=function(){return null!=this.editor&&this.editor.isActive()},this.setEditable=function(t){return b=t&&null!=jsPlumb.ConnectorEditors&&null!=jsPlumb.ConnectorEditors[this.type]&&(null==this.overrideSetEditable||this.overrideSetEditable())?t:!1},this.isEditable=function(){return b},this.findSegmentForPoint=function(t,e){for(var n={d:1/0,s:null,x:null,y:null,l:null},i=0;i<o.length;i++){var r=o[i].findClosestPointOnPath(t,e);r.d<n.d&&(n.d=r.d,n.l=r.l,n.x=r.x,n.y=r.y,n.s=o[i],n.x1=r.x1,n.x2=r.x2,n.y1=r.y1,n.y2=r.y2,n.index=i)}return n};var _=function(){for(var t=0,e=0;e<o.length;e++){var n=o[e].getLength();l[e]=n/s,a[e]=[t,t+=n/s]}},$=function(t,e){e&&(t=t>0?t/s:(s+t)/s);for(var n=a.length-1,i=1,r=0;r<a.length;r++)if(a[r][1]>=t){n=r,i=1==t?1:0===t?0:(t-a[r][0])/l[r];break}return{segment:o[n],proportion:i,index:n}},C=function(t,n,i){if(i.x1!=i.x2||i.y1!=i.y2){var r=new e.Segments[n](i);o.push(r),s+=r.getLength(),t.updateBounds(r)}},A=function(){s=o.length=a.length=l.length=0};this.setSegments=function(t){g=[],s=0;for(var e=0;e<t.length;e++)g.push(t[e]),s+=t[e].getLength()},this.getLength=function(){return s};var E=function(t){this.lineWidth=t.lineWidth;var e=i.quadrant(t.sourcePos,t.targetPos),n=t.targetPos[0]<t.sourcePos[0],r=t.targetPos[1]<t.sourcePos[1],o=t.lineWidth||1,s=t.sourceEndpoint.anchor.getOrientation(t.sourceEndpoint),a=t.targetEndpoint.anchor.getOrientation(t.targetEndpoint),l=n?t.targetPos[0]:t.sourcePos[0],u=r?t.targetPos[1]:t.sourcePos[1],d=Math.abs(t.targetPos[0]-t.sourcePos[0]),g=Math.abs(t.targetPos[1]-t.sourcePos[1]);if(0===s[0]&&0===s[1]||0===a[0]&&0===a[1]){var m=d>g?0:1,v=[1,0][m];s=[],a=[],s[m]=t.sourcePos[m]>t.targetPos[m]?-1:1,a[m]=t.sourcePos[m]>t.targetPos[m]?1:-1,s[v]=0,a[v]=0}var y=n?d+f*s[0]:f*s[0],b=r?g+f*s[1]:f*s[1],w=n?p*a[0]:d+p*a[0],x=r?p*a[1]:g+p*a[1],_=s[0]*a[0]+s[1]*a[1],$={sx:y,sy:b,tx:w,ty:x,lw:o,xSpan:Math.abs(w-y),ySpan:Math.abs(x-b),mx:(y+w)/2,my:(b+x)/2,so:s,to:a,x:l,y:u,w:d,h:g,segment:e,startStubX:y+s[0]*c,startStubY:b+s[1]*c,endStubX:w+a[0]*h,endStubY:x+a[1]*h,isXGreaterThanStubTimes2:Math.abs(y-w)>c+h,isYGreaterThanStubTimes2:Math.abs(b-x)>c+h,opposite:-1==_,perpendicular:0===_,orthogonal:1==_,sourceAxis:0===s[0]?"y":"x",points:[l,u,d,g,y,b,w,x]};return $.anchorOrientation=$.opposite?"opposite":$.orthogonal?"orthogonal":"perpendicular",$};return this.getSegments=function(){return o},this.updateBounds=function(t){var e=t.getBounds();this.bounds.minX=Math.min(this.bounds.minX,e.minX),this.bounds.maxX=Math.max(this.bounds.maxX,e.maxX),this.bounds.minY=Math.min(this.bounds.minY,e.minY),this.bounds.maxY=Math.max(this.bounds.maxY,e.maxY)},this.pointOnPath=function(t,e){var n=$(t,e);return n.segment&&n.segment.pointOnPath(n.proportion,!1)||[0,0]},this.gradientAtPoint=function(t,e){var n=$(t,e);return n.segment&&n.segment.gradientAtPoint(n.proportion,!1)||0},this.pointAlongPathFrom=function(t,e,n){var i=$(t,n);return i.segment&&i.segment.pointAlongPathFrom(i.proportion,e,!1)||[0,0]},this.compute=function(t){v=E.call(this,t),A(),this._compute(v,t),this.x=v.points[0],this.y=v.points[1],this.w=v.points[2],this.h=v.points[3],this.segment=v.segment,_()},{addSegment:C,prepareCompute:E,sourceStub:c,targetStub:h,maxStub:Math.max(c,h),sourceGap:f,targetGap:p,maxGap:Math.max(f,p),setGeometry:w,getGeometry:x}},n.extend(e.Connectors.AbstractConnector,r);var o=e.Connectors.Straight=function(){this.type="Straight";var t=e.Connectors.AbstractConnector.apply(this,arguments);this._compute=function(e){t.addSegment(this,"Straight",{x1:e.sx,y1:e.sy,x2:e.startStubX,y2:e.startStubY}),t.addSegment(this,"Straight",{x1:e.startStubX,y1:e.startStubY,x2:e.endStubX,y2:e.endStubY}),t.addSegment(this,"Straight",{x1:e.endStubX,y1:e.endStubY,x2:e.tx,y2:e.ty})}};n.extend(e.Connectors.Straight,e.Connectors.AbstractConnector),e.registerConnectorType(o,"Straight"),e.Endpoints.AbstractEndpoint=function(t){r.apply(this,arguments);var e=this.compute=function(){var t=this._compute.apply(this,arguments);return this.x=t[0],this.y=t[1],this.w=t[2],this.h=t[3],this.bounds.minX=this.x,this.bounds.minY=this.y,this.bounds.maxX=this.x+this.w,this.bounds.maxY=this.y+this.h,t};return{compute:e,cssClass:t.cssClass}},n.extend(e.Endpoints.AbstractEndpoint,r),e.Endpoints.Dot=function(t){this.type="Dot",e.Endpoints.AbstractEndpoint.apply(this,arguments),t=t||{},this.radius=t.radius||10,this.defaultOffset=.5*this.radius,this.defaultInnerRadius=this.radius/3,this._compute=function(t,e,n){this.radius=n.radius||this.radius;var i=t[0]-this.radius,r=t[1]-this.radius,o=2*this.radius,s=2*this.radius;if(n.strokeStyle){var a=n.lineWidth||1;i-=a,r-=a,o+=2*a,s+=2*a}return[i,r,o,s,this.radius]}},n.extend(e.Endpoints.Dot,e.Endpoints.AbstractEndpoint),e.Endpoints.Rectangle=function(t){this.type="Rectangle",e.Endpoints.AbstractEndpoint.apply(this,arguments),t=t||{},this.width=t.width||20,this.height=t.height||20,this._compute=function(t,e,n){var i=n.width||this.width,r=n.height||this.height,o=t[0]-i/2,s=t[1]-r/2;return[o,s,i,r]}},n.extend(e.Endpoints.Rectangle,e.Endpoints.AbstractEndpoint);var s=function(){e.jsPlumbUIComponent.apply(this,arguments),this._jsPlumb.displayElements=[]};n.extend(s,e.jsPlumbUIComponent,{getDisplayElements:function(){return this._jsPlumb.displayElements},appendDisplayElement:function(t){this._jsPlumb.displayElements.push(t)}}),e.Endpoints.Image=function(i){this.type="Image",s.apply(this,arguments),e.Endpoints.AbstractEndpoint.apply(this,arguments);var r=i.onload,o=i.src||i.url,a=i.cssClass?" "+i.cssClass:"";this._jsPlumb.img=new Image,this._jsPlumb.ready=!1,this._jsPlumb.initialized=!1,this._jsPlumb.deleted=!1,this._jsPlumb.widthToUse=i.width,this._jsPlumb.heightToUse=i.height,this._jsPlumb.endpoint=i.endpoint,this._jsPlumb.img.onload=function(){null!=this._jsPlumb&&(this._jsPlumb.ready=!0,this._jsPlumb.widthToUse=this._jsPlumb.widthToUse||this._jsPlumb.img.width,this._jsPlumb.heightToUse=this._jsPlumb.heightToUse||this._jsPlumb.img.height,r&&r(this))}.bind(this),this._jsPlumb.endpoint.setImage=function(t,e){var n=t.constructor==String?t:t.src;r=e,this._jsPlumb.img.src=n,null!=this.canvas&&this.canvas.setAttribute("src",this._jsPlumb.img.src)}.bind(this),this._jsPlumb.endpoint.setImage(o,r),this._compute=function(t){return this.anchorPoint=t,this._jsPlumb.ready?[t[0]-this._jsPlumb.widthToUse/2,t[1]-this._jsPlumb.heightToUse/2,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse]:[0,0,0,0]},this.canvas=jsPlumb.createElement("img",{position:"absolute",margin:0,padding:0,outline:0},this._jsPlumb.instance.endpointClass+a),this._jsPlumb.widthToUse&&this.canvas.setAttribute("width",this._jsPlumb.widthToUse),this._jsPlumb.heightToUse&&this.canvas.setAttribute("height",this._jsPlumb.heightToUse),this._jsPlumb.instance.appendElement(this.canvas),this.actuallyPaint=function(){if(!this._jsPlumb.deleted){this._jsPlumb.initialized||(this.canvas.setAttribute("src",this._jsPlumb.img.src),this.appendDisplayElement(this.canvas),this._jsPlumb.initialized=!0);var t=this.anchorPoint[0]-this._jsPlumb.widthToUse/2,e=this.anchorPoint[1]-this._jsPlumb.heightToUse/2;n.sizeElement(this.canvas,t,e,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse)}},this.paint=function(e,n){null!=this._jsPlumb&&(this._jsPlumb.ready?this.actuallyPaint(e,n):t.setTimeout(function(){this.paint(e,n)}.bind(this),200))}},n.extend(e.Endpoints.Image,[s,e.Endpoints.AbstractEndpoint],{cleanup:function(t){t&&(this._jsPlumb.deleted=!0,this.canvas&&this.canvas.parentNode.removeChild(this.canvas),this.canvas=null)}}),e.Endpoints.Blank=function(t){e.Endpoints.AbstractEndpoint.apply(this,arguments),this.type="Blank",s.apply(this,arguments),this._compute=function(t){return[t[0],t[1],10,0]};var i=t.cssClass?" "+t.cssClass:"";this.canvas=jsPlumb.createElement("div",{display:"block",width:"1px",height:"1px",background:"transparent",position:"absolute"},this._jsPlumb.instance.endpointClass+i),this._jsPlumb.instance.appendElement(this.canvas),this.paint=function(){n.sizeElement(this.canvas,this.x,this.y,this.w,this.h)}},n.extend(e.Endpoints.Blank,[e.Endpoints.AbstractEndpoint,s],{cleanup:function(){this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}}),e.Endpoints.Triangle=function(t){this.type="Triangle",e.Endpoints.AbstractEndpoint.apply(this,arguments),t=t||{},t.width=t.width||55,t.height=t.height||55,this.width=t.width,this.height=t.height,this._compute=function(t,e,n){var i=n.width||self.width,r=n.height||self.height,o=t[0]-i/2,s=t[1]-r/2;return[o,s,i,r]}};var a=e.Overlays.AbstractOverlay=function(t){this.visible=!0,this.isAppendedAtTopLevel=!0,this.component=t.component,this.loc=null==t.location?.5:t.location,this.endpointLoc=null==t.endpointLocation?[.5,.5]:t.endpointLocation,this.visible=t.visible!==!1};a.prototype={cleanup:function(t){t&&(this.component=null,this.canvas=null,this.endpointLoc=null)},reattach:function(){},setVisible:function(t){this.visible=t,this.component.repaint()},isVisible:function(){return this.visible},hide:function(){this.setVisible(!1)},show:function(){this.setVisible(!0)},incrementLocation:function(t){this.loc+=t,this.component.repaint()},setLocation:function(t){this.loc=t,this.component.repaint()},getLocation:function(){return this.loc},updateFrom:function(){}},e.Overlays.Arrow=function(t){this.type="Arrow",a.apply(this,arguments),this.isAppendedAtTopLevel=!1,t=t||{},this.length=t.length||20,this.width=t.width||20,this.id=t.id;var e=(t.direction||1)<0?-1:1,r=t.paintStyle||{lineWidth:1},o=t.foldback||.623;this.computeMaxSize=function(){return 1.5*self.width},this.elementCreated=function(e){if(this.path=e,t.events)for(var n in t.events)jsPlumb.on(e,n,t.events[n])},this.draw=function(t,s){var a,l,u,c,h;if(t.pointAlongPathFrom){if(n.isString(this.loc)||this.loc>1||this.loc<0){var d=parseInt(this.loc,10),f=this.loc<0?1:0;a=t.pointAlongPathFrom(f,d,!1),l=t.pointAlongPathFrom(f,d-e*this.length/2,!1),u=i.pointOnLine(a,l,this.length)}else if(1==this.loc){if(a=t.pointOnPath(this.loc),l=t.pointAlongPathFrom(this.loc,-this.length),u=i.pointOnLine(a,l,this.length),-1==e){var p=u;u=a,a=p}}else if(0===this.loc){if(u=t.pointOnPath(this.loc),l=t.pointAlongPathFrom(this.loc,this.length),a=i.pointOnLine(u,l,this.length),-1==e){var g=u;u=a,a=g}}else a=t.pointAlongPathFrom(this.loc,e*this.length/2),l=t.pointOnPath(this.loc),u=i.pointOnLine(a,l,this.length);c=i.perpendicularLineTo(a,u,this.width),h=i.pointOnLine(a,u,o*this.length);var m={hxy:a,tail:c,cxy:h},v=r.strokeStyle||s.strokeStyle,y=r.fillStyle||s.strokeStyle,b=r.lineWidth||s.lineWidth;return{component:t,d:m,lineWidth:b,strokeStyle:v,fillStyle:y,minX:Math.min(a.x,c[0].x,c[1].x),maxX:Math.max(a.x,c[0].x,c[1].x),minY:Math.min(a.y,c[0].y,c[1].y),maxY:Math.max(a.y,c[0].y,c[1].y)}}return{component:t,minX:0,maxX:0,minY:0,maxY:0}}},n.extend(e.Overlays.Arrow,a,{updateFrom:function(t){this.length=t.length||this.length,this.width=t.width||this.width,this.direction=null!=t.direction?t.direction:this.direction,this.foldback=t.foldback||this.foldback}}),e.Overlays.PlainArrow=function(t){t=t||{};var n=e.extend(t,{foldback:1});e.Overlays.Arrow.call(this,n),this.type="PlainArrow"},n.extend(e.Overlays.PlainArrow,e.Overlays.Arrow),e.Overlays.Diamond=function(t){t=t||{};var n=t.length||40,i=jsPlumb.extend(t,{length:n/2,foldback:2});e.Overlays.Arrow.call(this,i),this.type="Diamond"},n.extend(e.Overlays.Diamond,e.Overlays.Arrow);var l=function(t,e){return(null==t._jsPlumb.cachedDimensions||e)&&(t._jsPlumb.cachedDimensions=t.getDimensions()),t._jsPlumb.cachedDimensions},u=function(t){e.jsPlumbUIComponent.apply(this,arguments),a.apply(this,arguments);var i=this.fire;this.fire=function(){i.apply(this,arguments),this.component&&this.component.fire.apply(this.component,arguments)},this.detached=!1,this.id=t.id,this._jsPlumb.div=null,this._jsPlumb.initialised=!1,this._jsPlumb.component=t.component,this._jsPlumb.cachedDimensions=null,this._jsPlumb.create=t.create,this._jsPlumb.initiallyInvisible=t.visible===!1,this.getElement=function(){if(null==this._jsPlumb.div){var e=this._jsPlumb.div=jsPlumb.getElement(this._jsPlumb.create(this._jsPlumb.component));e.style.position="absolute",e.className=this._jsPlumb.instance.overlayClass+" "+(this.cssClass?this.cssClass:t.cssClass?t.cssClass:""),this._jsPlumb.instance.appendElement(e),this._jsPlumb.instance.getId(e),this.canvas=e;var n="translate(-50%, -50%)";e.style.webkitTransform=n,e.style.mozTransform=n,e.style.msTransform=n,e.style.oTransform=n,e.style.transform=n,e._jsPlumb=this,t.visible===!1&&(e.style.display="none")}return this._jsPlumb.div},this.draw=function(t,e,i){var r=l(this);if(null!=r&&2==r.length){var o={x:0,y:0};if(i)o={x:i[0],y:i[1]};else if(t.pointOnPath){var s=this.loc,a=!1;(n.isString(this.loc)||this.loc<0||this.loc>1)&&(s=parseInt(this.loc,10),a=!0),o=t.pointOnPath(s,a)}else{var u=this.loc.constructor==Array?this.loc:this.endpointLoc;o={x:u[0]*t.w,y:u[1]*t.h}}var c=o.x-r[0]/2,h=o.y-r[1]/2;return{component:t,d:{minx:c,miny:h,td:r,cxy:o},minX:c,maxX:c+r[0],minY:h,maxY:h+r[1]}}return{minX:0,maxX:0,minY:0,maxY:0}}};n.extend(u,[e.jsPlumbUIComponent,a],{getDimensions:function(){return[1,1]},setVisible:function(t){this._jsPlumb.div&&(this._jsPlumb.div.style.display=t?"block":"none",t&&this._jsPlumb.initiallyInvisible&&(l(this,!0),this.component.repaint(),this._jsPlumb.initiallyInvisible=!1))},clearCachedDimensions:function(){this._jsPlumb.cachedDimensions=null},cleanup:function(t){t?null!=this._jsPlumb.div&&(this._jsPlumb.div._jsPlumb=null,this._jsPlumb.instance.removeElement(this._jsPlumb.div)):(this._jsPlumb&&this._jsPlumb.div&&this._jsPlumb.div.parentNode&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div),this.detached=!0)},reattach:function(t){null!=this._jsPlumb.div&&t.getContainer().appendChild(this._jsPlumb.div),this.detached=!1},computeMaxSize:function(){var t=l(this);return Math.max(t[0],t[1])},paint:function(t){this._jsPlumb.initialised||(this.getElement(),t.component.appendDisplayElement(this._jsPlumb.div),this._jsPlumb.initialised=!0,this.detached&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div)),this._jsPlumb.div.style.left=t.component.x+t.d.minx+"px",this._jsPlumb.div.style.top=t.component.y+t.d.miny+"px"}}),e.Overlays.Custom=function(){this.type="Custom",u.apply(this,arguments)},n.extend(e.Overlays.Custom,u),e.Overlays.GuideLines=function(){var t=this;t.length=50,t.lineWidth=5,this.type="GuideLines",a.apply(this,arguments),e.jsPlumbUIComponent.apply(this,arguments),this.draw=function(e){var n=e.pointAlongPathFrom(t.loc,t.length/2),r=e.pointOnPath(t.loc),o=i.pointOnLine(n,r,t.length),s=i.perpendicularLineTo(n,o,40),a=i.perpendicularLineTo(o,n,20);return{connector:e,head:n,tail:o,headLine:a,tailLine:s,minX:Math.min(n.x,o.x,a[0].x,a[1].x),minY:Math.min(n.y,o.y,a[0].y,a[1].y),maxX:Math.max(n.x,o.x,a[0].x,a[1].x),maxY:Math.max(n.y,o.y,a[0].y,a[1].y)}}},e.Overlays.Label=function(t){this.labelStyle=t.labelStyle,this.cssClass=null!=this.labelStyle?this.labelStyle.cssClass:null;var n=e.extend({create:function(){return jsPlumb.createElement("div")}},t);if(e.Overlays.Custom.call(this,n),this.type="Label",this.label=t.label||"",this.labelText=null,this.labelStyle){var i=this.getElement();if(this.labelStyle.font=this.labelStyle.font||"12px sans-serif",i.style.font=this.labelStyle.font,i.style.color=this.labelStyle.color||"black",this.labelStyle.fillStyle&&(i.style.background=this.labelStyle.fillStyle),this.labelStyle.borderWidth>0){var r=this.labelStyle.borderStyle?this.labelStyle.borderStyle:"black";i.style.border=this.labelStyle.borderWidth+"px solid "+r}this.labelStyle.padding&&(i.style.padding=this.labelStyle.padding)}},n.extend(e.Overlays.Label,e.Overlays.Custom,{cleanup:function(t){t&&(this.div=null,this.label=null,this.labelText=null,this.cssClass=null,this.labelStyle=null)},getLabel:function(){return this.label},setLabel:function(t){this.label=t,this.labelText=null,this.clearCachedDimensions(),this.update(),this.component.repaint()},getDimensions:function(){return this.update(),u.prototype.getDimensions.apply(this,arguments)},update:function(){if("function"==typeof this.label){var t=this.label(this);this.getElement().innerHTML=t.replace(/\r\n/g,"<br/>")}else null==this.labelText&&(this.labelText=this.label,this.getElement().innerHTML=this.labelText.replace(/\r\n/g,"<br/>"))},updateFrom:function(t){t.label&&this.setLabel(t.label)}})}.call(this),function(){"use strict";var t=this,e=t.jsPlumb,n=function(e){var n=e._mottle;return n||(n=e._mottle=new t.Mottle),n};e.extend(t.jsPlumbInstance.prototype,{getEventManager:function(){return n(this)},on:function(){return this.getEventManager().on.apply(this,arguments),this},off:function(){return this.getEventManager().off.apply(this,arguments),this}})}.call(this),function(){"use strict";var t=this,e=t.jsPlumb,n=t.jsPlumbUtil,i=function(t){this.type="Flowchart",t=t||{},t.stub=null==t.stub?30:t.stub;var n,i,r=e.Connectors.AbstractConnector.apply(this,arguments),o=null==t.midpoint?.5:t.midpoint,s=t.alwaysRespectStubs===!0,a=null,l=null,u=null!=t.cornerRadius?t.cornerRadius:0,c=(t.loopbackRadius||25,function(t){return 0>t?-1:0===t?0:1}),h=function(t,e,n,i){if(a!=e||l!=n){var r=null==a?i.sx:a,o=null==l?i.sy:l,s=r==e?"v":"h",u=c(e-r),h=c(n-o);a=e,l=n,t.push([r,o,e,n,s,u,h])}},d=function(t){return Math.sqrt(Math.pow(t[0]-t[2],2)+Math.pow(t[1]-t[3],2))},f=function(t){var e=[];return e.push.apply(e,t),e},p=function(t,e,n){for(var i,o=null,s=0;s<e.length-1;s++){if(o=o||f(e[s]),i=f(e[s+1]),u>0&&o[4]!=i[4]){var a=Math.min(u,d(o),d(i));o[2]-=o[5]*a,
o[3]-=o[6]*a,i[0]+=i[5]*a,i[1]+=i[6]*a;var l=o[6]==i[5]&&1==i[5]||o[6]==i[5]&&0===i[5]&&o[5]!=i[6]||o[6]==i[5]&&-1==i[5],c=i[1]>o[3]?1:-1,h=i[0]>o[2]?1:-1,p=c==h,g=p&&l||!p&&!l?i[0]:o[2],m=p&&l||!p&&!l?o[3]:i[1];r.addSegment(t,"Straight",{x1:o[0],y1:o[1],x2:o[2],y2:o[3]}),r.addSegment(t,"Arc",{r:a,x1:o[2],y1:o[3],x2:i[0],y2:i[1],cx:g,cy:m,ac:l})}else{var v=o[2]==o[0]?0:o[2]>o[0]?n.lw/2:-(n.lw/2),y=o[3]==o[1]?0:o[3]>o[1]?n.lw/2:-(n.lw/2);r.addSegment(t,"Straight",{x1:o[0]-v,y1:o[1]-y,x2:o[2]+v,y2:o[3]+y})}o=i}null!=i&&r.addSegment(t,"Straight",{x1:i[0],y1:i[1],x2:i[2],y2:i[3]})};this._compute=function(t,e){n=[],a=null,l=null,i=null;var u=function(){return[t.startStubX,t.startStubY,t.endStubX,t.endStubY]},c={perpendicular:u,orthogonal:u,opposite:function(e){var n=t,i="x"==e?0:1,r={x:function(){return 1==n.so[i]&&(n.startStubX>n.endStubX&&n.tx>n.startStubX||n.sx>n.endStubX&&n.tx>n.sx)||-1==n.so[i]&&(n.startStubX<n.endStubX&&n.tx<n.startStubX||n.sx<n.endStubX&&n.tx<n.sx)},y:function(){return 1==n.so[i]&&(n.startStubY>n.endStubY&&n.ty>n.startStubY||n.sy>n.endStubY&&n.ty>n.sy)||-1==n.so[i]&&(n.startStubY<n.endStubY&&n.ty<n.startStubY||n.sy<n.endStubY&&n.ty<n.sy)}};return!s&&r[e]()?{x:[(t.sx+t.tx)/2,t.startStubY,(t.sx+t.tx)/2,t.endStubY],y:[t.startStubX,(t.sy+t.ty)/2,t.endStubX,(t.sy+t.ty)/2]}[e]:[t.startStubX,t.startStubY,t.endStubX,t.endStubY]}},d=c[t.anchorOrientation](t.sourceAxis),f="x"==t.sourceAxis?0:1,g="x"==t.sourceAxis?1:0,m=d[f],v=d[g],y=d[f+2],b=d[g+2];h(n,d[0],d[1],t);var w=t.startStubX+(t.endStubX-t.startStubX)*o,x=t.startStubY+(t.endStubY-t.startStubY)*o,_={x:[0,1],y:[1,0]},$={perpendicular:function(e){var n=t,i={x:[[[1,2,3,4],null,[2,1,4,3]],null,[[4,3,2,1],null,[3,4,1,2]]],y:[[[3,2,1,4],null,[2,3,4,1]],null,[[4,1,2,3],null,[1,4,3,2]]]},r={x:[[n.startStubX,n.endStubX],null,[n.endStubX,n.startStubX]],y:[[n.startStubY,n.endStubY],null,[n.endStubY,n.startStubY]]},o={x:[[w,n.startStubY],[w,n.endStubY]],y:[[n.startStubX,x],[n.endStubX,x]]},s={x:[[n.endStubX,n.startStubY]],y:[[n.startStubX,n.endStubY]]},a={x:[[n.startStubX,n.endStubY],[n.endStubX,n.endStubY]],y:[[n.endStubX,n.startStubY],[n.endStubX,n.endStubY]]},l={x:[[n.startStubX,x],[n.endStubX,x],[n.endStubX,n.endStubY]],y:[[w,n.startStubY],[w,n.endStubY],[n.endStubX,n.endStubY]]},u={x:[n.startStubY,n.endStubY],y:[n.startStubX,n.endStubX]},c=_[e][0],h=_[e][1],d=n.so[c]+1,f=n.to[h]+1,p=-1==n.to[h]&&u[e][1]<u[e][0]||1==n.to[h]&&u[e][1]>u[e][0],g=r[e][d][0],m=r[e][d][1],v=i[e][d][f];return n.segment==v[3]||n.segment==v[2]&&p?o[e]:n.segment==v[2]&&g>m?s[e]:n.segment==v[2]&&m>=g||n.segment==v[1]&&!p?l[e]:n.segment==v[0]||n.segment==v[1]&&p?a[e]:void 0},orthogonal:function(e,n,i,r,o){var s=t,a={x:-1==s.so[0]?Math.min(n,r):Math.max(n,r),y:-1==s.so[1]?Math.min(n,r):Math.max(n,r)}[e];return{x:[[a,i],[a,o],[r,o]],y:[[i,a],[o,a],[o,r]]}[e]},opposite:function(n,i,o,s){var a=t,l={x:"y",y:"x"}[n],u={x:"height",y:"width"}[n],c=a["is"+n.toUpperCase()+"GreaterThanStubTimes2"];if(e.sourceEndpoint.elementId==e.targetEndpoint.elementId){var h=o+(1-e.sourceEndpoint.anchor[l])*e.sourceInfo[u]+r.maxStub;return{x:[[i,h],[s,h]],y:[[h,i],[h,s]]}[n]}return!c||1==a.so[f]&&i>s||-1==a.so[f]&&s>i?{x:[[i,x],[s,x]],y:[[w,i],[w,s]]}[n]:1==a.so[f]&&s>i||-1==a.so[f]&&i>s?{x:[[w,a.sy],[w,a.ty]],y:[[a.sx,x],[a.tx,x]]}[n]:void 0}},C=$[t.anchorOrientation](t.sourceAxis,m,v,y,b);if(C)for(var A=0;A<C.length;A++)h(n,C[A][0],C[A][1],t);h(n,d[2],d[3],t),h(n,t.tx,t.ty,t),p(this,n,t)}};n.extend(i,e.Connectors.AbstractConnector),e.registerConnectorType(i,"Flowchart")}.call(this),function(){"use strict";var t=this,e=t.jsPlumb,n=t.jsPlumbUtil;e.Connectors.AbstractBezierConnector=function(t){t=t||{};var n,i=t.showLoopback!==!1,r=(t.curviness||10,t.margin||5),o=(t.proximityLimit||80,t.orientation&&"clockwise"===t.orientation),s=t.loopbackRadius||25,a=!1;return this.overrideSetEditable=function(){return!a},this._compute=function(t,e){var l=e.sourcePos,u=e.targetPos,c=Math.abs(l[0]-u[0]),h=Math.abs(l[1]-u[1]);if(i&&e.sourceEndpoint.elementId===e.targetEndpoint.elementId){a=!0;var d=e.sourcePos[0],f=e.sourcePos[1]-r,p=d,g=f-s,m=p-s,v=g-s;c=2*s,h=2*s,t.points[0]=m,t.points[1]=v,t.points[2]=c,t.points[3]=h,n.addSegment(this,"Arc",{loopback:!0,x1:d-m+4,y1:f-v,startAngle:0,endAngle:2*Math.PI,r:s,ac:!o,x2:d-m-4,y2:f-v,cx:p-m,cy:g-v})}else a=!1,this._computeBezier(t,e,l,u,c,h)},n=e.Connectors.AbstractConnector.apply(this,arguments)},n.extend(e.Connectors.AbstractBezierConnector,e.Connectors.AbstractConnector);var i=function(t){t=t||{},this.type="Bezier";var n=e.Connectors.AbstractBezierConnector.apply(this,arguments),i=t.curviness||150,r=10;this.getCurviness=function(){return i},this._findControlPoint=function(t,e,n,o,s,a,l){var u=a[0]!=l[0]||a[1]==l[1],c=[];return u?(0===l[0]?c.push(n[0]<e[0]?t[0]+r:t[0]-r):c.push(t[0]+i*l[0]),0===l[1]?c.push(n[1]<e[1]?t[1]+r:t[1]-r):c.push(t[1]+i*a[1])):(0===a[0]?c.push(e[0]<n[0]?t[0]+r:t[0]-r):c.push(t[0]-i*a[0]),0===a[1]?c.push(e[1]<n[1]?t[1]+r:t[1]-r):c.push(t[1]+i*l[1])),c},this._computeBezier=function(t,e,i,r,o,s){var a,l,u=this.getGeometry(),c=i[0]<r[0]?o:0,h=i[1]<r[1]?s:0,d=i[0]<r[0]?0:o,f=i[1]<r[1]?0:s;(this.hasBeenEdited()||this.isEditing())&&null!=u&&null!=u.controlPoints&&null!=u.controlPoints[0]&&null!=u.controlPoints[1]?(a=u.controlPoints[0],l=u.controlPoints[1]):(a=this._findControlPoint([c,h],i,r,e.sourceEndpoint,e.targetEndpoint,t.so,t.to),l=this._findControlPoint([d,f],r,i,e.targetEndpoint,e.sourceEndpoint,t.to,t.so)),n.setGeometry({controlPoints:[a,l]},!0),n.addSegment(this,"Bezier",{x1:c,y1:h,x2:d,y2:f,cp1x:a[0],cp1y:a[1],cp2x:l[0],cp2y:l[1]})}};n.extend(i,e.Connectors.AbstractBezierConnector),e.registerConnectorType(i,"Bezier")}.call(this),function(){"use strict";var t=this,e=t.jsPlumb,n=t.jsPlumbUtil,i=function(t,e,n,i){return n>=t&&e>=i?1:n>=t&&i>=e?2:t>=n&&i>=e?3:4},r=function(t,e,n,i,r,o,s,a,l){return l>=a?[t,e]:1===n?i[3]<=0&&r[3]>=1?[t+(i[2]<.5?-1*o:o),e]:i[2]>=1&&r[2]<=0?[t,e+(i[3]<.5?-1*s:s)]:[t+-1*o,e+-1*s]:2===n?i[3]>=1&&r[3]<=0?[t+(i[2]<.5?-1*o:o),e]:i[2]>=1&&r[2]<=0?[t,e+(i[3]<.5?-1*s:s)]:[t+o,e+-1*s]:3===n?i[3]>=1&&r[3]<=0?[t+(i[2]<.5?-1*o:o),e]:i[2]<=0&&r[2]>=1?[t,e+(i[3]<.5?-1*s:s)]:[t+-1*o,e+-1*s]:4===n?i[3]<=0&&r[3]>=1?[t+(i[2]<.5?-1*o:o),e]:i[2]<=0&&r[2]>=1?[t,e+(i[3]<.5?-1*s:s)]:[t+o,e+-1*s]:void 0},o=function(t){t=t||{},this.type="StateMachine";var n,o=e.Connectors.AbstractBezierConnector.apply(this,arguments),s=t.curviness||10,a=t.margin||5,l=t.proximityLimit||80;t.orientation&&"clockwise"===t.orientation,this._computeBezier=function(t,e,u,c,h,d){var f=e.sourcePos[0]<e.targetPos[0]?0:h,p=e.sourcePos[1]<e.targetPos[1]?0:d,g=e.sourcePos[0]<e.targetPos[0]?h:0,m=e.sourcePos[1]<e.targetPos[1]?d:0;0===e.sourcePos[2]&&(f-=a),1===e.sourcePos[2]&&(f+=a),0===e.sourcePos[3]&&(p-=a),1===e.sourcePos[3]&&(p+=a),0===e.targetPos[2]&&(g-=a),1===e.targetPos[2]&&(g+=a),0===e.targetPos[3]&&(m-=a),1===e.targetPos[3]&&(m+=a);var v,y,b,w,x=(f+g)/2,_=(p+m)/2,$=i(f,p,g,m),C=Math.sqrt(Math.pow(g-f,2)+Math.pow(m-p,2)),A=o.getGeometry();(this.hasBeenEdited()||this.isEditing())&&null!=A?(v=A.controlPoints[0][0],b=A.controlPoints[0][1],y=A.controlPoints[1][0],w=A.controlPoints[1][1]):(n=r(x,_,$,e.sourcePos,e.targetPos,s,s,C,l),v=n[0],y=n[0],b=n[1],w=n[1],o.setGeometry({controlPoints:[n,n]},!0)),o.addSegment(this,"Bezier",{x1:g,y1:m,x2:f,y2:p,cp1x:v,cp1y:b,cp2x:y,cp2y:w})}};n.extend(o,e.Connectors.AbstractBezierConnector),e.registerConnectorType(o,"StateMachine")}.call(this),function(){"use strict";var t=this,e=t.jsPlumb,n=t.jsPlumbUtil,i={"stroke-linejoin":"stroke-linejoin","stroke-dashoffset":"stroke-dashoffset","stroke-linecap":"stroke-linecap"},r="stroke-dasharray",o="dashstyle",s="linearGradient",a="radialGradient",l="defs",u="fill",c="stop",h="stroke",d="stroke-width",f="style",p="none",g="jsplumb_gradient_",m="lineWidth",v={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml"},y=function(t,e){for(var n in e)t.setAttribute(n,""+e[n])},b=function(t,e){return e=e||{},e.version="1.1",e.xmlns=v.xhtml,jsPlumb.createElementNS(v.svg,t,null,null,e)},w=function(t){return"position:absolute;left:"+t[0]+"px;top:"+t[1]+"px"},x=function(t){for(var e=t.querySelectorAll(" defs,linearGradient,radialGradient"),n=0;n<e.length;n++)e[n].parentNode.removeChild(e[n])},_=function(t,e,n,i,r){var o=g+r._jsPlumb.instance.idstamp();x(t);var d;d=n.gradient.offset?b(a,{id:o}):b(s,{id:o,gradientUnits:"userSpaceOnUse"});var f=b(l);t.appendChild(f),f.appendChild(d);for(var p=0;p<n.gradient.stops.length;p++){var m=1==r.segment||2==r.segment?p:n.gradient.stops.length-1-p,v=n.gradient.stops[m][1],y=b(c,{offset:Math.floor(100*n.gradient.stops[p][0])+"%","stop-color":v});d.appendChild(y)}var w=n.strokeStyle?h:u;e.setAttribute(w,"url(#"+o+")")},$=function(t,e,n,s,a){if(e.setAttribute(u,n.fillStyle?n.fillStyle:p),e.setAttribute(h,n.strokeStyle?n.strokeStyle:p),n.gradient?_(t,e,n,s,a):(x(t),e.setAttribute(f,"")),n.lineWidth&&e.setAttribute(d,n.lineWidth),n[o]&&n[m]&&!n[r]){var l=-1==n[o].indexOf(",")?" ":",",c=n[o].split(l),g="";c.forEach(function(t){g+=Math.floor(t*n.lineWidth)+l}),e.setAttribute(r,g)}else n[r]&&e.setAttribute(r,n[r]);for(var v in i)n[v]&&e.setAttribute(i[v],n[v])},C=function(t,e,n){t.childNodes.length>n?t.insertBefore(e,t.childNodes[n]):t.appendChild(e)};n.svg={node:b,attr:y,pos:w};var A=function(t){var i=t.pointerEventsSpec||"all",r={};e.jsPlumbUIComponent.apply(this,t.originalArgs),this.canvas=null,this.path=null,this.svg=null,this.bgCanvas=null;var o=t.cssClass+" "+(t.originalArgs[0].cssClass||""),s={style:"",width:0,height:0,"pointer-events":i,position:"absolute"};this.svg=b("svg",s),t.useDivWrapper?(this.canvas=jsPlumb.createElement("div",{position:"absolute"}),n.sizeElement(this.canvas,0,0,1,1),this.canvas.className=o):(y(this.svg,{"class":o}),this.canvas=this.svg),t._jsPlumb.appendElement(this.canvas,t.originalArgs[0].parent),t.useDivWrapper&&this.canvas.appendChild(this.svg);var a=[this.canvas];return this.getDisplayElements=function(){return a},this.appendDisplayElement=function(t){a.push(t)},this.paint=function(e,i,o){if(null!=e){var s,a=[this.x,this.y],l=[this.w,this.h];null!=o&&(o.xmin<0&&(a[0]+=o.xmin),o.ymin<0&&(a[1]+=o.ymin),l[0]=o.xmax+(o.xmin<0?-o.xmin:0),l[1]=o.ymax+(o.ymin<0?-o.ymin:0)),t.useDivWrapper?(n.sizeElement(this.canvas,a[0],a[1],l[0],l[1]),a[0]=0,a[1]=0,s=w([0,0])):s=w([a[0],a[1]]),r.paint.apply(this,arguments),y(this.svg,{style:s,width:l[0]||0,height:l[1]||0})}},{renderer:r}};n.extend(A,e.jsPlumbUIComponent,{cleanup:function(t){t||null==this.typeId?(this.canvas&&(this.canvas._jsPlumb=null),this.svg&&(this.svg._jsPlumb=null),this.bgCanvas&&(this.bgCanvas._jsPlumb=null),this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.svg=null,this.canvas=null,this.path=null,this.group=null):(this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.bgCanvas.parentNode.removeChild(this.bgCanvas))},reattach:function(t){var e=t.getContainer();this.canvas&&null==this.canvas.parentNode&&e.appendChild(this.canvas),this.bgCanvas&&null==this.bgCanvas.parentNode&&e.appendChild(this.bgCanvas)},setVisible:function(t){this.canvas&&(this.canvas.style.display=t?"block":"none")}}),e.ConnectorRenderers.svg=function(t){var n=this,i=A.apply(this,[{cssClass:t._jsPlumb.connectorClass+(this.isEditable()?" "+t._jsPlumb.editableConnectorClass:""),originalArgs:arguments,pointerEventsSpec:"none",_jsPlumb:t._jsPlumb}]),r=this.setEditable;this.setEditable=function(t){var e=r.apply(this,[t]);jsPlumb[e?"addClass":"removeClass"](this.canvas,this._jsPlumb.instance.editableConnectorClass)},i.renderer.paint=function(i,r,o){var s=n.getSegments(),a="",l=[0,0];if(o.xmin<0&&(l[0]=-o.xmin),o.ymin<0&&(l[1]=-o.ymin),s.length>0){for(var u=0;u<s.length;u++)a+=e.Segments.svg.SegmentRenderer.getPath(s[u]),a+=" ";var c={d:a,transform:"translate("+l[0]+","+l[1]+")","pointer-events":t["pointer-events"]||"visibleStroke"},h=null,d=[n.x,n.y,n.w,n.h];if(i.outlineColor){var f=i.outlineWidth||1,p=i.lineWidth+2*f;h=e.extend({},i),delete h.gradient,h.strokeStyle=i.outlineColor,h.lineWidth=p,null==n.bgPath?(n.bgPath=b("path",c),e.addClass(n.bgPath,e.connectorOutlineClass),C(n.svg,n.bgPath,0)):y(n.bgPath,c),$(n.svg,n.bgPath,h,d,n)}null==n.path?(n.path=b("path",c),C(n.svg,n.path,i.outlineColor?1:0)):y(n.path,c),$(n.svg,n.path,i,d,n)}}},n.extend(e.ConnectorRenderers.svg,A),e.Segments.svg={SegmentRenderer:{getPath:function(t){return{Straight:function(){var e=t.getCoordinates();return"M "+e.x1+" "+e.y1+" L "+e.x2+" "+e.y2},Bezier:function(){var e=t.params;return"M "+e.x1+" "+e.y1+" C "+e.cp1x+" "+e.cp1y+" "+e.cp2x+" "+e.cp2y+" "+e.x2+" "+e.y2},Arc:function(){var e=t.params,n=t.sweep>Math.PI?1:0,i=t.anticlockwise?0:1;return"M"+t.x1+" "+t.y1+" A "+t.radius+" "+e.r+" 0 "+n+","+i+" "+t.x2+" "+t.y2}}[t.type]()}}};var E=e.SvgEndpoint=function(t){var n=A.apply(this,[{cssClass:t._jsPlumb.endpointClass,originalArgs:arguments,pointerEventsSpec:"all",useDivWrapper:!0,_jsPlumb:t._jsPlumb}]);n.renderer.paint=function(t){var n=e.extend({},t);n.outlineColor&&(n.strokeWidth=n.outlineWidth,n.strokeStyle=n.outlineColor),null==this.node?(this.node=this.makeNode(n),this.svg.appendChild(this.node)):null!=this.updateNode&&this.updateNode(this.node),$(this.svg,this.node,n,[this.x,this.y,this.w,this.h],this),w(this.node,[this.x,this.y])}.bind(this)};n.extend(E,A),e.Endpoints.svg.Dot=function(){e.Endpoints.Dot.apply(this,arguments),E.apply(this,arguments),this.makeNode=function(){return b("circle",{cx:this.w/2,cy:this.h/2,r:this.radius})},this.updateNode=function(t){y(t,{cx:this.w/2,cy:this.h/2,r:this.radius})}},n.extend(e.Endpoints.svg.Dot,[e.Endpoints.Dot,E]),e.Endpoints.svg.Rectangle=function(){e.Endpoints.Rectangle.apply(this,arguments),E.apply(this,arguments),this.makeNode=function(){return b("rect",{width:this.w,height:this.h})},this.updateNode=function(t){y(t,{width:this.w,height:this.h})}},n.extend(e.Endpoints.svg.Rectangle,[e.Endpoints.Rectangle,E]),e.Endpoints.svg.Image=e.Endpoints.Image,e.Endpoints.svg.Blank=e.Endpoints.Blank,e.Overlays.svg.Label=e.Overlays.Label,e.Overlays.svg.Custom=e.Overlays.Custom;var S=function(t,n){t.apply(this,n),e.jsPlumbUIComponent.apply(this,n),this.isAppendedAtTopLevel=!1,this.path=null,this.paint=function(t,e){if(t.component.svg&&e){null==this.path&&(this.path=b("path",{"pointer-events":"all"}),t.component.svg.appendChild(this.path),this.elementCreated&&this.elementCreated(this.path,t.component),this.canvas=t.component.svg);var r=n&&1==n.length?n[0].cssClass||"":"",o=[0,0];e.xmin<0&&(o[0]=-e.xmin),e.ymin<0&&(o[1]=-e.ymin),y(this.path,{d:i(t.d),"class":r,stroke:t.strokeStyle?t.strokeStyle:null,fill:t.fillStyle?t.fillStyle:null,transform:"translate("+o[0]+","+o[1]+")"})}};var i=function(t){return isNaN(t.cxy.x)||isNaN(t.cxy.y)?"":"M"+t.hxy.x+","+t.hxy.y+" L"+t.tail[0].x+","+t.tail[0].y+" L"+t.cxy.x+","+t.cxy.y+" L"+t.tail[1].x+","+t.tail[1].y+" L"+t.hxy.x+","+t.hxy.y};this.transfer=function(t){t.canvas&&this.path&&this.path.parentNode&&(this.path.parentNode.removeChild(this.path),t.canvas.appendChild(this.path))}};n.extend(S,[e.jsPlumbUIComponent,e.Overlays.AbstractOverlay],{cleanup:function(t){null!=this.path&&(t?this._jsPlumb.instance.removeElement(this.path):this.path.parentNode&&this.path.parentNode.removeChild(this.path))},reattach:function(){this.path&&this.canvas&&null==this.path.parentNode&&this.canvas.appendChild(this.path)},setVisible:function(t){null!=this.path&&(this.path.style.display=t?"block":"none")}}),e.Overlays.svg.Arrow=function(){S.apply(this,[e.Overlays.Arrow,arguments])},n.extend(e.Overlays.svg.Arrow,[e.Overlays.Arrow,S]),e.Overlays.svg.PlainArrow=function(){S.apply(this,[e.Overlays.PlainArrow,arguments])},n.extend(e.Overlays.svg.PlainArrow,[e.Overlays.PlainArrow,S]),e.Overlays.svg.Diamond=function(){S.apply(this,[e.Overlays.Diamond,arguments])},n.extend(e.Overlays.svg.Diamond,[e.Overlays.Diamond,S]),e.Overlays.svg.GuideLines=function(){var t,n,i=null,r=this;e.Overlays.GuideLines.apply(this,arguments),this.paint=function(e,s){null==i&&(i=b("path"),e.connector.svg.appendChild(i),r.attachListeners(i,e.connector),r.attachListeners(i,r),t=b("path"),e.connector.svg.appendChild(t),r.attachListeners(t,e.connector),r.attachListeners(t,r),n=b("path"),e.connector.svg.appendChild(n),r.attachListeners(n,e.connector),r.attachListeners(n,r));var a=[0,0];s.xmin<0&&(a[0]=-s.xmin),s.ymin<0&&(a[1]=-s.ymin),y(i,{d:o(e.head,e.tail),stroke:"red",fill:null,transform:"translate("+a[0]+","+a[1]+")"}),y(t,{d:o(e.tailLine[0],e.tailLine[1]),stroke:"blue",fill:null,transform:"translate("+a[0]+","+a[1]+")"}),y(n,{d:o(e.headLine[0],e.headLine[1]),stroke:"green",fill:null,transform:"translate("+a[0]+","+a[1]+")"})};var o=function(t,e){return"M "+t.x+","+t.y+" L"+e.x+","+e.y}},n.extend(e.Overlays.svg.GuideLines,e.Overlays.GuideLines)}.call(this),function(){"use strict";var t=this,e=t.jsPlumb,n=t.jsPlumbUtil,i=t.Katavorio,r=t.Biltong,o=function(t,e){e=e||"main";var n="_katavorio_"+e,o=t[n],s=t.getEventManager();return o||(o=new i({bind:s.on,unbind:s.off,getSize:jsPlumb.getSize,getPosition:function(e){var n=t.getOffset(e,!1,e._katavorioDrag?e.offsetParent:null);return[n.left,n.top]},setPosition:function(t,e){t.style.left=e[0]+"px",t.style.top=e[1]+"px"},addClass:jsPlumb.addClass,removeClass:jsPlumb.removeClass,intersects:r.intersects,indexOf:function(t,e){return t.indexOf(e)},css:{noSelect:t.dragSelectClass,droppable:"jsplumb-droppable",draggable:"jsplumb-draggable",drag:"jsplumb-drag",selected:"jsplumb-drag-selected",active:"jsplumb-drag-active",hover:"jsplumb-drag-hover"}}),t[n]=o,t.bind("zoom",o.setZoom)),o},s=function(t,e){var i=function(i){if(null!=e[i]){if(n.isString(e[i])){var r=e[i].match(/-=/)?-1:1,o=e[i].substring(2);return t[i]+r*o}return e[i]}return t[i]};return[i("left"),i("top")]};e.extend(t.jsPlumbInstance.prototype,{animationSupported:!0,getElement:function(t){return null==t?null:(t="string"==typeof t?t:null!=t.length&&null==t.enctype?t[0]:t,"string"==typeof t?document.getElementById(t):t)},removeElement:function(t){o(this).elementRemoved(t),this.getEventManager().remove(t)},doAnimate:function(t,e,n){n=n||{};var i=this.getOffset(t),r=s(i,e),o=r[0]-i.left,a=r[1]-i.top,l=n.duration||250,u=15,c=l/u,h=u/l*o,d=u/l*a,f=0,p=setInterval(function(){jsPlumb.setPosition(t,{left:i.left+h*(f+1),top:i.top+d*(f+1)}),null!=n.step&&n.step(f,Math.ceil(c)),f++,f>=c&&(window.clearInterval(p),null!=n.complete&&n.complete())},u)},destroyDraggable:function(t,e){o(this,e).destroyDraggable(t)},destroyDroppable:function(t,e){o(this,e).destroyDroppable(t)},initDraggable:function(t,e,n){o(this,n).draggable(t,e)},initDroppable:function(t,e,n){o(this,n).droppable(t,e)},isAlreadyDraggable:function(t){return null!=t._katavorioDrag},isDragSupported:function(){return!0},isDropSupported:function(){return!0},isElementDraggable:function(t){return t=jsPlumb.getElement(t),t._katavorioDrag&&t._katavorioDrag.isEnabled()},getDragObject:function(t){return t[0].drag.getDragElement()},getDragScope:function(t){return t._katavorioDrag&&t._katavorioDrag.scopes.join(" ")||""},getDropEvent:function(t){return t[0].e},getUIPosition:function(t){var e=t[0].el,n={left:t[0].pos[0],top:t[0].pos[1]};if(e._katavorioDrag&&e.offsetParent!==this.getContainer()){var i=this.getOffset(e.offsetParent);n.left+=i.left,n.top+=i.top}return n},setDragFilter:function(t,e,n){t._katavorioDrag&&t._katavorioDrag.setFilter(e,n)},setElementDraggable:function(t,e){t=jsPlumb.getElement(t),t._katavorioDrag&&t._katavorioDrag.setEnabled(e)},setDragScope:function(t,e){t._katavorioDrag&&t._katavorioDrag.k.setDragScope(t,e)},setDropScope:function(t,e){t._katavorioDrop&&t._katavorioDrop.length>0&&t._katavorioDrop[0].k.setDropScope(t,e)},addToPosse:function(t){var e=Array.prototype.slice.call(arguments,1),n=o(this);jsPlumb.each(t,function(t){t=[jsPlumb.getElement(t)],t.push.apply(t,e),n.addToPosse.apply(n,t)})},setPosse:function(t){var e=Array.prototype.slice.call(arguments,1),n=o(this);jsPlumb.each(t,function(t){t=[jsPlumb.getElement(t)],t.push.apply(t,e),n.setPosse.apply(n,t)})},removeFromPosse:function(t){var e=Array.prototype.slice.call(arguments,1),n=o(this);jsPlumb.each(t,function(t){t=[jsPlumb.getElement(t)],t.push.apply(t,e),n.removeFromPosse.apply(n,t)})},removeFromAllPosses:function(t){var e=o(this);jsPlumb.each(t,function(t){e.removeFromAllPosses(jsPlumb.getElement(t))})},setPosseState:function(t,e,n){var i=o(this);jsPlumb.each(t,function(t){i.setPosseState(jsPlumb.getElement(t),e,n)})},dragEvents:{start:"start",stop:"stop",drag:"drag",step:"step",over:"over",out:"out",drop:"drop",complete:"complete",beforeStart:"beforeStart"},animEvents:{step:"step",complete:"complete"},stopDrag:function(t){t._katavorioDrag&&t._katavorioDrag.abort()},addToDragSelection:function(t){o(this).select(t)},removeFromDragSelection:function(t){o(this).deselect(t)},clearDragSelection:function(){o(this).deselectAll()},trigger:function(t,e,n,i){this.getEventManager().trigger(t,e,n,i)},doReset:function(){for(var t in this)0===t.indexOf("_katavorio_")&&this[t].reset()}});var a=function(t){var e=function(){/complete|loaded|interactive/.test(document.readyState)&&"undefined"!=typeof document.body&&null!=document.body?t():setTimeout(e,9)};e()};a(e.init)}.call(this),!function(t,e){"use strict";"function"==typeof define&&define.amd?define(["angular"],e):"object"==typeof exports?module.exports=e(require("angular")):e(t.angular)}(this,function(t){"use strict";return t.module("gridster",[]).constant("gridsterConfig",{columns:6,pushing:!0,floating:!0,swapping:!1,width:"auto",colWidth:"auto",rowHeight:"match",margins:[10,10],outerMargin:!0,isMobile:!1,mobileBreakPoint:600,mobileModeEnabled:!0,minColumns:1,minRows:1,maxRows:100,defaultSizeX:2,defaultSizeY:1,minSizeX:1,maxSizeX:null,minSizeY:1,maxSizeY:null,saveGridItemCalculatedHeightInMobile:!1,resizable:{enabled:!0,handles:["s","e","n","w","se","ne","sw","nw"]},draggable:{enabled:!0,scrollSensitivity:20,scrollSpeed:15}}).controller("GridsterCtrl",["gridsterConfig","$timeout",function(e,n){var i=this;t.extend(this,e),this.resizable=t.extend({},e.resizable||{}),this.draggable=t.extend({},e.draggable||{});var r=!1;this.layoutChanged=function(){r||(r=!0,n(function(){r=!1,i.loaded&&i.floatItemsUp(),i.updateHeight(i.movingItem?i.movingItem.sizeY:0)},30))},this.grid=[],this.destroy=function(){this.grid&&(this.grid=[]),this.$element=null},this.setOptions=function(e){if(e)if(e=t.extend({},e),e.draggable&&(t.extend(this.draggable,e.draggable),delete e.draggable),e.resizable&&(t.extend(this.resizable,e.resizable),delete e.resizable),t.extend(this,e),this.margins&&2===this.margins.length)for(var n=0,i=this.margins.length;i>n;++n)this.margins[n]=parseInt(this.margins[n],10),isNaN(this.margins[n])&&(this.margins[n]=0);else this.margins=[0,0]},this.canItemOccupy=function(t,e,n){return e>-1&&n>-1&&t.sizeX+n<=this.columns&&t.sizeY+e<=this.maxRows},this.autoSetItemPosition=function(t){for(var e=0;e<this.maxRows;++e)for(var n=0;n<this.columns;++n){var i=this.getItems(e,n,t.sizeX,t.sizeY,t);if(0===i.length&&this.canItemOccupy(t,e,n))return void this.putItem(t,e,n)}throw new Error("Unable to place item!")},this.getItems=function(t,e,n,i,r){var o=[];n&&i||(n=i=1),!r||r instanceof Array||(r=[r]);for(var s=0;i>s;++s)for(var a=0;n>a;++a){var l=this.getItem(t+s,e+a,r);!l||r&&-1!==r.indexOf(l)||-1!==o.indexOf(l)||o.push(l)}return o},this.getBoundingBox=function(t){if(0===t.length)return null;if(1===t.length)return{row:t[0].row,col:t[0].col,sizeY:t[0].sizeY,sizeX:t[0].sizeX};for(var e=0,n=0,i=9999,r=9999,o=0,s=t.length;s>o;++o){var a=t[o];i=Math.min(a.row,i),r=Math.min(a.col,r),e=Math.max(a.row+a.sizeY,e),n=Math.max(a.col+a.sizeX,n)}return{row:i,col:r,sizeY:e-i,sizeX:n-r}},this.removeItem=function(t){for(var e=0,n=this.grid.length;n>e;++e){var i=this.grid[e];if(i){var r=i.indexOf(t);if(-1!==r){i[r]=null;break}}}this.layoutChanged()},this.getItem=function(t,e,n){!n||n instanceof Array||(n=[n]);for(var i=1;t>-1;){for(var r=1,o=e;o>-1;){var s=this.grid[t];if(s){var a=s[o];if(a&&(!n||-1===n.indexOf(a))&&a.sizeX>=r&&a.sizeY>=i)return a}++r,--o}--t,++i}return null},this.putItems=function(t){for(var e=0,n=t.length;n>e;++e)this.putItem(t[e])},this.putItem=function(t,e,n,i){if(("undefined"==typeof e||null===e)&&(e=t.row,n=t.col,"undefined"==typeof e||null===e))return void this.autoSetItemPosition(t);if(this.canItemOccupy(t,e,n)||(n=Math.min(this.columns-t.sizeX,Math.max(0,n)),e=Math.min(this.maxRows-t.sizeY,Math.max(0,e))),null!==t.oldRow&&"undefined"!=typeof t.oldRow){var r=t.oldRow===e&&t.oldColumn===n,o=this.grid[e]&&this.grid[e][n]===t;if(r&&o)return t.row=e,void(t.col=n);var s=this.grid[t.oldRow];s&&s[t.oldColumn]===t&&delete s[t.oldColumn]}t.oldRow=t.row=e,t.oldColumn=t.col=n,this.moveOverlappingItems(t,i),this.grid[e]||(this.grid[e]=[]),this.grid[e][n]=t,this.movingItem===t&&this.floatItemUp(t),this.layoutChanged()},this.swapItems=function(t,e){this.grid[t.row][t.col]=e,this.grid[e.row][e.col]=t;var n=t.row,i=t.col;t.row=e.row,t.col=e.col,e.row=n,e.col=i},this.moveOverlappingItems=function(t,e){e?-1===e.indexOf(t)&&(e=e.slice(0),e.push(t)):e=[t];var n=this.getItems(t.row,t.col,t.sizeX,t.sizeY,e);this.moveItemsDown(n,t.row+t.sizeY,e)},this.moveItemsDown=function(t,e,n){if(t&&0!==t.length){t.sort(function(t,e){return t.row-e.row}),n=n?n.slice(0):[];var i,r,o,s={};for(r=0,o=t.length;o>r;++r){i=t[r];var a=s[i.col];("undefined"==typeof a||i.row<a)&&(s[i.col]=i.row)}for(r=0,o=t.length;o>r;++r){i=t[r];var l=e-s[i.col];this.moveItemDown(i,i.row+l,n),n.push(i)}}},this.moveItemDown=function(t,e,n){if(!(t.row>=e)){for(;t.row<e;)++t.row,this.moveOverlappingItems(t,n);this.putItem(t,t.row,t.col,n)}},this.floatItemsUp=function(){if(this.floating!==!1)for(var t=0,e=this.grid.length;e>t;++t){var n=this.grid[t];if(n)for(var i=0,r=n.length;r>i;++i){var o=n[i];o&&this.floatItemUp(o)}}},this.floatItemUp=function(t){if(this.floating!==!1){for(var e=t.col,n=t.sizeY,i=t.sizeX,r=null,o=null,s=t.row-1;s>-1;){var a=this.getItems(s,e,i,n,t);if(0!==a.length)break;r=s,o=e,--s}null!==r&&this.putItem(t,r,o)}},this.updateHeight=function(t){var e=this.minRows;t=t||0;for(var n=this.grid.length;n>=0;--n){var i=this.grid[n];if(i)for(var r=0,o=i.length;o>r;++r)i[r]&&(e=Math.max(e,n+t+i[r].sizeY))}this.gridHeight=this.maxRows-e>0?Math.min(this.maxRows,e):Math.max(this.maxRows,e)},this.pixelsToRows=function(t,e){return this.outerMargin||(t+=this.margins[0]/2),e===!0?Math.ceil(t/this.curRowHeight):e===!1?Math.floor(t/this.curRowHeight):Math.round(t/this.curRowHeight)},this.pixelsToColumns=function(t,e){return this.outerMargin||(t+=this.margins[1]/2),e===!0?Math.ceil(t/this.curColWidth):e===!1?Math.floor(t/this.curColWidth):Math.round(t/this.curColWidth)}}]).directive("gridsterPreview",function(){return{replace:!0,scope:!0,require:"^gridster",template:'<div ng-style="previewStyle()" class="gridster-item gridster-preview-holder"></div>',link:function(t,e,n,i){t.previewStyle=function(){return i.movingItem?{display:"block",height:i.movingItem.sizeY*i.curRowHeight-i.margins[0]+"px",width:i.movingItem.sizeX*i.curColWidth-i.margins[1]+"px",top:i.movingItem.row*i.curRowHeight+(i.outerMargin?i.margins[0]:0)+"px",left:i.movingItem.col*i.curColWidth+(i.outerMargin?i.margins[1]:0)+"px"}:{display:"none"}}}}}).directive("gridster",["$timeout","$window","$rootScope","gridsterDebounce",function(e,n,i,r){return{scope:!0,restrict:"EAC",controller:"GridsterCtrl",controllerAs:"gridster",compile:function(o){return o.prepend('<div ng-if="gridster.movingItem" gridster-preview></div>'),function(o,s,a,l){function u(t){if(l.setOptions(t),h(s[0])){"auto"===l.width?l.curWidth=s[0].offsetWidth||parseInt(s.css("width"),10):l.curWidth=l.width,"auto"===l.colWidth?l.curColWidth=(l.curWidth+(l.outerMargin?-l.margins[1]:l.margins[1]))/l.columns:l.curColWidth=l.colWidth,l.curRowHeight=l.rowHeight,"string"==typeof l.rowHeight&&("match"===l.rowHeight?l.curRowHeight=Math.round(l.curColWidth):-1!==l.rowHeight.indexOf("*")?l.curRowHeight=Math.round(l.curColWidth*l.rowHeight.replace("*","").replace(" ","")):-1!==l.rowHeight.indexOf("/")&&(l.curRowHeight=Math.round(l.curColWidth/l.rowHeight.replace("/","").replace(" ","")))),l.isMobile=l.mobileModeEnabled&&l.curWidth<=l.mobileBreakPoint;for(var e=0,n=l.grid.length;n>e;++e){var i=l.grid[e];if(i)for(var r=0,o=i.length;o>r;++r)if(i[r]){var a=i[r];a.setElementPosition(),a.setElementSizeY(),a.setElementSizeX()}}c()}}function c(){s.css("height",l.gridHeight*l.curRowHeight+(l.outerMargin?l.margins[0]:-l.margins[0])+"px")}l.loaded=!1,l.$element=s,o.gridster=l,s.addClass("gridster");var h=function(t){return"hidden"!==t.style.visibility&&"none"!==t.style.display},d=a.gridster;d?o.$parent.$watch(d,function(t){u(t)},!0):u({}),o.$watch(function(){return l.loaded},function(){l.loaded?s.addClass("gridster-loaded"):s.removeClass("gridster-loaded")}),o.$watch(function(){return l.isMobile},function(){l.isMobile?s.addClass("gridster-mobile").removeClass("gridster-desktop"):s.removeClass("gridster-mobile").addClass("gridster-desktop"),i.$broadcast("gridster-mobile-changed",l)}),o.$watch(function(){return l.draggable},function(){i.$broadcast("gridster-draggable-changed",l)},!0),o.$watch(function(){return l.resizable},function(){i.$broadcast("gridster-resizable-changed",l)},!0),o.$watch(function(){return l.gridHeight},c),o.$watch(function(){return l.movingItem},function(){l.updateHeight(l.movingItem?l.movingItem.sizeY:0)});var f=s[0].offsetWidth||parseInt(s.css("width"),10),p=function(){var t=s[0].offsetWidth||parseInt(s.css("width"),10);t&&t!==f&&!l.movingItem&&(f=t,l.loaded&&s.removeClass("gridster-loaded"),u(),l.loaded&&s.addClass("gridster-loaded"),i.$broadcast("gridster-resized",[t,s[0].offsetHeight],l))},g=r(function(){p(),e(function(){o.$apply()})},100);o.$watch(function(){return h(s[0])},g),"function"==typeof window.addResizeListener?window.addResizeListener(s[0],g):o.$watch(function(){return s[0].offsetWidth||parseInt(s.css("width"),10)},p);var m=t.element(n);m.on("resize",g),o.$on("$destroy",function(){l.destroy(),m.off("resize",g),"function"==typeof window.removeResizeListener&&window.removeResizeListener(s[0],g)}),e(function(){o.$watch("gridster.floating",function(){l.floatItemsUp()}),l.loaded=!0},100)}}}}]).controller("GridsterItemCtrl",function(){this.$element=null,this.gridster=null,this.row=null,this.col=null,this.sizeX=null,this.sizeY=null,this.minSizeX=0,this.minSizeY=0,this.maxSizeX=null,this.maxSizeY=null,this.init=function(t,e){this.$element=t,this.gridster=e,this.sizeX=e.defaultSizeX,this.sizeY=e.defaultSizeY},this.destroy=function(){this.gridster=null,this.$element=null},this.toJSON=function(){return{row:this.row,col:this.col,sizeY:this.sizeY,sizeX:this.sizeX}},this.isMoving=function(){return this.gridster.movingItem===this},this.setPosition=function(t,e){this.gridster.putItem(this,t,e),this.isMoving()||this.setElementPosition()},this.setSize=function(t,e,n){t=t.toUpperCase();var i="size"+t,r="Size"+t;if(""!==e){e=parseInt(e,10),(isNaN(e)||0===e)&&(e=this.gridster["default"+r]);var o="X"===t?this.gridster.columns:this.gridster.maxRows;this["max"+r]&&(o=Math.min(this["max"+r],o)),this.gridster["max"+r]&&(o=Math.min(this.gridster["max"+r],o)),"X"===t&&this.cols?o-=this.cols:"Y"===t&&this.rows&&(o-=this.rows);var s=0;this["min"+r]&&(s=Math.max(this["min"+r],s)),this.gridster["min"+r]&&(s=Math.max(this.gridster["min"+r],s)),e=Math.max(Math.min(e,o),s);var a=this[i]!==e||this["old"+r]&&this["old"+r]!==e;return this["old"+r]=this[i]=e,this.isMoving()||this["setElement"+r](),!n&&a&&(this.gridster.moveOverlappingItems(this),this.gridster.layoutChanged()),a}},this.setSizeY=function(t,e){return this.setSize("Y",t,e)},this.setSizeX=function(t,e){return this.setSize("X",t,e)},this.setElementPosition=function(){this.$element.css(this.gridster.isMobile?{marginLeft:this.gridster.margins[0]+"px",marginRight:this.gridster.margins[0]+"px",
marginTop:this.gridster.margins[1]+"px",marginBottom:this.gridster.margins[1]+"px",top:"",left:""}:{margin:0,top:this.row*this.gridster.curRowHeight+(this.gridster.outerMargin?this.gridster.margins[0]:0)+"px",left:this.col*this.gridster.curColWidth+(this.gridster.outerMargin?this.gridster.margins[1]:0)+"px"})},this.setElementSizeY=function(){this.gridster.isMobile&&!this.gridster.saveGridItemCalculatedHeightInMobile?this.$element.css("height",""):this.$element.css("height",this.sizeY*this.gridster.curRowHeight-this.gridster.margins[0]+"px")},this.setElementSizeX=function(){this.gridster.isMobile?this.$element.css("width",""):this.$element.css("width",this.sizeX*this.gridster.curColWidth-this.gridster.margins[1]+"px")},this.getElementSizeX=function(){return this.sizeX*this.gridster.curColWidth-this.gridster.margins[1]},this.getElementSizeY=function(){return this.sizeY*this.gridster.curRowHeight-this.gridster.margins[0]}}).factory("GridsterTouch",[function(){return function(t,e,n,i){var r,o,s={},a=function(t){if(Object.keys)return Object.keys(t).length;var e,n=0;for(e in t)++n;return n},l=function(t){for(var e=0,n=0,i=navigator.userAgent.match(/\bMSIE\b/),r=t;null!=r;r=r.offsetParent)i&&(!document.documentMode||document.documentMode<8)&&"relative"===r.currentStyle.position&&r.offsetParent&&"relative"===r.offsetParent.currentStyle.position&&r.offsetLeft===r.offsetParent.offsetLeft?n+=r.offsetTop:(e+=r.offsetLeft,n+=r.offsetTop);return{x:e,y:n}},u=l(t),c=function(r){if("mousemove"!==r.type||0!==a(s)){for(var o=!0,d=r.changedTouches?r.changedTouches:[r],f=0;f<d.length;++f){var p=d[f],g="undefined"!=typeof p.identifier?p.identifier:"undefined"!=typeof p.pointerId?p.pointerId:1;if("undefined"==typeof p.pageX)if(p.pageX=p.offsetX+u.x,p.pageY=p.offsetY+u.y,p.srcElement.offsetParent===t&&document.documentMode&&8===document.documentMode&&"mousedown"===p.type)p.pageX+=p.srcElement.offsetLeft,p.pageY+=p.srcElement.offsetTop;else if(p.srcElement!==t&&!document.documentMode||document.documentMode<8){for(var m=-2,v=-2,y=p.srcElement;null!==y;y=y.parentNode)m+=y.scrollLeft?y.scrollLeft:0,v+=y.scrollTop?y.scrollTop:0;p.pageX=p.clientX+m,p.pageY=p.clientY+v}var b=p.pageX,w=p.pageY;r.type.match(/(start|down)$/i)?(u=l(t),s[g]&&(i&&i({target:r.target,which:r.which,pointerId:g,pageX:b,pageY:w}),delete s[g]),e&&o&&(o=e({target:r.target,which:r.which,pointerId:g,pageX:b,pageY:w})),s[g]={x:b,y:w},t.msSetPointerCapture?t.msSetPointerCapture(g):"mousedown"===r.type&&1===a(s)&&(h?t.setCapture(!0):(document.addEventListener("mousemove",c,!1),document.addEventListener("mouseup",c,!1)))):r.type.match(/move$/i)?!s[g]||s[g].x===b&&s[g].y===w||(n&&o&&(o=n({target:r.target,which:r.which,pointerId:g,pageX:b,pageY:w})),s[g].x=b,s[g].y=w):s[g]&&r.type.match(/(up|end|cancel)$/i)&&(i&&o&&(o=i({target:r.target,which:r.which,pointerId:g,pageX:b,pageY:w})),delete s[g],t.msReleasePointerCapture?t.msReleasePointerCapture(g):"mouseup"===r.type&&0===a(s)&&(h?t.releaseCapture():(document.removeEventListener("mousemove",c,!1),document.removeEventListener("mouseup",c,!1))))}o&&(r.preventDefault&&r.preventDefault(),r.preventManipulation&&r.preventManipulation(),r.preventMouseEvent&&r.preventMouseEvent())}},h=!1;return this.enable=function(){window.navigator.msPointerEnabled?(t.addEventListener("MSPointerDown",c,!1),t.addEventListener("MSPointerMove",c,!1),t.addEventListener("MSPointerUp",c,!1),t.addEventListener("MSPointerCancel",c,!1),"undefined"!=typeof t.style.msContentZooming&&(r=t.style.msContentZooming,t.style.msContentZooming="none"),"undefined"!=typeof t.style.msTouchAction&&(o=t.style.msTouchAction,t.style.msTouchAction="none")):t.addEventListener?(t.addEventListener("touchstart",c,!1),t.addEventListener("touchmove",c,!1),t.addEventListener("touchend",c,!1),t.addEventListener("touchcancel",c,!1),t.addEventListener("mousedown",c,!1),t.setCapture&&!window.navigator.userAgent.match(/\bGecko\b/)&&(h=!0,t.addEventListener("mousemove",c,!1),t.addEventListener("mouseup",c,!1))):t.attachEvent&&t.setCapture&&(h=!0,t.attachEvent("onmousedown",function(){return c(window.event),window.event.returnValue=!1,!1}),t.attachEvent("onmousemove",function(){return c(window.event),window.event.returnValue=!1,!1}),t.attachEvent("onmouseup",function(){return c(window.event),window.event.returnValue=!1,!1}))},this.disable=function(){window.navigator.msPointerEnabled?(t.removeEventListener("MSPointerDown",c,!1),t.removeEventListener("MSPointerMove",c,!1),t.removeEventListener("MSPointerUp",c,!1),t.removeEventListener("MSPointerCancel",c,!1),r&&(t.style.msContentZooming=r),o&&(t.style.msTouchAction=o)):t.removeEventListener?(t.removeEventListener("touchstart",c,!1),t.removeEventListener("touchmove",c,!1),t.removeEventListener("touchend",c,!1),t.removeEventListener("touchcancel",c,!1),t.removeEventListener("mousedown",c,!1),t.setCapture&&!window.navigator.userAgent.match(/\bGecko\b/)&&(h=!0,t.removeEventListener("mousemove",c,!1),t.removeEventListener("mouseup",c,!1))):t.detachEvent&&t.setCapture&&(h=!0,t.detachEvent("onmousedown"),t.detachEvent("onmousemove"),t.detachEvent("onmouseup"))},this}}]).factory("GridsterDraggable",["$document","$window","GridsterTouch",function(e,n,i){function r(r,o,s,a,l){function u(e){if(-1!==F.indexOf(e.target.nodeName.toLowerCase()))return!1;var n=t.element(e.target);if(n.hasClass("gridster-item-resizable-handler"))return!1;if(n.attr("onclick")||n.attr("ng-click"))return!1;if(n.closest&&n.closest(".gridster-no-drag").length)return!1;switch(e.which){case 1:break;case 2:case 3:return}return $=e.pageX,C=e.pageY,g=parseInt(r.css("left"),10),m=parseInt(r.css("top"),10),v=r[0].offsetWidth,y=r[0].offsetHeight,b=a.col,w=a.row,d(e),!0}function c(t){if(!r.hasClass("gridster-item-moving")||r.hasClass("gridster-item-resizing"))return!1;var e=s.curWidth-1;x=t.pageX,_=t.pageY;var n=x-$+A,i=_-C+E;A=E=0,$=x,C=_;var o=n,a=i;return D>g+o?(n=D-g,A=o-n):g+v+o>e&&(n=e-g-v,A=o-n),S>m+a?(i=S-m,E=a-i):m+y+a>k&&(i=k-m-y,E=a-i),g+=n,m+=i,r.css({top:m+"px",left:g+"px"}),f(t),!0}function h(t){return!r.hasClass("gridster-item-moving")||r.hasClass("gridster-item-resizing")?!1:(A=E=0,p(t),!0)}function d(t){r.addClass("gridster-item-moving"),s.movingItem=a,s.updateHeight(a.sizeY),o.$apply(function(){s.draggable&&s.draggable.start&&s.draggable.start(t,r,l)})}function f(t){var e=a.row,i=a.col,u=s.draggable&&s.draggable.drag,c=s.draggable.scrollSensitivity,h=s.draggable.scrollSpeed,d=s.pixelsToRows(m),f=s.pixelsToColumns(g),p=s.getItems(d,f,a.sizeX,a.sizeY,a),v=0!==p.length;if(s.swapping===!0&&v){var y=s.getBoundingBox(p),b=y.sizeX===a.sizeX&&y.sizeY===a.sizeY,w=y.row===e,x=y.col===i,_=y.row===d&&y.col===f,$=w||x;if(b&&1===p.length){if(_)s.swapItems(a,p[0]);else if($)return}else if(y.sizeX<=a.sizeX&&y.sizeY<=a.sizeY&&$)for(var C=a.row<=d?a.row:d+a.sizeY,A=a.col<=f?a.col:f+a.sizeX,E=C-y.row,S=A-y.col,k=0,D=p.length;D>k;++k){var F=p[k],M=s.getItems(F.row+E,F.col+S,F.sizeX,F.sizeY,a);0===M.length&&s.putItem(F,F.row+E,F.col+S)}}s.pushing===!1&&v||(a.row=d,a.col=f),t.pageY-T.body.scrollTop<c?T.body.scrollTop=T.body.scrollTop-h:n.innerHeight-(t.pageY-T.body.scrollTop)<c&&(T.body.scrollTop=T.body.scrollTop+h),t.pageX-T.body.scrollLeft<c?T.body.scrollLeft=T.body.scrollLeft-h:n.innerWidth-(t.pageX-T.body.scrollLeft)<c&&(T.body.scrollLeft=T.body.scrollLeft+h),(u||e!==a.row||i!==a.col)&&o.$apply(function(){u&&s.draggable.drag(t,r,l)})}function p(t){r.removeClass("gridster-item-moving");var e=s.pixelsToRows(m),n=s.pixelsToColumns(g);(s.pushing!==!1||0===s.getItems(e,n,a.sizeX,a.sizeY,a).length)&&(a.row=e,a.col=n),s.movingItem=null,a.setPosition(a.row,a.col),o.$apply(function(){s.draggable&&s.draggable.stop&&s.draggable.stop(t,r,l)})}var g,m,v,y,b,w,x=0,_=0,$=0,C=0,A=0,E=0,S=0,k=9999,D=0,T=e[0],F=["select","input","textarea","button"],M=null,L=null,O=[];this.enable=function(){M!==!0&&(M=!0,r.ready(function(){if(M===!0){for(var e=0,n=O.length;n>e;++e)O[e].disable();O=[],s.draggable&&s.draggable.handle?(L=t.element(r[0].querySelectorAll(s.draggable.handle)),0===L.length&&(L=r)):L=r;for(var o=0,a=L.length;a>o;++o)O[o]=new i(L[o],u,c,h),O[o].enable()}}))},this.disable=function(){if(M!==!1){M=!1;for(var t=0,e=O.length;e>t;++t)O[t].disable();O=[]}},this.toggle=function(t){t?this.enable():this.disable()},this.destroy=function(){this.disable()}}return r}]).factory("GridsterResizable",["GridsterTouch",function(e){function n(n,i,r,o,s){function a(a){function l(t){switch(t.which){case 1:break;case 2:case 3:return}return w=r.draggable.enabled,w&&(r.draggable.enabled=!1,i.$broadcast("gridster-draggable-changed",r)),A=t.pageX,E=t.pageY,p=parseInt(n.css("left"),10),g=parseInt(n.css("top"),10),m=n[0].offsetWidth,v=n[0].offsetHeight,y=o.sizeX,b=o.sizeY,u(t),!0}function u(t){n.addClass("gridster-item-moving"),n.addClass("gridster-item-resizing"),r.movingItem=o,o.setElementSizeX(),o.setElementSizeY(),o.setElementPosition(),r.updateHeight(1),i.$apply(function(){r.resizable&&r.resizable.start&&r.resizable.start(t,n,s)})}function c(t){var e=r.curWidth-1;$=t.pageX,C=t.pageY;var i=$-A+S,o=C-E+k;S=k=0,A=$,E=C;var s=o,a=i;return _.indexOf("n")>=0&&(v-s<M()?(o=v-M(),k=s-o):D>g+s&&(o=D-g,k=s-o),g+=o,v-=o),_.indexOf("s")>=0&&(v+s<M()?(o=M()-v,k=s-o):g+v+s>T&&(o=T-g-v,k=s-o),v+=o),_.indexOf("w")>=0&&(m-a<L()?(i=m-L(),S=a-i):F>p+a&&(i=F-p,S=a-i),p+=i,m-=i),_.indexOf("e")>=0&&(m+a<L()?(i=L()-m,S=a-i):p+m+a>e&&(i=e-p-m,S=a-i),m+=i),n.css({top:g+"px",left:p+"px",width:m+"px",height:v+"px"}),d(t),!0}function h(t){return r.draggable.enabled!==w&&(r.draggable.enabled=w,i.$broadcast("gridster-draggable-changed",r)),S=k=0,f(t),!0}function d(t){var e=o.row,l=o.col,u=o.sizeX,c=o.sizeY,h=r.resizable&&r.resizable.resize,d=o.col;-1!==["w","nw","sw"].indexOf(a)&&(d=r.pixelsToColumns(p,!1));var f=o.row;-1!==["n","ne","nw"].indexOf(a)&&(f=r.pixelsToRows(g,!1));var y=o.sizeX;-1===["n","s"].indexOf(a)&&(y=r.pixelsToColumns(m,!0));var b=o.sizeY;-1===["e","w"].indexOf(a)&&(b=r.pixelsToRows(v,!0));var w=f>-1&&d>-1&&y+d<=r.columns&&b+f<=r.maxRows;!w||r.pushing===!1&&0!==r.getItems(f,d,y,b,o).length||(o.row=f,o.col=d,o.sizeX=y,o.sizeY=b);var x=o.row!==e||o.col!==l||o.sizeX!==u||o.sizeY!==c;(h||x)&&i.$apply(function(){h&&r.resizable.resize(t,n,s)})}function f(t){n.removeClass("gridster-item-moving"),n.removeClass("gridster-item-resizing"),r.movingItem=null,o.setPosition(o.row,o.col),o.setSizeY(o.sizeY),o.setSizeX(o.sizeX),i.$apply(function(){r.resizable&&r.resizable.stop&&r.resizable.stop(t,n,s)})}var p,g,m,v,y,b,w,x,_=a,$=0,C=0,A=0,E=0,S=0,k=0,D=0,T=9999,F=0,M=function(){return(o.minSizeY?o.minSizeY:1)*r.curRowHeight-r.margins[0]},L=function(){return(o.minSizeX?o.minSizeX:1)*r.curColWidth-r.margins[1]},O=null;this.enable=function(){O||(O=t.element('<div class="gridster-item-resizable-handler handle-'+_+'"></div>'),n.append(O)),x=new e(O[0],l,c,h),x.enable()},this.disable=function(){O&&(O.remove(),O=null),x.disable(),x=void 0},this.destroy=function(){this.disable()}}var l=[],u=r.resizable.handles;"string"==typeof u&&(u=r.resizable.handles.split(","));for(var c=!1,h=0,d=u.length;d>h;h++)l.push(new a(u[h]));this.enable=function(){if(!c){for(var t=0,e=l.length;e>t;t++)l[t].enable();c=!0}},this.disable=function(){if(c){for(var t=0,e=l.length;e>t;t++)l[t].disable();c=!1}},this.toggle=function(t){t?this.enable():this.disable()},this.destroy=function(){for(var t=0,e=l.length;e>t;t++)l[t].destroy()}}return n}]).factory("gridsterDebounce",function(){return function(t,e,n){var i;return function(){var r=this,o=arguments,s=function(){i=null,n||t.apply(r,o)},a=n&&!i;clearTimeout(i),i=setTimeout(s,e),a&&t.apply(r,o)}}}).directive("gridsterItem",["$parse","GridsterDraggable","GridsterResizable","gridsterDebounce",function(t,e,n,i){return{scope:!0,restrict:"EA",controller:"GridsterItemCtrl",controllerAs:"gridsterItem",require:["^gridster","gridsterItem"],link:function(r,o,s,a){function l(){p.setPosition(p.row,p.col),v.row&&v.row.assign&&v.row.assign(r,p.row),v.col&&v.col.assign&&v.col.assign(r,p.col)}function u(){var t=p.setSizeX(p.sizeX,!0);t&&v.sizeX&&v.sizeX.assign&&v.sizeX.assign(r,p.sizeX);var e=p.setSizeY(p.sizeY,!0);e&&v.sizeY&&v.sizeY.assign&&v.sizeY.assign(r,p.sizeY),(t||e)&&(p.gridster.moveOverlappingItems(p),f.layoutChanged(),r.$broadcast("gridster-item-resized",p))}function c(){var t=document.createElement("div"),e={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var n in e)if(void 0!==t.style[n])return e[n]}var h,d=s.gridsterItem,f=a[0],p=a[1];if(r.gridster=f,d){var g=t(d);h=g(r)||{},!h&&g.assign&&(h={row:p.row,col:p.col,sizeX:p.sizeX,sizeY:p.sizeY,minSizeX:0,minSizeY:0,maxSizeX:null,maxSizeY:null},g.assign(r,h))}else h=s;p.init(o,f),o.addClass("gridster-item");for(var m=["minSizeX","maxSizeX","minSizeY","maxSizeY","sizeX","sizeY","row","col"],v={},y=[],b=function(e){var n;if("string"==typeof h[e])n=h[e];else if("string"==typeof h[e.toLowerCase()])n=h[e.toLowerCase()];else{if(!d)return;n=d+"."+e}y.push('"'+e+'":'+n),v[e]=t(n);var i=v[e](r);"number"==typeof i&&(p[e]=i)},w=0,x=m.length;x>w;++w)b(m[w]);var _="{"+y.join(",")+"}";r.$watchCollection(_,function(t,e){for(var n in t){var i=t[n],r=e[n];r!==i&&(i=parseInt(i,10),isNaN(i)||(p[n]=i))}}),r.$watch(function(){return p.row+","+p.col},l),r.$watch(function(){return p.sizeY+","+p.sizeX+","+p.minSizeX+","+p.maxSizeX+","+p.minSizeY+","+p.maxSizeY},u);var $=new e(o,r,f,p,h),C=new n(o,r,f,p,h),A=function(){C.toggle(!f.isMobile&&f.resizable&&f.resizable.enabled)};A();var E=function(){$.toggle(!f.isMobile&&f.draggable&&f.draggable.enabled)};E(),r.$on("gridster-draggable-changed",E),r.$on("gridster-resizable-changed",A),r.$on("gridster-resized",A),r.$on("gridster-mobile-changed",function(){A(),E()});var S=i(function(){r.$apply(function(){r.$broadcast("gridster-item-transition-end",p)})},50);return o.on(c(),S),r.$broadcast("gridster-item-initialized",p),r.$on("$destroy",function(){try{C.destroy(),$.destroy()}catch(t){}try{f.removeItem(p)}catch(t){}try{p.destroy()}catch(t){}})}}}]).directive("gridsterNoDrag",function(){return{restrict:"A",link:function(t,e){e.addClass("gridster-no-drag")}}})}),angular.module("templates-angularcronjobs",["cronselection.html"]),angular.module("cronselection.html",[]).run(["$templateCache",function(t){t.put("cronselection.html",'<div class="cron-wrap">\n<span>Every: </span>\n	<select class="cron-select" ng-model="myFrequency.base" ng-options="item.value as item.label for item in frequency"></select>\n\n	<div class="select-options">\n		<span ng-show="myFrequency.base == 4">on </span>\n		<select ng-show="myFrequency.base == 4" class="cron-select day-value" ng-model="myFrequency.dayValue" ng-options="(value | dayName) for value in dayValue"></select>\n		<span ng-show="myFrequency.base >= 5">on the </span>\n		<select ng-show="myFrequency.base >= 5" class="cron-select day-of-month-value" ng-model="myFrequency.dayOfMonthValue" ng-options="(value | numeral) for value in dayOfMonthValue"></select>\n		<span ng-show="myFrequency.base == 6">of </span>\n		<select ng-show="myFrequency.base == 6" class="cron-select month-value" ng-model="myFrequency.monthValue" ng-options="(value | monthName) for value in monthValue"></select>\n		<span ng-show="myFrequency.base >= 2">at </span>\n		<select ng-show="myFrequency.base >= 3" class="cron-select hour-value" ng-model="myFrequency.hourValue" ng-options="value for value in hourValue"></select>\n		<span ng-show="myFrequency.base >= 3"> : </span>\n		<select ng-show="myFrequency.base >= 2" class="cron-select minute-value" ng-model="myFrequency.minuteValue" ng-options="value for value in minuteValue"></select>\n		<span ng-show="myFrequency.base == 2"> past the hour</span>\n	</div>\n</div>\n')}]),angular.module("angular-cron-jobs",["templates-angularcronjobs"]),angular.module("angular-cron-jobs",["templates-angularcronjobs"]),angular.module("angular-cron-jobs").directive("cronSelection",["cronService",function(t){return{restrict:"EA",replace:!0,transclude:!0,scope:{config:"=",output:"=?",init:"=?"},templateUrl:function(t,e){return e.template||"cronselection.html"},link:function(e){var n=void 0,i=!1;if(e.frequency=[{value:1,label:"Minute"},{value:2,label:"Hour"},{value:3,label:"Day"},{value:4,label:"Week"},{value:5,label:"Month"},{value:6,label:"Year"}],angular.isDefined(e.init)&&(n=angular.copy(e.init),e.myFrequency=t.fromCron(e.init)),e.$watch("init",function(r){angular.isDefined(r)&&r&&r!==n&&(i=!0,e.myFrequency=t.fromCron(r))}),"object"==typeof e.config&&!e.config.length){var r=Object.keys(e.config.options);for(var o in r){var s=r[o].replace(/^allow/,""),a=r[o];if(!e.config.options[a])for(var l in e.frequency)e.frequency[l].label===s&&e.frequency.splice(l,1)}}e.minuteValue=[0,5,10,15,20,25,30,35,40,45,50,55],e.hourValue=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],e.dayOfMonthValue=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],e.dayValue=[0,1,2,3,4,5,6],e.monthValue=[1,2,3,4,5,6,7,8,9,10,11,12],e.$watch("myFrequency",function(n,r){!n||r&&n.base===r.base||i?n&&n.base&&r&&r.base&&(i=!1):(n&&n.base&&(n.base=parseInt(n.base)),n&&n.base&&n.base>=2&&(n.minuteValue=e.minuteValue[0]),n&&n.base&&n.base>=3&&(n.hourValue=e.hourValue[0]),n&&n.base&&4===n.base&&(n.dayValue=e.dayValue[0]),n&&n.base&&n.base>=5&&(n.dayOfMonthValue=e.dayOfMonthValue[0]),n&&n.base&&6===n.base&&(n.monthValue=e.monthValue[0])),e.output=t.setCron(n)},!0)}}}]).filter("numeral",function(){return function(t){switch(t){case 1:return"1st";case 2:return"2nd";case 3:return"3rd";case 21:return"21st";case 22:return"22nd";case 23:return"23rd";case 31:return"31st";case null:return null;default:return t+"th"}}}).filter("monthName",function(){return function(t){var e={1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"};return null!==t&&angular.isDefined(e[t])?e[t]:null}}).filter("dayName",function(){return function(t){var e={0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"};return null!==t&&angular.isDefined(e[t])?e[t]:null}}),angular.module("angular-cron-jobs").factory("cronService",function(){var t={};return t.setCron=function(t){var e=["*","*","*","*","*"];return t&&t.base&&t.base>=2&&(e[0]=void 0!==typeof t.minuteValue?t.minuteValue:"*"),t&&t.base&&t.base>=3&&(e[1]=void 0!==typeof t.hourValue?t.hourValue:"*"),t&&t.base&&4===t.base&&(e[4]=t.dayValue),t&&t.base&&t.base>=5&&(e[2]=void 0!==typeof t.dayOfMonthValue?t.dayOfMonthValue:"*"),t&&t.base&&6===t.base&&(e[3]=void 0!==typeof t.monthValue?t.monthValue:"*"),e.join(" ")},t.fromCron=function(t){var e=t.replace(/\s+/g," ").split(" "),n={base:"1"};return"*"===e[0]&&"*"===e[1]&&"*"===e[2]&&"*"===e[3]&&"*"===e[4]?n.base=1:"*"===e[1]&&"*"===e[2]&&"*"===e[3]&&"*"===e[4]?n.base=2:"*"===e[2]&&"*"===e[3]&&"*"===e[4]?n.base=3:"*"===e[2]&&"*"===e[3]?n.base=4:"*"===e[3]&&"*"===e[4]?n.base=5:"*"===e[4]&&(n.base=6),"*"!==e[0]&&(n.minuteValue=parseInt(e[0])),"*"!==e[1]&&(n.hourValue=parseInt(e[1])),"*"!==e[2]&&(n.dayOfMonthValue=parseInt(e[2])),"*"!==e[3]&&(n.monthValue=parseInt(e[3])),"*"!==e[4]&&(n.dayValue=parseInt(e[4])),n},t});var directiveModule=angular.module("angularjs-dropdown-multiselect",[]);directiveModule.directive("ngDropdownMultiselect",["$filter","$document","$compile","$parse",function(t,e){return{restrict:"AE",scope:{selectedModel:"=",options:"=",extraSettings:"=",events:"=",searchFilter:"=?",translationTexts:"=",groupBy:"@"},template:function(t,e){var n=e.checkboxes?!0:!1,i=e.groupBy?!0:!1,r='<div class="multiselect-parent btn-group dropdown-multiselect">';r+='<button type="button" class="dropdown-toggle" ng-class="settings.buttonClasses" ng-click="toggleDropdown()">{{getButtonText()}}&nbsp;<span class="caret"></span></button>',r+="<ul class=\"dropdown-menu dropdown-menu-form\" ng-style=\"{display: open ? 'block' : 'none', height : settings.scrollable ? settings.scrollableHeight : 'auto' }\" style=\"overflow: scroll\" >",r+='<li ng-hide="!settings.showCheckAll || settings.selectionLimit > 0"><a data-ng-click="selectAll()"><span class="fa fa-ok"></span>  {{texts.checkAll}}</a>',r+='<li ng-show="settings.showUncheckAll"><a data-ng-click="deselectAll();"><span class="fa fa-remove"></span>   {{texts.uncheckAll}}</a></li>',r+='<li ng-hide="(!settings.showCheckAll || settings.selectionLimit > 0) && !settings.showUncheckAll" class="divider"></li>',r+='<li ng-show="settings.enableSearch"><div class="dropdown-header"><input type="text" class="form-control" style="width: 100%;" ng-model="searchFilter" placeholder="{{texts.searchPlaceholder}}" /></li>',r+='<li ng-show="settings.enableSearch" class="divider"></li>',i?(r+='<li ng-repeat-start="option in orderedItems | filter: searchFilter" ng-show="getPropertyForObject(option, settings.groupBy) !== getPropertyForObject(orderedItems[$index - 1], settings.groupBy)" role="presentation" class="dropdown-header">{{ getGroupTitle(getPropertyForObject(option, settings.groupBy)) }}</li>',r+='<li ng-repeat-end role="presentation">'):r+='<li role="presentation" ng-repeat="option in options | filter: searchFilter">',r+='<a role="menuitem" tabindex="-1" ng-click="setSelectedItem(getPropertyForObject(option,settings.idProp))">',r+=n?'<div class="checkbox"><label><input class="checkboxInput" type="checkbox" ng-click="checkboxClick($event, getPropertyForObject(option,settings.idProp))" ng-checked="isChecked(getPropertyForObject(option,settings.idProp))" /> {{getPropertyForObject(option, settings.displayProp)}}</label></div></a>':"<span data-ng-class=\"{'fa fa-ok': isChecked(getPropertyForObject(option,settings.idProp))}\"></span> {{getPropertyForObject(option, settings.displayProp)}}</a>",r+="</li>",r+='<li class="divider" ng-show="settings.selectionLimit > 1"></li>',r+='<li role="presentation" ng-show="settings.selectionLimit > 1"><a role="menuitem">{{selectedModel.length}} {{texts.selectionOf}} {{settings.selectionLimit}} {{texts.selectionCount}}</a></li>',r+="</ul>",r+="</div>",t.html(r)},link:function(n,i,r){function o(t){var e={};return""===n.settings.externalIdProp?e[n.settings.idProp]=t:e[n.settings.externalIdProp]=t,e}function s(t){for(var e in t)delete t[e]}var a=i.children()[0];n.toggleDropdown=function(){n.open=!n.open},n.checkboxClick=function(t,e){n.setSelectedItem(e),t.stopImmediatePropagation()},n.externalEvents={onItemSelect:angular.noop,onItemDeselect:angular.noop,onSelectAll:angular.noop,onDeselectAll:angular.noop,onInitDone:angular.noop,onMaxSelectionReached:angular.noop},n.settings={dynamicTitle:!0,scrollable:!1,scrollableHeight:"300px",closeOnBlur:!0,displayProp:"label",idProp:"id",externalIdProp:"id",enableSearch:!1,selectionLimit:0,showCheckAll:!0,showUncheckAll:!0,closeOnSelect:!1,buttonClasses:"btn btn-default",closeOnDeselect:!1,groupBy:r.groupBy||void 0,groupByTextProvider:null,smartButtonMaxItems:0,smartButtonTextConverter:angular.noop},n.texts={checkAll:"Check All",uncheckAll:"Uncheck All",selectionCount:"checked",selectionOf:"/",searchPlaceholder:"Search...",buttonDefaultText:"Select",dynamicButtonTextSuffix:"checked"},n.searchFilter=n.searchFilter||"",angular.isDefined(n.settings.groupBy)&&n.$watch("options",function(e){angular.isDefined(e)&&(n.orderedItems=t("orderBy")(e,n.settings.groupBy))}),angular.extend(n.settings,n.extraSettings||[]),angular.extend(n.externalEvents,n.events||[]),angular.extend(n.texts,n.translationTexts),n.singleSelection=1===n.settings.selectionLimit,n.singleSelection&&angular.isArray(n.selectedModel)&&0===n.selectedModel.length&&s(n.selectedModel),n.settings.closeOnBlur&&e.on("click",function(t){for(var e=t.target.parentElement,i=!1;angular.isDefined(e)&&null!==e&&!i;)_.contains(e.className.split(" "),"multiselect-parent")&&!i&&e===a&&(i=!0),e=e.parentElement;i||n.$apply(function(){n.open=!1})}),n.getGroupTitle=function(t){return null!==n.settings.groupByTextProvider?n.settings.groupByTextProvider(t):t},n.getButtonText=function(){if(n.settings.dynamicTitle&&(n.selectedModel.length>0||angular.isObject(n.selectedModel)&&_.keys(n.selectedModel).length>0)){if(n.settings.smartButtonMaxItems>0){var t=[];return angular.forEach(n.options,function(e){if(n.isChecked(n.getPropertyForObject(e,n.settings.idProp))){var i=n.getPropertyForObject(e,n.settings.displayProp),r=n.settings.smartButtonTextConverter(i,e);t.push(r?r:i)}}),n.selectedModel.length>n.settings.smartButtonMaxItems&&(t=t.slice(0,n.settings.smartButtonMaxItems),t.push("...")),t.join(", ")}var e;return e=n.singleSelection?null!==n.selectedModel&&angular.isDefined(n.selectedModel[n.settings.idProp])?1:0:angular.isDefined(n.selectedModel)?n.selectedModel.length:0,0===e?n.texts.buttonDefaultText:e+" "+n.texts.dynamicButtonTextSuffix}return n.texts.buttonDefaultText},n.getPropertyForObject=function(t,e){return angular.isDefined(t)&&t.hasOwnProperty(e)?t[e]:""},n.selectAll=function(){n.deselectAll(!1),n.externalEvents.onSelectAll(),angular.forEach(n.options,function(t){n.setSelectedItem(t[n.settings.idProp],!0)})},n.deselectAll=function(t){t=t||!0,t&&n.externalEvents.onDeselectAll(),n.singleSelection?s(n.selectedModel):n.selectedModel.splice(0,n.selectedModel.length)},n.setSelectedItem=function(t,e){var i=o(t),r=null;if(r=""===n.settings.externalIdProp?_.find(n.options,i):i,n.singleSelection)return s(n.selectedModel),angular.extend(n.selectedModel,r),void n.externalEvents.onItemSelect(r);e=e||!1;var a=-1!==_.findIndex(n.selectedModel,i);!e&&a?(n.selectedModel.splice(_.findIndex(n.selectedModel,i),1),n.externalEvents.onItemDeselect(i)):!a&&(0===n.settings.selectionLimit||n.selectedModel.length<n.settings.selectionLimit)&&(n.selectedModel.push(r),n.externalEvents.onItemSelect(r))},n.isChecked=function(t){return n.singleSelection?null!==n.selectedModel&&angular.isDefined(n.selectedModel[n.settings.idProp])&&n.selectedModel[n.settings.idProp]===o(t)[n.settings.idProp]:-1!==_.findIndex(n.selectedModel,o(t))},n.externalEvents.onInitDone()}}}]),function(){function t(t){this.tokens=[],this.tokens.links={},this.options=t||u.defaults,this.rules=c.normal,this.options.gfm&&(this.options.tables?this.rules=c.tables:this.rules=c.gfm)}function e(t,e){if(this.options=e||u.defaults,this.links=t,this.rules=h.normal,this.renderer=this.options.renderer||new n,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=h.breaks:this.rules=h.gfm:this.options.pedantic&&(this.rules=h.pedantic)}function n(t){this.options=t||{}}function i(t){this.tokens=[],this.token=null,this.options=t||u.defaults,this.options.renderer=this.options.renderer||new n,this.renderer=this.options.renderer,this.renderer.options=this.options}function r(t,e){return t.replace(e?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function o(t){return t.replace(/&([#\w]+);/g,function(t,e){return e=e.toLowerCase(),"colon"===e?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""})}function s(t,e){return t=t.source,e=e||"",function n(i,r){return i?(r=r.source||r,r=r.replace(/(^|[^\[])\^/g,"$1"),t=t.replace(i,r),n):new RegExp(t,e)}}function a(){}function l(t){for(var e,n,i=1;i<arguments.length;i++){e=arguments[i];for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t}function u(e,n,o){if(o||"function"==typeof n){o||(o=n,n=null),n=l({},u.defaults,n||{});var s,a,c=n.highlight,h=0;try{s=t.lex(e,n)}catch(d){return o(d)}a=s.length;var f=function(t){if(t)return n.highlight=c,o(t);var e;try{e=i.parse(s,n)}catch(r){t=r}return n.highlight=c,t?o(t):o(null,e)};if(!c||c.length<3)return f();if(delete n.highlight,!a)return f();for(;h<s.length;h++)!function(t){return"code"!==t.type?--a||f():c(t.text,t.lang,function(e,n){return e?f(e):null==n||n===t.text?--a||f():(t.text=n,t.escaped=!0,void(--a||f()))})}(s[h])}else try{return n&&(n=l({},u.defaults,n)),i.parse(t.lex(e,n),n)}catch(d){if(d.message+="\nPlease report this to https://github.com/chjj/marked.",(n||u.defaults).silent)return"<p>An error occured:</p><pre>"+r(d.message+"",!0)+"</pre>";throw d}}var c={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:a,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:a,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:a,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};c.bullet=/(?:[*+-]|\d+\.)/,c.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,c.item=s(c.item,"gm")(/bull/g,c.bullet)(),c.list=s(c.list)(/bull/g,c.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+c.def.source+")")(),c.blockquote=s(c.blockquote)("def",c.def)(),c._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",c.html=s(c.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,c._tag)(),c.paragraph=s(c.paragraph)("hr",c.hr)("heading",c.heading)("lheading",c.lheading)("blockquote",c.blockquote)("tag","<"+c._tag)("def",c.def)(),c.normal=l({},c),c.gfm=l({},c.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),c.gfm.paragraph=s(c.paragraph)("(?!","(?!"+c.gfm.fences.source.replace("\\1","\\2")+"|"+c.list.source.replace("\\1","\\3")+"|")(),c.tables=l({},c.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),t.rules=c,t.lex=function(e,n){var i=new t(n);return i.lex(e)},t.prototype.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(t,!0)},t.prototype.token=function(t,e,n){for(var i,r,o,s,a,l,u,h,d,t=t.replace(/^ +$/gm,"");t;)if((o=this.rules.newline.exec(t))&&(t=t.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(t))t=t.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});else if(o=this.rules.fences.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]||""});else if(o=this.rules.heading.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(e&&(o=this.rules.nptable.exec(t))){for(t=t.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")},h=0;h<l.align.length;h++)/^ *-+: *$/.test(l.align[h])?l.align[h]="right":/^ *:-+: *$/.test(l.align[h])?l.align[h]="center":/^ *:-+ *$/.test(l.align[h])?l.align[h]="left":l.align[h]=null;for(h=0;h<l.cells.length;h++)l.cells[h]=l.cells[h].split(/ *\| */);this.tokens.push(l)}else if(o=this.rules.lheading.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(o=this.rules.hr.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,e,!0),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(t)){for(t=t.substring(o[0].length),s=o[2],this.tokens.push({type:"list_start",ordered:s.length>1}),o=o[0].match(this.rules.item),i=!1,d=o.length,h=0;d>h;h++)l=o[h],u=l.length,l=l.replace(/^ *([*+-]|\d+\.) +/,""),~l.indexOf("\n ")&&(u-=l.length,
l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+u+"}","gm"),"")),this.options.smartLists&&h!==d-1&&(a=c.bullet.exec(o[h+1])[0],s===a||s.length>1&&a.length>1||(t=o.slice(h+1).join("\n")+t,h=d-1)),r=i||/\n\n(?!\s*$)/.test(l),h!==d-1&&(i="\n"===l.charAt(l.length-1),r||(r=i)),this.tokens.push({type:r?"loose_item_start":"list_item_start"}),this.token(l,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(t))t=t.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:o[0]});else if(!n&&e&&(o=this.rules.def.exec(t)))t=t.substring(o[0].length),this.tokens.links[o[1].toLowerCase()]={href:o[2],title:o[3]};else if(e&&(o=this.rules.table.exec(t))){for(t=t.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")},h=0;h<l.align.length;h++)/^ *-+: *$/.test(l.align[h])?l.align[h]="right":/^ *:-+: *$/.test(l.align[h])?l.align[h]="center":/^ *:-+ *$/.test(l.align[h])?l.align[h]="left":l.align[h]=null;for(h=0;h<l.cells.length;h++)l.cells[h]=l.cells[h].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(l)}else if(e&&(o=this.rules.paragraph.exec(t)))t=t.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return this.tokens};var h={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:a,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:a,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};h._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,h._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,h.link=s(h.link)("inside",h._inside)("href",h._href)(),h.reflink=s(h.reflink)("inside",h._inside)(),h.normal=l({},h),h.pedantic=l({},h.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),h.gfm=l({},h.normal,{escape:s(h.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:s(h.text)("]|","~]|")("|","|https?://|")()}),h.breaks=l({},h.gfm,{br:s(h.br)("{2,}","*")(),text:s(h.gfm.text)("{2,}","*")()}),e.rules=h,e.output=function(t,n,i){var r=new e(n,i);return r.output(t)},e.prototype.output=function(t){for(var e,n,i,o,s="";t;)if(o=this.rules.escape.exec(t))t=t.substring(o[0].length),s+=o[1];else if(o=this.rules.autolink.exec(t))t=t.substring(o[0].length),"@"===o[2]?(n=":"===o[1].charAt(6)?this.mangle(o[1].substring(7)):this.mangle(o[1]),i=this.mangle("mailto:")+n):(n=r(o[1]),i=n),s+=this.renderer.link(i,null,n);else if(this.inLink||!(o=this.rules.url.exec(t))){if(o=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(o[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(o[0])&&(this.inLink=!1),t=t.substring(o[0].length),s+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):r(o[0]):o[0];else if(o=this.rules.link.exec(t))t=t.substring(o[0].length),this.inLink=!0,s+=this.outputLink(o,{href:o[2],title:o[3]}),this.inLink=!1;else if((o=this.rules.reflink.exec(t))||(o=this.rules.nolink.exec(t))){if(t=t.substring(o[0].length),e=(o[2]||o[1]).replace(/\s+/g," "),e=this.links[e.toLowerCase()],!e||!e.href){s+=o[0].charAt(0),t=o[0].substring(1)+t;continue}this.inLink=!0,s+=this.outputLink(o,e),this.inLink=!1}else if(o=this.rules.strong.exec(t))t=t.substring(o[0].length),s+=this.renderer.strong(this.output(o[2]||o[1]));else if(o=this.rules.em.exec(t))t=t.substring(o[0].length),s+=this.renderer.em(this.output(o[2]||o[1]));else if(o=this.rules.code.exec(t))t=t.substring(o[0].length),s+=this.renderer.codespan(r(o[2],!0));else if(o=this.rules.br.exec(t))t=t.substring(o[0].length),s+=this.renderer.br();else if(o=this.rules.del.exec(t))t=t.substring(o[0].length),s+=this.renderer.del(this.output(o[1]));else if(o=this.rules.text.exec(t))t=t.substring(o[0].length),s+=this.renderer.text(r(this.smartypants(o[0])));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}else t=t.substring(o[0].length),n=r(o[1]),i=n,s+=this.renderer.link(i,null,n);return s},e.prototype.outputLink=function(t,e){var n=r(e.href),i=e.title?r(e.title):null;return"!"!==t[0].charAt(0)?this.renderer.link(n,i,this.output(t[1])):this.renderer.image(n,i,r(t[1]))},e.prototype.smartypants=function(t){return this.options.smartypants?t.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,""):t},e.prototype.mangle=function(t){if(!this.options.mangle)return t;for(var e,n="",i=t.length,r=0;i>r;r++)e=t.charCodeAt(r),Math.random()>.5&&(e="x"+e.toString(16)),n+="&#"+e+";";return n},n.prototype.code=function(t,e,n){if(this.options.highlight){var i=this.options.highlight(t,e);null!=i&&i!==t&&(n=!0,t=i)}return e?'<pre><code class="'+this.options.langPrefix+r(e,!0)+'">'+(n?t:r(t,!0))+"\n</code></pre>\n":"<pre><code>"+(n?t:r(t,!0))+"\n</code></pre>"},n.prototype.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},n.prototype.html=function(t){return t},n.prototype.heading=function(t,e,n){return"<h"+e+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+t+"</h"+e+">\n"},n.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},n.prototype.list=function(t,e){var n=e?"ol":"ul";return"<"+n+">\n"+t+"</"+n+">\n"},n.prototype.listitem=function(t){return"<li>"+t+"</li>\n"},n.prototype.paragraph=function(t){return"<p>"+t+"</p>\n"},n.prototype.table=function(t,e){return"<table>\n<thead>\n"+t+"</thead>\n<tbody>\n"+e+"</tbody>\n</table>\n"},n.prototype.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},n.prototype.tablecell=function(t,e){var n=e.header?"th":"td",i=e.align?"<"+n+' style="text-align:'+e.align+'">':"<"+n+">";return i+t+"</"+n+">\n"},n.prototype.strong=function(t){return"<strong>"+t+"</strong>"},n.prototype.em=function(t){return"<em>"+t+"</em>"},n.prototype.codespan=function(t){return"<code>"+t+"</code>"},n.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},n.prototype.del=function(t){return"<del>"+t+"</del>"},n.prototype.link=function(t,e,n){if(this.options.sanitize){try{var i=decodeURIComponent(o(t)).replace(/[^\w:]/g,"").toLowerCase()}catch(r){return""}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:"))return""}var s='<a href="'+t+'"';return e&&(s+=' title="'+e+'"'),s+=">"+n+"</a>"},n.prototype.image=function(t,e,n){var i='<img src="'+t+'" alt="'+n+'"';return e&&(i+=' title="'+e+'"'),i+=this.options.xhtml?"/>":">"},n.prototype.text=function(t){return t},i.parse=function(t,e,n){var r=new i(e,n);return r.parse(t)},i.prototype.parse=function(t){this.inline=new e(t.links,this.options,this.renderer),this.tokens=t.reverse();for(var n="";this.next();)n+=this.tok();return n},i.prototype.next=function(){return this.token=this.tokens.pop()},i.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},i.prototype.parseText=function(){for(var t=this.token.text;"text"===this.peek().type;)t+="\n"+this.next().text;return this.inline.output(t)},i.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var t,e,n,i,r,o="",s="";for(n="",t=0;t<this.token.header.length;t++)i={header:!0,align:this.token.align[t]},n+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(o+=this.renderer.tablerow(n),t=0;t<this.token.cells.length;t++){for(e=this.token.cells[t],n="",r=0;r<e.length;r++)n+=this.renderer.tablecell(this.inline.output(e[r]),{header:!1,align:this.token.align[r]});s+=this.renderer.tablerow(n)}return this.renderer.table(o,s);case"blockquote_start":for(var s="";"blockquote_end"!==this.next().type;)s+=this.tok();return this.renderer.blockquote(s);case"list_start":for(var s="",a=this.token.ordered;"list_end"!==this.next().type;)s+=this.tok();return this.renderer.list(s,a);case"list_item_start":for(var s="";"list_item_end"!==this.next().type;)s+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(s);case"loose_item_start":for(var s="";"list_item_end"!==this.next().type;)s+=this.tok();return this.renderer.listitem(s);case"html":var l=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(l);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},a.exec=a,u.options=u.setOptions=function(t){return l(u.defaults,t),u},u.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new n,xhtml:!1},u.Parser=i,u.parser=i.parse,u.Renderer=n,u.Lexer=t,u.lexer=t.lex,u.InlineLexer=e,u.inlineLexer=e.output,u.parse=u,"undefined"!=typeof module&&"object"==typeof exports?module.exports=u:"function"==typeof define&&define.amd?define(function(){return u}):this.marked=u}.call(function(){return this||("undefined"!=typeof window?window:global)}()),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.angularMarked=t()}}(function(){return function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return r(n?n:t)},c,c.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){"use strict";e.exports="hc.marked",angular.module("hc.marked",[]).provider("marked",function(){var e=this;e.setRenderer=function(t){this.renderer=t},e.setOptions=function(t){this.defaults=t},e.$get=["$log","$window",function(n,i){var r;try{r=t("marked")}catch(o){r=i.marked||marked}if(angular.isUndefined(r))return void n.error("angular-marked Error: marked not loaded.  See installation instructions.");if(e.renderer){for(var s=new r.Renderer,a=Object.keys(e.renderer),l=a.length;l--;)s[a[l]]=e.renderer[a[l]];e.defaults=e.defaults||{},e.defaults.renderer=s}return r.setOptions(e.defaults),r}]}).directive("marked",["marked","$templateRequest",function(t,e){return{restrict:"AE",replace:!0,scope:{opts:"=",marked:"=",src:"="},link:function(n,i,r){function o(t){if(!t)return t;for(var e,n,i=t.replace(/\t/g,"  ").split(/\r?\n/),r=null,o=i.length,s=0;o>s;s++)n=i[s],e=n.match(/^(\s*)/)[0].length,e!==n.length&&(r=r>e||null===r?e:r);if(null!==r&&r>0)for(s=0;o>s;s++)i[s]=i[s].substr(r);return i.join("\n")}function s(e){e=o(e||""),i.html(t(e,n.opts||null))}s(n.marked||i.text()||""),r.marked&&n.$watch("marked",s),r.src&&n.$watch("src",function(t){e(t,!0).then(function(t){s(t)})})}}}])},{marked:"marked"}]},{},[1])(1)}),function(){function t(t,e){for(var n=0;n<e.length;n+=1)if(e[n]===t)return!0;return!1}function e(t){return t.replace(/^\s+|\s+$/g,"")}function n(t){return t.replace(/^\s+/g,"")}function i(t,e){"use strict";var n=new r(t,e);return n.beautify()}function r(i,r){"use strict";function o(t,e){var n=0;t&&(n=t.indentation_level,!V.just_added_newline()&&t.line_indent_level>n&&(n=t.line_indent_level));var i={mode:e,parent:t,last_text:t?t.last_text:"",last_word:t?t.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,line_indent_level:t?t.line_indent_level:n,start_line_index:V.get_line_number(),ternary_depth:0};return i}function c(t){var e=t.newlines,n=et.keep_array_indentation&&b(G.mode);if(n)for(i=0;e>i;i+=1)f(i>0);else if(et.max_preserve_newlines&&e>et.max_preserve_newlines&&(e=et.max_preserve_newlines),et.preserve_newlines&&t.newlines>1){f();for(var i=1;e>i;i+=1)f(!0)}Y=t,tt[Y.type]()}function h(t){t=t.replace(l.allLineBreaks,"\n");for(var e=[],n=t.indexOf("\n");-1!==n;)e.push(t.substring(0,n)),t=t.substring(n+1),n=t.indexOf("\n");return t.length&&e.push(t),e}function d(e){if(e=void 0===e?!1:e,!V.just_added_newline())if(et.preserve_newlines&&Y.wanted_newline||e)f(!1,!0);else if(et.wrap_line_length){if("TK_RESERVED"===q&&t(G.last_text,ot))return;var n=V.current_line.get_character_count()+Y.text.length+(V.space_before_token?1:0);n>=et.wrap_line_length&&f(!1,!0)}}function f(t,e){if(!e&&";"!==G.last_text&&","!==G.last_text&&"="!==G.last_text&&"TK_OPERATOR"!==q)for(;G.mode===u.Statement&&!G.if_block&&!G.do_block;)x();V.add_new_line(t)&&(G.multiline_frame=!0)}function p(){V.just_added_newline()&&(et.keep_array_indentation&&b(G.mode)&&Y.wanted_newline?(V.current_line.push(Y.whitespace_before),V.space_before_token=!1):V.set_indent(G.indentation_level)&&(G.line_indent_level=G.indentation_level))}function g(t){if(V.raw)return void V.add_raw_token(Y);if(et.comma_first&&"TK_COMMA"===q&&V.just_added_newline()&&","===V.previous_line.last()){var e=V.previous_line.pop();V.previous_line.is_empty()&&(V.previous_line.push(e),V.trim(!0),V.current_line.pop(),V.trim()),p(),V.add_token(","),V.space_before_token=!0}t=t||Y.text,p(),V.add_token(t)}function m(){G.indentation_level+=1}function v(){G.indentation_level>0&&(!G.parent||G.indentation_level>G.parent.indentation_level)&&(G.indentation_level-=1)}function y(t){G?(Z.push(G),J=G):J=o(null,t),G=o(J,t)}function b(t){return t===u.ArrayLiteral}function w(e){return t(e,[u.Expression,u.ForInitializer,u.Conditional])}function x(){Z.length>0&&(J=G,G=Z.pop(),J.mode===u.Statement&&V.remove_redundant_indentation(J))}function _(){return G.parent.mode===u.ObjectLiteral&&G.mode===u.Statement&&(":"===G.last_text&&0===G.ternary_depth||"TK_RESERVED"===q&&t(G.last_text,["get","set"]))}function $(){return"TK_RESERVED"===q&&t(G.last_text,["var","let","const"])&&"TK_WORD"===Y.type||"TK_RESERVED"===q&&"do"===G.last_text||"TK_RESERVED"===q&&t(G.last_text,["return","throw"])&&!Y.wanted_newline||"TK_RESERVED"===q&&"else"===G.last_text&&("TK_RESERVED"!==Y.type||"if"!==Y.text)||"TK_END_EXPR"===q&&(J.mode===u.ForInitializer||J.mode===u.Conditional)||"TK_WORD"===q&&G.mode===u.BlockStatement&&!G.in_case&&"--"!==Y.text&&"++"!==Y.text&&"function"!==K&&"TK_WORD"!==Y.type&&"TK_RESERVED"!==Y.type||G.mode===u.ObjectLiteral&&(":"===G.last_text&&0===G.ternary_depth||"TK_RESERVED"===q&&t(G.last_text,["get","set"]))?(y(u.Statement),m(),"TK_RESERVED"===q&&t(G.last_text,["var","let","const"])&&"TK_WORD"===Y.type&&(G.declaration_statement=!0),_()||d("TK_RESERVED"===Y.type&&t(Y.text,["do","for","if","while"])),!0):!1}function C(t,n){for(var i=0;i<t.length;i++){var r=e(t[i]);if(r.charAt(0)!==n)return!1}return!0}function A(t,e){for(var n,i=0,r=t.length;r>i;i++)if(n=t[i],n&&0!==n.indexOf(e))return!1;return!0}function E(e){return t(e,["case","return","do","if","throw","else"])}function S(t){var e=H+(t||0);return 0>e||e>=nt.length?null:nt[e]}function k(){$();var e=u.Expression;if("["===Y.text){if("TK_WORD"===q||")"===G.last_text)return"TK_RESERVED"===q&&t(G.last_text,W.line_starters)&&(V.space_before_token=!0),y(e),g(),m(),void(et.space_in_paren&&(V.space_before_token=!0));e=u.ArrayLiteral,b(G.mode)&&("["===G.last_text||","===G.last_text&&("]"===K||"}"===K))&&(et.keep_array_indentation||f())}else"TK_RESERVED"===q&&"for"===G.last_text?e=u.ForInitializer:"TK_RESERVED"===q&&t(G.last_text,["if","while"])&&(e=u.Conditional);";"===G.last_text||"TK_START_BLOCK"===q?f():"TK_END_EXPR"===q||"TK_START_EXPR"===q||"TK_END_BLOCK"===q||"."===G.last_text?d(Y.wanted_newline):"TK_RESERVED"===q&&"("===Y.text||"TK_WORD"===q||"TK_OPERATOR"===q?"TK_RESERVED"===q&&("function"===G.last_word||"typeof"===G.last_word)||"*"===G.last_text&&"function"===K?et.space_after_anon_function&&(V.space_before_token=!0):"TK_RESERVED"!==q||!t(G.last_text,W.line_starters)&&"catch"!==G.last_text||et.space_before_conditional&&(V.space_before_token=!0):V.space_before_token=!0,"("===Y.text&&"TK_RESERVED"===q&&"await"===G.last_word&&(V.space_before_token=!0),"("===Y.text&&("TK_EQUALS"===q||"TK_OPERATOR"===q)&&(_()||d()),"("===Y.text&&"TK_WORD"!==q&&"TK_RESERVED"!==q&&d(),y(e),g(),et.space_in_paren&&(V.space_before_token=!0),m()}function D(){for(;G.mode===u.Statement;)x();G.multiline_frame&&d("]"===Y.text&&b(G.mode)&&!et.keep_array_indentation),et.space_in_paren&&("TK_START_EXPR"!==q||et.space_in_empty_paren?V.space_before_token=!0:(V.trim(),V.space_before_token=!1)),"]"===Y.text&&et.keep_array_indentation?(g(),x()):(x(),g()),V.remove_redundant_indentation(J),G.do_while&&J.mode===u.Conditional&&(J.mode=u.Expression,G.do_block=!1,G.do_while=!1)}function T(){var e=S(1),n=S(2);y(n&&(t(n.text,[":",","])&&t(e.type,["TK_STRING","TK_WORD","TK_RESERVED"])||t(e.text,["get","set"])&&t(n.type,["TK_WORD","TK_RESERVED"]))?t(K,["class","interface"])?u.BlockStatement:u.ObjectLiteral:"TK_OPERATOR"===q&&"=>"===G.last_text?u.BlockStatement:t(q,["TK_EQUALS","TK_START_EXPR","TK_COMMA","TK_OPERATOR"])||"TK_RESERVED"===q&&t(G.last_text,["return","throw","import"])?u.ObjectLiteral:u.BlockStatement);var i=!e.comments_before.length&&"}"===e.text,r=i&&"function"===G.last_word&&"TK_END_EXPR"===q;if("expand"===et.brace_style||"none"===et.brace_style&&Y.wanted_newline)"TK_OPERATOR"!==q&&(r||"TK_EQUALS"===q||"TK_RESERVED"===q&&E(G.last_text)&&"else"!==G.last_text)?V.space_before_token=!0:f(!1,!0);else{if("collapse-preserve-inline"===et.brace_style){var o=0,s=null;G.inline_frame=!0;do if(o+=1,s=S(o),s.wanted_newline){G.inline_frame=!1;break}while("TK_EOF"!==s.type&&("TK_END_BLOCK"!==s.type||s.opened!==Y))}!b(J.mode)||"TK_START_EXPR"!==q&&"TK_COMMA"!==q?"TK_OPERATOR"!==q&&"TK_START_EXPR"!==q&&("TK_START_BLOCK"===q?f():V.space_before_token=!0):G.inline_frame?(d(),G.inline_frame=!0,J.multiline_frame=J.multiline_frame||G.multiline_frame,G.multiline_frame=!1):"TK_COMMA"===q&&(V.space_before_token=!0)}g(),m()}function F(){for(;G.mode===u.Statement;)x();var t="TK_START_BLOCK"===q;"expand"===et.brace_style?t||f():t||(G.inline_frame?V.space_before_token=!0:b(G.mode)&&et.keep_array_indentation?(et.keep_array_indentation=!1,f(),et.keep_array_indentation=!0):f()),x(),g()}function M(){if("TK_RESERVED"===Y.type)if(t(Y.text,["set","get"])&&G.mode!==u.ObjectLiteral)Y.type="TK_WORD";else if(t(Y.text,["as","from"])&&!G.import_block)Y.type="TK_WORD";else if(G.mode===u.ObjectLiteral){var e=S(1);":"==e.text&&(Y.type="TK_WORD")}if($()||!Y.wanted_newline||w(G.mode)||"TK_OPERATOR"===q&&"--"!==G.last_text&&"++"!==G.last_text||"TK_EQUALS"===q||!et.preserve_newlines&&"TK_RESERVED"===q&&t(G.last_text,["var","let","const","set","get"])||f(),G.do_block&&!G.do_while){if("TK_RESERVED"===Y.type&&"while"===Y.text)return V.space_before_token=!0,g(),V.space_before_token=!0,void(G.do_while=!0);f(),G.do_block=!1}if(G.if_block)if(G.else_block||"TK_RESERVED"!==Y.type||"else"!==Y.text){for(;G.mode===u.Statement;)x();G.if_block=!1,G.else_block=!1}else G.else_block=!0;if("TK_RESERVED"===Y.type&&("case"===Y.text||"default"===Y.text&&G.in_case_statement))return f(),(G.case_body||et.jslint_happy)&&(v(),G.case_body=!1),g(),G.in_case=!0,void(G.in_case_statement=!0);if("TK_RESERVED"===Y.type&&"function"===Y.text&&((t(G.last_text,["}",";"])||V.just_added_newline()&&!t(G.last_text,["[","{",":","=",","]))&&(V.just_added_blankline()||Y.comments_before.length||(f(),f(!0))),"TK_RESERVED"===q||"TK_WORD"===q?"TK_RESERVED"===q&&t(G.last_text,["get","set","new","return","export","async"])?V.space_before_token=!0:"TK_RESERVED"===q&&"default"===G.last_text&&"export"===K?V.space_before_token=!0:f():"TK_OPERATOR"===q||"="===G.last_text?V.space_before_token=!0:(G.multiline_frame||!w(G.mode)&&!b(G.mode))&&f()),("TK_COMMA"===q||"TK_START_EXPR"===q||"TK_EQUALS"===q||"TK_OPERATOR"===q)&&(_()||d()),"TK_RESERVED"===Y.type&&t(Y.text,["function","get","set"]))return g(),void(G.last_word=Y.text);if(Q="NONE","TK_END_BLOCK"===q?"TK_RESERVED"===Y.type&&t(Y.text,["else","catch","finally","from"])?"expand"===et.brace_style||"end-expand"===et.brace_style||"none"===et.brace_style&&Y.wanted_newline?Q="NEWLINE":(Q="SPACE",V.space_before_token=!0):Q="NEWLINE":"TK_SEMICOLON"===q&&G.mode===u.BlockStatement?Q="NEWLINE":"TK_SEMICOLON"===q&&w(G.mode)?Q="SPACE":"TK_STRING"===q?Q="NEWLINE":"TK_RESERVED"===q||"TK_WORD"===q||"*"===G.last_text&&"function"===K?Q="SPACE":"TK_START_BLOCK"===q?Q=G.inline_frame?"SPACE":"NEWLINE":"TK_END_EXPR"===q&&(V.space_before_token=!0,Q="NEWLINE"),"TK_RESERVED"===Y.type&&t(Y.text,W.line_starters)&&")"!==G.last_text&&(Q="else"===G.last_text||"export"===G.last_text?"SPACE":"NEWLINE"),"TK_RESERVED"===Y.type&&t(Y.text,["else","catch","finally"]))if("TK_END_BLOCK"!==q||J.mode!==u.BlockStatement||"expand"===et.brace_style||"end-expand"===et.brace_style||"none"===et.brace_style&&Y.wanted_newline)f();else{V.trim(!0);var n=V.current_line;"}"!==n.last()&&f(),V.space_before_token=!0}else"NEWLINE"===Q?"TK_RESERVED"===q&&E(G.last_text)?V.space_before_token=!0:"TK_END_EXPR"!==q?"TK_START_EXPR"===q&&"TK_RESERVED"===Y.type&&t(Y.text,["var","let","const"])||":"===G.last_text||("TK_RESERVED"===Y.type&&"if"===Y.text&&"else"===G.last_text?V.space_before_token=!0:f()):"TK_RESERVED"===Y.type&&t(Y.text,W.line_starters)&&")"!==G.last_text&&f():G.multiline_frame&&b(G.mode)&&","===G.last_text&&"}"===K?f():"SPACE"===Q&&(V.space_before_token=!0);g(),G.last_word=Y.text,"TK_RESERVED"===Y.type&&("do"===Y.text?G.do_block=!0:"if"===Y.text?G.if_block=!0:"import"===Y.text?G.import_block=!0:G.import_block&&"TK_RESERVED"===Y.type&&"from"===Y.text&&(G.import_block=!1))}function L(){for($()&&(V.space_before_token=!1);G.mode===u.Statement&&!G.if_block&&!G.do_block;)x();G.import_block&&(G.import_block=!1),g()}function O(){$()?V.space_before_token=!0:"TK_RESERVED"===q||"TK_WORD"===q||G.inline_frame?V.space_before_token=!0:"TK_COMMA"===q||"TK_START_EXPR"===q||"TK_EQUALS"===q||"TK_OPERATOR"===q?_()||d():f(),g()}function P(){$(),G.declaration_statement&&(G.declaration_assignment=!0),V.space_before_token=!0,g(),V.space_before_token=!0}function B(){g(),V.space_before_token=!0,G.declaration_statement?(w(G.parent.mode)&&(G.declaration_assignment=!1),G.declaration_assignment?(G.declaration_assignment=!1,f(!1,!0)):et.comma_first&&d()):G.mode===u.ObjectLiteral||G.mode===u.Statement&&G.parent.mode===u.ObjectLiteral?(G.mode===u.Statement&&x(),G.inline_frame||f()):et.comma_first&&d()}function I(){if($(),"TK_RESERVED"===q&&E(G.last_text))return V.space_before_token=!0,void g();if("*"===Y.text&&"TK_DOT"===q)return void g();if(":"===Y.text&&G.in_case)return G.case_body=!0,m(),g(),f(),void(G.in_case=!1);if("::"===Y.text)return void g();"TK_OPERATOR"===q&&d();var e=!0,n=!0;t(Y.text,["--","++","!","~"])||t(Y.text,["-","+"])&&(t(q,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||t(G.last_text,W.line_starters)||","===G.last_text)?(e=!1,n=!1,!Y.wanted_newline||"--"!==Y.text&&"++"!==Y.text||f(!1,!0),";"===G.last_text&&w(G.mode)&&(e=!0),"TK_RESERVED"===q?e=!0:"TK_END_EXPR"===q?e=!("]"===G.last_text&&("--"===Y.text||"++"===Y.text)):"TK_OPERATOR"===q&&(e=t(Y.text,["--","-","++","+"])&&t(G.last_text,["--","-","++","+"]),t(Y.text,["+","-"])&&t(G.last_text,["--","++"])&&(n=!0)),(G.mode!==u.BlockStatement||G.inline_frame)&&G.mode!==u.Statement||"{"!==G.last_text&&";"!==G.last_text||f()):":"===Y.text?0===G.ternary_depth?e=!1:G.ternary_depth-=1:"?"===Y.text?G.ternary_depth+=1:"*"===Y.text&&"TK_RESERVED"===q&&"function"===G.last_text&&(e=!1,n=!1),V.space_before_token=V.space_before_token||e,g(),V.space_before_token=n}function R(){if(V.raw)return V.add_raw_token(Y),void(Y.directives&&"end"===Y.directives.preserve&&(et.test_output_raw||(V.raw=!1)));if(Y.directives)return f(!1,!0),g(),"start"===Y.directives.preserve&&(V.raw=!0),void f(!1,!0);if(!l.newline.test(Y.text)&&!Y.wanted_newline)return V.space_before_token=!0,g(),void(V.space_before_token=!0);var t,e=h(Y.text),i=!1,r=!1,o=Y.whitespace_before,s=o.length;for(f(!1,!0),e.length>1&&(C(e.slice(1),"*")?i=!0:A(e.slice(1),o)&&(r=!0)),g(e[0]),t=1;t<e.length;t++)f(!1,!0),i?g(" "+n(e[t])):r&&e[t].length>s?g(e[t].substring(s)):V.add_token(e[t]);f(!1,!0)}function j(){Y.wanted_newline?f(!1,!0):V.trim(!0),V.space_before_token=!0,g(),f(!1,!0)}function N(){$(),"TK_RESERVED"===q&&E(G.last_text)?V.space_before_token=!0:d(")"===G.last_text&&et.break_chained_methods),g()}function z(){g(),"\n"===Y.text[Y.text.length-1]&&f()}function U(){for(;G.mode===u.Statement;)x()}var V,H,W,Y,q,K,X,G,J,Z,Q,tt,et,nt=[],it="";for(tt={TK_START_EXPR:k,TK_END_EXPR:D,TK_START_BLOCK:T,TK_END_BLOCK:F,TK_WORD:M,TK_RESERVED:M,TK_SEMICOLON:L,TK_STRING:O,TK_EQUALS:P,TK_OPERATOR:I,TK_COMMA:B,TK_BLOCK_COMMENT:R,TK_COMMENT:j,TK_DOT:N,TK_UNKNOWN:z,TK_EOF:U},r=r?r:{},et={},void 0!==r.braces_on_own_line&&(et.brace_style=r.braces_on_own_line?"expand":"collapse"),et.brace_style=r.brace_style?r.brace_style:et.brace_style?et.brace_style:"collapse","expand-strict"===et.brace_style&&(et.brace_style="expand"),et.indent_size=r.indent_size?parseInt(r.indent_size,10):4,et.indent_char=r.indent_char?r.indent_char:" ",et.eol=r.eol?r.eol:"auto",et.preserve_newlines=void 0===r.preserve_newlines?!0:r.preserve_newlines,et.break_chained_methods=void 0===r.break_chained_methods?!1:r.break_chained_methods,et.max_preserve_newlines=void 0===r.max_preserve_newlines?0:parseInt(r.max_preserve_newlines,10),et.space_in_paren=void 0===r.space_in_paren?!1:r.space_in_paren,et.space_in_empty_paren=void 0===r.space_in_empty_paren?!1:r.space_in_empty_paren,et.jslint_happy=void 0===r.jslint_happy?!1:r.jslint_happy,et.space_after_anon_function=void 0===r.space_after_anon_function?!1:r.space_after_anon_function,et.keep_array_indentation=void 0===r.keep_array_indentation?!1:r.keep_array_indentation,et.space_before_conditional=void 0===r.space_before_conditional?!0:r.space_before_conditional,et.unescape_strings=void 0===r.unescape_strings?!1:r.unescape_strings,et.wrap_line_length=void 0===r.wrap_line_length?0:parseInt(r.wrap_line_length,10),et.e4x=void 0===r.e4x?!1:r.e4x,et.end_with_newline=void 0===r.end_with_newline?!1:r.end_with_newline,et.comma_first=void 0===r.comma_first?!1:r.comma_first,et.test_output_raw=void 0===r.test_output_raw?!1:r.test_output_raw,et.jslint_happy&&(et.space_after_anon_function=!0),r.indent_with_tabs&&(et.indent_char="	",et.indent_size=1),"auto"===et.eol&&(et.eol="\n",i&&l.lineBreak.test(i||"")&&(et.eol=i.match(l.lineBreak)[0])),et.eol=et.eol.replace(/\\r/,"\r").replace(/\\n/,"\n"),X="";et.indent_size>0;)X+=et.indent_char,et.indent_size-=1;var rt=0;if(i&&i.length){for(;" "===i.charAt(rt)||"	"===i.charAt(rt);)it+=i.charAt(rt),rt+=1;i=i.substring(rt)}q="TK_START_BLOCK",K="",V=new s(X,it),V.raw=et.test_output_raw,Z=[],y(u.BlockStatement),this.beautify=function(){var t,e;for(W=new a(i,et,X),nt=W.tokenize(),H=0;t=S();){for(var n=0;n<t.comments_before.length;n++)c(t.comments_before[n]);c(t),K=G.last_text,q=t.type,G.last_text=t.text,H+=1}return e=V.get_code(),et.end_with_newline&&(e+="\n"),"\n"!=et.eol&&(e=e.replace(/[\n]/g,et.eol)),e};var ot=["break","contiue","return","throw"]}function o(t){var e=0,n=-1,i=[],r=!0;this.set_indent=function(i){e=t.baseIndentLength+i*t.indent_length,n=i},this.get_character_count=function(){return e},this.is_empty=function(){return r},this.last=function(){return this._empty?null:i[i.length-1]},this.push=function(t){i.push(t),e+=t.length,r=!1},this.pop=function(){var t=null;return r||(t=i.pop(),e-=t.length,r=0===i.length),t},this.remove_indent=function(){n>0&&(n-=1,e-=t.indent_length)},this.trim=function(){for(;" "===this.last();){i.pop();e-=1}r=0===i.length},this.toString=function(){var e="";return this._empty||(n>=0&&(e=t.indent_cache[n]),e+=i.join("")),e}}function s(t,e){e=e||"",this.indent_cache=[e],this.baseIndentLength=e.length,this.indent_length=t.length,this.raw=!1;var n=[];this.baseIndentString=e,this.indent_string=t,this.previous_line=null,this.current_line=null,this.space_before_token=!1,this.add_outputline=function(){this.previous_line=this.current_line,this.current_line=new o(this),n.push(this.current_line)},this.add_outputline(),this.get_line_number=function(){return n.length},this.add_new_line=function(t){return 1===this.get_line_number()&&this.just_added_newline()?!1:t||!this.just_added_newline()?(this.raw||this.add_outputline(),!0):!1},this.get_code=function(){var t=n.join("\n").replace(/[\r\n\t ]+$/,"");return t},this.set_indent=function(t){if(n.length>1){for(;t>=this.indent_cache.length;)this.indent_cache.push(this.indent_cache[this.indent_cache.length-1]+this.indent_string);return this.current_line.set_indent(t),!0}return this.current_line.set_indent(0),!1},this.add_raw_token=function(t){for(var e=0;e<t.newlines;e++)this.add_outputline();this.current_line.push(t.whitespace_before),this.current_line.push(t.text),this.space_before_token=!1},this.add_token=function(t){this.add_space_before_token(),this.current_line.push(t)},this.add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&this.current_line.push(" "),this.space_before_token=!1},this.remove_redundant_indentation=function(t){if(!t.multiline_frame&&t.mode!==u.ForInitializer&&t.mode!==u.Conditional)for(var e=t.start_line_index,i=n.length;i>e;)n[e].remove_indent(),e++},this.trim=function(i){for(i=void 0===i?!1:i,this.current_line.trim(t,e);i&&n.length>1&&this.current_line.is_empty();)n.pop(),this.current_line=n[n.length-1],this.current_line.trim();this.previous_line=n.length>1?n[n.length-2]:null},this.just_added_newline=function(){return this.current_line.is_empty()},this.just_added_blankline=function(){if(this.just_added_newline()){if(1===n.length)return!0;var t=n[n.length-2];return t.is_empty()}return!1}}function a(n,i,r){function o(t){if(!t.match(A))return null;var e={};E.lastIndex=0;for(var n=E.exec(t);n;)e[n[1]]=n[2],n=E.exec(t);return e}function s(){var r,s=[];if(m=0,v="",w>=x)return["","TK_EOF"];var A;A=b.length?b[b.length-1]:new c("TK_START_BLOCK","{");var E=n.charAt(w);for(w+=1;t(E,u);){if(l.newline.test(E)?("\n"!==E||"\r"!==n.charAt(w-2))&&(m+=1,s=[]):s.push(E),w>=x)return["","TK_EOF"];E=n.charAt(w),w+=1}if(s.length&&(v=s.join("")),h.test(E)||"."===E&&h.test(n.charAt(w))){var D=!0,T=!0,F=h;for("0"===E&&x>w&&/[XxOoBb]/.test(n.charAt(w))?(D=!1,T=!1,F=/[Bb]/.test(n.charAt(w))?d:/[Oo]/.test(n.charAt(w))?f:p,E+=n.charAt(w),w+=1):"."===E?D=!1:(E="",w-=1);x>w&&F.test(n.charAt(w));)E+=n.charAt(w),w+=1,D&&x>w&&"."===n.charAt(w)?(E+=n.charAt(w),w+=1,D=!1):T&&x>w&&/[Ee]/.test(n.charAt(w))&&(E+=n.charAt(w),w+=1,x>w&&/[+-]/.test(n.charAt(w))&&(E+=n.charAt(w),w+=1),T=!1,D=!1);return[E,"TK_WORD"]}if(l.isIdentifierStart(n.charCodeAt(w-1))){if(x>w)for(;l.isIdentifierChar(n.charCodeAt(w))&&(E+=n.charAt(w),w+=1,w!==x););return"TK_DOT"===A.type||"TK_RESERVED"===A.type&&t(A.text,["set","get"])||!t(E,_)?[E,"TK_WORD"]:"in"===E?[E,"TK_OPERATOR"]:[E,"TK_RESERVED"]}if("("===E||"["===E)return[E,"TK_START_EXPR"];if(")"===E||"]"===E)return[E,"TK_END_EXPR"];if("{"===E)return[E,"TK_START_BLOCK"];if("}"===E)return[E,"TK_END_BLOCK"];
if(";"===E)return[E,"TK_SEMICOLON"];if("/"===E){var M="";if("*"===n.charAt(w)){w+=1,$.lastIndex=w;var L=$.exec(n);M="/*"+L[0],w+=L[0].length;var O=o(M);return O&&"start"===O.ignore&&(S.lastIndex=w,L=S.exec(n),M+=L[0],w+=L[0].length),M=M.replace(l.allLineBreaks,"\n"),[M,"TK_BLOCK_COMMENT",O]}if("/"===n.charAt(w)){w+=1,C.lastIndex=w;var L=C.exec(n);return M="//"+L[0],w+=L[0].length,[M,"TK_COMMENT"]}}var P=/^<([-a-zA-Z:0-9_.]+|{.+?}|!\[CDATA\[[\s\S]*?\]\])(\s+{.+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.+?}))*\s*(\/?)\s*>/;if("`"===E||"'"===E||'"'===E||("/"===E||i.e4x&&"<"===E&&n.slice(w-1).match(P))&&("TK_RESERVED"===A.type&&t(A.text,["return","case","throw","else","do","typeof","yield"])||"TK_END_EXPR"===A.type&&")"===A.text&&A.parent&&"TK_RESERVED"===A.parent.type&&t(A.parent.text,["if","while","for"])||t(A.type,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var B=E,I=!1,R=!1;if(r=E,"/"===B)for(var j=!1;x>w&&(I||j||n.charAt(w)!==B)&&!l.newline.test(n.charAt(w));)r+=n.charAt(w),I?I=!1:(I="\\"===n.charAt(w),"["===n.charAt(w)?j=!0:"]"===n.charAt(w)&&(j=!1)),w+=1;else if(i.e4x&&"<"===B){var N=/<(\/?)([-a-zA-Z:0-9_.]+|{.+?}|!\[CDATA\[[\s\S]*?\]\])(\s+{.+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.+?}))*\s*(\/?)\s*>/g,z=n.slice(w-1),U=N.exec(z);if(U&&0===U.index){for(var V=U[2],H=0;U;){var W=!!U[1],Y=U[2],q=!!U[U.length-1]||"![CDATA["===Y.slice(0,8);if(Y!==V||q||(W?--H:++H),0>=H)break;U=N.exec(z)}var K=U?U.index+U[0].length:z.length;return z=z.slice(0,K),w+=K-1,z=z.replace(l.allLineBreaks,"\n"),[z,"TK_STRING"]}}else{var X=function(t,e,i){for(var o;x>w&&(o=n.charAt(w),I||o!==t&&(e||!l.newline.test(o)));)(I||e)&&l.newline.test(o)?("\r"===o&&"\n"===n.charAt(w+1)&&(w+=1,o=n.charAt(w)),r+="\n"):r+=o,I?(("x"===o||"u"===o)&&(R=!0),I=!1):I="\\"===o,w+=1,i&&-1!==r.indexOf(i,r.length-i.length)&&("`"===t?X("}",e,"`"):X("`",e,"${"))};"`"===B?X("`",!0,"${"):X(B)}if(R&&i.unescape_strings&&(r=a(r)),x>w&&n.charAt(w)===B&&(r+=B,w+=1,"/"===B))for(;x>w&&l.isIdentifierStart(n.charCodeAt(w));)r+=n.charAt(w),w+=1;return[r,"TK_STRING"]}if("#"===E){if(0===b.length&&"!"===n.charAt(w)){for(r=E;x>w&&"\n"!==E;)E=n.charAt(w),r+=E,w+=1;return[e(r)+"\n","TK_UNKNOWN"]}var G="#";if(x>w&&h.test(n.charAt(w))){do E=n.charAt(w),G+=E,w+=1;while(x>w&&"#"!==E&&"="!==E);return"#"===E||("["===n.charAt(w)&&"]"===n.charAt(w+1)?(G+="[]",w+=2):"{"===n.charAt(w)&&"}"===n.charAt(w+1)&&(G+="{}",w+=2)),[G,"TK_WORD"]}}if("<"===E&&("?"===n.charAt(w)||"%"===n.charAt(w))){k.lastIndex=w-1;var J=k.exec(n);if(J)return E=J[0],w+=E.length-1,E=E.replace(l.allLineBreaks,"\n"),[E,"TK_STRING"]}if("<"===E&&"<!--"===n.substring(w-1,w+3)){for(w+=3,E="<!--";!l.newline.test(n.charAt(w))&&x>w;)E+=n.charAt(w),w++;return y=!0,[E,"TK_COMMENT"]}if("-"===E&&y&&"-->"===n.substring(w-1,w+2))return y=!1,w+=2,["-->","TK_COMMENT"];if("."===E)return[E,"TK_DOT"];if(t(E,g)){for(;x>w&&t(E+n.charAt(w),g)&&(E+=n.charAt(w),w+=1,!(w>=x)););return","===E?[E,"TK_COMMA"]:"="===E?[E,"TK_EQUALS"]:[E,"TK_OPERATOR"]}return[E,"TK_UNKNOWN"]}function a(t){for(var e,n=!1,i="",r=0,o="",s=0;n||r<t.length;)if(e=t.charAt(r),r++,n){if(n=!1,"x"===e)o=t.substr(r,2),r+=2;else{if("u"!==e){i+="\\"+e;continue}o=t.substr(r,4),r+=4}if(!o.match(/^[0123456789abcdefABCDEF]+$/))return t;if(s=parseInt(o,16),s>=0&&32>s){i+="x"===e?"\\x"+o:"\\u"+o;continue}if(34===s||39===s||92===s)i+="\\"+String.fromCharCode(s);else{if("x"===e&&s>126&&255>=s)return t;i+=String.fromCharCode(s)}}else"\\"===e?n=!0:i+=e;return i}var u="\n\r	 ".split(""),h=/[0-9]/,d=/[01]/,f=/[01234567]/,p=/[0123456789abcdefABCDEF]/,g="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! ~ , : ? ^ ^= |= :: => **".split(" ");this.line_starters="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(",");var m,v,y,b,w,x,_=this.line_starters.concat(["do","in","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),$=/([\s\S]*?)((?:\*\/)|$)/g,C=/([^\n\r\u2028\u2029]*)/g,A=/\/\* beautify( \w+[:]\w+)+ \*\//g,E=/ (\w+)[:](\w+)/g,S=/([\s\S]*?)((?:\/\*\sbeautify\signore:end\s\*\/)|$)/g,k=/((<\?php|<\?=)[\s\S]*?\?>)|(<%[\s\S]*?%>)/g;this.tokenize=function(){x=n.length,w=0,y=!1,b=[];for(var t,e,i,r=null,o=[],a=[];!e||"TK_EOF"!==e.type;){for(i=s(),t=new c(i[1],i[0],m,v);"TK_COMMENT"===t.type||"TK_BLOCK_COMMENT"===t.type||"TK_UNKNOWN"===t.type;)"TK_BLOCK_COMMENT"===t.type&&(t.directives=i[2]),a.push(t),i=s(),t=new c(i[1],i[0],m,v);a.length&&(t.comments_before=a,a=[]),"TK_START_BLOCK"===t.type||"TK_START_EXPR"===t.type?(t.parent=e,o.push(r),r=t):("TK_END_BLOCK"===t.type||"TK_END_EXPR"===t.type)&&r&&("]"===t.text&&"["===r.text||")"===t.text&&"("===r.text||"}"===t.text&&"{"===r.text)&&(t.parent=r.parent,t.opened=r,r=o.pop()),b.push(t),e=t}return b}}var l={};!function(t){var e="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",n="------------------------------------------------------------------------------------------------------------------------------------------",i=new RegExp("["+e+"]"),r=new RegExp("["+e+n+"]"),o=(t.newline=/[\n\r\u2028\u2029]/,t.lineBreak=/\r\n|[\n\r\u2028\u2029]/);t.allLineBreaks=new RegExp(o.source,"g"),t.isIdentifierStart=function(t){return 65>t?36===t||64===t:91>t?!0:97>t?95===t:123>t?!0:t>=170&&i.test(String.fromCharCode(t))},t.isIdentifierChar=function(t){return 48>t?36===t:58>t?!0:65>t?!1:91>t?!0:97>t?95===t:123>t?!0:t>=170&&r.test(String.fromCharCode(t))}}(l);var u={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"},c=function(t,e,n,i,r,o){this.type=t,this.text=e,this.comments_before=[],this.newlines=n||0,this.wanted_newline=n>0,this.whitespace_before=i||"",this.parent=null,this.opened=null,this.directives=null};"function"==typeof define&&define.amd?define([],function(){return{js_beautify:i}}):"undefined"!=typeof exports?exports.js_beautify=i:"undefined"!=typeof window?window.js_beautify=i:"undefined"!=typeof global&&(global.js_beautify=i)}(),function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return r(n?n:e)},c,c.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){!function(t){"use strict";if(t.URL=t.URL||t.webkitURL,t.Blob&&t.URL)try{return void new Blob}catch(e){}var n=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||function(t){var e=function(t){return Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1]},n=function(){this.data=[]},i=function(t,e,n){this.data=t,this.size=t.length,this.type=e,this.encoding=n},r=n.prototype,o=i.prototype,s=t.FileReaderSync,a=function(t){this.code=this[this.name=t]},l="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),u=l.length,c=t.URL||t.webkitURL||t,h=c.createObjectURL,d=c.revokeObjectURL,f=c,p=t.btoa,g=t.atob,m=t.ArrayBuffer,v=t.Uint8Array,y=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(i.fake=o.fake=!0;u--;)a.prototype[l[u]]=u+1;return c.createObjectURL||(f=t.URL=function(t){var e,n=document.createElementNS("http://www.w3.org/1999/xhtml","a");return n.href=t,"origin"in n||("data:"===n.protocol.toLowerCase()?n.origin=null:(e=t.match(y),n.origin=e&&e[1])),n}),f.createObjectURL=function(t){var e,n=t.type;return null===n&&(n="application/octet-stream"),t instanceof i?(e="data:"+n,"base64"===t.encoding?e+";base64,"+t.data:"URI"===t.encoding?e+","+decodeURIComponent(t.data):p?e+";base64,"+p(t.data):e+","+encodeURIComponent(t.data)):h?h.call(c,t):void 0},f.revokeObjectURL=function(t){"data:"!==t.substring(0,5)&&d&&d.call(c,t)},r.append=function(t){var n=this.data;if(v&&(t instanceof m||t instanceof v)){for(var r="",o=new v(t),l=0,u=o.length;u>l;l++)r+=String.fromCharCode(o[l]);n.push(r)}else if("Blob"===e(t)||"File"===e(t)){if(!s)throw new a("NOT_READABLE_ERR");var c=new s;n.push(c.readAsBinaryString(t))}else t instanceof i?"base64"===t.encoding&&g?n.push(g(t.data)):"URI"===t.encoding?n.push(decodeURIComponent(t.data)):"raw"===t.encoding&&n.push(t.data):("string"!=typeof t&&(t+=""),n.push(unescape(encodeURIComponent(t))))},r.getBlob=function(t){return arguments.length||(t=null),new i(this.data.join(""),t,"raw")},r.toString=function(){return"[object BlobBuilder]"},o.slice=function(t,e,n){var r=arguments.length;return 3>r&&(n=null),new i(this.data.slice(t,r>1?e:this.data.length),n,this.encoding)},o.toString=function(){return"[object Blob]"},o.close=function(){this.size=0,delete this.data},n}(t);t.Blob=function(t,e){var i=e?e.type||"":"",r=new n;if(t)for(var o=0,s=t.length;s>o;o++)Uint8Array&&t[o]instanceof Uint8Array?r.append(t[o].buffer):r.append(t[o]);var a=r.getBlob(i);return!a.slice&&a.webkitSlice&&(a.slice=a.webkitSlice),a};var i=Object.getPrototypeOf||function(t){return t.__proto__};t.Blob.prototype=i(new t.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this)},{}],2:[function(t,e,n){var i=i||function(t){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var e=t.document,n=function(){return t.URL||t.webkitURL||t},i=e.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in i,o=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},s=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),a=t.webkitRequestFileSystem,l=t.requestFileSystem||a||t.mozRequestFileSystem,u=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},c="application/octet-stream",h=0,d=500,f=function(e){var i=function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()};t.chrome?i():setTimeout(i,d)},p=function(t,e,n){e=[].concat(e);for(var i=e.length;i--;){var r=t["on"+e[i]];if("function"==typeof r)try{r.call(t,n||t)}catch(o){u(o)}}},g=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t},m=function(e,u,d){d||(e=g(e));var m,v,y,b=this,w=e.type,x=!1,_=function(){p(b,"writestart progress write writeend".split(" "))},$=function(){if(v&&s&&"undefined"!=typeof FileReader){var i=new FileReader;return i.onloadend=function(){var t=i.result;v.location.href="data:attachment/file"+t.slice(t.search(/[,;]/)),b.readyState=b.DONE,_()},i.readAsDataURL(e),void(b.readyState=b.INIT)}if((x||!m)&&(m=n().createObjectURL(e)),v)v.location.href=m;else{var r=t.open(m,"_blank");void 0==r&&s&&(t.location.href=m)}b.readyState=b.DONE,_(),f(m)},C=function(t){return function(){return b.readyState!==b.DONE?t.apply(this,arguments):void 0}},A={create:!0,exclusive:!1};return b.readyState=b.INIT,u||(u="download"),r?(m=n().createObjectURL(e),void setTimeout(function(){i.href=m,i.download=u,o(i),_(),f(m),b.readyState=b.DONE})):(t.chrome&&w&&w!==c&&(y=e.slice||e.webkitSlice,e=y.call(e,0,e.size,c),x=!0),a&&"download"!==u&&(u+=".download"),(w===c||a)&&(v=t),l?(h+=e.size,void l(t.TEMPORARY,h,C(function(t){t.root.getDirectory("saved",A,C(function(t){var n=function(){t.getFile(u,A,C(function(t){t.createWriter(C(function(n){n.onwriteend=function(e){v.location.href=t.toURL(),b.readyState=b.DONE,p(b,"writeend",e),f(t)},n.onerror=function(){var t=n.error;t.code!==t.ABORT_ERR&&$()},"writestart progress write abort".split(" ").forEach(function(t){n["on"+t]=b["on"+t]}),n.write(e),b.abort=function(){n.abort(),b.readyState=b.DONE},b.readyState=b.WRITING}),$)}),$)};t.getFile(u,{create:!1},C(function(t){t.remove(),n()}),C(function(t){t.code===t.NOT_FOUND_ERR?n():$()}))}),$)}),$)):void $())},v=m.prototype,y=function(t,e,n){return new m(t,e,n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return n||(t=g(t)),navigator.msSaveOrOpenBlob(t,e||"download")}:(v.abort=function(){var t=this;t.readyState=t.DONE,p(t,"abort")},v.readyState=v.INIT=0,v.WRITING=1,v.DONE=2,v.error=v.onwritestart=v.onprogress=v.onwrite=v.onabort=v.onerror=v.onwriteend=null,y)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof e&&e.exports?e.exports.saveAs=i:"undefined"!=typeof define&&null!==define&&null!=define.amd&&define([],function(){return i})},{}],3:[function(t,e,n){"use strict";e.exports="ngFileSaver",angular.module("ngFileSaver",[]).factory("FileSaver",["Blob","SaveAs","FileSaverUtils",t("./angular-file-saver.service")]).factory("FileSaverUtils",[t("./utils/utils.service.js")]).factory("Blob",["$window",t("./dependencies/blob-bundle.service.js")]).factory("SaveAs",[t("./dependencies/file-saver-bundle.service.js")])},{"./angular-file-saver.service":4,"./dependencies/blob-bundle.service.js":5,"./dependencies/file-saver-bundle.service.js":6,"./utils/utils.service.js":7}],4:[function(t,e,n){"use strict";e.exports=function(t,e,n){function i(t,i,r){try{e(t,i,r)}catch(o){n.handleErrors(o.message)}}return{saveAs:function(t,e,r){return n.isBlobInstance(t)||n.handleErrors("Data argument should be a blob instance"),n.isString(e)||n.handleErrors("Filename argument should be a string"),i(t,e,r)}}}},{}],5:[function(t,e,n){"use strict";t("Blob.js"),e.exports=function(t){return t.Blob}},{"Blob.js":1}],6:[function(t,e,n){"use strict";e.exports=function(){return t("FileSaver.js").saveAs||function(){}}},{"FileSaver.js":2}],7:[function(t,e,n){"use strict";e.exports=function(){return{handleErrors:function(t){throw new Error(t)},isString:function(t){return"string"==typeof t||t instanceof String},isUndefined:function(t){return"undefined"==typeof t},isBlobInstance:function(t){return t instanceof Blob}}}},{}]},{},[3]);var mod;mod=angular.module("infinite-scroll",[]),mod.value("THROTTLE_MILLISECONDS",null),mod.directive("infiniteScroll",["$rootScope","$window","$interval","THROTTLE_MILLISECONDS",function(t,e,n,i){return{scope:{infiniteScroll:"&",infiniteScrollContainer:"=",infiniteScrollDistance:"=",infiniteScrollDisabled:"=",infiniteScrollUseDocumentBottom:"=",infiniteScrollListenForEvent:"@"},link:function(r,o,s){var a,l,u,c,h,d,f,p,g,m,v,y,b,w,x,_,$,C;return C=angular.element(e),b=null,w=null,l=null,u=null,m=!0,$=!1,_=null,g=function(t){return t=t[0]||t,isNaN(t.offsetHeight)?t.document.documentElement.clientHeight:t.offsetHeight},v=function(t){return t[0].getBoundingClientRect&&!t.css("none")?t[0].getBoundingClientRect().top+y(t):void 0},y=function(t){return t=t[0]||t,isNaN(window.pageYOffset)?t.document.documentElement.scrollTop:t.ownerDocument.defaultView.pageYOffset},p=function(){var e,n,i,s,a;return u===C?(e=g(u)+y(u[0].document.documentElement),i=v(o)+g(o)):(e=g(u),n=0,void 0!==v(u)&&(n=v(u)),i=v(o)-n+g(o)),$&&(i=g((o[0].ownerDocument||o[0].document).documentElement)),s=i-e,a=s<=g(u)*b+1,a?(l=!0,w?r.$$phase||t.$$phase?r.infiniteScroll():r.$apply(r.infiniteScroll):void 0):l=!1},x=function(t,e){var i,r,o;return o=null,r=0,i=function(){var e;return r=(new Date).getTime(),n.cancel(o),o=null,t.call(),e=null},function(){var s,a;return s=(new Date).getTime(),a=e-(s-r),0>=a?(clearTimeout(o),n.cancel(o),o=null,r=s,t.call()):o?void 0:o=n(i,a,1)}},null!=i&&(p=x(p,i)),r.$on("$destroy",function(){return u.unbind("scroll",p),null!=_?(_(),_=null):void 0}),d=function(t){return b=parseFloat(t)||0},r.$watch("infiniteScrollDistance",d),d(r.infiniteScrollDistance),h=function(t){return w=!t,w&&l?(l=!1,p()):void 0},r.$watch("infiniteScrollDisabled",h),h(r.infiniteScrollDisabled),f=function(t){return $=t},r.$watch("infiniteScrollUseDocumentBottom",f),f(r.infiniteScrollUseDocumentBottom),a=function(t){return null!=u&&u.unbind("scroll",p),u=t,null!=t?u.bind("scroll",p):void 0},a(C),r.infiniteScrollListenForEvent&&(_=t.$on(r.infiniteScrollListenForEvent,p)),c=function(t){if(null!=t&&0!==t.length){if(t instanceof HTMLElement?t=angular.element(t):"function"==typeof t.append?t=angular.element(t[t.length-1]):"string"==typeof t&&(t=angular.element(document.querySelector(t))),null!=t)return a(t);throw new Exception("invalid infinite-scroll-container attribute.")}},r.$watch("infiniteScrollContainer",c),c(r.infiniteScrollContainer||[]),null!=s.infiniteScrollParent&&a(angular.element(o.parent())),null!=s.infiniteScrollImmediateCheck&&(m=r.$eval(s.infiniteScrollImmediateCheck)),n(function(){return m?p():void 0},0,1)}}}]),function(){"use strict";var t,e,n,i,r,o,s,a,l,u,c,h,d,f,p,g,m,v,y,b=[].slice;r=angular.module("angular-inview",[]).directive("inView",["$parse",function(t){return{restrict:"A",require:"?^inViewContainer",link:function(e,n,r,o){var l,u,c,h,f,p;if(r.inView)return l=t(r.inView),u={element:n,wasInView:!1,offset:0,customDebouncedCheck:null,callback:function(t,i,r){return null==t&&(t={}),e.$evalAsync(function(o){return function(){return t.inViewTarget=n[0],l(e,{$event:t,$inview:i,$inviewpart:r})}}(this))}},null!=r.inViewOptions&&(c=e.$eval(r.inViewOptions))&&(u.offset=c.offset||[c.offsetTop||0,c.offsetBottom||0],c.debounce&&(u.customDebouncedCheck=a(function(t){return s([u],n[0],t)},c.debounce))),h=null!=(f=null!=(p=u.customDebouncedCheck)?p:null!=o?o.checkInView:void 0)?f:v,null!=o?o.addItem(u):i(u),setTimeout(h),e.$on("$destroy",function(){return null!=o&&o.removeItem(u),d(u)})}}}]).directive("inViewContainer",function(){return{restrict:"AC",controller:["$element",function(t){return this.items=[],this.addItem=function(t){return this.items.push(t)},this.removeItem=function(t){var e;return this.items=function(){var n,i,r,o;for(r=this.items,o=[],n=0,i=r.length;i>n;n++)e=r[n],e!==t&&o.push(e);return o}.call(this)},this.checkInView=function(e){return function(n){var i,r,o,a;for(a=e.items,r=0,o=a.length;o>r;r++)i=a[r],null!=i.customDebouncedCheck&&i.customDebouncedCheck();return s(function(){var t,e,n,r;for(n=this.items,r=[],t=0,e=n.length;e>t;t++)i=n[t],null==i.customDebouncedCheck&&r.push(i);return r}.call(e),t[0],n)}}(this),this}],link:function(t,e,n,i){return e.bind("scroll",i.checkInView),f(i),t.$on("$destroy",function(){return e.unbind("scroll",i.checkInView),m(i)})}}}),n=[],i=function(t){return n.push(t),o()},d=function(t){var e;return n=function(){var i,r,o;for(o=[],i=0,r=n.length;r>i;i++)e=n[i],e!==t&&o.push(e);return o}(),g()},t=[],f=function(e){return t.push(e),o()},m=function(e){var n;return t=function(){var i,r,o;for(o=[],i=0,r=t.length;r>i;i++)n=t[i],n!==e&&o.push(n);return o}(),g()},e=!1,y=function(e){var i,r,o;for(r=0,o=t.length;o>r;r++)i=t[r],i.checkInView(e);return n.length?v(e):void 0},o=function(){return e?void 0:(e=!0,angular.element(window).bind("checkInView click ready wheel mousewheel DomMouseScroll MozMousePixelScroll resize scroll touchmove mouseup",y))},g=function(){return!e||n.length||t.length?void 0:(e=!1,angular.element(window).unbind("checkInView click ready wheel mousewheel DomMouseScroll MozMousePixelScroll resize scroll touchmove mouseup",y))},p=function(t,e,n,i,r){var o,s;if(n){if(o=l(e.element[0]).top+window.pageYOffset,s=i&&r&&"neither"||i&&"top"||r&&"bottom"||"both",!e.wasInView||e.wasInView!==s||o!==e.lastOffsetTop)return e.lastOffsetTop=o,e.wasInView=s,e.callback(t,!0,s)}else if(e.wasInView)return e.wasInView=!1,e.callback(t,!1)},s=function(t,e,n){var i,r,o,s,a,d,f,g,m,v,y,b,w,x,_;if(_={top:0,bottom:c()},e&&e!==window){if(i=l(e),i.top>_.bottom||i.bottom<_.top){for(d=0,g=t.length;g>d;d++)a=t[d],p(n,a,!1);return}i.top>_.top&&(_.top=i.top),i.bottom<_.bottom&&(_.bottom=i.bottom)}for(x=[],f=0,m=t.length;m>f;f++)a=t[f],s=a.element[0],i=l(s),o=i.top+(h(a.offset)?u(i,a.offset):parseInt(null!=(v=null!=(y=a.offset)?y[0]:void 0)?v:a.offset)),r=i.bottom+(h(a.offset)?u(i,a.offset):parseInt(null!=(b=null!=(w=a.offset)?w[1]:void 0)?b:a.offset)),o<_.bottom&&r>=_.top?x.push(p(n,a,!0,r>_.bottom,o<_.top)):x.push(p(n,a,!1));return x},h=function(t){return"string"==typeof t&&"%"===t.slice(-1)},u=function(t,e){var n;return n=e.substring(0,e.length-1),(t.bottom-t.top)*(n/100)},c=function(){var t,e,n;return(t=window.innerHeight)?t:(e=document.compatMode,(e||!("undefined"!=typeof $&&null!==$&&null!=(n=$.support)?n.boxModel:void 0))&&(t="CSS1Compat"===e?document.documentElement.clientHeight:document.body.clientHeight),t)},l=function(t){var e,n,i;if(null!=t.getBoundingClientRect)return t.getBoundingClientRect();for(i=0,e=t;e;)i+=e.offsetTop,e=e.offsetParent;for(n=t.parentElement;n;)null!=n.scrollTop&&(i-=n.scrollTop),n=n.parentElement;return{top:i,bottom:i+t.offsetHeight}},a=function(t,e){var n;return n=null,function(){var i;return i=1<=arguments.length?b.call(arguments,0):[],null!=n&&clearTimeout(n),n=setTimeout(function(){return t.apply(null,i)},null!=e?e:100)}},v=function(t){var e,i,r;for(i=0,r=n.length;r>i;i++)e=n[i],null!=e.customDebouncedCheck&&e.customDebouncedCheck();return s(function(){var t,i,r;for(r=[],t=0,i=n.length;i>t;t++)e=n[t],null==e.customDebouncedCheck&&r.push(e);return r}(),null,t)},"function"==typeof define&&define.amd?define(["angular"],r):"undefined"!=typeof module&&module&&module.exports&&(module.exports=r)}.call(this),function(t,e){"function"==typeof define&&define.amd?define(["d3"],e):"object"==typeof module&&module.exports?module.exports=function(t){return t.tip=e(t),t.tip}:t.d3.tip=e(t.d3)}(this,function(t){return function(){function e(t){x=p(t),_=x.createSVGPoint(),document.body.appendChild(w)}function n(){return"n"}function i(){return[0,0]}function r(){return" "}function o(){var t=m();return{top:t.n.y-w.offsetHeight,left:t.n.x-w.offsetWidth/2}}function s(){var t=m();return{top:t.s.y,left:t.s.x-w.offsetWidth/2}}function a(){var t=m();return{top:t.e.y-w.offsetHeight/2,left:t.e.x}}function l(){var t=m();return{top:t.w.y-w.offsetHeight/2,left:t.w.x-w.offsetWidth}}function u(){var t=m();return{top:t.nw.y-w.offsetHeight,left:t.nw.x-w.offsetWidth}}function c(){var t=m();return{top:t.ne.y-w.offsetHeight,left:t.ne.x}}function h(){var t=m();return{top:t.sw.y,left:t.sw.x-w.offsetWidth}}function d(){var t=m();return{top:t.se.y,left:t.e.x}}function f(){var e=t.select(document.createElement("div"));return e.style({position:"absolute",top:0,opacity:0,"pointer-events":"none","box-sizing":"border-box"}),e.node()}function p(t){return t=t.node(),"svg"===t.tagName.toLowerCase()?t:t.ownerSVGElement}function g(){return null===w&&(w=f(),document.body.appendChild(w)),t.select(w)}function m(){for(var e=$||t.event.target;"undefined"==typeof e.getScreenCTM&&"undefined"===e.parentNode;)e=e.parentNode;var n={},i=e.getScreenCTM(),r=e.getBBox(),o=r.width,s=r.height,a=r.x,l=r.y;return _.x=a,_.y=l,n.nw=_.matrixTransform(i),_.x+=o,n.ne=_.matrixTransform(i),_.y+=s,n.se=_.matrixTransform(i),_.x-=o,n.sw=_.matrixTransform(i),_.y-=s/2,n.w=_.matrixTransform(i),_.x+=o,n.e=_.matrixTransform(i),_.x-=o/2,_.y-=s/2,n.n=_.matrixTransform(i),_.y+=s,n.s=_.matrixTransform(i),n}var v=n,y=i,b=r,w=f(),x=null,_=null,$=null;e.show=function(){var t=Array.prototype.slice.call(arguments);t[t.length-1]instanceof SVGElement&&($=t.pop());var n,i=b.apply(this,t),r=y.apply(this,t),o=v.apply(this,t),s=g(),a=A.length,l=document.documentElement.scrollTop||document.body.scrollTop,u=document.documentElement.scrollLeft||document.body.scrollLeft;for(s.html(i).style({opacity:1,"pointer-events":"all"});a--;)s.classed(A[a],!1);return n=C.get(o).apply(this),s.classed(o,!0).style({top:n.top+r[0]+l+"px",left:n.left+r[1]+u+"px"}),e},e.hide=function(){var t=g();return t.style({opacity:0,"pointer-events":"none"}),e},e.attr=function(n,i){if(arguments.length<2&&"string"==typeof n)return g().attr(n);var r=Array.prototype.slice.call(arguments);return t.selection.prototype.attr.apply(g(),r),e},e.style=function(n,i){if(arguments.length<2&&"string"==typeof n)return g().style(n);var r=Array.prototype.slice.call(arguments);return t.selection.prototype.style.apply(g(),r),e},e.direction=function(n){return arguments.length?(v=null==n?n:t.functor(n),e):v},e.offset=function(n){return arguments.length?(y=null==n?n:t.functor(n),e):y},e.html=function(n){return arguments.length?(b=null==n?n:t.functor(n),e):b},e.destroy=function(){return w&&(g().remove(),w=null),e};var C=t.map({n:o,s:s,e:a,w:l,nw:u,ne:c,sw:h,se:d}),A=C.keys();return e}}),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["exports"],e):e("undefined"!=typeof exports?exports:t.esprima={})}(this,function(t){"use strict";function e(t,e){if(!t)throw new Error("ASSERT: "+e)}function n(t){return t>=48&&57>=t}function i(t){return"0123456789abcdefABCDEF".indexOf(t)>=0}function r(t){return"01234567".indexOf(t)>=0}function o(t){return 32===t||9===t||11===t||12===t||160===t||t>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(t)>=0}function s(t){return 10===t||13===t||8232===t||8233===t}function a(t){return 36===t||95===t||t>=65&&90>=t||t>=97&&122>=t||92===t||t>=128&&xe.NonAsciiIdentifierStart.test(String.fromCharCode(t))}function l(t){return 36===t||95===t||t>=65&&90>=t||t>=97&&122>=t||t>=48&&57>=t||92===t||t>=128&&xe.NonAsciiIdentifierPart.test(String.fromCharCode(t))}function u(t){switch(t){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function c(t){switch(t){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function h(t){return"eval"===t||"arguments"===t}function d(t){if($e&&c(t))return!0;switch(t.length){case 2:return"if"===t||"in"===t||"do"===t;case 3:return"var"===t||"for"===t||"new"===t||"try"===t||"let"===t;case 4:return"this"===t||"else"===t||"case"===t||"void"===t||"with"===t||"enum"===t;case 5:return"while"===t||"break"===t||"catch"===t||"throw"===t||"const"===t||"yield"===t||"class"===t||"super"===t;case 6:return"return"===t||"typeof"===t||"delete"===t||"switch"===t||"export"===t||"import"===t;case 7:return"default"===t||"finally"===t||"extends"===t;case 8:return"function"===t||"continue"===t||"debugger"===t;case 10:return"instanceof"===t;default:return!1}}function f(t,n,i,r,o){var s;e("number"==typeof i,"Comment must have valid position"),De.lastCommentStart>=i||(De.lastCommentStart=i,s={type:t,value:n},Te.range&&(s.range=[i,r]),Te.loc&&(s.loc=o),Te.comments.push(s),Te.attachComment&&(Te.leadingComments.push(s),Te.trailingComments.push(s)))}function p(t){var e,n,i,r;for(e=Ce-t,n={start:{line:Ae,column:Ce-Ee-t}};Se>Ce;)if(i=_e.charCodeAt(Ce),++Ce,s(i))return Te.comments&&(r=_e.slice(e+t,Ce-1),n.end={line:Ae,column:Ce-Ee-1},f("Line",r,e,Ce-1,n)),13===i&&10===_e.charCodeAt(Ce)&&++Ce,++Ae,void(Ee=Ce);Te.comments&&(r=_e.slice(e+t,Ce),n.end={line:Ae,column:Ce-Ee},f("Line",r,e,Ce,n))}function g(){var t,e,n,i;for(Te.comments&&(t=Ce-2,e={start:{line:Ae,column:Ce-Ee-2}});Se>Ce;)if(n=_e.charCodeAt(Ce),s(n))13===n&&10===_e.charCodeAt(Ce+1)&&++Ce,++Ae,++Ce,Ee=Ce,Ce>=Se&&G();else if(42===n){if(47===_e.charCodeAt(Ce+1))return++Ce,++Ce,void(Te.comments&&(i=_e.slice(t+2,Ce-2),e.end={line:Ae,column:Ce-Ee},f("Block",i,t,Ce,e)));++Ce}else++Ce;G()}function m(){var t,e;for(e=0===Ce;Se>Ce;)if(t=_e.charCodeAt(Ce),o(t))++Ce;else if(s(t))++Ce,13===t&&10===_e.charCodeAt(Ce)&&++Ce,++Ae,Ee=Ce,e=!0;else if(47===t)if(t=_e.charCodeAt(Ce+1),47===t)++Ce,++Ce,p(2),e=!0;else{if(42!==t)break;++Ce,++Ce,g()}else if(e&&45===t){if(45!==_e.charCodeAt(Ce+1)||62!==_e.charCodeAt(Ce+2))break;Ce+=3,p(3)}else{if(60!==t)break;if("!--"!==_e.slice(Ce+1,Ce+4))break;++Ce,++Ce,++Ce,++Ce,p(4)}}function v(t){var e,n,r,o=0;for(n="u"===t?4:2,e=0;n>e;++e){if(!(Se>Ce&&i(_e[Ce])))return"";r=_e[Ce++],o=16*o+"0123456789abcdef".indexOf(r.toLowerCase())}return String.fromCharCode(o)}function y(){var t,e,n,r;for(t=_e[Ce],e=0,"}"===t&&G();Se>Ce&&(t=_e[Ce++],i(t));)e=16*e+"0123456789abcdef".indexOf(t.toLowerCase());return(e>1114111||"}"!==t)&&G(),65535>=e?String.fromCharCode(e):(n=(e-65536>>10)+55296,r=(e-65536&1023)+56320,String.fromCharCode(n,r))}function b(){var t,e;for(t=_e.charCodeAt(Ce++),e=String.fromCharCode(t),92===t&&(117!==_e.charCodeAt(Ce)&&G(),++Ce,t=v("u"),t&&"\\"!==t&&a(t.charCodeAt(0))||G(),e=t);Se>Ce&&(t=_e.charCodeAt(Ce),l(t));)++Ce,e+=String.fromCharCode(t),92===t&&(e=e.substr(0,e.length-1),117!==_e.charCodeAt(Ce)&&G(),++Ce,t=v("u"),t&&"\\"!==t&&l(t.charCodeAt(0))||G(),e+=t);return e}function w(){var t,e;for(t=Ce++;Se>Ce;){if(e=_e.charCodeAt(Ce),92===e)return Ce=t,b();if(!l(e))break;++Ce}return _e.slice(t,Ce)}function x(){var t,e,n;return t=Ce,e=92===_e.charCodeAt(Ce)?b():w(),n=1===e.length?pe.Identifier:d(e)?pe.Keyword:"null"===e?pe.NullLiteral:"true"===e||"false"===e?pe.BooleanLiteral:pe.Identifier,{type:n,value:e,lineNumber:Ae,lineStart:Ee,start:t,end:Ce}}function _(){var t,e,n,i,r=Ce,o=_e.charCodeAt(Ce),s=_e[Ce];switch(o){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Ce,Te.tokenize&&(40===o?Te.openParenToken=Te.tokens.length:123===o&&(Te.openCurlyToken=Te.tokens.length)),{type:pe.Punctuator,value:String.fromCharCode(o),lineNumber:Ae,lineStart:Ee,start:r,end:Ce};default:if(t=_e.charCodeAt(Ce+1),61===t)switch(o){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Ce+=2,{type:pe.Punctuator,value:String.fromCharCode(o)+String.fromCharCode(t),lineNumber:Ae,lineStart:Ee,start:r,end:Ce};case 33:case 61:return Ce+=2,61===_e.charCodeAt(Ce)&&++Ce,{type:pe.Punctuator,value:_e.slice(r,Ce),lineNumber:Ae,lineStart:Ee,start:r,end:Ce}}}return i=_e.substr(Ce,4),">>>="===i?(Ce+=4,{type:pe.Punctuator,value:i,lineNumber:Ae,lineStart:Ee,start:r,end:Ce}):(n=i.substr(0,3),">>>"===n||"<<="===n||">>="===n?(Ce+=3,{type:pe.Punctuator,value:n,lineNumber:Ae,lineStart:Ee,start:r,end:Ce}):(e=n.substr(0,2),s===e[1]&&"+-<>&|".indexOf(s)>=0||"=>"===e?(Ce+=2,{type:pe.Punctuator,value:e,lineNumber:Ae,lineStart:Ee,start:r,end:Ce}):"<>=!+-*%&|^/".indexOf(s)>=0?(++Ce,{type:pe.Punctuator,value:s,lineNumber:Ae,lineStart:Ee,start:r,end:Ce}):void G()))}function $(t){for(var e="";Se>Ce&&i(_e[Ce]);)e+=_e[Ce++];return 0===e.length&&G(),a(_e.charCodeAt(Ce))&&G(),{type:pe.NumericLiteral,value:parseInt("0x"+e,16),lineNumber:Ae,lineStart:Ee,start:t,end:Ce}}function C(t){var e,i;for(i="";Se>Ce&&(e=_e[Ce],"0"===e||"1"===e);)i+=_e[Ce++];return 0===i.length&&G(),Se>Ce&&(e=_e.charCodeAt(Ce),(a(e)||n(e))&&G()),{type:pe.NumericLiteral,value:parseInt(i,2),lineNumber:Ae,lineStart:Ee,start:t,end:Ce}}function A(t,e){var i,o;for(r(t)?(o=!0,i="0"+_e[Ce++]):(o=!1,++Ce,i="");Se>Ce&&r(_e[Ce]);)i+=_e[Ce++];return o||0!==i.length||G(),(a(_e.charCodeAt(Ce))||n(_e.charCodeAt(Ce)))&&G(),{type:pe.NumericLiteral,value:parseInt(i,8),octal:o,lineNumber:Ae,lineStart:Ee,start:e,end:Ce}}function E(){var t,e;for(t=Ce+1;Se>t;++t){if(e=_e[t],"8"===e||"9"===e)return!1;
if(!r(e))return!0}return!0}function S(){var t,i,o;if(o=_e[Ce],e(n(o.charCodeAt(0))||"."===o,"Numeric literal must start with a decimal digit or a decimal point"),i=Ce,t="","."!==o){if(t=_e[Ce++],o=_e[Ce],"0"===t){if("x"===o||"X"===o)return++Ce,$(i);if("b"===o||"B"===o)return++Ce,C(i);if("o"===o||"O"===o)return A(o,i);if(r(o)&&E())return A(o,i)}for(;n(_e.charCodeAt(Ce));)t+=_e[Ce++];o=_e[Ce]}if("."===o){for(t+=_e[Ce++];n(_e.charCodeAt(Ce));)t+=_e[Ce++];o=_e[Ce]}if("e"===o||"E"===o)if(t+=_e[Ce++],o=_e[Ce],("+"===o||"-"===o)&&(t+=_e[Ce++]),n(_e.charCodeAt(Ce)))for(;n(_e.charCodeAt(Ce));)t+=_e[Ce++];else G();return a(_e.charCodeAt(Ce))&&G(),{type:pe.NumericLiteral,value:parseFloat(t),lineNumber:Ae,lineStart:Ee,start:i,end:Ce}}function k(){var t,n,i,o,a,l,u,c,h="",d=!1;for(u=Ae,c=Ee,t=_e[Ce],e("'"===t||'"'===t,"String literal must starts with a quote"),n=Ce,++Ce;Se>Ce;){if(i=_e[Ce++],i===t){t="";break}if("\\"===i)if(i=_e[Ce++],i&&s(i.charCodeAt(0)))++Ae,"\r"===i&&"\n"===_e[Ce]&&++Ce,Ee=Ce;else switch(i){case"u":case"x":"{"===_e[Ce]?(++Ce,h+=y()):(l=Ce,a=v(i),a?h+=a:(Ce=l,h+=i));break;case"n":h+="\n";break;case"r":h+="\r";break;case"t":h+="	";break;case"b":h+="\b";break;case"f":h+="\f";break;case"v":h+="\x0B";break;default:r(i)?(o="01234567".indexOf(i),0!==o&&(d=!0),Se>Ce&&r(_e[Ce])&&(d=!0,o=8*o+"01234567".indexOf(_e[Ce++]),"0123".indexOf(i)>=0&&Se>Ce&&r(_e[Ce])&&(o=8*o+"01234567".indexOf(_e[Ce++]))),h+=String.fromCharCode(o)):h+=i}else{if(s(i.charCodeAt(0)))break;h+=i}}return""!==t&&G(),{type:pe.StringLiteral,value:h,octal:d,startLineNumber:u,startLineStart:c,lineNumber:Ae,lineStart:Ee,start:n,end:Ce}}function D(t,e){var n,i=t;e.indexOf("u")>=0&&(i=i.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(t,e){return parseInt(e,16)<=1114111?"x":void q(we.InvalidRegExp)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{n=new RegExp(i)}catch(r){q(we.InvalidRegExp)}try{return new RegExp(t,e)}catch(o){return null}}function T(){var t,n,i,r,o;for(t=_e[Ce],e("/"===t,"Regular expression literal must start with a slash"),n=_e[Ce++],i=!1,r=!1;Se>Ce;)if(t=_e[Ce++],n+=t,"\\"===t)t=_e[Ce++],s(t.charCodeAt(0))&&q(we.UnterminatedRegExp),n+=t;else if(s(t.charCodeAt(0)))q(we.UnterminatedRegExp);else if(i)"]"===t&&(i=!1);else{if("/"===t){r=!0;break}"["===t&&(i=!0)}return r||q(we.UnterminatedRegExp),o=n.substr(1,n.length-2),{value:o,literal:n}}function F(){var t,e,n,i;for(e="",n="";Se>Ce&&(t=_e[Ce],l(t.charCodeAt(0)));)if(++Ce,"\\"===t&&Se>Ce)if(t=_e[Ce],"u"===t){if(++Ce,i=Ce,t=v("u"))for(n+=t,e+="\\u";Ce>i;++i)e+=_e[i];else Ce=i,n+="u",e+="\\u";J()}else e+="\\",J();else n+=t,e+=t;return{value:n,literal:e}}function M(){var t,e,n,i;return ke=null,m(),t=Ce,e=T(),n=F(),i=D(e.value,n.value),Te.tokenize?{type:pe.RegularExpression,value:i,regex:{pattern:e.value,flags:n.value},lineNumber:Ae,lineStart:Ee,start:t,end:Ce}:{literal:e.literal+n.literal,value:i,regex:{pattern:e.value,flags:n.value},start:t,end:Ce}}function L(){var t,e,n,i;return m(),t=Ce,e={start:{line:Ae,column:Ce-Ee}},n=M(),e.end={line:Ae,column:Ce-Ee},Te.tokenize||(Te.tokens.length>0&&(i=Te.tokens[Te.tokens.length-1],i.range[0]===t&&"Punctuator"===i.type&&("/"===i.value||"/="===i.value)&&Te.tokens.pop()),Te.tokens.push({type:"RegularExpression",value:n.literal,regex:n.regex,range:[t,Ce],loc:e})),n}function O(t){return t.type===pe.Identifier||t.type===pe.Keyword||t.type===pe.BooleanLiteral||t.type===pe.NullLiteral}function P(){var t,e;if(t=Te.tokens[Te.tokens.length-1],!t)return L();if("Punctuator"===t.type){if("]"===t.value)return _();if(")"===t.value)return e=Te.tokens[Te.openParenToken-1],!e||"Keyword"!==e.type||"if"!==e.value&&"while"!==e.value&&"for"!==e.value&&"with"!==e.value?_():L();if("}"===t.value){if(Te.tokens[Te.openCurlyToken-3]&&"Keyword"===Te.tokens[Te.openCurlyToken-3].type){if(e=Te.tokens[Te.openCurlyToken-4],!e)return _()}else{if(!Te.tokens[Te.openCurlyToken-4]||"Keyword"!==Te.tokens[Te.openCurlyToken-4].type)return _();if(e=Te.tokens[Te.openCurlyToken-5],!e)return L()}return me.indexOf(e.value)>=0?_():L()}return L()}return"Keyword"===t.type&&"this"!==t.value?L():_()}function B(){var t;return m(),Ce>=Se?{type:pe.EOF,lineNumber:Ae,lineStart:Ee,start:Ce,end:Ce}:(t=_e.charCodeAt(Ce),a(t)?x():40===t||41===t||59===t?_():39===t||34===t?k():46===t?n(_e.charCodeAt(Ce+1))?S():_():n(t)?S():Te.tokenize&&47===t?P():_())}function I(){var t,e,n,i;return m(),t={start:{line:Ae,column:Ce-Ee}},e=B(),t.end={line:Ae,column:Ce-Ee},e.type!==pe.EOF&&(n=_e.slice(e.start,e.end),i={type:ge[e.type],value:n,range:[e.start,e.end],loc:t},e.regex&&(i.regex={pattern:e.regex.pattern,flags:e.regex.flags}),Te.tokens.push(i)),e}function R(){var t;return t=ke,Ce=t.end,Ae=t.lineNumber,Ee=t.lineStart,ke="undefined"!=typeof Te.tokens?I():B(),Ce=t.end,Ae=t.lineNumber,Ee=t.lineStart,t}function j(){var t,e,n;t=Ce,e=Ae,n=Ee,ke="undefined"!=typeof Te.tokens?I():B(),Ce=t,Ae=e,Ee=n}function N(){this.line=Ae,this.column=Ce-Ee}function z(){this.start=new N,this.end=null}function U(t){t.type===pe.StringLiteral?this.start={line:t.startLineNumber,column:t.start-t.startLineStart}:this.start={line:t.lineNumber,column:t.start-t.lineStart},this.end=null}function V(){Ce=ke.start,ke.type===pe.StringLiteral?(Ae=ke.startLineNumber,Ee=ke.startLineStart):(Ae=ke.lineNumber,Ee=ke.lineStart),Te.range&&(this.range=[Ce,0]),Te.loc&&(this.loc=new z)}function H(t){Te.range&&(this.range=[t.start,0]),Te.loc&&(this.loc=new U(t))}function W(){var t,e,n,i;return t=Ce,e=Ae,n=Ee,m(),i=Ae!==e,Ce=t,Ae=e,Ee=n,i}function Y(t,e,n){var i=new Error("Line "+t+": "+n);return i.index=e,i.lineNumber=t,i.column=e-Ee+1,i.description=n,i}function q(t){var n,i;throw n=Array.prototype.slice.call(arguments,1),i=t.replace(/%(\d)/g,function(t,i){return e(i<n.length,"Message reference must be in range"),n[i]}),Y(Ae,Ce,i)}function K(t){var n,i,r;if(n=Array.prototype.slice.call(arguments,1),i=t.replace(/%(\d)/g,function(t,i){return e(i<n.length,"Message reference must be in range"),n[i]}),r=Y(Ae,Ce,i),!Te.errors)throw r;Te.errors.push(r)}function X(t,e){var n=we.UnexpectedToken;return t&&(n=e?e:t.type===pe.EOF?we.UnexpectedEOS:t.type===pe.Identifier?we.UnexpectedIdentifier:t.type===pe.NumericLiteral?we.UnexpectedNumber:t.type===pe.StringLiteral?we.UnexpectedString:we.UnexpectedToken,t.type===pe.Keyword&&(u(t.value)?n=we.UnexpectedReserved:$e&&c(t.value)&&(n=we.StrictReservedWord))),n=n.replace("%0",t?t.value:"ILLEGAL"),t&&"number"==typeof t.lineNumber?Y(t.lineNumber,t.start,n):Y(Ae,Ce,n)}function G(t,e){throw X(t,e)}function J(t,e){var n=X(t,e);if(!Te.errors)throw n;Te.errors.push(n)}function Z(t){var e=R();(e.type!==pe.Punctuator||e.value!==t)&&G(e)}function Q(){var t;Te.errors?(t=ke,t.type===pe.Punctuator&&","===t.value?R():t.type===pe.Punctuator&&";"===t.value?(R(),J(t)):J(t,we.UnexpectedToken)):Z(",")}function tt(t){var e=R();(e.type!==pe.Keyword||e.value!==t)&&G(e)}function et(t){return ke.type===pe.Punctuator&&ke.value===t}function nt(t){return ke.type===pe.Keyword&&ke.value===t}function it(){var t;return ke.type!==pe.Punctuator?!1:(t=ke.value,"="===t||"*="===t||"/="===t||"%="===t||"+="===t||"-="===t||"<<="===t||">>="===t||">>>="===t||"&="===t||"^="===t||"|="===t)}function rt(){var t,e=Ce,n=Ae,i=Ee,r=ke;return 59===_e.charCodeAt(Ce)||et(";")?void R():(t=Ae,m(),Ae!==t?(Ce=e,Ae=n,Ee=i,void(ke=r)):void(ke.type===pe.EOF||et("}")||G(ke)))}function ot(t){return t.type===ve.Identifier||t.type===ve.MemberExpression}function st(){var t=[],e=new V;for(Z("[");!et("]");)et(",")?(R(),t.push(null)):(t.push(Dt()),et("]")||Z(","));return R(),e.finishArrayExpression(t)}function at(t,e){var n,i,r=new V;return n=$e,i=ne(),e&&$e&&h(t[0].name)&&J(e,we.StrictParamName),$e=n,r.finishFunctionExpression(null,t,[],i)}function lt(){var t,e,n;return t=$e,$e=!0,e=oe(),n=at(e.params),$e=t,n}function ut(){var t,e=new V;return t=R(),t.type===pe.StringLiteral||t.type===pe.NumericLiteral?($e&&t.octal&&J(t,we.StrictOctalLiteral),e.finishLiteral(t)):e.finishIdentifier(t.value)}function ct(){var t,e,n,i,r,o=new V;if(t=ke,t.type===pe.Identifier)return n=ut(),"get"!==t.value||et(":")||et("(")?"set"!==t.value||et(":")||et("(")?et(":")?(R(),i=Dt(),o.finishProperty("init",n,i,!1,!1)):et("(")?(i=lt(),o.finishProperty("init",n,i,!0,!1)):(i=n,o.finishProperty("init",n,i,!1,!0)):(e=ut(),Z("("),t=ke,t.type!==pe.Identifier?(Z(")"),J(t),i=at([])):(r=[Lt()],Z(")"),i=at(r,t)),o.finishProperty("set",e,i,!1,!1)):(e=ut(),Z("("),Z(")"),i=at([]),o.finishProperty("get",e,i,!1,!1));if(t.type===pe.EOF||t.type===pe.Punctuator)G(t);else{if(e=ut(),et(":"))return R(),i=Dt(),o.finishProperty("init",e,i,!1,!1);if(et("("))return i=lt(),o.finishProperty("init",e,i,!0,!1);G(R())}}function ht(){var t,e,n,i,r=[],o={},s=String,a=new V;for(Z("{");!et("}");)t=ct(),e=t.key.type===ve.Identifier?t.key.name:s(t.key.value),i="init"===t.kind?be.Data:"get"===t.kind?be.Get:be.Set,n="$"+e,Object.prototype.hasOwnProperty.call(o,n)?(o[n]===be.Data?$e&&i===be.Data?K(we.StrictDuplicateProperty):i!==be.Data&&K(we.AccessorDataProperty):i===be.Data?K(we.AccessorDataProperty):o[n]&i&&K(we.AccessorGetSet),o[n]|=i):o[n]=i,r.push(t),et("}")||Q();return Z("}"),a.finishObjectExpression(r)}function dt(){var t;return Z("("),et(")")?(R(),ye.ArrowParameterPlaceHolder):(++De.parenthesisCount,t=Tt(),Z(")"),t)}function ft(){var t,e,n,i;if(et("("))return dt();if(et("["))return st();if(et("{"))return ht();if(t=ke.type,i=new V,t===pe.Identifier)n=i.finishIdentifier(R().value);else if(t===pe.StringLiteral||t===pe.NumericLiteral)$e&&ke.octal&&J(ke,we.StrictOctalLiteral),n=i.finishLiteral(R());else if(t===pe.Keyword){if(nt("function"))return ae();nt("this")?(R(),n=i.finishThisExpression()):G(R())}else t===pe.BooleanLiteral?(e=R(),e.value="true"===e.value,n=i.finishLiteral(e)):t===pe.NullLiteral?(e=R(),e.value=null,n=i.finishLiteral(e)):et("/")||et("/=")?(n="undefined"!=typeof Te.tokens?i.finishLiteral(L()):i.finishLiteral(M()),j()):G(R());return n}function pt(){var t=[];if(Z("("),!et(")"))for(;Se>Ce&&(t.push(Dt()),!et(")"));)Q();return Z(")"),t}function gt(){var t,e=new V;return t=R(),O(t)||G(t),e.finishIdentifier(t.value)}function mt(){return Z("."),gt()}function vt(){var t;return Z("["),t=Tt(),Z("]"),t}function yt(){var t,e,n=new V;return tt("new"),t=wt(),e=et("(")?pt():[],n.finishNewExpression(t,e)}function bt(){var t,e,n,i,r=De.allowIn;for(i=ke,De.allowIn=!0,t=nt("new")?yt():ft();;)if(et("."))n=mt(),t=new H(i).finishMemberExpression(".",t,n);else if(et("("))e=pt(),t=new H(i).finishCallExpression(t,e);else{if(!et("["))break;n=vt(),t=new H(i).finishMemberExpression("[",t,n)}return De.allowIn=r,t}function wt(){var t,n,i;for(e(De.allowIn,"callee of new expression always allow in keyword."),i=ke,t=nt("new")?yt():ft();;)if(et("["))n=vt(),t=new H(i).finishMemberExpression("[",t,n);else{if(!et("."))break;n=mt(),t=new H(i).finishMemberExpression(".",t,n)}return t}function xt(){var t,e,n=ke;return t=bt(),ke.type===pe.Punctuator&&(!et("++")&&!et("--")||W()||($e&&t.type===ve.Identifier&&h(t.name)&&K(we.StrictLHSPostfix),ot(t)||K(we.InvalidLHSInAssignment),e=R(),t=new H(n).finishPostfixExpression(e.value,t))),t}function _t(){var t,e,n;return ke.type!==pe.Punctuator&&ke.type!==pe.Keyword?e=xt():et("++")||et("--")?(n=ke,t=R(),e=_t(),$e&&e.type===ve.Identifier&&h(e.name)&&K(we.StrictLHSPrefix),ot(e)||K(we.InvalidLHSInAssignment),e=new H(n).finishUnaryExpression(t.value,e)):et("+")||et("-")||et("~")||et("!")?(n=ke,t=R(),e=_t(),e=new H(n).finishUnaryExpression(t.value,e)):nt("delete")||nt("void")||nt("typeof")?(n=ke,t=R(),e=_t(),e=new H(n).finishUnaryExpression(t.value,e),$e&&"delete"===e.operator&&e.argument.type===ve.Identifier&&K(we.StrictDelete)):e=xt(),e}function $t(t,e){var n=0;if(t.type!==pe.Punctuator&&t.type!==pe.Keyword)return 0;switch(t.value){case"||":n=1;break;case"&&":n=2;break;case"|":n=3;break;case"^":n=4;break;case"&":n=5;break;case"==":case"!=":case"===":case"!==":n=6;break;case"<":case">":case"<=":case">=":case"instanceof":n=7;break;case"in":n=e?7:0;break;case"<<":case">>":case">>>":n=8;break;case"+":case"-":n=9;break;case"*":case"/":case"%":n=11}return n}function Ct(){var t,e,n,i,r,o,s,a,l,u;if(t=ke,l=_t(),l===ye.ArrowParameterPlaceHolder)return l;if(i=ke,r=$t(i,De.allowIn),0===r)return l;for(i.prec=r,R(),e=[t,ke],s=_t(),o=[l,i,s];(r=$t(ke,De.allowIn))>0;){for(;o.length>2&&r<=o[o.length-2].prec;)s=o.pop(),a=o.pop().value,l=o.pop(),e.pop(),n=new H(e[e.length-1]).finishBinaryExpression(a,l,s),o.push(n);i=R(),i.prec=r,o.push(i),e.push(ke),n=_t(),o.push(n)}for(u=o.length-1,n=o[u],e.pop();u>1;)n=new H(e.pop()).finishBinaryExpression(o[u-1].value,o[u-2],n),u-=2;return n}function At(){var t,e,n,i,r;return r=ke,t=Ct(),t===ye.ArrowParameterPlaceHolder?t:(et("?")&&(R(),e=De.allowIn,De.allowIn=!0,n=Dt(),De.allowIn=e,Z(":"),i=Dt(),t=new H(r).finishConditionalExpression(t,n,i)),t)}function Et(){return et("{")?ne():Dt()}function St(t){var e,n,i,r,o,s,a,l,u;for(r=[],o=[],s=0,l=null,a={paramSet:{}},e=0,n=t.length;n>e;e+=1)if(i=t[e],i.type===ve.Identifier)r.push(i),o.push(null),ie(a,i,i.name);else{if(i.type!==ve.AssignmentExpression)return null;r.push(i.left),o.push(i.right),++s,ie(a,i.left,i.left.name)}return a.message===we.StrictParamDupe&&(u=$e?a.stricted:a.firstRestricted,G(u,a.message)),0===s&&(o=[]),{params:r,defaults:o,rest:l,stricted:a.stricted,firstRestricted:a.firstRestricted,message:a.message}}function kt(t,e){var n,i;return Z("=>"),n=$e,i=Et(),$e&&t.firstRestricted&&G(t.firstRestricted,t.message),$e&&t.stricted&&J(t.stricted,t.message),$e=n,e.finishArrowFunctionExpression(t.params,t.defaults,i,i.type!==ve.BlockStatement)}function Dt(){var t,e,n,i,r,o;return t=De.parenthesisCount,o=ke,e=ke,n=At(),n!==ye.ArrowParameterPlaceHolder&&!et("=>")||De.parenthesisCount!==t&&De.parenthesisCount!==t+1||(n.type===ve.Identifier?r=St([n]):n.type===ve.AssignmentExpression?r=St([n]):n.type===ve.SequenceExpression?r=St(n.expressions):n===ye.ArrowParameterPlaceHolder&&(r=St([])),!r)?(it()&&(ot(n)||K(we.InvalidLHSInAssignment),$e&&n.type===ve.Identifier&&h(n.name)&&J(e,we.StrictLHSAssignment),e=R(),i=Dt(),n=new H(o).finishAssignmentExpression(e.value,n,i)),n):kt(r,new H(o))}function Tt(){var t,e,n=ke;if(t=Dt(),et(",")){for(e=[t];Se>Ce&&et(",");)R(),e.push(Dt());t=new H(n).finishSequenceExpression(e)}return t}function Ft(){for(var t,e=[];Se>Ce&&!et("}")&&(t=le(),"undefined"!=typeof t);)e.push(t);return e}function Mt(){var t,e=new V;return Z("{"),t=Ft(),Z("}"),e.finishBlockStatement(t)}function Lt(){var t,e=new V;return t=R(),t.type!==pe.Identifier&&($e&&t.type===pe.Keyword&&c(t.value)?J(t,we.StrictReservedWord):G(t)),e.finishIdentifier(t.value)}function Ot(t){var e,n=null,i=new V;return e=Lt(),$e&&h(e.name)&&K(we.StrictVarName),"const"===t?(Z("="),n=Dt()):et("=")&&(R(),n=Dt()),i.finishVariableDeclarator(e,n)}function Pt(t){var e=[];do{if(e.push(Ot(t)),!et(","))break;R()}while(Se>Ce);return e}function Bt(t){var e;return tt("var"),e=Pt(),rt(),t.finishVariableDeclaration(e,"var")}function It(t){var e,n=new V;return tt(t),e=Pt(t),rt(),n.finishVariableDeclaration(e,t)}function Rt(){var t=new V;return Z(";"),t.finishEmptyStatement()}function jt(t){var e=Tt();return rt(),t.finishExpressionStatement(e)}function Nt(t){var e,n,i;return tt("if"),Z("("),e=Tt(),Z(")"),n=ee(),nt("else")?(R(),i=ee()):i=null,t.finishIfStatement(e,n,i)}function zt(t){var e,n,i;return tt("do"),i=De.inIteration,De.inIteration=!0,e=ee(),De.inIteration=i,tt("while"),Z("("),n=Tt(),Z(")"),et(";")&&R(),t.finishDoWhileStatement(e,n)}function Ut(t){var e,n,i;return tt("while"),Z("("),e=Tt(),Z(")"),i=De.inIteration,De.inIteration=!0,n=ee(),De.inIteration=i,t.finishWhileStatement(e,n)}function Vt(){var t,e,n=new V;return t=R(),e=Pt(),n.finishVariableDeclaration(e,t.value)}function Ht(t){var e,n,i,r,o,s,a,l=De.allowIn;return e=n=i=null,tt("for"),Z("("),et(";")?R():(nt("var")||nt("let")?(De.allowIn=!1,e=Vt(),De.allowIn=l,1===e.declarations.length&&nt("in")&&(R(),r=e,o=Tt(),e=null)):(De.allowIn=!1,e=Tt(),De.allowIn=l,nt("in")&&(ot(e)||K(we.InvalidLHSInForIn),R(),r=e,o=Tt(),e=null)),"undefined"==typeof r&&Z(";")),"undefined"==typeof r&&(et(";")||(n=Tt()),Z(";"),et(")")||(i=Tt())),Z(")"),a=De.inIteration,De.inIteration=!0,s=ee(),De.inIteration=a,"undefined"==typeof r?t.finishForStatement(e,n,i,s):t.finishForInStatement(r,o,s)}function Wt(t){var e,n=null;return tt("continue"),59===_e.charCodeAt(Ce)?(R(),De.inIteration||q(we.IllegalContinue),t.finishContinueStatement(null)):W()?(De.inIteration||q(we.IllegalContinue),t.finishContinueStatement(null)):(ke.type===pe.Identifier&&(n=Lt(),e="$"+n.name,Object.prototype.hasOwnProperty.call(De.labelSet,e)||q(we.UnknownLabel,n.name)),rt(),null!==n||De.inIteration||q(we.IllegalContinue),t.finishContinueStatement(n))}function Yt(t){var e,n=null;return tt("break"),59===_e.charCodeAt(Ce)?(R(),De.inIteration||De.inSwitch||q(we.IllegalBreak),t.finishBreakStatement(null)):W()?(De.inIteration||De.inSwitch||q(we.IllegalBreak),t.finishBreakStatement(null)):(ke.type===pe.Identifier&&(n=Lt(),e="$"+n.name,Object.prototype.hasOwnProperty.call(De.labelSet,e)||q(we.UnknownLabel,n.name)),rt(),null!==n||De.inIteration||De.inSwitch||q(we.IllegalBreak),t.finishBreakStatement(n))}function qt(t){var e=null;return tt("return"),De.inFunctionBody||K(we.IllegalReturn),32===_e.charCodeAt(Ce)&&a(_e.charCodeAt(Ce+1))?(e=Tt(),rt(),t.finishReturnStatement(e)):W()?t.finishReturnStatement(null):(et(";")||et("}")||ke.type===pe.EOF||(e=Tt()),rt(),t.finishReturnStatement(e))}function Kt(t){var e,n;return $e&&(m(),K(we.StrictModeWith)),tt("with"),Z("("),e=Tt(),Z(")"),n=ee(),t.finishWithStatement(e,n)}function Xt(){var t,e,n=[],i=new V;for(nt("default")?(R(),t=null):(tt("case"),t=Tt()),Z(":");Se>Ce&&!(et("}")||nt("default")||nt("case"));)e=ee(),n.push(e);return i.finishSwitchCase(t,n)}function Gt(t){var e,n,i,r,o;if(tt("switch"),Z("("),e=Tt(),Z(")"),Z("{"),n=[],et("}"))return R(),t.finishSwitchStatement(e,n);for(r=De.inSwitch,De.inSwitch=!0,o=!1;Se>Ce&&!et("}");)i=Xt(),null===i.test&&(o&&q(we.MultipleDefaultsInSwitch),o=!0),n.push(i);return De.inSwitch=r,Z("}"),t.finishSwitchStatement(e,n)}function Jt(t){var e;return tt("throw"),W()&&q(we.NewlineAfterThrow),e=Tt(),rt(),t.finishThrowStatement(e)}function Zt(){var t,e,n=new V;return tt("catch"),Z("("),et(")")&&G(ke),t=Lt(),$e&&h(t.name)&&K(we.StrictCatchVariable),Z(")"),e=Mt(),n.finishCatchClause(t,e)}function Qt(t){var e,n=[],i=null;return tt("try"),e=Mt(),nt("catch")&&n.push(Zt()),nt("finally")&&(R(),i=Mt()),0!==n.length||i||q(we.NoCatchOrFinally),t.finishTryStatement(e,[],n,i)}function te(t){return tt("debugger"),rt(),t.finishDebuggerStatement()}function ee(){var t,e,n,i,r=ke.type;if(r===pe.EOF&&G(ke),r===pe.Punctuator&&"{"===ke.value)return Mt();if(i=new V,r===pe.Punctuator)switch(ke.value){case";":return Rt(i);case"(":return jt(i)}else if(r===pe.Keyword)switch(ke.value){case"break":return Yt(i);case"continue":return Wt(i);case"debugger":return te(i);case"do":return zt(i);case"for":return Ht(i);case"function":return se(i);case"if":return Nt(i);case"return":return qt(i);case"switch":return Gt(i);case"throw":return Jt(i);case"try":return Qt(i);case"var":return Bt(i);case"while":return Ut(i);case"with":return Kt(i)}return t=Tt(),t.type===ve.Identifier&&et(":")?(R(),n="$"+t.name,Object.prototype.hasOwnProperty.call(De.labelSet,n)&&q(we.Redeclaration,"Label",t.name),De.labelSet[n]=!0,e=ee(),delete De.labelSet[n],i.finishLabeledStatement(t,e)):(rt(),i.finishExpressionStatement(t))}function ne(){var t,e,n,i,r,o,s,a,l,u=[],c=new V;for(Z("{");Se>Ce&&ke.type===pe.StringLiteral&&(e=ke,t=le(),u.push(t),t.expression.type===ve.Literal);)n=_e.slice(e.start+1,e.end-1),"use strict"===n?($e=!0,i&&J(i,we.StrictOctalLiteral)):!i&&e.octal&&(i=e);for(r=De.labelSet,o=De.inIteration,s=De.inSwitch,a=De.inFunctionBody,l=De.parenthesizedCount,De.labelSet={},De.inIteration=!1,De.inSwitch=!1,De.inFunctionBody=!0,De.parenthesizedCount=0;Se>Ce&&!et("}")&&(t=le(),"undefined"!=typeof t);)u.push(t);return Z("}"),De.labelSet=r,De.inIteration=o,De.inSwitch=s,De.inFunctionBody=a,De.parenthesizedCount=l,c.finishBlockStatement(u)}function ie(t,e,n){var i="$"+n;$e?(h(n)&&(t.stricted=e,t.message=we.StrictParamName),Object.prototype.hasOwnProperty.call(t.paramSet,i)&&(t.stricted=e,t.message=we.StrictParamDupe)):t.firstRestricted||(h(n)?(t.firstRestricted=e,t.message=we.StrictParamName):c(n)?(t.firstRestricted=e,t.message=we.StrictReservedWord):Object.prototype.hasOwnProperty.call(t.paramSet,i)&&(t.firstRestricted=e,t.message=we.StrictParamDupe)),t.paramSet[i]=!0}function re(t){var e,n,i;return e=ke,n=Lt(),ie(t,e,e.value),et("=")&&(R(),i=Dt(),++t.defaultCount),t.params.push(n),t.defaults.push(i),!et(")")}function oe(t){var e;if(e={params:[],defaultCount:0,defaults:[],firstRestricted:t},Z("("),!et(")"))for(e.paramSet={};Se>Ce&&re(e);)Z(",");return Z(")"),0===e.defaultCount&&(e.defaults=[]),{params:e.params,defaults:e.defaults,stricted:e.stricted,firstRestricted:e.firstRestricted,message:e.message}}function se(){var t,e,n,i,r,o,s,a,l=[],u=[],d=new V;return tt("function"),n=ke,t=Lt(),$e?h(n.value)&&J(n,we.StrictFunctionName):h(n.value)?(o=n,s=we.StrictFunctionName):c(n.value)&&(o=n,s=we.StrictReservedWord),r=oe(o),l=r.params,u=r.defaults,i=r.stricted,o=r.firstRestricted,r.message&&(s=r.message),a=$e,e=ne(),$e&&o&&G(o,s),$e&&i&&J(i,s),$e=a,d.finishFunctionDeclaration(t,l,u,e)}function ae(){var t,e,n,i,r,o,s,a=null,l=[],u=[],d=new V;return tt("function"),et("(")||(t=ke,a=Lt(),$e?h(t.value)&&J(t,we.StrictFunctionName):h(t.value)?(n=t,i=we.StrictFunctionName):c(t.value)&&(n=t,i=we.StrictReservedWord)),r=oe(n),l=r.params,u=r.defaults,e=r.stricted,n=r.firstRestricted,r.message&&(i=r.message),s=$e,o=ne(),$e&&n&&G(n,i),$e&&e&&J(e,i),$e=s,d.finishFunctionExpression(a,l,u,o)}function le(){if(ke.type===pe.Keyword)switch(ke.value){case"const":case"let":return It(ke.value);case"function":return se();default:return ee()}return ke.type!==pe.EOF?ee():void 0}function ue(){for(var t,e,n,i,r=[];Se>Ce&&(e=ke,e.type===pe.StringLiteral)&&(t=le(),r.push(t),t.expression.type===ve.Literal);)n=_e.slice(e.start+1,e.end-1),"use strict"===n?($e=!0,i&&J(i,we.StrictOctalLiteral)):!i&&e.octal&&(i=e);for(;Se>Ce&&(t=le(),"undefined"!=typeof t);)r.push(t);return r}function ce(){var t,e;return m(),j(),e=new V,$e=!1,t=ue(),e.finishProgram(t)}function he(){var t,e,n,i=[];for(t=0;t<Te.tokens.length;++t)e=Te.tokens[t],n={type:e.type,value:e.value},e.regex&&(n.regex={pattern:e.regex.pattern,flags:e.regex.flags}),Te.range&&(n.range=e.range),Te.loc&&(n.loc=e.loc),i.push(n);Te.tokens=i}function de(t,e){var n,i;n=String,"string"==typeof t||t instanceof String||(t=n(t)),_e=t,Ce=0,Ae=_e.length>0?1:0,Ee=0,Se=_e.length,ke=null,De={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},Te={},e=e||{},e.tokens=!0,Te.tokens=[],Te.tokenize=!0,Te.openParenToken=-1,Te.openCurlyToken=-1,Te.range="boolean"==typeof e.range&&e.range,Te.loc="boolean"==typeof e.loc&&e.loc,"boolean"==typeof e.comment&&e.comment&&(Te.comments=[]),"boolean"==typeof e.tolerant&&e.tolerant&&(Te.errors=[]);try{if(j(),ke.type===pe.EOF)return Te.tokens;for(R();ke.type!==pe.EOF;)try{R()}catch(r){if(Te.errors){Te.errors.push(r);break}throw r}he(),i=Te.tokens,"undefined"!=typeof Te.comments&&(i.comments=Te.comments),"undefined"!=typeof Te.errors&&(i.errors=Te.errors)}catch(o){throw o}finally{Te={}}return i}function fe(t,e){var n,i;i=String,"string"==typeof t||t instanceof String||(t=i(t)),_e=t,Ce=0,Ae=_e.length>0?1:0,Ee=0,Se=_e.length,ke=null,De={allowIn:!0,labelSet:{},parenthesisCount:0,inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},Te={},"undefined"!=typeof e&&(Te.range="boolean"==typeof e.range&&e.range,Te.loc="boolean"==typeof e.loc&&e.loc,Te.attachComment="boolean"==typeof e.attachComment&&e.attachComment,Te.loc&&null!==e.source&&void 0!==e.source&&(Te.source=i(e.source)),"boolean"==typeof e.tokens&&e.tokens&&(Te.tokens=[]),"boolean"==typeof e.comment&&e.comment&&(Te.comments=[]),"boolean"==typeof e.tolerant&&e.tolerant&&(Te.errors=[]),Te.attachComment&&(Te.range=!0,Te.comments=[],Te.bottomRightStack=[],Te.trailingComments=[],Te.leadingComments=[]));try{n=ce(),"undefined"!=typeof Te.comments&&(n.comments=Te.comments),"undefined"!=typeof Te.tokens&&(he(),n.tokens=Te.tokens),"undefined"!=typeof Te.errors&&(n.errors=Te.errors)}catch(r){throw r}finally{Te={}}return n}var pe,ge,me,ve,ye,be,we,xe,_e,$e,Ce,Ae,Ee,Se,ke,De,Te;pe={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9},ge={},ge[pe.BooleanLiteral]="Boolean",ge[pe.EOF]="<end>",ge[pe.Identifier]="Identifier",ge[pe.Keyword]="Keyword",ge[pe.NullLiteral]="Null",ge[pe.NumericLiteral]="Numeric",ge[pe.Punctuator]="Punctuator",ge[pe.StringLiteral]="String",ge[pe.RegularExpression]="RegularExpression",me=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],ve={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",ArrowFunctionExpression:"ArrowFunctionExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},ye={ArrowParameterPlaceHolder:{type:"ArrowParameterPlaceHolder"}},be={Data:1,Get:2,Set:4},we={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},xe={NonAsciiIdentifierStart:new RegExp("[--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]"),NonAsciiIdentifierPart:new RegExp("[--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]")},H.prototype=V.prototype={processComment:function(){var t,e,n,i,r,o=Te.bottomRightStack,s=o[o.length-1];if(!(this.type===ve.Program&&this.body.length>0)){if(Te.trailingComments.length>0){for(n=[],i=Te.trailingComments.length-1;i>=0;--i)r=Te.trailingComments[i],r.range[0]>=this.range[1]&&(n.unshift(r),Te.trailingComments.splice(i,1));Te.trailingComments=[]}else s&&s.trailingComments&&s.trailingComments[0].range[0]>=this.range[1]&&(n=s.trailingComments,delete s.trailingComments);if(s)for(;s&&s.range[0]>=this.range[0];)t=s,s=o.pop();if(t)t.leadingComments&&t.leadingComments[t.leadingComments.length-1].range[1]<=this.range[0]&&(this.leadingComments=t.leadingComments,t.leadingComments=void 0);else if(Te.leadingComments.length>0)for(e=[],i=Te.leadingComments.length-1;i>=0;--i)r=Te.leadingComments[i],r.range[1]<=this.range[0]&&(e.unshift(r),Te.leadingComments.splice(i,1));e&&e.length>0&&(this.leadingComments=e),n&&n.length>0&&(this.trailingComments=n),o.push(this)}},finish:function(){Te.range&&(this.range[1]=Ce),Te.loc&&(this.loc.end=new N,Te.source&&(this.loc.source=Te.source)),Te.attachComment&&this.processComment()},finishArrayExpression:function(t){return this.type=ve.ArrayExpression,this.elements=t,this.finish(),this},finishArrowFunctionExpression:function(t,e,n,i){return this.type=ve.ArrowFunctionExpression,
this.id=null,this.params=t,this.defaults=e,this.body=n,this.rest=null,this.generator=!1,this.expression=i,this.finish(),this},finishAssignmentExpression:function(t,e,n){return this.type=ve.AssignmentExpression,this.operator=t,this.left=e,this.right=n,this.finish(),this},finishBinaryExpression:function(t,e,n){return this.type="||"===t||"&&"===t?ve.LogicalExpression:ve.BinaryExpression,this.operator=t,this.left=e,this.right=n,this.finish(),this},finishBlockStatement:function(t){return this.type=ve.BlockStatement,this.body=t,this.finish(),this},finishBreakStatement:function(t){return this.type=ve.BreakStatement,this.label=t,this.finish(),this},finishCallExpression:function(t,e){return this.type=ve.CallExpression,this.callee=t,this.arguments=e,this.finish(),this},finishCatchClause:function(t,e){return this.type=ve.CatchClause,this.param=t,this.body=e,this.finish(),this},finishConditionalExpression:function(t,e,n){return this.type=ve.ConditionalExpression,this.test=t,this.consequent=e,this.alternate=n,this.finish(),this},finishContinueStatement:function(t){return this.type=ve.ContinueStatement,this.label=t,this.finish(),this},finishDebuggerStatement:function(){return this.type=ve.DebuggerStatement,this.finish(),this},finishDoWhileStatement:function(t,e){return this.type=ve.DoWhileStatement,this.body=t,this.test=e,this.finish(),this},finishEmptyStatement:function(){return this.type=ve.EmptyStatement,this.finish(),this},finishExpressionStatement:function(t){return this.type=ve.ExpressionStatement,this.expression=t,this.finish(),this},finishForStatement:function(t,e,n,i){return this.type=ve.ForStatement,this.init=t,this.test=e,this.update=n,this.body=i,this.finish(),this},finishForInStatement:function(t,e,n){return this.type=ve.ForInStatement,this.left=t,this.right=e,this.body=n,this.each=!1,this.finish(),this},finishFunctionDeclaration:function(t,e,n,i){return this.type=ve.FunctionDeclaration,this.id=t,this.params=e,this.defaults=n,this.body=i,this.rest=null,this.generator=!1,this.expression=!1,this.finish(),this},finishFunctionExpression:function(t,e,n,i){return this.type=ve.FunctionExpression,this.id=t,this.params=e,this.defaults=n,this.body=i,this.rest=null,this.generator=!1,this.expression=!1,this.finish(),this},finishIdentifier:function(t){return this.type=ve.Identifier,this.name=t,this.finish(),this},finishIfStatement:function(t,e,n){return this.type=ve.IfStatement,this.test=t,this.consequent=e,this.alternate=n,this.finish(),this},finishLabeledStatement:function(t,e){return this.type=ve.LabeledStatement,this.label=t,this.body=e,this.finish(),this},finishLiteral:function(t){return this.type=ve.Literal,this.value=t.value,this.raw=_e.slice(t.start,t.end),t.regex&&(this.regex=t.regex),this.finish(),this},finishMemberExpression:function(t,e,n){return this.type=ve.MemberExpression,this.computed="["===t,this.object=e,this.property=n,this.finish(),this},finishNewExpression:function(t,e){return this.type=ve.NewExpression,this.callee=t,this.arguments=e,this.finish(),this},finishObjectExpression:function(t){return this.type=ve.ObjectExpression,this.properties=t,this.finish(),this},finishPostfixExpression:function(t,e){return this.type=ve.UpdateExpression,this.operator=t,this.argument=e,this.prefix=!1,this.finish(),this},finishProgram:function(t){return this.type=ve.Program,this.body=t,this.finish(),this},finishProperty:function(t,e,n,i,r){return this.type=ve.Property,this.key=e,this.value=n,this.kind=t,this.method=i,this.shorthand=r,this.finish(),this},finishReturnStatement:function(t){return this.type=ve.ReturnStatement,this.argument=t,this.finish(),this},finishSequenceExpression:function(t){return this.type=ve.SequenceExpression,this.expressions=t,this.finish(),this},finishSwitchCase:function(t,e){return this.type=ve.SwitchCase,this.test=t,this.consequent=e,this.finish(),this},finishSwitchStatement:function(t,e){return this.type=ve.SwitchStatement,this.discriminant=t,this.cases=e,this.finish(),this},finishThisExpression:function(){return this.type=ve.ThisExpression,this.finish(),this},finishThrowStatement:function(t){return this.type=ve.ThrowStatement,this.argument=t,this.finish(),this},finishTryStatement:function(t,e,n,i){return this.type=ve.TryStatement,this.block=t,this.guardedHandlers=e,this.handlers=n,this.finalizer=i,this.finish(),this},finishUnaryExpression:function(t,e){return this.type="++"===t||"--"===t?ve.UpdateExpression:ve.UnaryExpression,this.operator=t,this.argument=e,this.prefix=!0,this.finish(),this},finishVariableDeclaration:function(t,e){return this.type=ve.VariableDeclaration,this.declarations=t,this.kind=e,this.finish(),this},finishVariableDeclarator:function(t,e){return this.type=ve.VariableDeclarator,this.id=t,this.init=e,this.finish(),this},finishWhileStatement:function(t,e){return this.type=ve.WhileStatement,this.test=t,this.body=e,this.finish(),this},finishWithStatement:function(t,e){return this.type=ve.WithStatement,this.object=t,this.body=e,this.finish(),this}},t.version="2.0.0",t.tokenize=de,t.parse=fe,t.Syntax=function(){var t,e={};"function"==typeof Object.create&&(e=Object.create(null));for(t in ve)ve.hasOwnProperty(t)&&(e[t]=ve[t]);return"function"==typeof Object.freeze&&Object.freeze(e),e}()}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.avsc=t()}}(function(){return function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return r(n?n:t)},c,c.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){"use strict";function i(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,n=t.length;n>e;++e)l[e]=t[e],u[t.charCodeAt(e)]=e;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63}function r(t){var e,n,i,r,o,s,a=t.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===t[a-2]?2:"="===t[a-1]?1:0,s=new c(3*a/4-o),i=o>0?a-4:a;var l=0;for(e=0,n=0;i>e;e+=4,n+=3)r=u[t.charCodeAt(e)]<<18|u[t.charCodeAt(e+1)]<<12|u[t.charCodeAt(e+2)]<<6|u[t.charCodeAt(e+3)],s[l++]=r>>16&255,s[l++]=r>>8&255,s[l++]=255&r;return 2===o?(r=u[t.charCodeAt(e)]<<2|u[t.charCodeAt(e+1)]>>4,s[l++]=255&r):1===o&&(r=u[t.charCodeAt(e)]<<10|u[t.charCodeAt(e+1)]<<4|u[t.charCodeAt(e+2)]>>2,s[l++]=r>>8&255,s[l++]=255&r),s}function o(t){return l[t>>18&63]+l[t>>12&63]+l[t>>6&63]+l[63&t]}function s(t,e,n){for(var i,r=[],s=e;n>s;s+=3)i=(t[s]<<16)+(t[s+1]<<8)+t[s+2],r.push(o(i));return r.join("")}function a(t){for(var e,n=t.length,i=n%3,r="",o=[],a=16383,u=0,c=n-i;c>u;u+=a)o.push(s(t,u,u+a>c?c:u+a));return 1===i?(e=t[n-1],r+=l[e>>2],r+=l[e<<4&63],r+="=="):2===i&&(e=(t[n-2]<<8)+t[n-1],r+=l[e>>10],r+=l[e>>4&63],r+=l[e<<2&63],r+="="),o.push(r),o.join("")}n.toByteArray=r,n.fromByteArray=a;var l=[],u=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array;i()},{}],2:[function(t,e,n){},{}],3:[function(t,e,n){(function(e){"use strict";var i=t("buffer"),r=i.Buffer,o=i.SlowBuffer,s=i.kMaxLength||2147483647;n.alloc=function(t,e,n){if("function"==typeof r.alloc)return r.alloc(t,e,n);if("number"==typeof n)throw new TypeError("encoding must not be number");if("number"!=typeof t)throw new TypeError("size must be a number");if(t>s)throw new RangeError("size is too large");var i=n,o=e;void 0===o&&(i=void 0,o=0);var a=new r(t);if("string"==typeof o)for(var l=new r(o,i),u=l.length,c=-1;++c<t;)a[c]=l[c%u];else a.fill(o);return a},n.allocUnsafe=function(t){if("function"==typeof r.allocUnsafe)return r.allocUnsafe(t);if("number"!=typeof t)throw new TypeError("size must be a number");if(t>s)throw new RangeError("size is too large");return new r(t)},n.from=function(t,n,i){if("function"==typeof r.from&&(!e.Uint8Array||Uint8Array.from!==r.from))return r.from(t,n,i);if("number"==typeof t)throw new TypeError('"value" argument must not be a number');if("string"==typeof t)return new r(t,n);if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer){var o=n;if(1===arguments.length)return new r(t);"undefined"==typeof o&&(o=0);var s=i;if("undefined"==typeof s&&(s=t.byteLength-o),o>=t.byteLength)throw new RangeError("'offset' is out of bounds");if(s>t.byteLength-o)throw new RangeError("'length' is out of bounds");return new r(t.slice(o,o+s))}if(r.isBuffer(t)){var a=new r(t.length);return t.copy(a,0,0,t.length),a}if(t){if(Array.isArray(t)||"undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return new r(t);if("Buffer"===t.type&&Array.isArray(t.data))return new r(t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},n.allocUnsafeSlow=function(t){if("function"==typeof r.allocUnsafeSlow)return r.allocUnsafeSlow(t);if("number"!=typeof t)throw new TypeError("size must be a number");if(t>=s)throw new RangeError("size is too large");return new o(t)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{buffer:4}],4:[function(t,e,n){(function(e){"use strict";function i(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function r(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,e){if(r()<e)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=s.prototype):(null===t&&(t=new s(e)),t.length=e),t}function s(t,e,n){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return a(this,t,e,n)}function a(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?f(t,e,n,i):"string"==typeof e?h(t,e,n):p(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number')}function u(t,e,n,i){return l(e),0>=e?o(t,e):void 0!==n?"string"==typeof i?o(t,e).fill(n,i):o(t,e).fill(n):o(t,e)}function c(t,e){if(l(e),t=o(t,0>e?0:0|g(e)),!s.TYPED_ARRAY_SUPPORT)for(var n=0;e>n;++n)t[n]=0;return t}function h(t,e,n){if(("string"!=typeof n||""===n)&&(n="utf8"),!s.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|v(e,n);return t=o(t,i),t.write(e,n),t}function d(t,e){var n=0|g(e.length);t=o(t,n);for(var i=0;n>i;i+=1)t[i]=255&e[i];return t}function f(t,e,n,i){if(e.byteLength,0>n||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return e=void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i),s.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=s.prototype):t=d(t,e),t}function p(t,e){if(s.isBuffer(e)){var n=0|g(e.length);return t=o(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||X(e.length)?o(t,0):d(t,e);if("Buffer"===e.type&&Z(e.data))return d(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function g(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function m(t){return+t!=t&&(t=0),s.alloc(+t)}function v(t,e){if(s.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":case void 0:return H(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(t).length;default:if(i)return H(t).length;e=(""+e).toLowerCase(),i=!0}}function y(t,e,n){var i=!1;if((void 0===e||0>e)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),0>=n)return"";if(n>>>=0,e>>>=0,e>=n)return"";for(t||(t="utf8");;)switch(t){case"hex":return M(this,e,n);case"utf8":case"utf-8":return k(this,e,n);case"ascii":return T(this,e,n);case"binary":return F(this,e,n);case"base64":return S(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function b(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function w(t,e,n,i){function r(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}var o=1,s=t.length,a=e.length;if(void 0!==i&&(i=String(i).toLowerCase(),"ucs2"===i||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;o=2,s/=2,a/=2,n/=2}for(var l=-1,u=n;s>u;++u)if(r(t,u)===r(e,-1===l?0:u-l)){if(-1===l&&(l=u),u-l+1===a)return l*o}else-1!==l&&(u-=u-l),l=-1;return-1}function x(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i),i>r&&(i=r)):i=r;var o=e.length;if(o%2!==0)throw new Error("Invalid hex string");i>o/2&&(i=o/2);for(var s=0;i>s;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function _(t,e,n,i){return K(H(e,t.length-n),t,n,i)}function $(t,e,n,i){return K(W(e),t,n,i)}function C(t,e,n,i){return $(t,e,n,i)}function A(t,e,n,i){return K(q(e),t,n,i)}function E(t,e,n,i){return K(Y(e,t.length-n),t,n,i)}function S(t,e,n){return 0===e&&n===t.length?G.fromByteArray(t):G.fromByteArray(t.slice(e,n))}function k(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;n>r;){var o=t[r],s=null,a=o>239?4:o>223?3:o>191?2:1;if(n>=r+a){var l,u,c,h;switch(a){case 1:128>o&&(s=o);break;case 2:l=t[r+1],128===(192&l)&&(h=(31&o)<<6|63&l,h>127&&(s=h));break;case 3:l=t[r+1],u=t[r+2],128===(192&l)&&128===(192&u)&&(h=(15&o)<<12|(63&l)<<6|63&u,h>2047&&(55296>h||h>57343)&&(s=h));break;case 4:l=t[r+1],u=t[r+2],c=t[r+3],128===(192&l)&&128===(192&u)&&128===(192&c)&&(h=(15&o)<<18|(63&l)<<12|(63&u)<<6|63&c,h>65535&&1114112>h&&(s=h))}}null===s?(s=65533,a=1):s>65535&&(s-=65536,i.push(s>>>10&1023|55296),s=56320|1023&s),i.push(s),r+=a}return D(i)}function D(t){var e=t.length;if(Q>=e)return String.fromCharCode.apply(String,t);for(var n="",i=0;e>i;)n+=String.fromCharCode.apply(String,t.slice(i,i+=Q));return n}function T(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;n>r;++r)i+=String.fromCharCode(127&t[r]);return i}function F(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;n>r;++r)i+=String.fromCharCode(t[r]);return i}function M(t,e,n){var i=t.length;(!e||0>e)&&(e=0),(!n||0>n||n>i)&&(n=i);for(var r="",o=e;n>o;++o)r+=V(t[o]);return r}function L(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function O(t,e,n){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,n,i,r,o){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||o>e)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function B(t,e,n,i){0>e&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-n,2);o>r;++r)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function I(t,e,n,i){0>e&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-n,4);o>r;++r)t[n+r]=e>>>8*(i?r:3-r)&255}function R(t,e,n,i,r,o){if(n+i>t.length)throw new RangeError("Index out of range");if(0>n)throw new RangeError("Index out of range")}function j(t,e,n,i,r){return r||R(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(t,e,n,i,23,4),n+4}function N(t,e,n,i,r){return r||R(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(t,e,n,i,52,8),n+8}function z(t){if(t=U(t).replace(tt,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function U(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function V(t){return 16>t?"0"+t.toString(16):t.toString(16)}function H(t,e){e=e||1/0;for(var n,i=t.length,r=null,o=[],s=0;i>s;++s){if(n=t.charCodeAt(s),n>55295&&57344>n){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(56320>n){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=(r-55296<<10|n-56320)+65536}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,128>n){if((e-=1)<0)break;o.push(n)}else if(2048>n){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(65536>n){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function W(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function Y(t,e){for(var n,i,r,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),i=n>>8,r=n%256,o.push(r),o.push(i);return o}function q(t){return G.toByteArray(z(t))}function K(t,e,n,i){for(var r=0;i>r&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}function X(t){return t!==t}var G=t("base64-js"),J=t("ieee754"),Z=t("isarray");n.Buffer=s,n.SlowBuffer=m,n.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:i(),n.kMaxLength=r(),s.poolSize=8192,s._augment=function(t){return t.__proto__=s.prototype,t},s.from=function(t,e,n){return a(null,t,e,n)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(t,e,n){return u(null,t,e,n)},s.allocUnsafe=function(t){return c(null,t)},s.allocUnsafeSlow=function(t){return c(null,t)},s.isBuffer=function(t){return!(null==t||!t._isBuffer)},s.compare=function(t,e){if(!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,o=Math.min(n,i);o>r;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return i>n?-1:n>i?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!Z(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=s.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var o=t[n];if(!s.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,r),r+=o.length}return i},s.byteLength=v,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;t>e;e+=2)b(this,e,e+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;t>e;e+=4)b(this,e,e+3),b(this,e+1,e+2);return this},s.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?k(this,0,t):y.apply(this,arguments)},s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:0===s.compare(this,t)},s.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},s.prototype.compare=function(t,e,n,i,r){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),0>e||n>t.length||0>i||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,r>>>=0,this===t)return 0;for(var o=r-i,a=n-e,l=Math.min(o,a),u=this.slice(i,r),c=t.slice(e,n),h=0;l>h;++h)if(u[h]!==c[h]){o=u[h],a=c[h];break}return a>o?-1:o>a?1:0},s.prototype.indexOf=function(t,e,n){if("string"==typeof e?(n=e,e=0):e>2147483647?e=2147483647:-2147483648>e&&(e=-2147483648),e>>=0,0===this.length)return-1;if(e>=this.length)return-1;if(0>e&&(e=Math.max(this.length+e,0)),"string"==typeof t&&(t=s.from(t,n)),s.isBuffer(t))return 0===t.length?-1:w(this,t,e,n);if("number"==typeof t)return s.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,e):w(this,[t],e,n);throw new TypeError("val must be string, number or Buffer")},s.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},s.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e=0|e,isFinite(n)?(n=0|n,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(0>n||0>e)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return x(this,t,e,n);case"utf8":case"utf-8":return _(this,t,e,n);case"ascii":return $(this,t,e,n);case"binary":return C(this,t,e,n);case"base64":return A(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;s.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),t>e&&(e=t);var i;if(s.TYPED_ARRAY_SUPPORT)i=this.subarray(t,e),i.__proto__=s.prototype;else{var r=e-t;i=new s(r,void 0);for(var o=0;r>o;++o)i[o]=this[o+t]}return i},s.prototype.readUIntLE=function(t,e,n){t=0|t,e=0|e,n||O(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i},s.prototype.readUIntBE=function(t,e,n){t=0|t,e=0|e,n||O(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},s.prototype.readUInt8=function(t,e){return e||O(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,e){return e||O(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,e){return e||O(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,e){return e||O(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,e){return e||O(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,e,n){t=0|t,e=0|e,n||O(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*e)),i},s.prototype.readIntBE=function(t,e,n){t=0|t,e=0|e,n||O(t,e,this.length);for(var i=e,r=1,o=this[t+--i];i>0&&(r*=256);)o+=this[t+--i]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*e)),o},s.prototype.readInt8=function(t,e){return e||O(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,e){e||O(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(t,e){e||O(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(t,e){return e||O(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return e||O(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,e){return e||O(t,4,this.length),J.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return e||O(t,4,this.length),J.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return e||O(t,8,this.length),J.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return e||O(t,8,this.length),J.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,e,n,i){if(t=+t,e=0|e,n=0|n,!i){var r=Math.pow(2,8*n)-1;P(this,t,e,n,r,0)}var o=1,s=0;for(this[e]=255&t;++s<n&&(o*=256);)this[e+s]=t/o&255;return e+n},s.prototype.writeUIntBE=function(t,e,n,i){if(t=+t,e=0|e,n=0|n,!i){var r=Math.pow(2,8*n)-1;P(this,t,e,n,r,0)}var o=n-1,s=1;for(this[e+o]=255&t;--o>=0&&(s*=256);)this[e+o]=t/s&255;return e+n},s.prototype.writeUInt8=function(t,e,n){return t=+t,e=0|e,n||P(this,t,e,1,255,0),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},s.prototype.writeUInt16LE=function(t,e,n){return t=+t,e=0|e,n||P(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):B(this,t,e,!0),e+2},s.prototype.writeUInt16BE=function(t,e,n){return t=+t,e=0|e,n||P(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):B(this,t,e,!1),e+2},s.prototype.writeUInt32LE=function(t,e,n){return t=+t,e=0|e,n||P(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):I(this,t,e,!0),e+4},s.prototype.writeUInt32BE=function(t,e,n){return t=+t,e=0|e,n||P(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):I(this,t,e,!1),e+4},s.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e=0|e,!i){var r=Math.pow(2,8*n-1);P(this,t,e,n,r-1,-r)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)0>t&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},s.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e=0|e,!i){var r=Math.pow(2,8*n-1);P(this,t,e,n,r-1,-r)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)0>t&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},s.prototype.writeInt8=function(t,e,n){return t=+t,e=0|e,n||P(this,t,e,1,127,-128),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,n){return t=+t,e=0|e,n||P(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):B(this,t,e,!0),e+2},s.prototype.writeInt16BE=function(t,e,n){return t=+t,e=0|e,n||P(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):B(this,t,e,!1),e+2},s.prototype.writeInt32LE=function(t,e,n){return t=+t,e=0|e,n||P(this,t,e,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):I(this,t,e,!0),e+4},s.prototype.writeInt32BE=function(t,e,n){return t=+t,e=0|e,n||P(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):I(this,t,e,!1),e+4},s.prototype.writeFloatLE=function(t,e,n){return j(this,t,e,!0,n)},s.prototype.writeFloatBE=function(t,e,n){return j(this,t,e,!1,n)},s.prototype.writeDoubleLE=function(t,e,n){return N(this,t,e,!0,n)},s.prototype.writeDoubleBE=function(t,e,n){return N(this,t,e,!1,n)},s.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&n>i&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>i)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,o=i-n;if(this===t&&e>n&&i>e)for(r=o-1;r>=0;--r)t[r+e]=this[r+n];else if(1e3>o||!s.TYPED_ARRAY_SUPPORT)for(r=0;o>r;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},s.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var r=t.charCodeAt(0);256>r&&(t=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!s.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t=255&t);if(0>e||this.length<e||this.length<n)throw new RangeError("Out of range index");if(e>=n)return this;e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0);var o;if("number"==typeof t)for(o=e;n>o;++o)this[o]=t;else{var a=s.isBuffer(t)?t:H(new s(t,i).toString()),l=a.length;for(o=0;n-e>o;++o)this[o+e]=a[o%l]}return this};var tt=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:7,isarray:10}],5:[function(t,e,n){(function(t){function e(t){return Array.isArray?Array.isArray(t):"[object Array]"===m(t)}function i(t){return"boolean"==typeof t}function r(t){return null===t}function o(t){return null==t}function s(t){return"number"==typeof t}function a(t){return"string"==typeof t}function l(t){return"symbol"==typeof t}function u(t){return void 0===t}function c(t){return"[object RegExp]"===m(t)}function h(t){return"object"==typeof t&&null!==t}function d(t){return"[object Date]"===m(t)}function f(t){return"[object Error]"===m(t)||t instanceof Error}function p(t){return"function"==typeof t}function g(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function m(t){return Object.prototype.toString.call(t)}n.isArray=e,n.isBoolean=i,n.isNull=r,n.isNullOrUndefined=o,n.isNumber=s,n.isString=a,n.isSymbol=l,n.isUndefined=u,n.isRegExp=c,n.isObject=h,n.isDate=d,n.isError=f,n.isFunction=p,n.isPrimitive=g,n.isBuffer=t.isBuffer}).call(this,{isBuffer:t("../../is-buffer/index.js")})},{"../../is-buffer/index.js":9}],6:[function(t,e,n){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function o(t){return"number"==typeof t}function s(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(t){if(!o(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},i.prototype.emit=function(t){var e,n,i,o,l,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}if(n=this._events[t],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(s(n))for(o=Array.prototype.slice.call(arguments,1),u=n.slice(),i=u.length,l=0;i>l;l++)u[l].apply(this,o);return!0},i.prototype.addListener=function(t,e){var n;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned&&(n=a(this._maxListeners)?i.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},i.prototype.removeListener=function(t,e){
var n,i,o,a;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],o=n.length,i=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(n)){for(a=o;a-- >0;)if(n[a]===e||n[a].listener&&n[a].listener===e){i=a;break}if(0>i)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},i.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},i.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},i.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},i.listenerCount=function(t,e){return t.listenerCount(e)}},{}],7:[function(t,e,n){n.read=function(t,e,n,i,r){var o,s,a=8*r-i-1,l=(1<<a)-1,u=l>>1,c=-7,h=n?r-1:0,d=n?-1:1,f=t[e+h];for(h+=d,o=f&(1<<-c)-1,f>>=-c,c+=a;c>0;o=256*o+t[e+h],h+=d,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=i;c>0;s=256*s+t[e+h],h+=d,c-=8);if(0===o)o=1-u;else{if(o===l)return s?NaN:(f?-1:1)*(1/0);s+=Math.pow(2,i),o-=u}return(f?-1:1)*s*Math.pow(2,o-i)},n.write=function(t,e,n,i,r,o){var s,a,l,u=8*o-r-1,c=(1<<u)-1,h=c>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:o-1,p=i?1:-1,g=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),e+=s+h>=1?d/l:d*Math.pow(2,1-h),e*l>=2&&(s++,l/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(e*l-1)*Math.pow(2,r),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,r),s=0));r>=8;t[n+f]=255&a,f+=p,a/=256,r-=8);for(s=s<<r|a,u+=r;u>0;t[n+f]=255&s,f+=p,s/=256,u-=8);t[n+f-p]|=128*g}},{}],8:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],9:[function(t,e,n){e.exports=function(t){return!(null==t||!(t._isBuffer||t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)))}},{}],10:[function(t,e,n){var i={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},{}],11:[function(t,e,n){(function(t){function e(t,e){for(var n=0,i=t.length-1;i>=0;i--){var r=t[i];"."===r?t.splice(i,1):".."===r?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function i(t,e){if(t.filter)return t.filter(e);for(var n=[],i=0;i<t.length;i++)e(t[i],i,t)&&n.push(t[i]);return n}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return r.exec(t).slice(1)};n.resolve=function(){for(var n="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var s=o>=0?arguments[o]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(n=s+"/"+n,r="/"===s.charAt(0))}return n=e(i(n.split("/"),function(t){return!!t}),!r).join("/"),(r?"/":"")+n||"."},n.normalize=function(t){var r=n.isAbsolute(t),o="/"===s(t,-1);return t=e(i(t.split("/"),function(t){return!!t}),!r).join("/"),t||r||(t="."),t&&o&&(t+="/"),(r?"/":"")+t},n.isAbsolute=function(t){return"/"===t.charAt(0)},n.join=function(){var t=Array.prototype.slice.call(arguments,0);return n.normalize(i(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},n.relative=function(t,e){function i(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=n.resolve(t).substr(1),e=n.resolve(e).substr(1);for(var r=i(t.split("/")),o=i(e.split("/")),s=Math.min(r.length,o.length),a=s,l=0;s>l;l++)if(r[l]!==o[l]){a=l;break}for(var u=[],l=a;l<r.length;l++)u.push("..");return u=u.concat(o.slice(a)),u.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(t){var e=o(t),n=e[0],i=e[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},n.basename=function(t,e){var n=o(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},n.extname=function(t){return o(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return 0>e&&(e=t.length+e),t.substr(e,n)}}).call(this,t("_process"))},{_process:13}],12:[function(t,e,n){(function(t){"use strict";function n(e,n,i,r){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,i)});case 4:return t.nextTick(function(){e.call(null,n,i,r)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return t.nextTick(function(){e.apply(null,o)})}}!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports=n:e.exports=t.nextTick}).call(this,t("_process"))},{_process:13}],13:[function(t,e,n){function i(){d&&c&&(d=!1,c.length?h=c.concat(h):f=-1,h.length&&r())}function r(){if(!d){var t=a(i);d=!0;for(var e=h.length;e;){for(c=h,h=[];++f<e;)c&&c[f].run();f=-1,e=h.length}c=null,d=!1,l(t)}}function o(t,e){this.fun=t,this.array=e}function s(){}var a,l,u=e.exports={};!function(){try{a=setTimeout}catch(t){a=function(){throw new Error("setTimeout is not defined")}}try{l=clearTimeout}catch(t){l=function(){throw new Error("clearTimeout is not defined")}}}();var c,h=[],d=!1,f=-1;u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new o(t,e)),1!==h.length||d||a(r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=s,u.addListener=s,u.once=s,u.off=s,u.removeListener=s,u.removeAllListeners=s,u.emit=s,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],14:[function(t,e,n){e.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":15}],15:[function(t,e,n){"use strict";function i(t){return this instanceof i?(u.call(this,t),c.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",r)):new i(t)}function r(){this.allowHalfOpen||this._writableState.ended||a(o,this)}function o(t){t.end()}var s=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};e.exports=i;var a=t("process-nextick-args"),l=t("core-util-is");l.inherits=t("inherits");var u=t("./_stream_readable"),c=t("./_stream_writable");l.inherits(i,u);for(var h=s(c.prototype),d=0;d<h.length;d++){var f=h[d];i.prototype[f]||(i.prototype[f]=c.prototype[f])}},{"./_stream_readable":17,"./_stream_writable":19,"core-util-is":5,inherits:8,"process-nextick-args":12}],16:[function(t,e,n){"use strict";function i(t){return this instanceof i?void r.call(this,t):new i(t)}e.exports=i;var r=t("./_stream_transform"),o=t("core-util-is");o.inherits=t("inherits"),o.inherits(i,r),i.prototype._transform=function(t,e,n){n(null,t)}},{"./_stream_transform":18,"core-util-is":5,inherits:8}],17:[function(t,e,n){(function(n){"use strict";function i(t,e,n){return R?t.prependListener(e,n):void(t._events&&t._events[e]?S(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n))}function r(e,n){I=I||t("./_stream_duplex"),e=e||{},this.objectMode=!!e.objectMode,n instanceof I&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,r=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(B||(B=t("string_decoder/").StringDecoder),this.decoder=new B(e.encoding),this.encoding=e.encoding)}function o(e){return I=I||t("./_stream_duplex"),this instanceof o?(this._readableState=new r(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),void k.call(this)):new o(e)}function s(t,e,n,i,r){var o=c(e,n);if(o)t.emit("error",o);else if(null===n)e.reading=!1,h(t,e);else if(e.objectMode||n&&n.length>0)if(e.ended&&!r){var s=new Error("stream.push() after EOF");t.emit("error",s)}else if(e.endEmitted&&r){var l=new Error("stream.unshift() after end event");t.emit("error",l)}else{var u;!e.decoder||r||i||(n=e.decoder.write(n),u=!e.objectMode&&0===n.length),r||(e.reading=!1),u||(e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&d(t))),p(t,e)}else r||(e.reading=!1);return a(e)}function a(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}function l(t){return t>=j?t=j:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function u(t,e){return 0===e.length&&e.ended?0:e.objectMode?0===t?0:1:null===t||isNaN(t)?e.flowing&&e.buffer.length?e.buffer[0].length:e.length:0>=t?0:(t>e.highWaterMark&&(e.highWaterMark=l(t)),t>e.length?e.ended?e.length:(e.needReadable=!0,0):t)}function c(t,e){var n=null;return F.isBuffer(e)||"string"==typeof e||null===e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function h(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,d(t)}}function d(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(P("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?E(f,t):f(t))}function f(t){P("emit readable"),t.emit("readable"),w(t)}function p(t,e){e.readingMore||(e.readingMore=!0,E(g,t,e))}function g(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(P("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function m(t){return function(){var e=t._readableState;P("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&T(t,"data")&&(e.flowing=!0,w(t))}}function v(t){P("readable nexttick read 0"),t.read(0)}function y(t,e){e.resumeScheduled||(e.resumeScheduled=!0,E(b,t,e))}function b(t,e){e.reading||(P("resume read 0"),t.read(0)),e.resumeScheduled=!1,t.emit("resume"),w(t),e.flowing&&!e.reading&&t.read(0)}function w(t){var e=t._readableState;if(P("flow",e.flowing),e.flowing)do var n=t.read();while(null!==n&&e.flowing)}function x(t,e){var n,i=e.buffer,r=e.length,o=!!e.decoder,s=!!e.objectMode;if(0===i.length)return null;if(0===r)n=null;else if(s)n=i.shift();else if(!t||t>=r)n=o?i.join(""):1===i.length?i[0]:F.concat(i,r),i.length=0;else if(t<i[0].length){var a=i[0];n=a.slice(0,t),i[0]=a.slice(t)}else if(t===i[0].length)n=i.shift();else{n=o?"":M.allocUnsafe(t);for(var l=0,u=0,c=i.length;c>u&&t>l;u++){var h=i[0],d=Math.min(t-l,h.length);o?n+=h.slice(0,d):h.copy(n,l,0,d),d<h.length?i[0]=h.slice(d):i.shift(),l+=d}}return n}function _(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,E($,e,t))}function $(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function C(t,e){for(var n=0,i=t.length;i>n;n++)e(t[n],n)}function A(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1}e.exports=o;var E=t("process-nextick-args"),S=t("isarray");o.ReadableState=r;var k,D=t("events").EventEmitter,T=function(t,e){return t.listeners(e).length};!function(){try{k=t("stream")}catch(e){}finally{k||(k=t("events").EventEmitter)}}();var F=t("buffer").Buffer,M=t("buffer-shims"),L=t("core-util-is");L.inherits=t("inherits");var O=t("util"),P=void 0;P=O&&O.debuglog?O.debuglog("stream"):function(){};var B;L.inherits(o,k);var I,I,R="function"==typeof D.prototype.prependListener;o.prototype.push=function(t,e){var n=this._readableState;return n.objectMode||"string"!=typeof t||(e=e||n.defaultEncoding,e!==n.encoding&&(t=M.from(t,e),e="")),s(this,n,t,e,!1)},o.prototype.unshift=function(t){var e=this._readableState;return s(this,e,t,"",!0)},o.prototype.isPaused=function(){return this._readableState.flowing===!1},o.prototype.setEncoding=function(e){return B||(B=t("string_decoder/").StringDecoder),this._readableState.decoder=new B(e),this._readableState.encoding=e,this};var j=8388608;o.prototype.read=function(t){P("read",t);var e=this._readableState,n=t;if(("number"!=typeof t||t>0)&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return P("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?_(this):d(this),null;if(t=u(t,e),0===t&&e.ended)return 0===e.length&&_(this),null;var i=e.needReadable;P("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&(i=!0,P("length less than watermark",i)),(e.ended||e.reading)&&(i=!1,P("reading or ended",i)),i&&(P("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1),i&&!e.reading&&(t=u(n,e));var r;return r=t>0?x(t,e):null,null===r&&(e.needReadable=!0,t=0),e.length-=t,0!==e.length||e.ended||(e.needReadable=!0),n!==t&&e.ended&&0===e.length&&_(this),null!==r&&this.emit("data",r),r},o.prototype._read=function(t){this.emit("error",new Error("not implemented"))},o.prototype.pipe=function(t,e){function r(t){P("onunpipe"),t===d&&s()}function o(){P("onend"),t.end()}function s(){P("cleanup"),t.removeListener("close",u),t.removeListener("finish",c),t.removeListener("drain",v),t.removeListener("error",l),t.removeListener("unpipe",r),d.removeListener("end",o),d.removeListener("end",s),d.removeListener("data",a),y=!0,!f.awaitDrain||t._writableState&&!t._writableState.needDrain||v()}function a(e){P("ondata");var n=t.write(e);!1===n&&((1===f.pipesCount&&f.pipes===t||f.pipesCount>1&&-1!==A(f.pipes,t))&&!y&&(P("false write response, pause",d._readableState.awaitDrain),d._readableState.awaitDrain++),d.pause())}function l(e){P("onerror",e),h(),t.removeListener("error",l),0===T(t,"error")&&t.emit("error",e)}function u(){t.removeListener("finish",c),h()}function c(){P("onfinish"),t.removeListener("close",u),h()}function h(){P("unpipe"),d.unpipe(t)}var d=this,f=this._readableState;switch(f.pipesCount){case 0:f.pipes=t;break;case 1:f.pipes=[f.pipes,t];break;default:f.pipes.push(t)}f.pipesCount+=1,P("pipe count=%d opts=%j",f.pipesCount,e);var p=(!e||e.end!==!1)&&t!==n.stdout&&t!==n.stderr,g=p?o:s;f.endEmitted?E(g):d.once("end",g),t.on("unpipe",r);var v=m(d);t.on("drain",v);var y=!1;return d.on("data",a),i(t,"error",l),t.once("close",u),t.once("finish",c),t.emit("pipe",d),f.flowing||(P("pipe resume"),d.resume()),t},o.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var r=0;i>r;r++)n[r].emit("unpipe",this);return this}var o=A(e.pipes,t);return-1===o?this:(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this),this)},o.prototype.on=function(t,e){var n=k.prototype.on.call(this,t,e);if("data"===t&&!1!==this._readableState.flowing&&this.resume(),"readable"===t&&!this._readableState.endEmitted){var i=this._readableState;i.readableListening||(i.readableListening=!0,i.emittedReadable=!1,i.needReadable=!0,i.reading?i.length&&d(this,i):E(v,this))}return n},o.prototype.addListener=o.prototype.on,o.prototype.resume=function(){var t=this._readableState;return t.flowing||(P("resume"),t.flowing=!0,y(this,t)),this},o.prototype.pause=function(){return P("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(P("pause"),this._readableState.flowing=!1,this.emit("pause")),this},o.prototype.wrap=function(t){var e=this._readableState,n=!1,i=this;t.on("end",function(){if(P("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&i.push(t)}i.push(null)}),t.on("data",function(r){if(P("wrapped data"),e.decoder&&(r=e.decoder.write(r)),(!e.objectMode||null!==r&&void 0!==r)&&(e.objectMode||r&&r.length)){var o=i.push(r);o||(n=!0,t.pause())}});for(var r in t)void 0===this[r]&&"function"==typeof t[r]&&(this[r]=function(e){return function(){return t[e].apply(t,arguments)}}(r));var o=["error","close","destroy","pause","resume"];return C(o,function(e){t.on(e,i.emit.bind(i,e))}),i._read=function(e){P("wrapped _read",e),n&&(n=!1,t.resume())},i},o._fromList=x}).call(this,t("_process"))},{"./_stream_duplex":15,_process:13,buffer:4,"buffer-shims":3,"core-util-is":5,events:6,inherits:8,isarray:10,"process-nextick-args":12,"string_decoder/":25,util:2}],18:[function(t,e,n){"use strict";function i(t){this.afterTransform=function(e,n){return r(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function r(t,e,n){var i=t._transformState;i.transforming=!1;var r=i.writecb;if(!r)return t.emit("error",new Error("no writecb in Transform class"));i.writechunk=null,i.writecb=null,null!==n&&void 0!==n&&t.push(n),r(e);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}function o(t){if(!(this instanceof o))return new o(t);a.call(this,t),this._transformState=new i(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(t){s(e,t)}):s(e)})}function s(t,e){if(e)return t.emit("error",e);var n=t._writableState,i=t._transformState;if(n.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}e.exports=o;var a=t("./_stream_duplex"),l=t("core-util-is");l.inherits=t("inherits"),l.inherits(o,a),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,a.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,n){throw new Error("Not implemented")},o.prototype._write=function(t,e,n){var i=this._transformState;if(i.writecb=n,i.writechunk=t,i.writeencoding=e,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0}},{"./_stream_duplex":15,"core-util-is":5,inherits:8}],19:[function(t,e,n){(function(n){"use strict";function i(){}function r(t,e,n){this.chunk=t,this.encoding=e,this.callback=n,this.next=null}function o(e,n){T=T||t("./_stream_duplex"),e=e||{},this.objectMode=!!e.objectMode,n instanceof T&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,r=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var o=e.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){p(n,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new _(this)}function s(e){return T=T||t("./_stream_duplex"),this instanceof s||this instanceof T?(this._writableState=new o(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev)),void E.call(this)):new s(e)}function a(t,e){var n=new Error("write after end");t.emit("error",n),$(e,n)}function l(t,e,n,i){var r=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):k.isBuffer(n)||"string"==typeof n||void 0===n||e.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),$(i,o),r=!1),r}function u(t,e,n){return t.objectMode||t.decodeStrings===!1||"string"!=typeof e||(e=D.from(e,n)),e}function c(t,e,n,i,o){n=u(e,n,i),k.isBuffer(n)&&(i="buffer");var s=e.objectMode?1:n.length;e.length+=s;var a=e.length<e.highWaterMark;if(a||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest=new r(n,i,o),l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else h(t,e,!1,s,n,i,o);return a}function h(t,e,n,i,r,o,s){e.writelen=i,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(r,e.onwrite):t._write(r,o,e.onwrite),e.sync=!1}function d(t,e,n,i,r){--e.pendingcb,n?$(r,i):r(i),t._writableState.errorEmitted=!0,t.emit("error",i)}function f(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function p(t,e){var n=t._writableState,i=n.sync,r=n.writecb;if(f(n),e)d(t,n,i,e,r);else{var o=y(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||v(t,n),i?C(g,t,n,o,r):g(t,n,o,r)}}function g(t,e,n,i){n||m(t,e),e.pendingcb--,i(),w(t,e)}function m(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function v(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var i=e.bufferedRequestCount,r=new Array(i),o=e.corkedRequestsFree;o.entry=n;for(var s=0;n;)r[s]=n,n=n.next,s+=1;h(t,e,!0,e.length,r,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new _(e)}else{for(;n;){var a=n.chunk,l=n.encoding,u=n.callback,c=e.objectMode?1:a.length;if(h(t,e,!1,c,a,l,u),n=n.next,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=n,e.bufferProcessing=!1}function y(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function b(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function w(t,e){var n=y(e);return n&&(0===e.pendingcb?(b(t,e),e.finished=!0,t.emit("finish")):b(t,e)),n}function x(t,e,n){e.ending=!0,w(t,e),n&&(e.finished?$(n):t.once("finish",n)),e.ended=!0,t.writable=!1}function _(t){var e=this;this.next=null,this.entry=null,this.finish=function(n){var i=e.entry;for(e.entry=null;i;){var r=i.callback;t.pendingcb--,r(n),i=i.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}}e.exports=s;var $=t("process-nextick-args"),C=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?setImmediate:$;s.WritableState=o;var A=t("core-util-is");A.inherits=t("inherits");var E,S={deprecate:t("util-deprecate")};!function(){try{E=t("stream")}catch(e){}finally{E||(E=t("events").EventEmitter)}}();var k=t("buffer").Buffer,D=t("buffer-shims");A.inherits(s,E);var T;o.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(o.prototype,"buffer",{get:S.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(t){}}();var T;s.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},s.prototype.write=function(t,e,n){var r=this._writableState,o=!1;return"function"==typeof e&&(n=e,e=null),k.isBuffer(t)?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof n&&(n=i),r.ended?a(this,n):l(this,r,t,n)&&(r.pendingcb++,o=c(this,r,t,e,n)),o},s.prototype.cork=function(){var t=this._writableState;t.corked++},s.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||v(this,t))},s.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},s.prototype._write=function(t,e,n){n(new Error("not implemented"))},s.prototype._writev=null,s.prototype.end=function(t,e,n){var i=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!==t&&void 0!==t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||x(this,i,n)}}).call(this,t("_process"))},{"./_stream_duplex":15,_process:13,buffer:4,"buffer-shims":3,"core-util-is":5,events:6,inherits:8,"process-nextick-args":12,"util-deprecate":26}],20:[function(t,e,n){e.exports=t("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":16}],21:[function(t,e,n){(function(i){var r=function(){try{return t("stream")}catch(e){}}();n=e.exports=t("./lib/_stream_readable.js"),n.Stream=r||n,n.Readable=n,n.Writable=t("./lib/_stream_writable.js"),n.Duplex=t("./lib/_stream_duplex.js"),n.Transform=t("./lib/_stream_transform.js"),n.PassThrough=t("./lib/_stream_passthrough.js"),!i.browser&&"disable"===i.env.READABLE_STREAM&&r&&(e.exports=r)}).call(this,t("_process"))},{"./lib/_stream_duplex.js":15,"./lib/_stream_passthrough.js":16,"./lib/_stream_readable.js":17,"./lib/_stream_transform.js":18,"./lib/_stream_writable.js":19,_process:13}],22:[function(t,e,n){e.exports=t("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":18}],23:[function(t,e,n){e.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":19}],24:[function(t,e,n){function i(){r.call(this)}e.exports=i;var r=t("events").EventEmitter,o=t("inherits");o(i,r),i.Readable=t("readable-stream/readable.js"),i.Writable=t("readable-stream/writable.js"),i.Duplex=t("readable-stream/duplex.js"),i.Transform=t("readable-stream/transform.js"),i.PassThrough=t("readable-stream/passthrough.js"),i.Stream=i,i.prototype.pipe=function(t,e){function n(e){t.writable&&!1===t.write(e)&&u.pause&&u.pause()}function i(){u.readable&&u.resume&&u.resume()}function o(){c||(c=!0,t.end())}function s(){c||(c=!0,"function"==typeof t.destroy&&t.destroy())}function a(t){if(l(),0===r.listenerCount(this,"error"))throw t}function l(){u.removeListener("data",n),t.removeListener("drain",i),u.removeListener("end",o),u.removeListener("close",s),u.removeListener("error",a),t.removeListener("error",a),u.removeListener("end",l),u.removeListener("close",l),t.removeListener("close",l)}var u=this;u.on("data",n),t.on("drain",i),t._isStdio||e&&e.end===!1||(u.on("end",o),u.on("close",s));var c=!1;return u.on("error",a),t.on("error",a),u.on("end",l),u.on("close",l),t.on("close",l),t.emit("pipe",u),t}},{events:6,inherits:8,"readable-stream/duplex.js":14,"readable-stream/passthrough.js":20,"readable-stream/readable.js":21,"readable-stream/transform.js":22,"readable-stream/writable.js":23}],25:[function(t,e,n){function i(t){if(t&&!l(t))throw new Error("Unknown encoding: "+t)}function r(t){return t.toString(this.encoding)}function o(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function s(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}var a=t("buffer").Buffer,l=a.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},u=n.StringDecoder=function(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),i(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=s;break;default:return void(this.write=r)}this.charBuffer=new a(6),this.charReceived=0,this.charLength=0};u.prototype.write=function(t){for(var e="";this.charLength;){var n=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";t=t.slice(n,t.length),e=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var i=e.charCodeAt(e.length-1);if(!(i>=55296&&56319>=i)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var r=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,r),r-=this.charReceived),e+=t.toString(this.encoding,0,r);var r=e.length-1,i=e.charCodeAt(r);if(i>=55296&&56319>=i){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),t.copy(this.charBuffer,0,0,o),e.substring(0,r)}return e},u.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var n=t[t.length-e];if(1==e&&n>>5==6){this.charLength=2;break}if(2>=e&&n>>4==14){this.charLength=3;break}if(3>=e&&n>>3==30){this.charLength=4;break}}this.charReceived=e},u.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var n=this.charReceived,i=this.charBuffer,r=this.encoding;e+=i.slice(0,n).toString(r)}return e}},{buffer:4}],26:[function(t,e,n){(function(t){function n(t,e){function n(){if(!r){if(i("throwDeprecation"))throw new Error(e);i("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}if(i("noDeprecation"))return t;var r=!1;return n}function i(e){try{if(!t.localStorage)return!1}catch(n){return!1}var i=t.localStorage[e];return null==i?!1:"true"===String(i).toLowerCase()}e.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],27:[function(t,e,n){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],28:[function(t,e,n){(function(e,i){function r(t,e){var i={seen:[],stylize:s};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),g(e)?i.showHidden=e:e&&n._extend(i,e),x(i.showHidden)&&(i.showHidden=!1),x(i.depth)&&(i.depth=2),x(i.colors)&&(i.colors=!1),x(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=o),l(i,t,i.depth)}function o(t,e){var n=r.styles[e];return n?"["+r.colors[n][0]+"m"+t+"["+r.colors[n][1]+"m":t}function s(t,e){return t}function a(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function l(t,e,i){if(t.customInspect&&e&&E(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var r=e.inspect(i,t);return b(r)||(r=l(t,r,i)),r}var o=u(t,e);if(o)return o;var s=Object.keys(e),g=a(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),A(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return c(e);if(0===s.length){if(E(e)){var m=e.name?": "+e.name:"";return t.stylize("[Function"+m+"]","special")}if(_(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(C(e))return t.stylize(Date.prototype.toString.call(e),"date");if(A(e))return c(e)}var v="",y=!1,w=["{","}"];if(p(e)&&(y=!0,w=["[","]"]),E(e)){var x=e.name?": "+e.name:"";v=" [Function"+x+"]"}if(_(e)&&(v=" "+RegExp.prototype.toString.call(e)),
C(e)&&(v=" "+Date.prototype.toUTCString.call(e)),A(e)&&(v=" "+c(e)),0===s.length&&(!y||0==e.length))return w[0]+v+w[1];if(0>i)return _(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var $;return $=y?h(t,e,i,g,s):s.map(function(n){return d(t,e,i,g,n,y)}),t.seen.pop(),f($,v,w)}function u(t,e){if(x(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return y(e)?t.stylize(""+e,"number"):g(e)?t.stylize(""+e,"boolean"):m(e)?t.stylize("null","null"):void 0}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,i,r){for(var o=[],s=0,a=e.length;a>s;++s)F(e,String(s))?o.push(d(t,e,n,i,String(s),!0)):o.push("");return r.forEach(function(r){r.match(/^\d+$/)||o.push(d(t,e,n,i,r,!0))}),o}function d(t,e,n,i,r,o){var s,a,u;if(u=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]},u.get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),F(i,r)||(s="["+r+"]"),a||(t.seen.indexOf(u.value)<0?(a=m(n)?l(t,u.value,null):l(t,u.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n"))):a=t.stylize("[Circular]","special")),x(s)){if(o&&r.match(/^\d+$/))return a;s=JSON.stringify(""+r),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function f(t,e,n){var i=0,r=t.reduce(function(t,e){return i++,e.indexOf("\n")>=0&&i++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return r>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function p(t){return Array.isArray(t)}function g(t){return"boolean"==typeof t}function m(t){return null===t}function v(t){return null==t}function y(t){return"number"==typeof t}function b(t){return"string"==typeof t}function w(t){return"symbol"==typeof t}function x(t){return void 0===t}function _(t){return $(t)&&"[object RegExp]"===k(t)}function $(t){return"object"==typeof t&&null!==t}function C(t){return $(t)&&"[object Date]"===k(t)}function A(t){return $(t)&&("[object Error]"===k(t)||t instanceof Error)}function E(t){return"function"==typeof t}function S(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function k(t){return Object.prototype.toString.call(t)}function D(t){return 10>t?"0"+t.toString(10):t.toString(10)}function T(){var t=new Date,e=[D(t.getHours()),D(t.getMinutes()),D(t.getSeconds())].join(":");return[t.getDate(),P[t.getMonth()],e].join(" ")}function F(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var M=/%[sdj%]/g;n.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(r(arguments[n]));return e.join(" ")}for(var n=1,i=arguments,o=i.length,s=String(t).replace(M,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return t}}),a=i[n];o>n;a=i[++n])s+=m(a)||!$(a)?" "+a:" "+r(a);return s},n.deprecate=function(t,r){function o(){if(!s){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),s=!0}return t.apply(this,arguments)}if(x(i.process))return function(){return n.deprecate(t,r).apply(this,arguments)};if(e.noDeprecation===!0)return t;var s=!1;return o};var L,O={};n.debuglog=function(t){if(x(L)&&(L=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!O[t])if(new RegExp("\\b"+t+"\\b","i").test(L)){var i=e.pid;O[t]=function(){var e=n.format.apply(n,arguments);console.error("%s %d: %s",t,i,e)}}else O[t]=function(){};return O[t]},n.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=p,n.isBoolean=g,n.isNull=m,n.isNullOrUndefined=v,n.isNumber=y,n.isString=b,n.isSymbol=w,n.isUndefined=x,n.isRegExp=_,n.isObject=$,n.isDate=C,n.isError=A,n.isFunction=E,n.isPrimitive=S,n.isBuffer=t("./support/isBuffer");var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",T(),n.format.apply(n,arguments))},n.inherits=t("inherits"),n._extend=function(t,e){if(!e||!$(e))return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":27,_process:13,inherits:8}],29:[function(t,e,n){"use strict";function i(t,e){var n=o.load(t);return n.protocol?r.createProtocol(n,e):a.createType(n,e)}var r=t("../../lib/protocols"),o=t("./lib/files"),s=t("../../lib/schemas"),a=t("../../lib/types"),l=t("../../lib/values");e.exports={Protocol:r.Protocol,Type:a.Type,assemble:s.assemble,combine:l.combine,infer:l.infer,parse:i,types:a.builtins}},{"../../lib/protocols":32,"../../lib/schemas":33,"../../lib/types":34,"../../lib/values":36,"./lib/files":31}],30:[function(t,e,n){(function(t){"use strict";function n(t){if("md5"!==t)throw new Error("only md5 is supported in the browser");return new i}function i(){this.data=void 0}function r(t,e){var n=t[0],i=t[1],r=t[2],o=t[3];n=s(n,i,r,o,e[0],7,-680876936),o=s(o,n,i,r,e[1],12,-389564586),r=s(r,o,n,i,e[2],17,606105819),i=s(i,r,o,n,e[3],22,-1044525330),n=s(n,i,r,o,e[4],7,-176418897),o=s(o,n,i,r,e[5],12,1200080426),r=s(r,o,n,i,e[6],17,-1473231341),i=s(i,r,o,n,e[7],22,-45705983),n=s(n,i,r,o,e[8],7,1770035416),o=s(o,n,i,r,e[9],12,-1958414417),r=s(r,o,n,i,e[10],17,-42063),i=s(i,r,o,n,e[11],22,-1990404162),n=s(n,i,r,o,e[12],7,1804603682),o=s(o,n,i,r,e[13],12,-40341101),r=s(r,o,n,i,e[14],17,-1502002290),i=s(i,r,o,n,e[15],22,1236535329),n=a(n,i,r,o,e[1],5,-165796510),o=a(o,n,i,r,e[6],9,-1069501632),r=a(r,o,n,i,e[11],14,643717713),i=a(i,r,o,n,e[0],20,-373897302),n=a(n,i,r,o,e[5],5,-701558691),o=a(o,n,i,r,e[10],9,38016083),r=a(r,o,n,i,e[15],14,-660478335),i=a(i,r,o,n,e[4],20,-405537848),n=a(n,i,r,o,e[9],5,568446438),o=a(o,n,i,r,e[14],9,-1019803690),r=a(r,o,n,i,e[3],14,-187363961),i=a(i,r,o,n,e[8],20,1163531501),n=a(n,i,r,o,e[13],5,-1444681467),o=a(o,n,i,r,e[2],9,-51403784),r=a(r,o,n,i,e[7],14,1735328473),i=a(i,r,o,n,e[12],20,-1926607734),n=l(n,i,r,o,e[5],4,-378558),o=l(o,n,i,r,e[8],11,-2022574463),r=l(r,o,n,i,e[11],16,1839030562),i=l(i,r,o,n,e[14],23,-35309556),n=l(n,i,r,o,e[1],4,-1530992060),o=l(o,n,i,r,e[4],11,1272893353),r=l(r,o,n,i,e[7],16,-155497632),i=l(i,r,o,n,e[10],23,-1094730640),n=l(n,i,r,o,e[13],4,681279174),o=l(o,n,i,r,e[0],11,-358537222),r=l(r,o,n,i,e[3],16,-722521979),i=l(i,r,o,n,e[6],23,76029189),n=l(n,i,r,o,e[9],4,-640364487),o=l(o,n,i,r,e[12],11,-421815835),r=l(r,o,n,i,e[15],16,530742520),i=l(i,r,o,n,e[2],23,-995338651),n=u(n,i,r,o,e[0],6,-198630844),o=u(o,n,i,r,e[7],10,1126891415),r=u(r,o,n,i,e[14],15,-1416354905),i=u(i,r,o,n,e[5],21,-57434055),n=u(n,i,r,o,e[12],6,1700485571),o=u(o,n,i,r,e[3],10,-1894986606),r=u(r,o,n,i,e[10],15,-1051523),i=u(i,r,o,n,e[1],21,-2054922799),n=u(n,i,r,o,e[8],6,1873313359),o=u(o,n,i,r,e[15],10,-30611744),r=u(r,o,n,i,e[6],15,-1560198380),i=u(i,r,o,n,e[13],21,1309151649),n=u(n,i,r,o,e[4],6,-145523070),o=u(o,n,i,r,e[11],10,-1120210379),r=u(r,o,n,i,e[2],15,718787259),i=u(i,r,o,n,e[9],21,-343485551),t[0]=f(n,t[0]),t[1]=f(i,t[1]),t[2]=f(r,t[2]),t[3]=f(o,t[3])}function o(t,e,n,i,r,o){return e=f(f(e,t),f(i,o)),f(e<<r|e>>>32-r,n)}function s(t,e,n,i,r,s,a){return o(e&n|~e&i,t,e,r,s,a)}function a(t,e,n,i,r,s,a){return o(e&i|n&~i,t,e,r,s,a)}function l(t,e,n,i,r,s,a){return o(e^n^i,t,e,r,s,a)}function u(t,e,n,i,r,s,a){return o(n^(e|~i),t,e,r,s,a)}function c(t){var e,n=t.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)r(i,h(t.substring(e-64,e)));t=t.substring(e-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)o[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(o[e>>2]|=128<<(e%4<<3),e>55)for(r(i,o),e=0;16>e;e++)o[e]=0;return o[14]=8*n,r(i,o),i}function h(t){var e,n=[];for(e=0;64>e;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}function d(e){var n,i=c(e),r=new t(16);for(n=0;4>n;n++)r.writeIntLE(i[n],4*n,4);return r}function f(t,e){return t+e&4294967295}i.prototype.end=function(t){this.data=t},i.prototype.read=function(){return d(this.data)},e.exports={createHash:n}}).call(this,t("buffer").Buffer)},{buffer:4}],31:[function(t,e,n){(function(n){"use strict";function i(t){var e;if("string"==typeof t&&"null"!==t)try{e=JSON.parse(t)}catch(n){}return void 0===e&&(e=t),e}function r(){return function(t,e,n){n(new Error("missing import hook"))}}!function(){var e=t("../../../lib/utils").Tap;e.prototype.readString=function(){var t=this.readLong(),e=this.pos,n=this.buf;return this.pos+=t,this.pos>n.length?void 0:this.buf.slice(e,e+t).toString()},e.prototype.writeString=function(t){var e=n.byteLength(t);this.writeLong(e);var i=this.pos;this.pos+=e,this.pos>this.buf.length||this.buf.write(t,i)},e.prototype.writeBinary=function(t,e){var n=this.pos;this.pos+=e,this.pos>this.buf.length||this.buf.write(t,n,e,"binary")}}(),e.exports={createImportHook:r,load:i}}).call(this,t("buffer").Buffer)},{"../../../lib/utils":35,buffer:4}],32:[function(t,e,n){(function(n,i){"use strict";function r(t,e){e=e||{};var n=t.protocol;if(!n)throw new Error("missing protocol name");void 0!==t.namespace&&(e.namespace=t.namespace),e.namespace&&!~n.indexOf(".")&&(n=I("%s.%s",e.namespace,n)),t.types&&t.types.forEach(function(t){A.createType(t,e)});var i={};return t.messages&&Object.keys(t.messages).forEach(function(n){i[n]=new d(n,t.messages[n],e)}),new o(n,i,e.registry||{})}function o(t,e,n,i){return void 0===n?r(t,e):(this._name=t,this._messages=e,this._types=n,this._handlers=i||{},void(this._hs=E.getHash(this.getSchema()).toString("binary")))}function s(t,e){e=e||{},S.EventEmitter.call(this),this._ptcl=t,this._strict=!!e.strictErrors,this._timeout=void 0===e.timeout?1e4:e.timeout,this._cache=e.cache||{};var n,i=e.serverFingerprint;i&&(n=this._cache[i]),n||(i=t.getFingerprint(),n=this._cache[i]=new p(t,t,i)),this._adapter=n,this._registry=new f(this),this._destroyed=!1,this._interrupted=!1,this.once("_eot",function(t){this.emit("eot",t)})}function a(t,e,n){s.call(this,t,n),this._writableFactory=e,n&&n.noPing||this.emitMessage("",{},function(t){t&&this.emit("error",t)})}function l(t,e,r,o){function a(t){if(!h._destroyed){c=h._createHandshakeRequest(h._adapter,!t);var e=[O.toBuffer(c),new i([0,0])];h._writable.write({id:0,payload:e})}}function l(t){var e=i.concat(t.payload);try{var n=w(P,e).head;n.serverHash&&(h._adapter=h._getAdapter(n))}catch(r){return h.destroy(!0),void h.emit("error",x("handshake error",r))}h.emit("handshake",c,n),"NONE"===n.match?a(!0):(h._readable.removeListener("data",l).on("data",u),h._connected=!0,h.emit("_connected"),c=null)}function u(t){var e=h._registry.get(t.id);e&&n.nextTick(function(){e(null,i.concat(t.payload),h._adapter)})}s.call(this,t,o),this._readable=e,this._writable=r,this._connected=!(!o||!o.noPing),this._readable.on("end",function(){h.destroy(!0)}),this._writable.on("finish",function(){h.destroy()}),this.on("eot",function(){this._readable.removeListener("data",l).removeListener("data",u)});var c,h=this;this._connected?this._readable.on("data",u):(this._readable.on("data",l),n.nextTick(a))}function u(t,e){e=e||{},S.EventEmitter.call(this),this._ptcl=t,this._strict=!!e.strictErrors,this._cache=e.cache||{};var n=this._ptcl.getFingerprint();this._cache[n]||(this._cache[n]=new p(this._ptcl,this._ptcl,n)),this._adapter=null,this._hook=null,this._pending=0,this._destroyed=!1,this._interrupted=!1,this.once("_eot",function(t){this.emit("eot",t)})}function c(t,e,r){function o(t){function e(t){var i=a._createHandshakeResponse(o,l);if(a.emit("handshake",l,i),a._writable){var r=[P.toBuffer(i),t];a._writable.end({id:n,payload:r})}else a.once("_writable",function(){e(t)})}var n=t.id,r=i.concat(t.payload),o=null;try{var s=w(O,r),l=s.head,u=a._getAdapter(l)}catch(c){o=x("invalid handshake request",c)}o?e($(o)):a._receive(s.tail,u,e)}function s(){a.destroy(!0)}u.call(this,t,r);var a=this;n.nextTick(function(){e.call(this,function(t,e){return t?void s():(a._writable=e.on("finish",s),void a.emit("_writable"))}).once("data",o).on("end",function(){a.destroy()})})}function h(t,e,n,r){function o(t){function e(t){var e=c._createHandshakeResponse(n,u);c.emit("handshake",u,e);var i=[P.toBuffer(e),t];c._writable.write({id:r,payload:i})}var n,r=t.id,a=i.concat(t.payload);try{var l=w(O,a),u=l.head;c._adapter=c._getAdapter(u)}catch(h){n=x("invalid handshake request",h)}n?e($(n)):(c._readable.removeListener("data",o).on("data",s),c._receive(l.tail,c._adapter,e))}function s(t){var e=t.id,n=i.concat(t.payload);c._receive(n,c._adapter,function(t,n){n||c._writable.write({id:e,payload:[t]})})}function a(){c.destroy()}function l(){c.destroy(!0)}u.call(this,t,r),this._adapter=void 0,this._writable=n.on("finish",l),this._readable=e.on("data",o).on("end",a),this.on("eot",function(){this._writable.removeListener("finish",l),this._readable.removeListener("data",o).removeListener("data",s).removeListener("end",a)});var c=this}function d(t,e,n){n=n||{},this._name=t;var i="org.apache.avro.ipc.Request";if(this._requestType=A.createType({type:"record",name:i,namespace:n.namespace||"",fields:e.request},n),delete n.registry[i],!e.response)throw new Error("missing response");this._responseType=A.createType(e.response,n);var r=e.errors||[];if(r.unshift("string"),this._errorType=A.createType(r,n),this._oneWay=!!e["one-way"],this._oneWay&&("null"!==this._responseType.getTypeName()||r.length>1))throw new Error("unapplicable one-way parameter")}function f(t){this._ctx=t,this._id=0,this._n=0,this._cbs={}}function p(t,e,n){this._clientPtcl=t,this._serverPtcl=e,this._fingerprint=n,this._rsvs=t.equals(e)?null:this._createResolvers()}function g(){k.Transform.call(this,{readableObjectMode:!0}),this._id=void 0,this._buf=new i(0),this._bufs=[],this.on("finish",function(){this.push(null)})}function m(){k.Transform.call(this,{writableObjectMode:!0}),this.on("finish",function(){this.push(null)})}function v(){k.Transform.call(this,{readableObjectMode:!0}),this._id=void 0,this._frameCount=0,this._buf=new i(0),this._bufs=[],this.on("finish",function(){this.push(null)})}function y(){k.Transform.call(this,{writableObjectMode:!0}),this.on("finish",function(){this.push(null)})}function b(t){var e=new i(4);return e.writeInt32BE(t),e}function w(t,e){var n=new B(e),i=t._read(n);if(!n.isValid())throw new Error(I("truncated %s",t));return{head:i,tail:n.buf.slice(n.pos)}}function x(t,e){var n=new Error(I("%s: %s",t,e.message));return n.cause=e,n}function _(t){return!!t&&"[object Error]"===Object.prototype.toString.call(t)}function $(t,e){return i.concat([e||new i([0]),new i([1,0]),L.toBuffer(t.message)])}function C(t){return!!t.pipe}var A=t("./types"),E=t("./utils"),S=t("events"),k=t("stream"),D=t("util"),T={},F=A.createType("boolean",T),M=A.createType({type:"map",values:"bytes"},T),L=A.createType("string",T),O=A.createType({namespace:"org.apache.avro.ipc",name:"HandshakeRequest",type:"record",fields:[{name:"clientHash",type:{name:"MD5",type:"fixed",size:16}},{name:"clientProtocol",type:["null","string"],"default":null},{name:"serverHash",type:"MD5"},{name:"meta",type:["null",M],"default":null}]},T),P=A.createType({namespace:"org.apache.avro.ipc",name:"HandshakeResponse",type:"record",fields:[{name:"match",type:{name:"HandshakeMatch",type:"enum",symbols:["BOTH","CLIENT","NONE"]}},{name:"serverProtocol",type:["null","string"],"default":null},{name:"serverHash",type:["null","MD5"],"default":null},{name:"meta",type:["null",M],"default":null}]},T),B=E.Tap,I=D.format;o.prototype.subprotocol=function(){return new o(this._name,this._messages,this._types,Object.create(this._handlers))},o.prototype.createEmitter=function(t,e){var n=e&&e.objectMode;if("function"==typeof t){var i;return i=n?t:function(n){var i=new m(e);return i.pipe(t(function(t,e){return t?void n(t):void n(null,e.pipe(new g))})),i},new a(this,i,e)}var r,o;if(C(t)?r=o=t:(r=t.readable,o=t.writable),!n){r=r.pipe(new v);var s=new y;s.pipe(o),o=s}return new l(this,r,o,e)},o.prototype.createListener=function(t,e){var n=e&&e.objectMode;if("function"==typeof t){var i;return i=n?t:function(n){return t(function(t,i){if(t)return void n(t);var r=new m(e);r.pipe(i),n(null,r)}).pipe(new g)},new c(this,i,e)}var r,o;if(C(t)?r=o=t:(r=t.readable,o=t.writable),!n){r=r.pipe(new v);var s=new y;s.pipe(o),o=s}return new h(this,r,o,e)},o.prototype.emit=function(t,e,n,i){function r(t,e){i?i.call(s,t,e):t&&n.emit("error",t)}if(!n||!this.equals(n.getProtocol()))throw new Error("invalid emitter");var o=this._messages[t];if(!o)throw new Error("unknown message: "+t);var s=this;return n.emitMessage(t,{request:e},function(t,e){var n=o.getErrorType();return t?(this._strict&&(t=n.clone(t.message,{wrapUnions:!0})),void r(t)):(t=e.error,this._strict||(void 0===t?t=null:A.Type.isType(n,"union:unwrapped")?"string"==typeof t&&(t=new Error(t)):t&&t.string&&(t=new Error(t.string))),void r(t,e.response))}),n.getPending()},o.prototype.on=function(t,e){if(!this._messages[t])throw new Error(I("unknown message: %s",t));return this._handlers[t]=e,this},o.prototype.getHandler=function(t){return this._handlers[t]},o.prototype.getName=function(){return this._name},o.prototype.getType=function(t){return this._types[t]},o.prototype.getMessage=function(t){return this._messages[t]},o.prototype.getMessages=function(){var t=this._messages;return Object.keys(t).map(function(e){return t[e]})},o.prototype.getSchema=function(t){var e=[];return Object.keys(this._types).forEach(function(t){var n=this._types[t];n.getName()&&e.push(n)},this),A.stringify({protocol:this._name,types:e.length?e:void 0,messages:Object.keys(this._messages).length?this._messages:void 0},t)},o.prototype.getFingerprint=function(t){return t?E.getHash(this.getSchema()):new i(this._hs,"binary")},o.prototype.equals=function(t){return!!t&&this._hs===t._hs},o.prototype.toString=function(){return this.getSchema({noDeref:!0})},o.prototype.inspect=function(){return I("<Protocol %j>",this._name)},o.MessageEmitter=s,o.MessageListener=u,D.inherits(s,S.EventEmitter),s.prototype.getCache=function(){return this._cache},s.prototype.getProtocol=function(){return this._ptcl},s.prototype.getTimeout=function(){return this._timeout},s.prototype.isDestroyed=function(){return this._destroyed},s.prototype.getPending=function(){return this._registry.size()},s.prototype.emitMessage=function(t,e,r,o){if(void 0===o&&"function"==typeof r&&(o=r,r=void 0),!o)throw new Error("missing callback");var s,a,l;if(this._destroyed)s=new Error("destroyed");else if(""===t)l=new i([0,0]);else if(a=this._ptcl.getMessage(t))try{l=i.concat([M.toBuffer(e.header||{}),L.toBuffer(t),a.getRequestType().toBuffer(e.request)])}catch(u){s=x("invalid request",u)}else s=new Error("missing message");var c=this;if(s)return n.nextTick(function(){o.call(c,s)}),!0;var h=r&&void 0!==r.timeout?r.timeout:this._timeout,d=this._registry.add(h,function(e,n,i){var r;if(!e)if(""===t)r={};else try{r=i.decodeResponse(n,t).envelope}catch(s){e=x("invalid response",s)}var a;i&&(a={serverFingerprint:i._fingerprint,serverProtocol:i.getServerProtocol()}),o.call(this,e,r,a),!this._destroyed||this._interrupted||this._registry.size()||this.destroy()});return this._send(d,l,!!a&&a.isOneWay())},s.prototype.destroy=function(t){this._destroyed=!0;var e=this._registry,n=e.size();t&&n&&(this._interrupted=!0,e.clear()),(t||!n)&&this.emit("_eot",n)},s.prototype._send=E.abstractFunction,s.prototype._createHandshakeRequest=function(t,e){var n=this._ptcl;return{clientHash:n.getFingerprint(),clientProtocol:e?null:n.getSchema({exportAttrs:!0}),serverHash:t._fingerprint}},s.prototype._getAdapter=function(t){var e=t.serverHash,n=this._cache[e];if(n)return n;var i=r(JSON.parse(t.serverProtocol));return n=new p(this._ptcl,i,e),this._cache[e]=n},D.inherits(a,s),a.prototype._send=function(t,e){function r(n){var l=a._createHandshakeRequest(s,!n),u=a._writableFactory.call(a,function(t,e){return t?void o(t):void e.on("data",function(t){var e=i.concat(t.payload);try{var n=w(P,e),u=n.head;if(u.serverHash&&(s=a._getAdapter(u)),a.emit("handshake",l,u),"NONE"===u.match)return void r(!0);a._adapter=s}catch(c){return void o(c)}o(null,n.tail,s)})});u.end({id:t,payload:[O.toBuffer(l),e]})}var o=this._registry.get(t),s=this._adapter,a=this;return n.nextTick(r),!0},D.inherits(l,s),l.prototype._send=function(t,e,r){if(!this._connected)return this.once("_connected",function(){this._send(t,e,r)}),!1;if(r){var o=this;n.nextTick(function(){o._registry.get(t)(null,new i([0,0,0]),o._adapter)})}return this._writable.write({id:t,payload:[e]})},D.inherits(u,S.EventEmitter),u.prototype.getCache=function(){return this._cache},u.prototype.getPending=function(){return this._pending},u.prototype.getProtocol=function(){return this._ptcl},u.prototype.isDestroyed=function(){return this._destroyed},u.prototype.onMessage=function(t){return this._hook=t,this},u.prototype.destroy=function(t){this._destroyed=!0,(t||!this._pending)&&(this._interrupted=!0,this.emit("_eot",this._pending))},u.prototype._receive=function(t,e,n){function r(t,e){s._pending--;var r;if(!t){var o=h.getErrorType(),a=void 0===e.error;try{var l=M.toBuffer(e.header||{});r=i.concat([l,F.toBuffer(!a),a?h.getResponseType().toBuffer(e.response):o.toBuffer(e.error)])}catch(u){t=x("invalid response",u)}}t&&(r=$(t,l)),s._interrupted||n(r,h.isOneWay()),s._destroyed&&!s._pending&&s.destroy()}var o=this._ptcl,s=this;try{var a=e.decodeRequest(t)}catch(l){return void n($(l))}var u=a.message;if(!u)return void n(new i(0));var c=u.getName(),h=o.getMessage(c),d=o._handlers[c],f=a.envelope;if(this._pending++,this._hook){var p={clientFingerprint:e._fingerprint,clientProtocol:e.getClientProtocol()};this._hook.call(this,c,f,p,r)}else if(d)try{h.isOneWay()?(d.call(o,f.request),r(null,null)):d.call(o,f.request,this,function(t,e){var n=h.getErrorType();s._strict||(_(t)?t=n.clone(t.message,{wrapUnions:!0}):null===t&&(t=void 0)),r(null,{error:t,response:e})})}catch(l){r(l)}else r(new Error(I("unhandled message: %s",c)))},u.prototype._createHandshakeResponse=function(t,e){var n=this._ptcl,i=n.getFingerprint(),r=e&&e.serverHash.equals(i);return{match:t?"NONE":r?"BOTH":"CLIENT",serverProtocol:r?null:n.getSchema({exportAttrs:!0}),serverHash:r?null:i}},u.prototype._getAdapter=function(t){var e=t.clientHash,n=this._cache[e];if(n)return n;if(!t.clientProtocol)throw new Error("unknown protocol");var i=r(JSON.parse(t.clientProtocol));return n=new p(i,this._ptcl,e),this._cache[e]=n},D.inherits(c,u),D.inherits(h,u),d.prototype.getName=function(){return this._name},d.prototype.getRequestType=function(){return this._requestType},d.prototype.getResponseType=function(){return this._responseType},d.prototype.getErrorType=function(){return this._errorType},d.prototype.isOneWay=function(){return this._oneWay},d.prototype.inspect=d.prototype.toJSON=function(){var t={request:this._requestType.getFields(),response:this._responseType},e=this._errorType.getTypes();return e.length>1&&(t.errors=A.createType(e.slice(1))),this._oneWay&&(t["one-way"]=!0),t},f.prototype.size=function(){return this._n},f.prototype.get=function(t){return this._cbs[t]},f.prototype.add=function(t,e){function n(){r._cbs[o]&&(delete r._cbs[o],r._n--,i&&clearTimeout(i),e.apply(r._ctx,arguments))}this._id=this._id+1|0;var i,r=this,o=this._id;return t>0&&(i=setTimeout(function(){n(new Error("timeout"))},t)),this._cbs[o]=n,this._n++,o},f.prototype.clear=function(){Object.keys(this._cbs).forEach(function(t){this._cbs[t](new Error("interrupted"))},this)},p.prototype.getClientProtocol=function(){return this._clientPtcl},p.prototype.getServerProtocol=function(){return this._serverPtcl},p.prototype._createResolvers=function(){var t={};return this._clientPtcl.getMessages().forEach(function(e){var n=e.getName(),i=this._serverPtcl.getMessage(n);if(!i)throw new Error(I("missing server message: %s",n));if(i.isOneWay()!==e.isOneWay())throw new Error(I("inconsistent one-way parameter for message: %s",n));try{t[n+"?"]=i.getRequestType().createResolver(e.getRequestType()),t[n+"*"]=e.getErrorType().createResolver(i.getErrorType()),t[n+"!"]=e.getResponseType().createResolver(i.getResponseType())}catch(r){throw x("incompatible message "+n,r)}},this),t},p.prototype._getReader=function(t,e){if(this._rsvs)return this._rsvs[t+e];var n=this._serverPtcl.getMessage(t);switch(e){case"?":return n.getRequestType();case"*":return n.getErrorType();case"!":return n.getResponseType()}},p.prototype.decodeRequest=function(t){var e=new B(t),n=M._read(e),i=L._read(e);if(i)var r=this._getReader(i,"?")._read(e);if(!e.isValid())throw new Error("truncated request");return{message:this._clientPtcl.getMessage(i),envelope:{header:n,request:r}}},p.prototype.decodeResponse=function(t,e){var n=new B(t),i=M._read(n),r=F._read(n),o=this._getReader(e,r?"*":"!");if(r)var s=o._read(n);else var a=o._read(n);if(!n.isValid())throw new Error("truncated response");return{message:this._serverPtcl.getMessage(e),envelope:{header:i,error:s,response:a}}},D.inherits(g,k.Transform),g.prototype._transform=function(t,e,n){t=i.concat([this._buf,t]);for(var r;t.length>=4&&t.length>=(r=t.readInt32BE(0))+4;){if(r)this._bufs.push(t.slice(4,r+4));else{var o=this._bufs;this._bufs=[],this.push({id:null,payload:o})}t=t.slice(r+4)}this._buf=t,n()},g.prototype._flush=function(){(this._buf.length||this._bufs.length)&&this.emit("error",new Error("trailing data"))},D.inherits(m,k.Transform),m.prototype._transform=function(t,e,n){var i,r,o,s=t.payload;for(i=0,r=s.length;r>i;i++)o=s[i],this.push(b(o.length)),this.push(o);this.push(b(0)),n()},D.inherits(v,k.Transform),v.prototype._transform=function(t,e,n){for(t=i.concat([this._buf,t]);;){if(void 0===this._id){if(t.length<8)return this._buf=t,void n();this._id=t.readInt32BE(0),this._frameCount=t.readInt32BE(4),t=t.slice(8)}for(var r;this._frameCount&&t.length>=4&&t.length>=(r=t.readInt32BE(0))+4;)this._frameCount--,this._bufs.push(t.slice(4,r+4)),t=t.slice(r+4);if(this._frameCount)return this._buf=t,void n();var o={id:this._id,payload:this._bufs};this._bufs=[],this._id=void 0,this.push(o)}},v.prototype._flush=function(){(this._buf.length||this._bufs.length)&&this.emit("error",new Error("trailing data"))},D.inherits(y,k.Transform),y.prototype._transform=function(t,e,n){var r,o=t.payload,s=o.length;r=new i(8),r.writeInt32BE(t.id,0),r.writeInt32BE(s,4),this.push(r);var a;for(a=0;s>a;a++)r=o[a],this.push(b(r.length)),this.push(r);n()},e.exports={HANDSHAKE_REQUEST_TYPE:O,HANDSHAKE_RESPONSE_TYPE:P,Message:d,Protocol:o,Registry:f,createProtocol:r,streams:{FrameDecoder:g,FrameEncoder:m,NettyDecoder:v,NettyEncoder:y}}}).call(this,t("_process"),t("buffer").Buffer)},{"./types":34,"./utils":35,_process:13,buffer:4,events:6,stream:24,util:28}],33:[function(t,e,n){"use strict";function i(t,e,n){function o(t,r){if(t)return void n(t);if(r){(r.types||[]).forEach(function(t){void 0===t.namespace&&(t.namespace=r.namespace||""),C.push(t)});try{Object.keys(r.messages||{}).forEach(function(t){if($.messages[t])throw new Error(d("duplicate message: %s",t));$.messages[t]=r.messages[t]})}catch(t){return void n(t)}}var s=A.shift();s?"idl"===s.kind?i(s.path,e,o):e.importHook(s.path,s.kind,function(t,e){if(t)return void n(t);switch(s.kind){case"protocol":case"schema":try{var i=JSON.parse(e)}catch(t){return t.path=s.path,void n(t)}o(null,"schema"===s.kind?{types:[i]}:i);break;default:o(new Error(d("invalid import kind: %s",s.kind)))}}):($.types=C.concat($.types),n(null,JSON.parse(JSON.stringify($))))}function s(){for(;"import"===_.get().val;)u();for(;"@"===_.get().val;)h($);for(_.addJavadoc($),_.get({val:"protocol"}),$.protocol=_.next({id:"name"}).val,_.next({val:"{"}),_.next();"}"!==_.get().val;)if("import"===_.get().val)u();else{var t=g();if(t.name)$.types.push(t);else{var n=!1;("void"===t||"void"===t.type)&&(e.oneWayVoid&&(n=!0),"void"===t?t="null":t.type="null"),f($,t,n)}}_.next({id:"(eof)"})}function u(){_.get({val:"import"});var e=_.next({id:"name"}).val,n=JSON.parse(_.next({id:"string"}).val);A.push({kind:e,path:c.join(c.dirname(t),n)}),_.next({val:";"}),_.next()}function h(t){_.get({val:"@"});for(var e=[];"("!==_.next().val;)e.push(_.get().val);t[e.join("")]=_.next({id:"json"}).val,_.next({val:")"}),_.next()}function f(t,n,i){var r;for(e.reassignJavadoc?(r={},r.response=a(n,r)):r={response:n},i&&(r["one-way"]=!0);"@"===_.get().val;)h(r);var o=_.get({id:"name"}).val;if(t.messages[o])throw new Error(d("duplicate message: %s",o));if(r.request=[],_.next({val:"("}),")"!==_.next().val){_.prev();do _.next(),r.request.push(p());while(")"!==_.get().val)}"throws"===_.next().val?(_.next(),r.errors=[g()]):"oneway"===_.get().val&&(_.next(),r["one-way"]=!0),_.get({val:";"}),t.messages[o]=r,_.next()}function p(){var t={type:g()};for(e.reassignJavadoc&&(t.type=a(t.type,t));"@"===_.get().val;)h(t);return _.addJavadoc(t),t.name=_.get({id:"name"}).val,"="===_.next().val&&(t["default"]=_.next({id:"json"}).val,_.next()),t}function g(){for(var t={};"@"===_.get().val;)h(t);switch(_.addJavadoc(t),_.get().val){case"record":case"error":return x(t);case"fixed":return m(t);case"enum":return b(t);case"map":return v(t);case"array":return y(t);case"union":return w(t);default:var e=_.get().val;return _.next(),Object.keys(t).length?(t.type=e,t):e}}function m(t){return t.type=_.get({val:"fixed"}).val,t.name=_.next({id:"name"}).val,_.next({val:"("}),t.size=parseInt(_.next({id:"number"}).val),_.next({val:")"}),";"===_.next().val&&_.next(),t}function v(t){return t.type=_.get({val:"map"}).val,_.next({val:"<"}),_.next(),t.values=g(),_.get({val:">"}),_.next(),t}function y(t){return t.type=_.get({val:"array"}).val,_.next({val:"<"}),_.next(),t.items=g(),_.get({val:">"}),_.next(),t}function b(t){t.type=_.get({val:"enum"}).val,t.name=_.next({id:"name"}).val,_.next({val:"{"}),t.symbols=[];do t.symbols.push(_.next().val);while("}"!==_.next().val);return _.next(),t}function w(t){var e=[];_.get({val:"union"}),_.next({val:"{"});do _.next(),e.push(g());while("}"!==_.get().val);return _.next(),Object.keys(t).forEach(function(n){e[n]=t[n]}),e}function x(t){for(t.type=_.get({id:"name"}).val,t.name=_.next({id:"name"}).val,t.fields=[],_.next({val:"{"});"}"!==_.next().val;)t.fields.push(p()),_.get({val:";"});return _.next(),t}n||"function"!=typeof e||(n=e,e=void 0),e=e||{},e.importHook||(e.importHook=l.createImportHook());var _,$={types:[],messages:{}},C=[],A=[];e.importHook(t,"idl",function(e,i){if(e)return void n(e);if(!i)return void n(null,{});try{_=new r(i),_.next(),s()}catch(e){return e.path=t,void n(e)}o()})}function r(t){this._str=t,this._pos=0,this._queue=new o(3),this._token=void 0,this._doc=void 0}function o(t){this._length=0|t,this._data=[]}function s(t){t=t.replace(/^[ \t]+|[ \t]+$/g,"");for(var e=t.split("\n").map(function(t,e){return e?t.replace(/^\s*\*\s?/,""):t});!e[0];)e.shift();for(;!e[e.length-1];)e.pop();this._str=e.join("\n")}function a(t,e){return t.doc instanceof s?(e.doc=t.doc,delete t.doc,1===Object.keys(t).length?t.type:t):t}var l=t("./files"),u=t("./utils"),c=t("path"),h=t("util"),d=h.format;r.prototype.get=function(t){if(t&&t.id&&t.id!==this._token.id)throw this.error(d("expected %s but got %s",t.id,this._token.val));if(t&&t.val&&t.val!==this._token.val)throw this.error(d("expected %s but got %s",t.val,this._token.val));return this._token},r.prototype.next=function(t){this._skip(),this._queue.push(this._pos);var e,n=this._pos,i=this._str,r=i.charAt(n);if(!r){if(t&&"(eof)"===t.id)return{
id:"(eof)"};throw this.error("unexpected end of input")}if(t&&"json"===t.id?(e="json",this._pos=this._endOfJson()):'"'===r?(e="string",this._pos=this._endOfString()):/[0-9]/.test(r)?(e="number",this._pos=this._endOf(/[0-9]/)):/[`A-Za-z_.]/.test(r)?(e="name",this._pos=this._endOf(/[`A-Za-z0-9_.]/)):(e="operator",this._pos=n+1),this._token={id:e,val:i.slice(n,this._pos)},"json"===e)try{this._token.val=JSON.parse(this._token.val)}catch(o){throw this.error("invalid JSON")}else"name"===e&&(this._token.val=this._token.val.replace(/`/g,""));return this.get(t)},r.prototype.prev=function(t){var e=this._queue.pop();if(void 0===e)throw new Error("cannot backtrack more");return this._pos=e,this.get(t)},r.prototype.error=function(t){var e,n=this._queue.peek()||1,i=this._str,r=1,o=0;for(e=0;n>e;e++)"\n"===i.charAt(e)&&(r++,o=e);var s=new Error(t);return s.lineNum=r,s.colNum=n-o,s},r.prototype.addJavadoc=function(t){void 0!==this._doc&&void 0===t.doc&&(t.doc=this._doc,this._doc=void 0)},r.prototype._skip=function(){for(var t,e,n=this._str;(e=n.charAt(this._pos))&&/\s/.test(e);)this._pos++;if("/"===e)switch(n.charAt(this._pos+1)){case"/":for(this._pos+=2;(e=n.charAt(this._pos))&&"\n"!==e;)this._pos++;return this._skip();case"*":for(this._pos+=2,"*"===n.charAt(this._pos)&&(t=this._pos+1);e=n.charAt(this._pos++);)if("*"===e&&"/"===n.charAt(this._pos))return this._pos++,void 0!==t&&(this._doc=new s(n.slice(t,this._pos-2))),this._skip();throw this.error("unterminated comment")}},r.prototype._endOf=function(t){for(var e=this._pos,n=this._str;t.test(n.charAt(e));)e++;return e},r.prototype._endOfString=function(){for(var t,e=this._pos+1,n=this._str;t=n.charAt(e);){if('"'===t)return e+1;"\\"===t?e+=2:e++}throw this.error("unterminated string")},r.prototype._endOfJson=function(){var t=u.jsonEnd(this._str,this._pos);if(0>t)throw new Error("invalid JSON at "+this._pos);return t},o.prototype.push=function(t){this._data.push(t),this._data.length>this._length&&this._data.shift()},o.prototype.peek=function(){return this._data[this._data.length-1]},o.prototype.pop=function(){return this._data.pop()},s.prototype.toJSON=function(){return this._str},e.exports={BoundedQueue:o,Tokenizer:r,assemble:i}},{"./files":31,"./utils":35,path:11,util:28}],34:[function(t,e,n){(function(n){"use strict";function i(t,e){if(null===t)throw new Error('invalid type: null (did you mean "null"?)');if(r.isType(t))return t;e=e||{},e.registry=e.registry||{};var n;if("string"==typeof t){if(t=k(t,e.namespace),n=e.registry[t])return n;if(T(t))return e.registry[t]=i({type:t},e);throw new Error(H("undefined type name: %s",t))}if(e.typeHook&&(n=e.typeHook(t,e))){if(!r.isType(n))throw new Error(H("invalid typehook return value: %j",n));return n}if(t.logicalType&&e.logicalTypes&&!X){var o=e.logicalTypes[t.logicalType];if(o){var s=e.namespace,a={};Object.keys(e.registry).forEach(function(t){a[t]=e.registry[t]});try{return new o(t,e)}catch(l){if(e.assertLogicalTypes)throw l;X=null,e.namespace=s,e.registry=a}}}if(Array.isArray(t)){var u=e.wrapUnions?m:g;n=new u(t,e)}else n=function(n){var i=W[n];if(void 0===i)throw new Error(H("unknown type: %j",n));return new i(t,e)}(t.type);return n}function r(t,e){var n=X||this;if(X=null,this._hs=void 0,this._name=void 0,this._aliases=void 0,t){var i=t.name,r=void 0===t.namespace?e&&e.namespace:t.namespace;if(void 0!==i){if(i=k(i,r),T(i))throw new Error(H("cannot rename primitive type: %j",i));var o=e&&e.registry;if(o){if(void 0!==o[i])throw new Error(H("duplicate type name: %s",i));o[i]=n}}else if(e&&e.noAnonymousTypes)throw new Error(H("missing name property in schema: %j",t));this._name=i,this._aliases=t.aliases?t.aliases.map(function(t){return k(t,r)}):[]}}function o(){r.call(this)}function s(){o.call(this)}function a(){o.call(this)}function l(){o.call(this)}function u(){o.call(this)}function c(){o.call(this)}function h(){o.call(this)}function d(){o.call(this)}function f(){o.call(this)}function p(t,e){if(r.call(this),!Array.isArray(t))throw new Error(H("non-array union schema: %j",t));if(!t.length)throw new Error("empty union");this._types=t.map(function(t){return i(t,e)}),this._branchIndices={},this._types.forEach(function(t,e){if(r.isType(t,"union"))throw new Error("unions cannot be directly nested");var n=t.getName(!0);if(void 0!==this._branchIndices[n])throw new Error(H("duplicate union branch name: %j",n));this._branchIndices[n]=e},this)}function g(t,e){p.call(this,t,e),this._logicalBranches=null,this._bucketIndices={},this._types.forEach(function(t,e){if(r.isType(t,"logical"))this._logicalBranches||(this._logicalBranches=[]),this._logicalBranches.push({index:e,type:t});else{var n=R(t);if(void 0!==this._bucketIndices[n])throw new Error(H("ambiguous unwrapped union: %j",this));this._bucketIndices[n]=e}},this)}function m(t,e){p.call(this,t,e),this._constructors=this._types.map(function(t){var e=t.getName(!0);if("null"===e)return null;var n;n=~e.indexOf(".")?"this['"+e+"'] = val;":"this."+e+" = val;";var i=new Function("val",n);return i.getBranchType=function(){return t},i})}function v(t,e){if(r.call(this,t,e),!Array.isArray(t.symbols)||!t.symbols.length)throw new Error(H("invalid enum symbols: %j",t.symbols));this._symbols=t.symbols,this._indices={},this._symbols.forEach(function(t,e){if(!B(t))throw new Error(H("invalid %s symbol: %j",this,t));if(void 0!==this._indices[t])throw new Error(H("duplicate %s symbol: %j",this,t));this._indices[t]=e},this)}function y(t,e){if(r.call(this,t,e),t.size!==(0|t.size)||t.size<1)throw new Error(H("invalid %s fixed size",this.getName(!0)));this._size=0|t.size}function b(t,e){if(r.call(this),!t.values)throw new Error(H("missing map values: %j",t));this._values=i(t.values,e);var n=t.keys;n||(n="string"),this._keys=i(n,e)}function w(t,e){if(r.call(this),!t.items)throw new Error(H("missing array items: %j",t));this._items=i(t.items,e)}function x(t,e){if(r.call(this,t,e),e=e||{},!Array.isArray(t.fields))throw new Error(H("non-array record fields: %j",t.fields));if(N.hasDuplicates(t.fields,function(t){return t.name}))throw new Error(H("duplicate field name: %j",t.fields));var n=e.namespace;if(void 0!==t.namespace)e.namespace=t.namespace;else{var i=/^(.*)\.[^.]+$/.exec(this._name);e.namespace=i?i[1]:""}this._fieldsMap={},this._fields=t.fields.map(function(t){var n=new C(t,e);return this._fieldsMap[n.getName()]=n,n},this),e.namespace=n,this._isError="error"===t.type,this._constructor=this._createConstructor(),this._read=this._createReader(),this._skip=this._createSkipper(),this._write=this._createWriter(),this._check=this._createChecker()}function _(t,e){this._logicalTypeName=t.logicalType,r.call(this),X=this,this._underlyingType=i(t,e)}function $(t){u.call(this),this._noUnpack=!!t}function C(t,e){var n=t.name;if("string"!=typeof n||!B(n))throw new Error(H("invalid field name: %s",n));this._name=n,this._type=i(t.type,e),this._aliases=t.aliases||[],this._order=function(t){switch(t){case"ascending":return 1;case"descending":return-1;case"ignore":return 0;default:throw new Error(H("invalid order: %j",t))}}(void 0===t.order?"ascending":t.order);var r=t["default"];if(void 0!==r){var o=this._type,s=o._copy(r,{coerce:2,wrap:2});T(o.getTypeName())&&"bytes"!==o.getTypeName()?this.getDefault=function(){return s}:this.getDefault=function(){return o._copy(s)}}}function A(t){this._readerType=t,this._items=null,this._read=null,this._size=0,this._symbols=null,this._values=null}function E(t,e,n,i){if(n){if(n._readerType!==t)throw new Error("invalid resolver");return n._read(e,i)}return t._read(e)}function S(t){var e=t.split(".");return e[e.length-1]}function k(t,e){~t.indexOf(".")?t=t.replace(/^\./,""):e&&(t=e+"."+t),t.split(".").forEach(function(e){if(!B(e))throw new Error(H("invalid name: %j",t))});var n=S(t);return T(n)?n:t}function D(t){var e=[];t._name&&e.push(t._name);var n,i,r=t._aliases;for(n=0,i=r.length;i>n;n++)e.push(r[n]);return e}function T(t){var e=W[t];return e&&e.prototype instanceof o}function F(t){if("error"===t)t="record";else{var e=/^([^:]+):(.*)$/.exec(t);e&&(t="union"===e[1]?e[2]+"Union":e[1])}return N.capitalize(t)+"Type"}function M(t){var e=t.readLong();return 0>e&&(e=-e,t.skipLong()),e}function L(t,e){G=e&&e.exportAttrs;var n=e&&e.noDeref;return function(e){return JSON.stringify(t,function(t,i){if(i){if("object"==typeof i&&i.hasOwnProperty("default")&&!i.hasOwnProperty("logicalType"))return G?{name:i.name,type:i.type,"default":i["default"],order:"ascending"!==i.order?i.order:void 0,aliases:i.aliases.length?i.aliases:void 0}:{name:i.name,type:i.type};if(i.aliases){var r=i.name;if(r){if(n||e[r])return r;e[r]=!0}G&&i.aliases.length||(i.aliases=void 0)}}return i})}({})}function O(t){return t>=-9007199254740990&&9007199254740990>=t}function P(t){return t&&"Buffer"===t.type&&Array.isArray(t.data)}function B(t){return Y.test(t)}function I(t,e){throw new Error(H("invalid %s: %j",e,t))}function R(t){var e=t.getTypeName();switch(e){case"double":case"float":case"int":case"long":return"number";case"bytes":case"fixed":return"buffer";case"enum":return"string";case"map":case"error":case"record":return"object";default:return e}}function j(t){if(null===t)return"null";var e=typeof t;if("object"===e){if(Array.isArray(t))return"array";if(n.isBuffer(t))return"buffer"}return e}var N=t("./utils"),z=t("buffer"),U=t("util"),V=N.Tap,H=U.format,W={array:w,"boolean":a,bytes:f,"double":h,"enum":v,error:x,fixed:y,"float":c,"int":l,"long":u,map:b,"null":s,record:x,string:d},Y=/^[A-Za-z_][A-Za-z0-9_-]*$/,q=new N.Lcg,K=new V(new z.SlowBuffer(1024)),X=null,G=!1;r.isType=function(){var t=arguments.length;if(!t)return!1;var e=arguments[0];if(!e||"function"!=typeof e._update||"function"!=typeof e.getTypeName)return!1;if(1===t)return!0;var n,i=e.getTypeName();for(n=1;t>n;n++)if(0===i.indexOf(arguments[n]))return!0;return!1},r.__reset=function(t){K.buf=new z.SlowBuffer(t)},r.prototype.createResolver=function(t,e){if(!r.isType(t))throw new Error(H("not a type: %j",t));if(!r.isType(this,"logical")&&r.isType(t,"logical"))return this.createResolver(t._underlyingType,e);e=e||{},e.registry=e.registry||{};var n,i;if(r.isType(this,"record","error")&&r.isType(t,"record","error")&&(i=this._name+":"+t._name,n=e.registry[i]))return n;if(n=new A(this),i&&(e.registry[i]=n),r.isType(t,"union")){var o=t._types.map(function(t){return this.createResolver(t,e)},this);n._read=function(t){var e=t.readLong(),n=o[e];if(void 0===n)throw new Error(H("invalid union index: %s",e));return o[e]._read(t)}}else this._update(n,t,e);if(!n._read)throw new Error(H("cannot read %s as %s",t,this));return n},r.prototype.decode=function(t,e,n){var i=new V(t,e),r=E(this,i,n);return i.isValid()?{value:r,offset:i.pos}:{value:void 0,offset:-1}},r.prototype.encode=function(t,e,n){var i=new V(e,n);return this._write(i,t),i.isValid()?i.pos:e.length-i.pos},r.prototype.fromBuffer=function(t,e,n){var i=new V(t),r=E(this,i,e,n);if(!i.isValid())throw new Error("truncated buffer");if(!n&&i.pos<t.length)throw new Error("trailing data");return r},r.prototype.toBuffer=function(t){K.pos=0,this._write(K,t),K.isValid()||(r.__reset(2*K.pos),K.pos=0,this._write(K,t));var e=new n(K.pos);return K.buf.copy(e,0,0,K.pos),e},r.prototype.fromString=function(t){return this._copy(JSON.parse(t),{coerce:2})},r.prototype.toString=function(t){return void 0===t?this.getSchema({noDeref:!0}):JSON.stringify(this._copy(t,{coerce:3}))},r.prototype.clone=function(t,e){return e?(e={coerce:0|!!e.coerceBuffers,fieldHook:e.fieldHook,qualifyNames:!!e.qualifyNames,wrap:0|!!e.wrapUnions},this._copy(t,e)):this.fromBuffer(this.toBuffer(t))},r.prototype.isValid=function(t,e){var n,i,r=0|(e&&e.noUndeclaredFields),o=e&&e.errorHook;return o&&(i=[],n=function(e,n){o.call(this,i.slice(),e,n,t)}),this._check(t,r,n,i)},r.prototype.compareBuffers=function(t,e){return this._match(new V(t),new V(e))},r.prototype.getName=function(t){var e=r.isType(this,"logical")?this._underlyingType:this;return e._name||!t?e._name:r.isType(this,"union")?void 0:e.getTypeName()},r.prototype.getSchema=function(t){return L(this,t)},r.prototype.equals=function(t){return r.isType(t)&&this.getFingerprint().equals(t.getFingerprint())},r.prototype.getFingerprint=function(t){return t?N.getHash(this.getSchema(),t):(this._hs||(this._hs=N.getHash(this.getSchema()).toString("binary")),new n(this._hs,"binary"))},r.prototype.inspect=function(){var t=this.getTypeName(),e=F(t);if(T(t))return H("<%s>",e);var n=JSON.parse(this.getSchema({exportAttrs:!0,noDeref:!0}));return"object"!=typeof n||r.isType(this,"logical")||(n.type=void 0),H("<%s %j>",e,n)},r.prototype._check=N.abstractFunction,r.prototype._copy=N.abstractFunction,r.prototype._match=N.abstractFunction,r.prototype._read=N.abstractFunction,r.prototype._skip=N.abstractFunction,r.prototype._update=N.abstractFunction,r.prototype._write=N.abstractFunction,r.prototype.compare=N.abstractFunction,r.prototype.getTypeName=N.abstractFunction,r.prototype.random=N.abstractFunction,U.inherits(o,r),o.prototype._update=function(t,e){e.constructor===this.constructor&&(t._read=this._read)},o.prototype._copy=function(t){return this._check(t,void 0,I),t},o.prototype.compare=N.compare,o.prototype.toJSON=function(){return this.getTypeName()},U.inherits(s,o),s.prototype._check=function(t,e,n){var i=null===t;return!i&&n&&n(t,this),i},s.prototype._read=function(){return null},s.prototype._skip=function(){},s.prototype._write=function(t,e){null!==e&&I(e,this)},s.prototype._match=function(){return 0},s.prototype.compare=s.prototype._match,s.prototype.getTypeName=function(){return"null"},s.prototype.random=s.prototype._read,U.inherits(a,o),a.prototype._check=function(t,e,n){var i="boolean"==typeof t;return!i&&n&&n(t,this),i},a.prototype._read=function(t){return t.readBoolean()},a.prototype._skip=function(t){t.skipBoolean()},a.prototype._write=function(t,e){"boolean"!=typeof e&&I(e,this),t.writeBoolean(e)},a.prototype._match=function(t,e){return t.matchBoolean(e)},a.prototype.getTypeName=function(){return"boolean"},a.prototype.random=function(){return q.nextBoolean()},U.inherits(l,o),l.prototype._check=function(t,e,n){var i=t===(0|t);return!i&&n&&n(t,this),i},l.prototype._read=function(t){return t.readInt()},l.prototype._skip=function(t){t.skipInt()},l.prototype._write=function(t,e){e!==(0|e)&&I(e,this),t.writeInt(e)},l.prototype._match=function(t,e){return t.matchInt(e)},l.prototype.getTypeName=function(){return"int"},l.prototype.random=function(){return 0|q.nextInt(1e3)},U.inherits(u,o),u.prototype._check=function(t,e,n){var i="number"==typeof t&&t%1===0&&O(t);return!i&&n&&n(t,this),i},u.prototype._read=function(t){var e=t.readLong();if(!O(e))throw new Error("potential precision loss");return e},u.prototype._skip=function(t){t.skipLong()},u.prototype._write=function(t,e){("number"!=typeof e||e%1||!O(e))&&I(e,this),t.writeLong(e)},u.prototype._match=function(t,e){return t.matchLong(e)},u.prototype._update=function(t,e){switch(e.getTypeName()){case"int":case"long":t._read=e._read}},u.prototype.getTypeName=function(){return"long"},u.prototype.random=function(){return q.nextInt()},u.__with=function(t,e){t=t||{};var n={toBuffer:"_toBuffer",fromBuffer:"_fromBuffer",fromJSON:"_fromJSON",toJSON:"_toJSON",isValid:"_isValid",compare:"compare"},i=new $(e);return Object.keys(n).forEach(function(e){if(void 0===t[e])throw new Error(H("missing method implementation: %s",e));i[n[e]]=t[e]}),i},U.inherits(c,o),c.prototype._check=function(t,e,n){var i="number"==typeof t;return!i&&n&&n(t,this),i},c.prototype._read=function(t){return t.readFloat()},c.prototype._skip=function(t){t.skipFloat()},c.prototype._write=function(t,e){"number"!=typeof e&&I(e,this),t.writeFloat(e)},c.prototype._match=function(t,e){return t.matchFloat(e)},c.prototype._update=function(t,e){switch(e.getTypeName()){case"float":case"int":case"long":t._read=e._read}},c.prototype.getTypeName=function(){return"float"},c.prototype.random=function(){return q.nextFloat(1e3)},U.inherits(h,o),h.prototype._check=function(t,e,n){var i="number"==typeof t;return!i&&n&&n(t,this),i},h.prototype._read=function(t){return t.readDouble()},h.prototype._skip=function(t){t.skipDouble()},h.prototype._write=function(t,e){"number"!=typeof e&&I(e,this),t.writeDouble(e)},h.prototype._match=function(t,e){return t.matchDouble(e)},h.prototype._update=function(t,e){switch(e.getTypeName()){case"double":case"float":case"int":case"long":t._read=e._read}},h.prototype.getTypeName=function(){return"double"},h.prototype.random=function(){return q.nextFloat()},U.inherits(d,o),d.prototype._check=function(t,e,n){var i="string"==typeof t;return!i&&n&&n(t,this),i},d.prototype._read=function(t){return t.readString()},d.prototype._skip=function(t){t.skipString()},d.prototype._write=function(t,e){"string"!=typeof e&&I(e,this),t.writeString(e)},d.prototype._match=function(t,e){return t.matchString(e)},d.prototype._update=function(t,e){switch(e.getTypeName()){case"bytes":case"string":t._read=this._read}},d.prototype.getTypeName=function(){return"string"},d.prototype.random=function(){return q.nextString(q.nextInt(32))},U.inherits(f,o),f.prototype._check=function(t,e,i){var r=n.isBuffer(t);return!r&&i&&i(t,this),r},f.prototype._read=function(t){return t.readBytes()},f.prototype._skip=function(t){t.skipBytes()},f.prototype._write=function(t,e){n.isBuffer(e)||I(e,this),t.writeBytes(e)},f.prototype._match=function(t,e){return t.matchBytes(e)},f.prototype._update=d.prototype._update,f.prototype._copy=function(t,e){var i;switch(0|(e&&e.coerce)){case 3:return this._check(t,void 0,I),t.toString("binary");case 2:if("string"!=typeof t)throw new Error(H("cannot coerce to buffer: %j",t));return i=new n(t,"binary"),this._check(i,void 0,I),i;case 1:if(!P(t))throw new Error(H("cannot coerce to buffer: %j",t));return i=new n(t.data),this._check(i,void 0,I),i;default:return this._check(t,void 0,I),new n(t)}},f.prototype.compare=n.compare,f.prototype.getTypeName=function(){return"bytes"},f.prototype.random=function(){return q.nextBuffer(q.nextInt(32))},U.inherits(p,r),p.prototype._skip=function(t){this._types[t.readLong()]._skip(t)},p.prototype._match=function(t,e){var n=t.readLong(),i=e.readLong();return n===i?this._types[n]._match(t,e):i>n?-1:1},p.prototype.getTypes=function(){return this._types.slice()},p.prototype.toJSON=function(){return this._types},U.inherits(g,p),g.prototype._getIndex=function(t){var e=this._bucketIndices[j(t)];return this._logicalBranches&&(e=this._getLogicalIndex(t,e)),e},g.prototype._getLogicalIndex=function(t,e){var n,i,r,o=this._logicalBranches;for(n=0,i=o.length;i>n;n++)if(r=o[n],r.type._check(t)){if(void 0!==e)throw new Error("ambiguous conversion");e=r.index}return e},g.prototype._check=function(t,e,n,i){var r=this._getIndex(t),o=void 0!==r;return o?this._types[r]._check(t,e,n,i):(n&&n(t,this),o)},g.prototype._read=function(t){var e=t.readLong(),n=this._types[e];if(n)return n._read(t);throw new Error(H("invalid union index: %s",e))},g.prototype._write=function(t,e){var n=this._getIndex(e);void 0===n&&I(e,this),t.writeLong(n),null!==e&&this._types[n]._write(t,e)},g.prototype._update=function(t,e,n){var i,r,o;for(i=0,r=this._types.length;r>i;i++){try{o=this._types[i].createResolver(e,n)}catch(s){continue}return void(t._read=function(t){return o._read(t)})}},g.prototype._copy=function(t,e){var n,i=e&&0|e.coerce,r=e&&0|e.wrap;if(2===r)n=0;else{switch(i){case 1:n=P(t)&&void 0!==this._bucketIndices.buffer?this._bucketIndices.buffer:this._getIndex(t);break;case 2:if(null===t)n=this._bucketIndices["null"];else if("object"==typeof t){var o=Object.keys(t);1===o.length&&(n=this._branchIndices[o[0]],t=t[o[0]])}break;default:n=this._getIndex(t)}void 0===n&&I(t,this)}var s=this._types[n];if(null===t||3===r)return s._copy(t,e);switch(i){case 3:var a={};return a[s.getName(!0)]=s._copy(t,e),a;default:return s._copy(t,e)}},g.prototype.compare=function(t,e){var n=this._getIndex(t),i=this._getIndex(e);if(void 0===n)I(t,this);else{if(void 0!==i)return n===i?this._types[n].compare(t,e):N.compare(n,i);I(e,this)}},g.prototype.getTypeName=function(){return"union:unwrapped"},g.prototype.random=function(){var t=q.nextInt(this._types.length);return this._types[t].random()},U.inherits(m,p),m.prototype._check=function(t,e,n,i){var r=!1;if(null===t)r=void 0!==this._branchIndices["null"];else if("object"==typeof t){var o=Object.keys(t);if(1===o.length){var s=o[0],a=this._branchIndices[s];if(void 0!==a)return n?(i.push(s),r=this._types[a]._check(t[s],e,n,i),i.pop(),r):this._types[a]._check(t[s],e)}}return!r&&n&&n(t,this),r},m.prototype._read=function(t){var e=t.readLong(),n=this._constructors[e];if(n)return new n(this._types[e]._read(t));if(null===n)return null;throw new Error(H("invalid union index: %s",e))},m.prototype._write=function(t,e){var n,i,r;null===e?(n=this._branchIndices["null"],void 0===n&&I(e,this),t.writeLong(n)):(i=Object.keys(e),1===i.length&&(r=i[0],n=this._branchIndices[r]),void 0===n&&I(e,this),t.writeLong(n),this._types[n]._write(t,e[r]))},m.prototype._update=function(t,e,n){var i,r,o,s;for(i=0,r=this._types.length;r>i;i++){try{o=this._types[i].createResolver(e,n)}catch(a){continue}return s=this._constructors[i],void(s?t._read=function(t){return new s(o._read(t))}:t._read=function(){return null})}},m.prototype._copy=function(t,e){var n=e&&0|e.wrap;if(2===n)return null===t&&null===this._constructors[0]?null:new this._constructors[0](this._types[0]._copy(t,e));if(null===t&&void 0!==this._branchIndices["null"])return null;var i,r,o;if("object"==typeof t){var s=Object.keys(t);if(1===s.length){var a=s[0];if(i=this._branchIndices[a],void 0===i&&e.qualifyNames){var l,u;for(l=0,r=this._types.length;r>l;l++)if(u=this._types[l],u._name&&a===S(u._name)){i=l;break}}void 0!==i&&(o=this._types[i]._copy(t[a],e))}}if(1===n&&void 0===o)for(i=0,r=this._types.length;r>i&&void 0===o;)try{o=this._types[i]._copy(t,e)}catch(c){i++}return void 0!==o?3===n?o:new this._constructors[i](o):void I(t,this)},m.prototype.compare=function(t,e){var n=null===t?"null":Object.keys(t)[0],i=null===e?"null":Object.keys(e)[0],r=this._branchIndices[n];return n===i?"null"===n?0:this._types[r].compare(t[n],e[n]):N.compare(r,this._branchIndices[i])},m.prototype.getTypeName=function(){return"union:wrapped"},m.prototype.random=function(){var t=q.nextInt(this._types.length),e=this._constructors[t];return e?new e(this._types[t].random()):null},U.inherits(v,r),v.prototype._check=function(t,e,n){var i=void 0!==this._indices[t];return!i&&n&&n(t,this),i},v.prototype._read=function(t){var e=t.readLong(),n=this._symbols[e];if(void 0===n)throw new Error(H("invalid %s enum index: %s",this._name,e));return n},v.prototype._skip=function(t){t.skipLong()},v.prototype._write=function(t,e){var n=this._indices[e];void 0===n&&I(e,this),t.writeLong(n)},v.prototype._match=function(t,e){return t.matchLong(e)},v.prototype.compare=function(t,e){return N.compare(this._indices[t],this._indices[e])},v.prototype._update=function(t,e){var n=this._symbols;"enum"!==e.getTypeName()||e._name&&!~D(this).indexOf(e._name)||!e._symbols.every(function(t){return~n.indexOf(t)})||(t._symbols=e._symbols,t._read=e._read)},v.prototype._copy=function(t){return this._check(t,void 0,I),t},v.prototype.getAliases=function(){return this._aliases},v.prototype.getSymbols=function(){return this._symbols.slice()},v.prototype.getTypeName=function(){return"enum"},v.prototype.random=function(){return q.choice(this._symbols)},v.prototype.toJSON=function(){return{name:this._name,type:this.getTypeName(),symbols:this._symbols,aliases:this._aliases}},U.inherits(y,r),y.prototype._check=function(t,e,i){var r=n.isBuffer(t)&&t.length===this._size;return!r&&i&&i(t,this),r},y.prototype._read=function(t){return t.readFixed(this._size)},y.prototype._skip=function(t){t.skipFixed(this._size)},y.prototype._write=function(t,e){n.isBuffer(e)&&e.length===this._size||I(e,this),t.writeFixed(e,this._size)},y.prototype._match=function(t,e){return t.matchFixed(e,this._size)},y.prototype.compare=n.compare,y.prototype._update=function(t,e){"fixed"!==e.getTypeName()||this._size!==e._size||e._name&&!~D(this).indexOf(e._name)||(t._size=this._size,t._read=this._read)},y.prototype._copy=f.prototype._copy,y.prototype.getAliases=function(){return this._aliases},y.prototype.getSize=function(){return this._size},y.prototype.getTypeName=function(){return"fixed"},y.prototype.random=function(){return q.nextBuffer(this._size)},y.prototype.toJSON=function(){return{name:this._name,type:this.getTypeName(),size:this._size,aliases:this._aliases}},U.inherits(b,r),b.prototype._check=function(t,e,n,i){if(!t||"object"!=typeof t||Array.isArray(t))return n&&n(t,this),!1;var r,o,s,a,l=Object.keys(t),u=!0;if(n){for(s=i.length,i.push(""),r=0,o=l.length;o>r;r++)a=i[s]=l[r],this._values._check(t[a],e,n,i)||(u=!1);i.pop()}else for(r=0,o=l.length;o>r;r++)if(!this._values._check(t[l[r]],e))return!1;return u},b.prototype._read=function(t){for(var e,n=this._values,i={};e=M(t);)for(;e--;){var r=t.readString();i[r]=n._read(t)}return i},b.prototype._skip=function(t){for(var e,n,i=this._values;n=t.readLong();)if(0>n)e=t.readLong(),t.pos+=e;else for(;n--;)t.skipString(),i._skip(t)},b.prototype._write=function(t,e){(!e||"object"!=typeof e||Array.isArray(e))&&I(e,this);var n,i,r=this._values,o=Object.keys(e),s=o.length;if(s)for(t.writeLong(s),n=0;s>n;n++)i=o[n],t.writeString(i),r._write(t,e[i]);t.writeLong(0)},b.prototype._match=function(){throw new Error("maps cannot be compared")},b.prototype._update=function(t,e,n){"map"===e.getTypeName()&&(t._values=this._values.createResolver(e._values,n),t._read=this._read)},b.prototype._copy=function(t,e){if(t&&"object"==typeof t&&!Array.isArray(t)){var n,i,r,o=this._values,s=Object.keys(t),a={};for(n=0,i=s.length;i>n;n++)r=s[n],a[r]=o._copy(t[r],e);return a}I(t,this)},b.prototype.compare=b.prototype._match,b.prototype.getTypeName=function(){return"map"},b.prototype.getValuesType=function(){return this._values},b.prototype.getKeysType=function(){return this._keys},b.prototype.random=function(){var t,e,n={};for(t=0,e=q.nextInt(10);e>t;t++)n[q.nextString(q.nextInt(20))]=this._values.random();return n},b.prototype.toJSON=function(){return{type:this.getTypeName(),values:this._values}},U.inherits(w,r),w.prototype._check=function(t,e,n,i){if(!Array.isArray(t))return n&&n(t,this),!1;var r,o,s,a=!0;if(n){for(s=i.length,i.push(""),r=0,o=t.length;o>r;r++)i[s]=""+r,this._items._check(t[r],e,n,i)||(a=!1);i.pop()}else for(r=0,o=t.length;o>r;r++)if(!this._items._check(t[r],e))return!1;return a},w.prototype._read=function(t){for(var e,n,i=this._items,r=[];n=t.readLong();)for(0>n&&(n=-n,t.skipLong()),e=0;n>e;e++)r[e]=i._read(t);return r},w.prototype._skip=function(t){for(var e,n;n=t.readLong();)if(0>n)e=t.readLong(),t.pos+=e;else for(;n--;)this._items._skip(t)},w.prototype._write=function(t,e){Array.isArray(e)||I(e,this);var n,i=e.length;if(i)for(t.writeLong(i),n=0;i>n;n++)this._items._write(t,e[n]);t.writeLong(0)},w.prototype._match=function(t,e){for(var n,i=t.readLong(),r=e.readLong();i&&r;){if(n=this._items._match(t,e))return n;--i||(i=M(t)),--r||(r=M(e))}return N.compare(i,r)},w.prototype._update=function(t,e,n){"array"===e.getTypeName()&&(t._items=this._items.createResolver(e._items,n),t._read=this._read)},w.prototype._copy=function(t,e){Array.isArray(t)||I(t,this);var n,i,r=new Array(t.length);for(n=0,i=t.length;i>n;n++)r[n]=this._items._copy(t[n],e);return r},w.prototype.compare=function(t,e){var n,i,r,o=t.length,s=e.length;for(n=0,i=Math.min(o,s);i>n;n++)if(r=this._items.compare(t[n],e[n]))return r;return N.compare(o,s)},w.prototype.getItemsType=function(){return this._items},w.prototype.getTypeName=function(){return"array"},w.prototype.random=function(){var t,e,n=[];for(t=0,e=q.nextInt(10);e>t;t++)n.push(this._items.random());return n},w.prototype.toJSON=function(){return{type:this.getTypeName(),items:this._items}},U.inherits(x,r),x.prototype._getConstructorName=function(){return this._name?S(this._name):this._isError?"Error$":"Record$"},x.prototype._createConstructor=function(){var t,e,n,i,r,o=[],s=[],a=[],l=this._isError?"  Error.call(this);\n":"";for(t=0,e=this._fields.length;e>t;t++)n=this._fields[t],r=n.getDefault,i=n._name,s.push("v"+t),l+="  ",void 0===r()?l+="this['"+i+"'] = v"+t+";\n":(l+="if (v"+t+" === undefined) { ",l+="this['"+i+"'] = d"+a.length+"(); ",l+="} else { this['"+i+"'] = v"+t+"; }\n",o.push("d"+a.length),a.push(r));var u="return function "+this._getConstructorName()+"(";u+=s.join()+") {\n"+l+"};";var c=new Function(o.join(),u).apply(void 0,a),h=this;return c.getType=function(){return h},this._isError&&U.inherits(c,Error),c.prototype.clone=function(t){return h.clone(this,t)},c.prototype.compare=function(t){return h.compare(this,t)},c.prototype.isValid=function(t){return h.isValid(this,t)},c.prototype.toBuffer=function(){return h.toBuffer(this)},c.prototype.toString=function(){return h.toString(this)},c},x.prototype._createChecker=function(){var t=[],e=[],n=this._getConstructorName(),i="return function check"+n+"(v, f, h, p) {\n";if(i+="  if (\n",i+="    v === null ||\n",i+="    typeof v != 'object' ||\n",i+="    (f && !this._checkFields(v))\n",i+="  ) {\n",i+="    if (h) { h(v, this); }\n",i+="    return false;\n",i+="  }\n",this._fields.length){for(r=0,o=this._fields.length;o>r;r++)s=this._fields[r],t.push("t"+r),e.push(s._type),void 0!==s.getDefault()&&(i+="  var v"+r+" = v."+s._name+";\n");i+="  if (h) {\n",i+="    var b = 1;\n",i+="    var j = p.length;\n",i+="    p.push('');\n";var r,o,s;for(r=0,o=this._fields.length;o>r;r++)s=this._fields[r],i+="    p[j] = '"+s._name+"';\n",i+="    b &= ",void 0===s.getDefault()?i+="t"+r+"._check(v."+s._name+", f, h, p);\n":(i+="v"+r+" === undefined || ",i+="t"+r+"._check(v"+r+", f, h, p);\n");i+="    p.pop();\n",i+="    return !!b;\n",i+="  } else {\n    return (\n      ",i+=this._fields.map(function(t,e){return void 0===t.getDefault()?"t"+e+"._check(v."+t._name+", f)":"(v"+e+" === undefined || t"+e+"._check(v"+e+", f))"}).join(" &&\n      "),i+="\n    );\n  }\n"}else i+="  return true;\n";return i+="};",new Function(t.join(),i).apply(void 0,e)},x.prototype._createReader=function(){var t,e,n=[],i=[this._constructor];for(t=0,e=this._fields.length;e>t;t++)n.push("t"+t),i.push(this._fields[t]._type);var r=this._getConstructorName(),o="return function read"+r+"(t) {\n";return o+="  return new "+r+"(\n    ",o+=n.map(function(t){return t+"._read(t)"}).join(",\n    "),o+="\n  );\n};",n.unshift(r),new Function(n.join(),o).apply(void 0,i)},x.prototype._createSkipper=function(){var t,e,n=[],i="return function skip"+this._getConstructorName()+"(t) {\n",r=[];for(t=0,e=this._fields.length;e>t;t++)n.push("t"+t),r.push(this._fields[t]._type),i+="  t"+t+"._skip(t);\n";return i+="}",new Function(n.join(),i).apply(void 0,r)},x.prototype._createWriter=function(){var t,e,n,i,r=[],o=this._getConstructorName(),s="return function write"+o+"(t, v) {\n",a=[];for(t=0,e=this._fields.length;e>t;t++)n=this._fields[t],r.push("t"+t),a.push(n._type),s+="  ",void 0===n.getDefault()?s+="t"+t+"._write(t, v."+n._name+");\n":(i=n._type.toBuffer(n.getDefault()).toString("binary"),r.push("d"+t),a.push(i),s+="var v"+t+" = v."+n._name+";\n",s+="if (v"+t+" === undefined) {\n",s+="    t.writeBinary(d"+t+", "+i.length+");\n",s+="  } else {\n    t"+t+"._write(t, v"+t+");\n  }\n");return s+="}",new Function(r.join(),s).apply(void 0,a)},x.prototype._update=function(t,e,n){if(e._name&&!~D(this).indexOf(e._name))throw new Error(H("no alias found for %s",e._name));var i,r,o,s,a,l,u=this._fields,c=e._fields,h=N.toMap(c,function(t){return t._name}),d=[],f={};for(i=0;i<u.length;i++){for(o=u[i],a=D(o),l=[],r=0;r<a.length;r++)s=a[r],h[s]&&l.push(s);if(l.length>1)throw new Error(H("multiple matches for %s",o.name));if(l.length)s=l[0],f[s]={resolver:o._type.createResolver(h[s]._type,n),name:o._name},d.push(o._name);else{if(void 0===o.getDefault())throw new Error(H("no match for default-less %s",o.name));d.push("undefined")}}var p=-1;for(i=c.length;i&&void 0===f[c[--i]._name];)p=i;var g=this._getConstructorName(),m=[g],v=[this._constructor],y="  return function read"+g+"(t, b) {\n";
for(i=0;i<c.length;i++)i===p&&(y+="  if (!b) {\n"),o=e._fields[i],s=o._name,y+=~p&&i>=p?"    ":"  ",void 0===f[s]?(m.push("t"+i),v.push(o._type),y+="t"+i+"._skip(t);\n"):(m.push("t"+i),v.push(f[s].resolver),y+="var "+f[s].name+" = ",y+="t"+i+"._read(t);\n");~p&&(y+="  }\n"),y+="  return new "+g+"("+d.join()+");\n};",t._read=new Function(m.join(),y).apply(void 0,v)},x.prototype._match=function(t,e){var n,i,r,o,s,a=this._fields;for(n=0,i=a.length;i>n;n++)if(r=a[n],o=r._order,s=r._type,o){if(o*=s._match(t,e))return o}else s._skip(t),s._skip(e);return 0},x.prototype._checkFields=function(t){var e,n,i=Object.keys(t);for(e=0,n=i.length;n>e;e++)if(!this._fieldsMap[i[e]])return!1;return!0},x.prototype._copy=function(t,e){var n,i,r,o,s=e&&e.fieldHook,a=[void 0];for(n=0,i=this._fields.length;i>n;n++)r=this._fields[n],o=t[r._name],o=void 0===o&&r.hasOwnProperty("getDefault")?r.getDefault():r._type._copy(t[r._name],e),s&&(o=s(r,o,this)),a.push(o);return new(this._constructor.bind.apply(this._constructor,a))},x.prototype.compare=function(t,e){var n,i,r,o,s,a,l=this._fields;for(n=0,i=l.length;i>n;n++)if(r=l[n],o=r._name,s=r._order,a=r._type,s&&(s*=a.compare(t[o],e[o])))return s;return 0},x.prototype.random=function(){var t=this._fields.map(function(t){return t._type.random()});return t.unshift(void 0),new(this._constructor.bind.apply(this._constructor,t))},x.prototype.getAliases=function(){return this._aliases},x.prototype.getField=function(t){return this._fieldsMap[t]},x.prototype.getFields=function(){return this._fields.slice()},x.prototype.getRecordConstructor=function(){return this._constructor},x.prototype.getTypeName=function(){return this._isError?"error":"record"},x.prototype.toJSON=function(){return{name:this._name,type:this.getTypeName(),fields:this._fields.map(function(t){return t.toJSON()}),aliases:this._aliases}},U.inherits(_,r),_.prototype.getTypeName=function(){return"logical:"+this._logicalTypeName},_.prototype.getUnderlyingType=function(){return this._underlyingType},_.prototype._read=function(t){return this._fromValue(this._underlyingType._read(t))},_.prototype._write=function(t,e){this._underlyingType._write(t,this._toValue(e))},_.prototype._check=function(t,e,n,i){try{var r=this._toValue(t)}catch(o){}return void 0===r?(n&&n(t,this),!1):this._underlyingType._check(r,e,n,i)},_.prototype._copy=function(t,e){var n=this._underlyingType;switch(e&&e.coerce){case 3:return n._copy(this._toValue(t),e);case 2:return this._fromValue(n._copy(t,e));default:return this._fromValue(n._copy(this._toValue(t),e))}},_.prototype._update=function(t,e,n){var i=this._resolve(e,n);i&&(t._read=function(t){return i(e._read(t))})},_.prototype.random=function(){return this._fromValue(this._underlyingType.random())},_.prototype.compare=function(t,e){var n=this._toValue(t),i=this._toValue(e);return this._underlyingType.compare(n,i)},_.prototype.toJSON=function(){var t=this.getUnderlyingType().toJSON();return G&&("string"==typeof t&&(t={type:t}),t.logicalType=this._logicalTypeName,this._export(t)),t},_.prototype._export=function(){},_.prototype._fromValue=N.abstractFunction,_.prototype._toValue=N.abstractFunction,_.prototype._resolve=N.abstractFunction,U.inherits($,u),$.prototype._check=function(t,e,n){var i=this._isValid(t);return!i&&n&&n(t,this),i},$.prototype._read=function(t){var e,n;return this._noUnpack?(n=t.pos,t.skipLong(),e=t.buf.slice(n,t.pos)):e=t.unpackLongBytes(t),t.isValid()?this._fromBuffer(e):void 0},$.prototype._write=function(t,e){this._isValid(e)||I(e,this);var n=this._toBuffer(e);this._noUnpack?t.writeFixed(n):t.packLongBytes(n)},$.prototype._copy=function(t,e){switch(e&&e.coerce){case 3:return this._toJSON(t);case 2:return this._fromJSON(t);default:return this._fromJSON(JSON.parse(JSON.stringify(this._toJSON(t))))}},$.prototype.random=function(){return this._fromJSON(u.prototype.random())},$.prototype._fromBuffer=N.abstractFunction,$.prototype._toBuffer=N.abstractFunction,$.prototype._fromJSON=N.abstractFunction,$.prototype._toJSON=N.abstractFunction,$.prototype._isValid=N.abstractFunction,$.prototype.compare=N.abstractFunction,C.prototype.getAliases=function(){return this._aliases},C.prototype.getDefault=function(){},C.prototype.getName=function(){return this._name},C.prototype.getOrder=function(){return["descending","ignore","ascending"][this._order+1]},C.prototype.getType=function(){return this._type},C.prototype.toJSON=function(){var t=this.getDefault();return void 0!==t&&(t=this._type._copy(t,{coerce:3,wrap:3})),{name:this._name,type:this._type,"default":t,order:this.getOrder(),aliases:this._aliases}},C.prototype.inspect=C.prototype.toJSON,A.prototype.inspect=function(){return"<Resolver>"},e.exports={Type:r,createType:i,getTypeBucket:R,getValueBucket:j,isValidName:B,stringify:L,builtins:function(){var t,e,n,i={LogicalType:_,UnwrappedUnionType:g,WrappedUnionType:m},r=Object.keys(W);for(t=0,e=r.length;e>t;t++)n=r[t],i[F(n)]=W[n];return i}()}}).call(this,t("buffer").Buffer)},{"./utils":35,buffer:4,util:28}],35:[function(t,e,n){(function(n){"use strict";function i(t){return t.charAt(0).toUpperCase()+t.slice(1)}function r(t,e){return t===e?0:e>t?-1:1}function o(t,e){e=e||"md5";var n=g.createHash(e);return n.end(t),n.read()}function s(t,e){var n,i,r=-1;if(!t)return-1;for(n=0,i=t.length;i>n;n++)if(t[n]===e){if(r>=0)return-2;r=n}return r}function a(t,e){var n,i,r={};for(n=0;n<t.length;n++)i=t[n],r[e(i)]=i;return r}function l(t,e){var n,i,r,o={};for(n=0,i=t.length;i>n;n++){if(r=t[n],e&&(r=e(r)),o[r])return!0;o[r]=!0}return!1}function u(t,e){e=0|e;var n=t.charAt(e++);if(/[\d-]/.test(n)){for(;/[eE\d.+-]/.test(t.charAt(e));)e++;return e}if(/true|null/.test(t.slice(e-1,e+3)))return e+3;if(/false/.test(t.slice(e-1,e+4)))return e+4;var i=0,r=!1;do switch(n){case"{":case"[":r||i++;break;case"}":case"]":if(!r&&!--i)return e;break;case'"':if(r=!r,!i&&!r)return e;break;case"\\":e++}while(n=t.charAt(e++));return-1}function c(){throw new Error("abstract")}function h(t){var e=1103515245,n=12345,i=Math.pow(2,31),r=Math.floor(t||Math.random()*(i-1));this._max=i,this._nextInt=function(){return r=(e*r+n)%i}}function d(){this._index=0,this._items=[]}function f(t,e){if(this.buf=t,this.pos=0|e,this.pos<0)throw new Error("negative offset")}function p(t,e){for(;e--;)t[e]=~t[e]}var g=t("crypto");h.prototype.nextBoolean=function(){return!!(this._nextInt()%2)},h.prototype.nextInt=function(t,e){return void 0===e&&(e=t,t=0),e=void 0===e?this._max:e,t+Math.floor(this.nextFloat()*(e-t))},h.prototype.nextFloat=function(t,e){return void 0===e&&(e=t,t=0),e=void 0===e?1:e,t+(e-t)*this._nextInt()/this._max},h.prototype.nextString=function(t,e){t|=0,e=e||"aA";var n="";e.indexOf("a")>-1&&(n+="abcdefghijklmnopqrstuvwxyz"),e.indexOf("A")>-1&&(n+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"),e.indexOf("#")>-1&&(n+="0123456789"),e.indexOf("!")>-1&&(n+="~`!@#$%^&*()_+-={}[]:\";'<>?,./|\\");for(var i=[],r=0;t>r;r++)i.push(this.choice(n));return i.join("")},h.prototype.nextBuffer=function(t){var e,i=[];for(e=0;t>e;e++)i.push(this.nextInt(256));return new n(i)},h.prototype.choice=function(t){var e=t.length;if(!e)throw new Error("choosing from empty array");return t[this.nextInt(e)]},d.prototype.push=function(t){var e,n=this._items,i=0|n.length;for(n.push(t);i>0&&n[i].index<n[e=i-1>>1].index;)t=n[i],n[i]=n[e],n[e]=t,i=e},d.prototype.pop=function(){var t=this._items,e=t.length-1|0,n=t[0];if(!n||n.index>this._index)return null;if(this._index++,!e)return t.pop(),n;t[0]=t.pop();for(var i,r,o,s,a,l,u,c=e>>1,h=0;c>h&&(s=t[h],i=(h<<1)+1,r=h+1<<1,l=t[i],u=t[r],!u||l.index<=u.index?(a=l,o=i):(a=u,o=r),!(a.index>=s.index));)t[o]=s,t[h]=a,h=o;return n},f.prototype.isValid=function(){return this.pos<=this.buf.length},f.prototype.readBoolean=function(){return!!this.buf[this.pos++]},f.prototype.skipBoolean=function(){this.pos++},f.prototype.writeBoolean=function(t){this.buf[this.pos++]=!!t},f.prototype.readInt=f.prototype.readLong=function(){var t,e,n,i,r=0,o=0,s=this.buf;do t=s[this.pos++],e=128&t,r|=(127&t)<<o,o+=7;while(e&&28>o);if(e){n=r,i=268435456;do t=s[this.pos++],n+=(127&t)*i,i*=128;while(128&t);return(n%2?-(n+1):n)/2}return r>>1^-(1&r)},f.prototype.skipInt=f.prototype.skipLong=function(){for(var t=this.buf;128&t[this.pos++];);},f.prototype.writeInt=f.prototype.writeLong=function(t){var e,n,i=this.buf;if(t>=-1073741824&&1073741824>t){n=t>=0?t<<1:~t<<1|1;do i[this.pos]=127&n,n>>=7;while(n&&(i[this.pos++]|=128))}else{e=t>=0?2*t:2*-t-1;do i[this.pos]=127&e,e/=128;while(e>=1&&(i[this.pos++]|=128))}this.pos++},f.prototype.readFloat=function(){var t=this.buf,e=this.pos;return this.pos+=4,this.pos>t.length?void 0:this.buf.readFloatLE(e)},f.prototype.skipFloat=function(){this.pos+=4},f.prototype.writeFloat=function(t){var e=this.buf,n=this.pos;return this.pos+=4,this.pos>e.length?void 0:this.buf.writeFloatLE(t,n)},f.prototype.readDouble=function(){var t=this.buf,e=this.pos;return this.pos+=8,this.pos>t.length?void 0:this.buf.readDoubleLE(e)},f.prototype.skipDouble=function(){this.pos+=8},f.prototype.writeDouble=function(t){var e=this.buf,n=this.pos;return this.pos+=8,this.pos>e.length?void 0:this.buf.writeDoubleLE(t,n)},f.prototype.readFixed=function(t){var e=this.pos;if(this.pos+=t,!(this.pos>this.buf.length)){var i=new n(t);return this.buf.copy(i,0,e,e+t),i}},f.prototype.skipFixed=function(t){this.pos+=t},f.prototype.writeFixed=function(t,e){e=e||t.length;var n=this.pos;this.pos+=e,this.pos>this.buf.length||t.copy(this.buf,n,0,e)},f.prototype.readBytes=function(){return this.readFixed(this.readLong())},f.prototype.skipBytes=function(){var t=this.readLong();this.pos+=t},f.prototype.writeBytes=function(t){var e=t.length;this.writeLong(e),this.writeFixed(t,e)},f.prototype.readString=function(){var t=this.readLong(),e=this.pos,n=this.buf;return this.pos+=t,this.pos>n.length?void 0:this.buf.utf8Slice(e,e+t)},f.prototype.skipString=function(){var t=this.readLong();this.pos+=t},f.prototype.writeString=function(t){var e=n.byteLength(t);this.writeLong(e);var i=this.pos;this.pos+=e,this.pos>this.buf.length||this.buf.utf8Write(t,i,e)},f.prototype.writeBinary=function(t,e){var n=this.pos;this.pos+=e,this.pos>this.buf.length||this.buf.binaryWrite(t,n,e)},f.prototype.matchBoolean=function(t){return this.buf[this.pos++]-t.buf[t.pos++]},f.prototype.matchInt=f.prototype.matchLong=function(t){var e=this.readLong(),n=t.readLong();return e===n?0:n>e?-1:1},f.prototype.matchFloat=function(t){var e=this.readFloat(),n=t.readFloat();return e===n?0:n>e?-1:1},f.prototype.matchDouble=function(t){var e=this.readDouble(),n=t.readDouble();return e===n?0:n>e?-1:1},f.prototype.matchFixed=function(t,e){return this.readFixed(e).compare(t.readFixed(e))},f.prototype.matchBytes=f.prototype.matchString=function(t){var e=this.readLong(),n=this.pos;this.pos+=e;var i=t.readLong(),r=t.pos;t.pos+=i;var o=this.buf.slice(n,this.pos),s=t.buf.slice(r,t.pos);return o.compare(s)},f.prototype.unpackLongBytes=function(){var t,e,i=new n(8),r=0,o=0,s=6,a=this.buf;for(t=a[this.pos++],e=1&t,i.fill(0),r|=(127&t)>>1;128&t;)t=a[this.pos++],r|=(127&t)<<s,s+=7,s>=8&&(s-=8,i[o++]=r,r>>=8);return i[o]=r,e&&p(i,8),i},f.prototype.packLongBytes=function(t){var e,n=(128&t[7])>>7,i=this.buf,r=1,o=0,s=3;n?(p(t,8),e=1):e=0;for(var a=[t.readUIntLE(0,3),t.readUIntLE(3,3),t.readUIntLE(6,2)];s&&!a[--s];);for(;s>o;)for(e|=a[o++]<<r,r+=24;r>7;)i[this.pos++]=127&e|128,e>>=7,r-=7;e|=a[s]<<r;do i[this.pos]=127&e,e>>=7;while(e&&(i[this.pos++]|=128));this.pos++,n&&p(t,8)},e.exports={abstractFunction:c,capitalize:i,getHash:o,compare:r,jsonEnd:u,toMap:a,singleIndexOf:s,hasDuplicates:l,Lcg:h,OrderedQueue:d,Tap:f}}).call(this,t("buffer").Buffer)},{buffer:4,crypto:30}],36:[function(t,e,n){(function(n){"use strict";function i(t,e){if(e=e||{},e.valueHook){var o=e.valueHook(t,e);if(void 0!==o){if(!u.Type.isType(o))throw new Error(h("invalid value hook return value: %j",o));return o}}switch(typeof t){case"string":return d("string",e);case"boolean":return d("boolean",e);case"number":return(0|t)===t?d("int",e):Math.abs(t)<9007199254740991?d("float",e):d("double",e);case"object":if(null===t)return d("null",e);if(Array.isArray(t))return t.length?d({type:"array",items:r(t.map(function(t){return i(t,e)}))},e):p;if(n.isBuffer(t))return d("bytes",e);var s=Object.keys(t);return s.some(function(t){return!u.isValidName(t)})?d({type:"map",values:r(s.map(function(n){return i(t[n],e)}),e)},e):d({type:"record",fields:s.map(function(n){return{name:n,type:i(t[n],e)}})},e);default:throw new Error(h("cannot infer type from: %j",t))}}function r(t,e){if(!t.length)throw new Error("no types to combine");if(1===t.length)return t[0];var n=[];t.forEach(function(t){switch(t.getTypeName()){case"union:wrapped":throw new Error("wrapped unions cannot be combined");case"union:unwrapped":n=n.concat(t.getTypes());break;default:n.push(t)}});var i={};n.forEach(function(t){var e=f(t),n=i[e];n||(i[e]=n=[]),n.push(t)});var u=Object.keys(i),c=u.map(function(t){var n=i[t];if(1===n.length)return n[0];switch(t){case"null":case"boolean":return n[0];case"number":return o(n);case"string":return s(n,e);case"buffer":return a(n,e);case"array":return n=n.filter(function(t){return t!==p}),n.length?d({type:"array",items:r(n.map(function(t){return t.getItemsType()}))},e):p;default:return l(n,e)}});return 1===c.length?c[0]:d(c,e)}function o(t){var e,n,i,r,o=["int","long","float","double"],s=-1,a=null;for(e=0,n=t.length;n>e;e++)i=t[e],r=o.indexOf(i.getTypeName()),r>s&&(s=r,a=i);return a}function s(t,e){var n,i,r,o,s={};for(n=0,i=t.length;i>n;n++){if(r=t[n],"string"===r.getTypeName())return r;o=r.getSymbols();var a,l;for(a=0,l=o.length;l>a;a++)s[o[a]]=!0}return d({type:"enum",symbols:Object.keys(s)},e)}function a(t,e){var n,i,r,o=-1;for(n=0,i=t.length;i>n;n++){if(r=t[n],"bytes"===r.getTypeName())return r;-1===o?o=r.getSize():r.getSize()!==o&&(o=-2)}return 0>o?d("bytes",e):t[0]}function l(t,e){e=e||{};var n,i,o,s,a=[],l={},u={},c=!0;for(n=0,i=t.length;i>n;n++)if(o=t[n],"map"===o.getTypeName())c=!1,a.push(o.getValuesType());else{s=o.getFields();var h,f,p,g,m,v;for(h=0,f=s.length;f>h;h++)p=s[h],m=p.getName(),v=p.getType(),a.push(v),c&&(l[m]||(l[m]=[]),l[m].push(v),g=p.getDefault(),void 0!==g&&(u[m]=g))}if(c){var y=Object.keys(l);for(n=0,i=y.length;i>n;n++)m=y[n],l[m].length<t.length&&void 0===u[m]&&(e&&e.strictDefaults?c=!1:(l[m].unshift(d("null",e)),u[m]=null))}var b;return b=c?{type:"record",fields:y.map(function(t){var n=r(l[t],e),i=u[t];if(void 0!==i&&~n.getTypeName().indexOf("union")){var o,s,a=n.getTypes();for(o=0,s=a.length;s>o&&!a[o].isValid(i);o++);if(o>0){var c=a[0];a[0]=a[o],a[o]=c,n=d(a,e)}}return{name:t,type:n,"default":u[t]}})}:{type:"map",values:r(a,e)},d(b,e)}var u=t("./types"),c=t("./utils"),h=c.format,d=u.createType,f=u.getTypeBucket,p=d({type:"array",items:"null"});e.exports={combine:r,infer:i}}).call(this,{isBuffer:t("../../../.nvm/versions/node/v0.12.0/lib/node_modules/browserify/node_modules/is-buffer/index.js")})},{"../../../.nvm/versions/node/v0.12.0/lib/node_modules/browserify/node_modules/is-buffer/index.js":9,"./types":34,"./utils":35}]},{},[29])(29)}),window.getAbsUIUrl=function(t){t=t||{};var e=t.uiApp||"cdap",n=t.navigationObj,i=t.clientId,r=t.namepsaceId,o=t.appId,s=t.entityType,a=t.entityId,l=t.runId,u=location.protocol+"//"+location.host+"/"+e;return"login"===e&&(u+="?"),n&&(u+="redirectUrl="+encodeURIComponent(n)),i&&(u+="&clientId="+i),r&&(u+="/ns/"+r),o&&(u+="/apps/"+o),s&&a&&(u+="/"+s+"/"+a),l&&(u+="/runs/"+l),u},window.getTrackerUrl=function(t){t=t||{};var e,n;e=t.stateName,n=t.stateParams;var i="metadata",r=location.protocol+"//"+location.host+"/"+i+"/ns/:namespace",o={tracker:"","tracker.detail":"","tracker.detail.entity":"/entity/:entityType/:entityId","tracker.detail.entity.metadata":"/entity/:entityType/:entityId/metadata"},s=r+o[e||"tracker"];return s=buildCustomUrl(s,n)},window.getHydratorUrl=function(t){t=t||{};var e,n;e=t.stateName,n=t.stateParams;var i="pipelines",r=location.protocol+"//"+location.host+"/"+i+"/ns/:namespace",o={hydrator:"","hydrator.create":"/studio","hydrator.detail":"/view/:pipelineId","hydrator.list":"?page"},s=r+o[e||"hydrator"];return s=buildCustomUrl(s,n)},angular.module("cask-angular-capitalize",[]),angular.module("cask-angular-capitalize").filter("caskCapitalizeFilter",function(){return function(t){return t=t?t.toLowerCase():"",t.substr(0,1).toUpperCase()+t.substr(1)}}),angular.module("cask-angular-theme",["ngStorage"]),angular.module("cask-angular-theme").constant("CASK_THEME_EVENT",{changed:"cask-theme-changed"}).provider("caskTheme",function(){var t=["default"];this.setThemes=function(e){angular.isArray(e)&&e.length&&(t=e)},this.$get=["$localStorage","$rootScope","CASK_THEME_EVENT",function(e,n,i){function r(){this.current=e.theme||t[0],this.set=function(r){-1!==t.indexOf(r)&&(this.current=r,e.theme=r,n.$broadcast(i.changed,this.getClassName()))},this.list=function(){return t},this.getClassName=function(){return"theme-"+this.current}}return new r}]}),angular.module("cask-angular-focus",[]),angular.module("cask-angular-focus").directive("caskFocus",["$timeout","caskFocusManager",function(t,e){return{restrict:"A",link:function(n,i,r){r.$observe("caskFocus",function(r){var o=e.is.$watch(r,function(e){e&&t(function(){e.focus?i[0].focus():e.select&&i[0].select()})});n.$on("$destroy",function(){o()})})}}}]),angular.module("cask-angular-focus").service("caskFocusManager",["$rootScope","$log","$timeout",function(t,e,n){function i(t,i){var o=this.is;n(function(){e.log("[caskFocusManager]",i,t),o[r]=!1;var n={};n[i]=Date.now(),o[t]=n,r=t})}var r=null;this.is=t.$new(!0),this.focus=function(t){i.call(this,t,"focus")},this.select=function(t){i.call(this,t,"select")}}]),angular.module("cask-angular-window-manager",[]),angular.module("cask-angular-window-manager").constant("CASK_WM_EVENT",{resize:"cask-wm-resize",blur:"cask-wm-blur",focus:"cask-wm-focus"}).provider("caskWindowManager",["CASK_WM_EVENT",function(t){this.resizeDebounceMs=500,this.pageViz={hidden:"visibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange",webkitHidden:"webkitvisibilitychange"},this.$get=["$rootScope","$window","$document","$log","$timeout",function(e,n,i,r,o){var s=this.resizeDebounceMs,a=null;angular.element(n).on("resize",function(i){a&&o.cancel(a),a=o(function(){r.log("[caskWindowManager]","resize"),e.$broadcast(t.resize,{width:n.innerWidth,height:n.innerHeight})},s,!1)});for(var l=function(n){return function(o){r.log("[caskWindowManager]",o),e.$broadcast(t[i.prop(n)?"blur":"focus"])}},u=Object.keys(this.pageViz),c=0;c<u.length;c++){var h=u[c];if("undefined"!=typeof i.prop(h)){r.info("[caskWindowManager] page visibility API available!"),i.on(this.pageViz[h],l(h));break}}return{event:t}}]}]).directive("caskOnWm",["$parse","$timeout","caskWindowManager",function(t,e,n){return{compile:function(i,r){var o=t(r.caskOnWm);return function(t,i,r){angular.forEach(o,function(i,r){var o=n.event[r];o&&t.$on(o,function(n,r){e(function(){t.$apply(function(){i(t,{$event:r})})})})})}}}}]),angular.module("cask-angular-sortable",[]),angular.module("cask-angular-sortable").directive("caskSortable",["$log","$stateParams","$state",function(t,e,n){function i(t){return t.attr("data-predicate")||t.text()}return{restrict:"A",link:function(t,r,o){var s,a,l,u=r.find("th");l="true"===o.noInitialSort?!0:!1,angular.forEach(u,function(t){t=angular.element(t);var n;e.sortBy||(n=t.attr("data-predicate-default")),e.sortBy&&t.attr("data-predicate")===e.sortBy?(s=t,a="reverse"===e.reverse):angular.isDefined(n)&&(s=t,a="reverse"===n)}),s||(s=u.eq(0)),n.go(n.$current.name,{sortBy:s.attr("data-predicate"),reverse:a?"reverse":""},{notify:!1}),t.sortable={reverse:a},l?t.sortable.predicate=null:t.sortable.predicate=i(s.addClass("predicate")),u.append('<i class="fa fa-toggle-down"></i>'),u.on("click",function(e){var r=angular.element(this),o=i(r);r.attr("skip-sort")||(t.$apply(function(){t.sortable.predicate===o?(t.sortable.reverse=!t.sortable.reverse,r.find("i").toggleClass("fa-flip-vertical")):(u.removeClass("predicate"),u.find("i").removeClass("fa-flip-vertical"),t.sortable={predicate:o,reverse:!1},r.addClass("predicate"))}),n.go(n.$current.name,{sortBy:o,reverse:t.sortable.reverse?"reverse":""},{notify:!1}))})}}}]),angular.module("cask-angular-confirmable",["mgcrea.ngStrap.modal"]),angular.module("cask-angular-confirmable").directive("caskConfirmable",["$modal","$sce",function(t,e){return{restrict:"A",link:function(n,i,r){n.caskConfirm=function(){var i,o;o=n.$new(!0),o.customClass=r.confirmableModalClass||"",o.doConfirm=function(){i.hide(),n.$eval(r.caskConfirmable)};var s=e.getTrustedHtml(r.confirmableContent);i=t({scope:o,template:"cask-angular-confirmable/confirm-modal.html",title:r.confirmableTitle||"Confirmation",content:s||"Are you sure?",placement:"center",show:!0})}}}}]),angular.module("cask-angular-confirmable").run(["$templateCache",function(t){t.put("cask-angular-confirmable/confirm-modal.html",' <div class="modal {{customClass}}" tabindex="-1" role="dialog"> <div class="modal-dialog modal-sm"> <div class="modal-content"> <div class="modal-header" ng-show="title"> <h3 class="modal-title" ng-bind="title"></h3> </div> <div class="modal-body" ng-bind-html="content"></div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="$hide()">Cancel</button> <button type="button" class="btn btn-danger" ng-click="doConfirm()">OK</button> </div> </div> </div> </div> '),t.put("cask-angular-confirmable/bower_components/angular-strap/src/alert/alert.tpl.html",'<div class="alert" ng-class="[type ? \'alert-\' + type : null]"> <button type="button" class="close" ng-if="dismissable" ng-click="$hide()">&times;</button> <strong ng-bind="title"></strong>&nbsp;<span ng-bind-html="content"></span> </div> '),t.put("cask-angular-confirmable/bower_components/angular-strap/src/aside/aside.tpl.html",'<div class="aside" tabindex="-1" role="dialog"> <div class="aside-dialog"> <div class="aside-content"> <div class="aside-header" ng-show="title"> <button type="button" class="close" ng-click="$hide()">&times;</button> <h4 class="aside-title" ng-bind="title"></h4> </div> <div class="aside-body" ng-bind="content"></div> <div class="aside-footer"> <button type="button" class="btn btn-default" ng-click="$hide()">Close</button> </div> </div> </div> </div> '),t.put("cask-angular-confirmable/bower_components/angular-strap/src/datepicker/datepicker.tpl.html",'<div class="dropdown-menu datepicker" ng-class="\'datepicker-mode-\' + $mode" style="max-width: 320px;"> <table style="table-layout: fixed; height: 100%; width: 100%;"> <thead> <tr class="text-center"> <th> <button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$selectPane(-1)"> <i class="{{$iconLeft}}"></i> </button> </th> <th colspan="{{ rows[0].length - 2 }}"> <button tabindex="-1" type="button" class="btn btn-default btn-block text-strong" ng-click="$toggleMode()"> <strong style="text-transform: capitalize;" ng-bind="title"></strong> </button> </th> <th> <button tabindex="-1" type="button" class="btn btn-default pull-right" ng-click="$selectPane(+1)"> <i class="{{$iconRight}}"></i> </button> </th> </tr> <tr ng-if="showLabels" ng-bind-html="labels"></tr> </thead> <tbody> <tr ng-repeat="(i, row) in rows" height="{{ 100 / rows.length }}%"> <td class="text-center" ng-repeat="(j, el) in row"> <button tabindex="-1" type="button" class="btn btn-default" style="width: 100%" ng-class="{\'btn-primary\': el.selected, \'btn-info btn-today\': el.isToday && !el.selected}" ng-click="$select(el.date)" ng-disabled="el.disabled"> <span ng-class="{\'text-muted\': el.muted}" ng-bind="el.label"></span> </button> </td> </tr> </tbody> </table> </div> '),t.put("cask-angular-confirmable/bower_components/angular-strap/src/dropdown/dropdown.tpl.html",'<ul tabindex="-1" class="dropdown-menu" role="menu"> <li role="presentation" ng-class="{divider: item.divider}" ng-repeat="item in content"> <a role="menuitem" tabindex="-1" ng-href="{{item.href}}" ng-if="!item.divider && item.href" target="{{item.target || \'\'}}" ng-bind="item.text"></a> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-if="!item.divider && item.click" ng-click="$eval(item.click);$hide()" ng-bind="item.text"></a> </li> </ul> '),t.put("cask-angular-confirmable/bower_components/angular-strap/src/modal/modal.tpl.html",'<div class="modal" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header" ng-show="title"> <button type="button" class="close" aria-label="Close" ng-click="$hide()"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title" ng-bind="title"></h4> </div> <div class="modal-body" ng-bind="content"></div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="$hide()">Close</button> </div> </div> </div> </div> '),t.put("cask-angular-confirmable/bower_components/angular-strap/src/popover/popover.tpl.html",'<div class="popover" tabindex="-1"> <div class="arrow"></div> <h3 class="popover-title" ng-bind="title" ng-show="title"></h3> <div class="popover-content" ng-bind="content"></div> </div> '),t.put("cask-angular-confirmable/bower_components/angular-strap/src/select/select.tpl.html",'<ul tabindex="-1" class="select dropdown-menu" ng-show="$isVisible()" role="select"> <li ng-if="$showAllNoneButtons"> <div class="btn-group" style="margin-bottom: 5px; margin-left: 5px"> <button type="button" class="btn btn-default btn-xs" ng-click="$selectAll()">{{$allText}}</button> <button type="button" class="btn btn-default btn-xs" ng-click="$selectNone()">{{$noneText}}</button> </div> </li> <li role="presentation" ng-repeat="match in $matches" ng-class="{active: $isActive($index)}"> <a style="cursor: default;" role="menuitem" tabindex="-1" ng-click="$select($index, $event)"> <i class="{{$iconCheckmark}} pull-right" ng-if="$isMultiple && $isActive($index)"></i> <span ng-bind="match.label"></span> </a> </li> </ul> '),t.put("cask-angular-confirmable/bower_components/angular-strap/src/tab/tab.tpl.html",'<ul class="nav" ng-class="$navClass" role="tablist"> <li role="presentation" ng-repeat="$pane in $panes track by $index" ng-class="[ $isActive($pane, $index) ? $activeClass : \'\', $pane.disabled ? \'disabled\' : \'\' ]"> <a role="tab" data-toggle="tab" ng-click="!$pane.disabled && $setActive($pane.name || $index)" data-index="{{ $index }}" ng-bind-html="$pane.title" aria-controls="$pane.title"></a> </li> </ul> <div ng-transclude class="tab-content"> </div> '),t.put("cask-angular-confirmable/bower_components/angular-strap/src/timepicker/timepicker.tpl.html",'<div class="dropdown-menu timepicker" style="min-width: 0px;width: auto;"> <table height="100%"> <thead> <tr class="text-center"> <th> <button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 0)"> <i class="{{ $iconUp }}"></i> </button> </th> <th> &nbsp; </th> <th> <button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 1)"> <i class="{{ $iconUp }}"></i> </button> </th> <th> &nbsp; </th> <th> <button ng-if="showSeconds" tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 2)"> <i class="{{ $iconUp }}"></i> </button> </th> </tr> </thead> <tbody> <tr ng-repeat="(i, row) in rows"> <td class="text-center"> <button tabindex="-1" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[0].selected}" ng-click="$select(row[0].date, 0)" ng-disabled="row[0].disabled"> <span ng-class="{\'text-muted\': row[0].muted}" ng-bind="row[0].label"></span> </button> </td> <td> <span ng-bind="i == midIndex ? timeSeparator : \' \'"></span> </td> <td class="text-center"> <button tabindex="-1" ng-if="row[1].date" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[1].selected}" ng-click="$select(row[1].date, 1)" ng-disabled="row[1].disabled"> <span ng-class="{\'text-muted\': row[1].muted}" ng-bind="row[1].label"></span> </button> </td> <td> <span ng-bind="i == midIndex ? timeSeparator : \' \'"></span> </td> <td class="text-center"> <button tabindex="-1" ng-if="showSeconds && row[2].date" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[2].selected}" ng-click="$select(row[2].date, 2)" ng-disabled="row[2].disabled"> <span ng-class="{\'text-muted\': row[2].muted}" ng-bind="row[2].label"></span> </button> </td> <td ng-if="showAM"> &nbsp; </td> <td ng-if="showAM"> <button tabindex="-1" ng-show="i == midIndex - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !!isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">AM</button> <button tabindex="-1" ng-show="i == midIndex + 1 - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">PM</button> </td> </tr> </tbody> <tfoot> <tr class="text-center"> <th> <button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 0)"> <i class="{{ $iconDown }}"></i> </button> </th> <th> &nbsp; </th> <th> <button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 1)"> <i class="{{ $iconDown }}"></i> </button> </th> <th> &nbsp; </th> <th> <button ng-if="showSeconds" tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 2)"> <i class="{{ $iconDown }}"></i> </button> </th> </tr> </tfoot> </table> </div> '),t.put("cask-angular-confirmable/bower_components/angular-strap/src/tooltip/tooltip.tpl.html",'<div class="tooltip in" ng-show="title"> <div class="tooltip-arrow"></div> <div class="tooltip-inner" ng-bind="title"></div> </div> '),t.put("cask-angular-confirmable/bower_components/angular-strap/src/typeahead/typeahead.tpl.html",'<ul tabindex="-1" class="typeahead dropdown-menu" ng-show="$isVisible()" role="select"> <li role="presentation" ng-repeat="match in $matches" ng-class="{active: $index == $activeIndex}"> <a role="menuitem" tabindex="-1" ng-click="$select($index, $event)" ng-bind="match.label"></a> </li> </ul> ')}]),angular.module("cask-angular-promptable",["mgcrea.ngStrap.modal","cask-angular-focus"]),angular.module("cask-angular-promptable").directive("caskPromptable",["$modal","caskFocusManager",function(t,e){return{restrict:"A",link:function(n,i,r){var o=t({template:"cask-angular-promptable/prompt-modal.html",placement:"center",show:!1,prefixEvent:"cask-promptable-modal"});angular.extend(o.$scope,{value:"",title:"Prompt",evalPromptable:function(){n.$eval(r.caskPromptable,{$value:o.$scope.data.value}),o.hide()}}),n.$on("$destroy",function(){o.destroy()}),o.$scope.$on("cask-promptable-modal.show",function(){e.select("caskPromptModal")}),n.caskPrompt=function(t,e){angular.isUndefined(t)||(o.$scope.title=t),angular.isUndefined(e)||(o.$scope.data={},o.$scope.data.value=e),o.show()}}}}]),angular.module("cask-angular-promptable").run(["$templateCache",function(t){t.put("cask-angular-promptable/prompt-modal.html",' <div class="modal" tabindex="-1" role="dialog"> <div class="modal-dialog modal-sm"> <form class="modal-content" ng-submit="evalPromptable()"> <div class="modal-header" ng-show="title"> <h3 class="modal-title" ng-bind="title"></h3> </div> <div class="modal-body"> <input type="text" class="form-control input-lg" ng-model="data[\'value\']" cask-focus="caskPromptModal"> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="$hide()">Cancel</button> <button type="submit" class="btn btn-success">OK</button> </div> </form> </div> </div> '),t.put("cask-angular-promptable/bower_components/angular-strap/src/aside/aside.tpl.html",'<div class="aside" tabindex="-1" role="dialog"> <div class="aside-dialog"> <div class="aside-content"> <div class="aside-header" ng-show="title"> <button type="button" class="close" ng-click="$hide()">&times;</button> <h4 class="aside-title" ng-bind="title"></h4> </div> <div class="aside-body" ng-bind="content"></div> <div class="aside-footer"> <button type="button" class="btn btn-default" ng-click="$hide()">Close</button> </div> </div> </div> </div> '),
t.put("cask-angular-promptable/bower_components/angular-strap/src/alert/alert.tpl.html",'<div class="alert" ng-class="[type ? \'alert-\' + type : null]"> <button type="button" class="close" ng-if="dismissable" ng-click="$hide()">&times;</button> <strong ng-bind="title"></strong>&nbsp;<span ng-bind-html="content"></span> </div> '),t.put("cask-angular-promptable/bower_components/angular-strap/src/datepicker/datepicker.tpl.html",'<div class="dropdown-menu datepicker" ng-class="\'datepicker-mode-\' + $mode" style="max-width: 320px;"> <table style="table-layout: fixed; height: 100%; width: 100%;"> <thead> <tr class="text-center"> <th> <button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$selectPane(-1)"> <i class="{{$iconLeft}}"></i> </button> </th> <th colspan="{{ rows[0].length - 2 }}"> <button tabindex="-1" type="button" class="btn btn-default btn-block text-strong" ng-click="$toggleMode()"> <strong style="text-transform: capitalize;" ng-bind="title"></strong> </button> </th> <th> <button tabindex="-1" type="button" class="btn btn-default pull-right" ng-click="$selectPane(+1)"> <i class="{{$iconRight}}"></i> </button> </th> </tr> <tr ng-if="showLabels" ng-bind-html="labels"></tr> </thead> <tbody> <tr ng-repeat="(i, row) in rows" height="{{ 100 / rows.length }}%"> <td class="text-center" ng-repeat="(j, el) in row"> <button tabindex="-1" type="button" class="btn btn-default" style="width: 100%" ng-class="{\'btn-primary\': el.selected, \'btn-info btn-today\': el.isToday && !el.selected}" ng-click="$select(el.date)" ng-disabled="el.disabled"> <span ng-class="{\'text-muted\': el.muted}" ng-bind="el.label"></span> </button> </td> </tr> </tbody> </table> </div> '),t.put("cask-angular-promptable/bower_components/angular-strap/src/dropdown/dropdown.tpl.html",'<ul tabindex="-1" class="dropdown-menu" role="menu"> <li role="presentation" ng-class="{divider: item.divider}" ng-repeat="item in content"> <a role="menuitem" tabindex="-1" ng-href="{{item.href}}" ng-if="!item.divider && item.href" target="{{item.target || \'\'}}" ng-bind="item.text"></a> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-if="!item.divider && item.click" ng-click="$eval(item.click);$hide()" ng-bind="item.text"></a> </li> </ul> '),t.put("cask-angular-promptable/bower_components/angular-strap/src/modal/modal.tpl.html",'<div class="modal" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header" ng-show="title"> <button type="button" class="close" aria-label="Close" ng-click="$hide()"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title" ng-bind="title"></h4> </div> <div class="modal-body" ng-bind="content"></div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="$hide()">Close</button> </div> </div> </div> </div> '),t.put("cask-angular-promptable/bower_components/angular-strap/src/select/select.tpl.html",'<ul tabindex="-1" class="select dropdown-menu" ng-show="$isVisible()" role="select"> <li ng-if="$showAllNoneButtons"> <div class="btn-group" style="margin-bottom: 5px; margin-left: 5px"> <button type="button" class="btn btn-default btn-xs" ng-click="$selectAll()">{{$allText}}</button> <button type="button" class="btn btn-default btn-xs" ng-click="$selectNone()">{{$noneText}}</button> </div> </li> <li role="presentation" ng-repeat="match in $matches" ng-class="{active: $isActive($index)}"> <a style="cursor: default;" role="menuitem" tabindex="-1" ng-click="$select($index, $event)"> <i class="{{$iconCheckmark}} pull-right" ng-if="$isMultiple && $isActive($index)"></i> <span ng-bind="match.label"></span> </a> </li> </ul> '),t.put("cask-angular-promptable/bower_components/angular-strap/src/tab/tab.tpl.html",'<ul class="nav" ng-class="$navClass" role="tablist"> <li role="presentation" ng-repeat="$pane in $panes track by $index" ng-class="[ $isActive($pane, $index) ? $activeClass : \'\', $pane.disabled ? \'disabled\' : \'\' ]"> <a role="tab" data-toggle="tab" ng-click="!$pane.disabled && $setActive($pane.name || $index)" data-index="{{ $index }}" ng-bind-html="$pane.title" aria-controls="$pane.title"></a> </li> </ul> <div ng-transclude class="tab-content"> </div> '),t.put("cask-angular-promptable/bower_components/angular-strap/src/timepicker/timepicker.tpl.html",'<div class="dropdown-menu timepicker" style="min-width: 0px;width: auto;"> <table height="100%"> <thead> <tr class="text-center"> <th> <button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 0)"> <i class="{{ $iconUp }}"></i> </button> </th> <th> &nbsp; </th> <th> <button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 1)"> <i class="{{ $iconUp }}"></i> </button> </th> <th> &nbsp; </th> <th> <button ng-if="showSeconds" tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 2)"> <i class="{{ $iconUp }}"></i> </button> </th> </tr> </thead> <tbody> <tr ng-repeat="(i, row) in rows"> <td class="text-center"> <button tabindex="-1" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[0].selected}" ng-click="$select(row[0].date, 0)" ng-disabled="row[0].disabled"> <span ng-class="{\'text-muted\': row[0].muted}" ng-bind="row[0].label"></span> </button> </td> <td> <span ng-bind="i == midIndex ? timeSeparator : \' \'"></span> </td> <td class="text-center"> <button tabindex="-1" ng-if="row[1].date" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[1].selected}" ng-click="$select(row[1].date, 1)" ng-disabled="row[1].disabled"> <span ng-class="{\'text-muted\': row[1].muted}" ng-bind="row[1].label"></span> </button> </td> <td> <span ng-bind="i == midIndex ? timeSeparator : \' \'"></span> </td> <td class="text-center"> <button tabindex="-1" ng-if="showSeconds && row[2].date" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[2].selected}" ng-click="$select(row[2].date, 2)" ng-disabled="row[2].disabled"> <span ng-class="{\'text-muted\': row[2].muted}" ng-bind="row[2].label"></span> </button> </td> <td ng-if="showAM"> &nbsp; </td> <td ng-if="showAM"> <button tabindex="-1" ng-show="i == midIndex - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !!isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">AM</button> <button tabindex="-1" ng-show="i == midIndex + 1 - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">PM</button> </td> </tr> </tbody> <tfoot> <tr class="text-center"> <th> <button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 0)"> <i class="{{ $iconDown }}"></i> </button> </th> <th> &nbsp; </th> <th> <button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 1)"> <i class="{{ $iconDown }}"></i> </button> </th> <th> &nbsp; </th> <th> <button ng-if="showSeconds" tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 2)"> <i class="{{ $iconDown }}"></i> </button> </th> </tr> </tfoot> </table> </div> '),t.put("cask-angular-promptable/bower_components/angular-strap/src/typeahead/typeahead.tpl.html",'<ul tabindex="-1" class="typeahead dropdown-menu" ng-show="$isVisible()" role="select"> <li role="presentation" ng-repeat="match in $matches" ng-class="{active: $index == $activeIndex}"> <a role="menuitem" tabindex="-1" ng-click="$select($index, $event)" ng-bind="match.label"></a> </li> </ul> '),t.put("cask-angular-promptable/bower_components/angular-strap/src/tooltip/tooltip.tpl.html",'<div class="tooltip in" ng-show="title"> <div class="tooltip-arrow"></div> <div class="tooltip-inner" ng-bind="title"></div> </div> '),t.put("cask-angular-promptable/bower_components/angular-strap/src/popover/popover.tpl.html",'<div class="popover" tabindex="-1"> <div class="arrow"></div> <h3 class="popover-title" ng-bind="title" ng-show="title"></h3> <div class="popover-content" ng-bind="content"></div> </div> ')}]),angular.module("cask-angular-json-edit",[]),angular.module("cask-angular-json-edit").directive("caskJsonEdit",function(){return{restrict:"A",require:"ngModel",template:'<textarea ng-model="jsonEditing"></textarea>',replace:!0,scope:{model:"=caskJsonEdit"},link:function(t,e,n,i){function r(e){t.jsonEditing=angular.copy(u(e))}function o(e){t.model=l(e)}function s(){i.$setValidity("json",!0)}function a(){i.$setValidity("json",!1)}function l(t){try{return angular.fromJson(t)}catch(e){return a(),t}}function u(t){return angular.toJson(t,!0)}function c(t){var e=!0;try{angular.fromJson(t)}catch(n){e=!1}return e}r(t.model),t.$watch("jsonEditing",function(t,e){t!==e&&(c(t)?(s(),o(t)):a())},!0),t.$watch("model",function(t,e){t!==e&&r(t)},!0)}}}),angular.module("cask-angular-eventpipe",[]),angular.module("cask-angular-eventpipe").service("EventPipe",function(){var t={};this.on=function(e,n){return t[e]?t[e].push(n):t[e]=[n],function(){if(t[e]){var i=t[e].indexOf(n);-1!==i&&t[e].splice(i,1)}}},this.emit=function(e){var n=Array.prototype.slice.call(arguments,1);if(t[e])for(var i=0;i<t[e].length;i++)t[e][i].apply(this,n)},this.cancelEvent=function(e){t[e]&&delete t[e]}}),angular.module("cask-angular-observable-promise",[]),angular.module("cask-angular-observable-promise").provider("MyPromise",function(){function t(o,s){function a(t){p=n,g=t,m.forEach(c),f||(m=null)}function l(t){p=i,g=t,m.forEach(c),f||(m=null)}function u(t){try{var e=h(t);if(e)return void d(e.bind(t),u,l);a(t)}catch(n){l(n)}}function c(t){p===e?m.push(t):(p!==n&&p!==r||"function"!=typeof t.onFulfilled||(t.onFulfilled(g),f&&(p=r)),p===i&&"function"==typeof t.onRejected&&t.onRejected(g))}function h(t){var e=typeof t;if(t&&("object"===e||"function"===e)){var n=t.then;if("function"==typeof n)return n}return null}function d(t,e,n){var i=!1;try{t(function(t){if(!f){if(i)return;i=!0}e(t)},function(t){if(!f){if(i)return;i=!0}n(t)})}catch(r){if(i)return;i=!0,n(r)}}var f=s,p=e,g=null,m=[];this.done=function(t,e){c({onFulfilled:t,onRejected:e})},this.then=function(e,n){var i=this;return new t(function(t,r){return i.done(function(n){if("function"!=typeof e)return t(n);try{return t(e(n))}catch(i){return r(i)}},function(e){if("function"!=typeof n)return r(e);try{return t(n(e))}catch(i){return r(i)}})},f)},d(o,u,l)}var e=0,n=1,i=2,r=3;this.$get=function(){return t}}),angular.module("cask-angular-dispatcher",[]);var DispatcherFactory=angular.module("cask-angular-dispatcher");DispatcherFactory.factory("uuid",["$window",function(t){return t.uuid}]),DispatcherFactory.factory("CaskAngularDispatcher",["uuid",function(t){function e(){return this instanceof e?void(this.events={}):new e}return e.prototype.register=function(e,n){var i=t.v4();if(this.events[e]||(this.events[e]={}),"function"!=typeof n)throw"Invalid callback. A callback registered for an event has to be a function";return this.events[e][i]=n,i},e.prototype.dispatch=function(t){var e=Array.prototype.slice.call(arguments,1);this.events[t]&&angular.forEach(this.events[t],function(t,n){t.apply(null,e)})},e.prototype.unregister=function(t,e){this.events[t]&&this.events[t][e]&&delete this.events[t][e]},e}]),angular.module("cask-angular-socket-datasource",["cask-angular-eventpipe","cask-angular-window-manager","cask-angular-observable-promise"]),angular.module("cask-angular-socket-datasource").factory("SockJS",["$window",function(t){return t.SockJS}]).constant("MYSOCKET_EVENT",{message:"mysocket-message",closed:"mysocket-closed",reconnected:"mysocket-reconnected"}).provider("mySocket",function(){this.prefix="/_sock",this.$get=["MYSOCKET_EVENT","SockJS","$log","EventPipe",function(t,e,n,i){function r(s){n.log("[mySocket] init"),s=s||1,l=new e(a.prefix),l.onmessage=function(e){try{var r=JSON.parse(e.data);n.debug("[mySocket] ",r),i.emit(t.message,r)}catch(o){n.error(o)}},l.onopen=function(e){i.emit("backendUp","User interface service is online"),s>1&&(i.emit(t.reconnected,e),s=1),n.info("[mySocket] opened"),angular.forEach(u,o),u=[]},l.onclose=function(e){n.error(e.reason),i.emit("backendDown","User interface service is down"),2>s&&i.emit(t.closed,e);var o=Math.max(500,Math.round(500*(Math.random()+1)*Math.pow(2,s)));n.log("[mySocket] will try again in ",o+"ms"),setTimeout(function(){r(s+1)},o)}}function o(t){return l.readyState?(s(t),!0):(u.push(t),!1)}function s(t){var e=t,i=t.resource;i&&(e.resource=i,void 0===e.resource.json&&(e.resource.json=!0),i.method||(e.resource.method="GET"),n.debug("[mySocket] ",e.action,i.method,i.url)),l.send(JSON.stringify(e))}var a=this,l=null,u=[];return r(),{init:r,send:o,close:function(){return l.close.apply(l,arguments)}}}]});var socketDataSource=angular.module("cask-angular-socket-datasource");socketDataSource.factory("uuid",["$window",function(t){return t.uuid}]),socketDataSource.provider("MyDataSource",function(){this.defaultPollInterval=10,this.$get=["$rootScope","caskWindowManager","mySocket","MYSOCKET_EVENT","$q","MyPromise","uuid","EventPipe",function(t,e,n,i,r,o,s,a){function l(t){var e={};t.url?(e={id:t.id,url:t.url,json:t.json,method:t.method,suppressErrors:t.suppressErrors||!1},t.interval&&(e.interval=t.interval),t.body&&(e.body=t.body)):e=t,t.headers&&(e.headers=t.headers),n.send({action:"poll-start",resource:e})}function u(t){var e={};e=t.url?{id:t.id,url:t.url,json:t.json,method:t.method,suppressErrors:t.suppressErrors||!1}:t,t.header&&(e.header=t.header),n.send({action:"poll-stop",resource:e})}function c(n){n=n||t.$new();var r=n.$id,o=this;return h[r]?h[r]:this instanceof c?(h[r]=o,this.scopeId=r,this.bindings={},a.on(i.message,function(e){var i,r;if(i=e.resource.id,e.statusCode>299||e.warning)o.bindings[i]&&(o.bindings[i].errorCallback?t.$apply(o.bindings[i].errorCallback.bind(null,e.error||e.response)):o.bindings[i].reject&&t.$apply(o.bindings[i].reject.bind(null,{data:e.error||e.response,statusCode:e.statusCode})));else if(o.bindings[i]){if(o.bindings[i].callback?(e.response=e.response||{},e.response.__pollId__=i,n.$apply(o.bindings[i].callback.bind(null,e.response))):o.bindings[i].resolve&&n.$apply(o.bindings[i].resolve.bind(null,{data:e.response,id:i,statusCode:e.statusCode})),!o.bindings[i])return;r=o.bindings[i].poll,r||delete o.bindings[i]}}),n.$on("$destroy",function(){Object.keys(o.bindings).forEach(function(t){var e=o.bindings[t];e.poll&&u(e.resource)}),delete h[o.scopeId]}),n.$on(e.event.blur,function(){Object.keys(o.bindings).forEach(function(t){var e=o.bindings[t];e.poll&&u(e.resource)})}),void n.$on(e.event.focus,function(){Object.keys(o.bindings).forEach(function(t){var e=o.bindings[t];e.poll&&l(e.resource)})})):new c(n)}var h={};return c.prototype.poll=function(e,n,i){var a=this,u={},c=new o(function(r,o){u={json:e.json,interval:e.interval||e.options&&e.options.interval||t.defaultPollInterval,body:e.body,method:e.method||"GET",suppressErrors:e.suppressErrors||!1},e.headers&&(u.headers=e.headers),u.url=buildUrl(e.url,e.params||{}),u.id=s.v4(),a.bindings[u.id]={poll:!0,callback:n,resource:u,errorCallback:i,resolve:r,reject:o},l(u)},!0);return e.$isResource||(c=c.then(function(t){return t=t.data,t.__pollId__=u.id,r.when(t)})),c.__pollId__=u.id,c},c.prototype.stopPoll=function(t){var e,n,i=r.defer();e=angular.isObject(t)?t.params.pollId:t;var o=this.bindings[t];return o?(n=o.resource,u(n),delete this.bindings[t],i.resolve({})):i.reject({}),i.promise},c.prototype.config=function(t,e,i){var o=r.defer();return t.suppressErrors=!0,t.id=s.v4(),this.bindings[t.id]={resource:t,callback:function(t){e&&e.apply(null,t),o.resolve(t)},errorCallback:function(t){i&&i.apply(null,t),o.reject(t)}},n.send({action:t.actionName,resource:t}),o.promise},c.prototype.request=function(t,e,i){var a=this,l=new o(function(r,o){var l={json:t.json,method:t.method||"GET",suppressErrors:t.suppressErrors||!1};t.body&&(l.body=t.body),t.data&&(l.body=t.data),t.headers&&(l.headers=t.headers),t.contentType&&(l.headers["Content-Type"]=t.contentType),l.url=buildUrl(t.url,t.params||{}),l.id=s.v4(),a.bindings[l.id]={callback:e,errorCallback:i,resource:l,resolve:r,reject:o},n.send({action:"request",resource:l})},!1);return t.$isResource||(l=l.then(function(t){return t=t.data,r.when(t)})),l},c}]});